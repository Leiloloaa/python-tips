(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1e3:function(e,t,n){"use strict";var r=n(1071);t.a=r.a},1001:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"g",(function(){return _}));var r,i,a,o,c,l,s,u=n(2),d=n(253),p=n(971),f=Object(d.default)(p.j).withConfig({componentId:"sc-KFZXf",displayName:"StyledMenu"})(r||(r=Object(u.__makeTemplateObject)([".sm-menu-item-disabled{color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled{opacity:0.3;color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled span{opacity:0.3;cursor:not-allowed;}.sm-menu-submenu-disabled div{cursor:not-allowed;}.sm-menu-submenu-vertical-left.sm-menu-submenu-active{.sm-menu-vertical-left{width:200px;top:-5px;}}"],[""]))),m=d.default.div.withConfig({componentId:"sc-KFZXf-1",displayName:"StyledMenuItemWrapper"})(i||(i=Object(u.__makeTemplateObject)(["width:220px;height:20px;box-sizing:border-box;text-align:left;margin:0 -45px 0 -20px;padding:0 20px;position:relative;display:flex;align-items:center;color:",";opacity:",";svg{margin-right:5px;opacity:",";}"],["","","",""])),(function(e){return e.disabled?"inherit":e.active?"#73a2e3":"#666"}),(function(e){return e.disabled?.3:1}),(function(e){return e.disabled?.3:1})),b=Object(d.default)(m).withConfig({componentId:"sc-KFZXf-2",displayName:"StyledSubMenuItemWrapper"})(a||(a=Object(u.__makeTemplateObject)(["width:200px;"],[""]))),h=d.default.span.withConfig({componentId:"sc-KFZXf-3",displayName:"StyledBlankText"})(o||(o=Object(u.__makeTemplateObject)(["margin-left:27px;"],[""]))),g=d.default.div.withConfig({componentId:"sc-KFZXf-4",displayName:"StyledTooltipContainer"})(c||(c=Object(u.__makeTemplateObject)(["cursor:auto;width:250px;padding:10px;font-size:12px;line-height:1.8;color:#666;white-space:normal;background:#fff;box-sizing:border-box;text-align:left;"],[""]))),v=d.default.span.withConfig({componentId:"sc-KFZXf-5",displayName:"StyledShortKey"})(l||(l=Object(u.__makeTemplateObject)(["color:#ccc;position:absolute;font-size:11px;right:18px;"],[""]))),_=d.default.span.withConfig({componentId:"sc-KFZXf-6",displayName:"StyledWarn"})(s||(s=Object(u.__makeTemplateObject)(["color:#cd4747;"],[""])))},1002:function(e,t,n){"use strict";n.r(t),n.d(t,"FileShareMode",(function(){return r.j})),n.d(t,"FileType",(function(){return r.r})),n.d(t,"FileSubType",(function(){return r.k})),n.d(t,"Kind",(function(){return r.t})),n.d(t,"AdminType",(function(){return r.a})),n.d(t,"FileMeta",(function(){return r.FileMeta})),n.d(t,"FileBasic",(function(){return r.FileBasic})),n.d(t,"FileExtra",(function(){return r.FileExtra})),n.d(t,"FileData",(function(){return r.FileData})),n.d(t,"File",(function(){return r.File})),n.d(t,"MemberTimeline",(function(){return r.MemberTimeline})),n.d(t,"MemberTimelineItem",(function(){return r.MemberTimelineItem})),n.d(t,"MemberTimelineActionType",(function(){return r.v})),n.d(t,"Comment",(function(){return r.Comment})),n.d(t,"Discussion",(function(){return r.Discussion})),n.d(t,"UpdatedFile",(function(){return r.UpdatedFile})),n.d(t,"FileTimeline",(function(){return r.FileTimeline})),n.d(t,"FileTimelineItem",(function(){return r.FileTimelineItem})),n.d(t,"FileTimelineActionType",(function(){return r.m})),n.d(t,"FileTimelineComment",(function(){return r.FileTimelineComment})),n.d(t,"FileTimelineDiscussion",(function(){return r.FileTimelineDiscussion})),n.d(t,"FileTimelineUpdatedFile",(function(){return r.FileTimelineUpdatedFile})),n.d(t,"FundamentalFile",(function(){return r.FundamentalFile})),n.d(t,"FileApi",(function(){return c})),n.d(t,"FileService",(function(){return g})),n.d(t,"FileStore",(function(){return w})),n.d(t,"FileQuery",(function(){return C})),n.d(t,"FileFacade",(function(){return T})),n.d(t,"convertFileFromNumberType",(function(){return h.b})),n.d(t,"convertFileFromStringType",(function(){return h.c}));var r=n(974),i=n(2),a=n(996),o={baseURL:"/panda-api"},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getAll=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.get("/files")]}))}))},t.prototype.getOne=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.get("/files/"+e)]}))}))},t.prototype.create=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.post("/files",e)]}))}))},t.prototype.update=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.patch("/files/"+e,t)]}))}))},t.prototype.getFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.get("/files/"+e)]}))}))},t.prototype.setShareMode=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.patch("/file/files/"+e+"/share",{shareMode:t},o)]}))}))},t.prototype.setShareExpire=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.patch("/file/files/"+e+"/expire",{shareModeExpireDuration:t},o)]}))}))},t.prototype.setPasswordProtected=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.patch("/file/files/"+e+"/password",{passwordProtected:t},o)]}))}))},t.prototype.resetPassword=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.patch("/file/files/"+e+"/password/reset",{},o)]}))}))},t.prototype.move=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.post("/files/"+e+"/action/move",t)]}))}))},t.prototype.remove=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.delete("/files/"+e)]}))}))},t.prototype.batchRemove=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.post("/file/files/delete_batch",{fileGUIDs:e},o)]}))}))},t.prototype.getByScenario=function(e){var t,n;return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(i){return[2,this.get("/files",{type:e.type,fileType:e.fileType&&e.type===r.y.shared?r.k[e.fileType]:void 0,limit:null!==(t=e.limit)&&void 0!==t?t:void 0,lastTimestamp:null!==(n=e.lastTimestamp)&&void 0!==n?n:(new Date).getTime()})]}))}))},t.prototype.getFavorite=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.get("/files/starred",e?{fileType:r.k[e.fileType]}:void 0)]}))}))},t.prototype.favorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.put("/files/"+e+"/star")]}))}))},t.prototype.unfavorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.delete("/files/"+e+"/star")]}))}))},t.prototype.getTrashList=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.get("/trashes")]}))}))},t.prototype.removeFromTrash=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){if(!e)throw new Error("invalid guid");return[2,this.delete("/trashes/"+e)]}))}))},t.prototype.emptyTrash=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.delete("/trashes")]}))}))},t.prototype.recoverFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.patch("/trashes/"+e)]}))}))},t.prototype.getMemberTimeline=function(e){var t=void 0===e?{}:e,n=t.lastTimestamp,r=t.filterId,a=t.users,o=t.departments;return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.get("/timelines",{lastTimestamp:n,filterID:r,users:null==a?void 0:a.join(","),departments:null==o?void 0:o.join(",")})]}))}))},t.prototype.getFileTimeline=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.get("/feed/file_timelines",{lastTimestamp:t,filterSpaceGUIDs:e},o)]}))}))},t.prototype.getRecentLocations=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.get("/file/last_locations",{},o)]}))}))},t.prototype.removeFromRecent=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.delete("/feed/recents/"+e,o)]}))}))},t}(a.a),l=n(973),s=n(3109),u=n(3175),d=n(3110),p=n(3111),f=n(997),m=n(1056),b=n(1023),h=n(1038),g=function(e){function t(t,n,r,i){var a=e.call(this,t,"file")||this;return a.store=t,a.api=n,a.query=r,a.sos=i,a}return Object(i.__extends)(t,e),t.prototype.getAll=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getAll()];case 1:return e=t.sent(),this.store.set(e.map((function(e){return Object(h.c)(e)}))),[2]}}))}))},t.prototype.getOne=function(e){var t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,a,o,c;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return e?e===m.a?[2]:[4,this.api.getOne(Object(b.b)(e)?Object(b.a)(e).guid:e)]:[2];case 1:return(n=l.sent()).isSpace?[4,this.getSpaceContainer()]:[3,3];case 2:return a=l.sent(),o=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},n),{type:r.r.FolderOrSpace,subType:r.k.space}),null===(t=this.store.getValue().entities)||void 0===t?void 0:t[n.guid]),a.store.upsert(n.guid,o),[2,o];case 3:return c=Object(h.c)(n),this.store.upsert(n.guid,c),[2,c]}}))}))},t.prototype.create=function(e){var t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,a,o;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:return n=e.parentGuid,r=e.afterGuid,a=Object(i.__rest)(e,["parentGuid","afterGuid"]),[4,this.api.create(Object(i.__assign)(Object(i.__assign)({},a),{folder:n===m.a?void 0:n,after:r}))];case 1:return o=c.sent(),this.store.add(Object(h.c)(o)),[4,this.getTreeContainer()];case 2:return c.sent().service.addFile(o,null!==(t=e.parentGuid)&&void 0!==t?t:"Desktop"),[2,this.query.getEntity(o.guid)]}}))}))},t.prototype.createFileSync=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,o,c,l,s,u,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.getUserContainer()];case 1:return t=i.sent(),[4,this.getTreeContainer()];case 2:return n=i.sent(),r=n.store.getValue().entities,a=t.store.getValue(),o=a.myId,c=a.entities,o&&c&&r?(l=e.parentGuid,r[l]?(s=c[o],u=Object(h.a)(e,s),d=u.guid,this.store.upsert(d,u),n.service.addFile(u,l),[2,this.query.getEntity(u.guid)]):[2]):[2]}}))}))},t.prototype.setShareMode=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.setShareMode(e,t)];case 1:return n=r.sent().data.password,this.store.update(e,(function(e){e.shareMode=t,e.password=n,e.passwordProtected=Boolean(n)})),[2]}}))}))},t.prototype.setShareExpire=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.setShareExpire(e,t)];case 1:return n=r.sent().data.shareModeExpiredAt,this.store.update(e,(function(e){e.shareModeExpireDuration=t,e.shareModeExpiredAt=n})),[2]}}))}))},t.prototype.setPasswordProtected=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.setPasswordProtected(e,t)];case 1:return n=r.sent().data.password,this.store.update(e,(function(e){e.password=n,e.passwordProtected=Boolean(n)})),[2]}}))}))},t.prototype.resetPassword=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.resetPassword(e)];case 1:return t=n.sent().data.password,this.store.update(e,(function(e){e.password=t,e.passwordProtected=Boolean(t)})),[2]}}))}))},t.prototype.move=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.move(e,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.batchRemove=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return 0===e.length?[2]:[4,this.api.batchRemove(e)];case 1:return a.sent(),[4,this.getUserContainer()];case 2:return t=a.sent(),n=t.store.getValue().myId,Object(l.h)((function(){r.store.update(e,(function(e){return r.transFileToDeletedFile(e,n)})),r.store.update((function(t){var n;(n=t.trashIds).push.apply(n,Object(i.__spreadArray)([],Object(i.__read)(e)))})),e.forEach((function(e){r.removeSelection(e)})),r.moveFileTimelineToSpace(e)})),[2]}}))}))},t.prototype.moveFileTimelineToSpace=function(e,t){this.store.update((function(n){var r,a=Object(h.i)(n.fileTimeLine,e),o=a.newTimeline,c=a.removedTimelineItemList;t&&o[t]&&(r=o[t].list).push.apply(r,Object(i.__spreadArray)([],Object(i.__read)(c))),n.fileTimeLine=o}))},t.prototype.rename=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=Object(b.b)(e)?Object(b.a)(e).guid:e,[4,this.api.update(n,{name:t})];case 1:return r=i.sent(),this.store.upsert(n,Object(h.c)(r)),[2]}}))}))},t.prototype.updateFileName=function(e,t){this.store.update(e,(function(e){e.name=t}))},t.prototype.selectFile=function(e){this.store.update((function(t){t.selectedIds=[e]}))},t.prototype.setSelection=function(e,t){t?this.addSelection(e):this.removeSelection(e)},t.prototype.addSelections=function(e){this.store.update((function(t){t.selectedIds=Object(s.a)(Object(l.i)(t.selectedIds,e))}))},t.prototype.setSelections=function(e){this.store.update((function(t){t.selectedIds=Object(s.a)(e)}))},t.prototype.toggleSelection=function(e){this.store.getValue().selectedIds.includes(e)?this.removeSelection(e):this.addSelection(e)},t.prototype.clearSelection=function(){this.store.update((function(e){e.selectedIds=[]}))},t.prototype.getRecentlyUsed=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return 200,[4,this.api.getByScenario({type:r.y.used,limit:200})];case 1:return e=t.sent().list,this.store.upsertMany(e.map((function(e){return Object(h.c)(e)}))),this.store.update((function(t){t.recentlyUsedIds=e.map((function(e){return e.guid}))})),[2]}}))}))},t.prototype.removeFromRecent=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.removeFromRecent(e)];case 1:return n.sent(),Object(l.h)((function(){t.store.update((function(t){var n=t.recentlyUsedIds.indexOf(e);n>-1&&t.recentlyUsedIds.splice(n,1)})),t.removeSelection(e)})),[2]}}))}))},t.prototype.getShared=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a,o=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.api.getByScenario({type:r.y.shared,fileType:null==e?void 0:e.fileType})];case 1:return t=i.sent().list,[4,this.sos.getContainer("user")];case 2:return n=i.sent(),a=n.store,Object(l.h)((function(){o.store.upsertMany(t.map((function(e){var t,n,r=Object(h.c)(e);return(null===(t=r.sharedUser)||void 0===t?void 0:t.id)&&(a.upsert(null===(n=r.sharedUser)||void 0===n?void 0:n.id,r.sharedUser),r.sharedUserId=r.sharedUser.id),delete r.sharedUser,r}))),o.store.update((function(e){e.sharedIds=Object(s.a)(e.sharedIds.concat(t.map((function(e){return e.guid}))))})),o.store.update((function(e){e.favoriteIds=Object(s.a)(t.filter((function(e){return e.starred})).map((function(e){return e.guid})).concat(e.favoriteIds))}))})),[2]}}))}))},t.prototype.getFavorite=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.getFavorite(e)];case 1:return t=n.sent(),this.store.upsertMany(t.map((function(e){return Object(h.b)(e)}))),this.store.update((function(e){e.favoriteIds=Object(s.a)(t.map((function(e){return e.guid})).concat(e.favoriteIds))})),[2]}}))}))},t.prototype.favorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t=Object(b.b)(e)?Object(b.a)(e).guid:e,this.store.getValue().favoriteIds.includes(t)?[2]:[4,this.api.favorFile(t)];case 1:return n.sent(),this.store.update((function(e){var n;if(!e.favoriteIds.includes(t)){e.favoriteIds.unshift(t);var r=null===(n=e.entities)||void 0===n?void 0:n[t];r&&(r.starred=!0)}})),[2]}}))}))},t.prototype.disfavorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t=Object(b.b)(e)?Object(b.a)(e).guid:e,[4,this.api.unfavorFile(t)];case 1:return n.sent(),this.store.update((function(e){var n,r=e.favoriteIds.indexOf(t);r>-1&&e.favoriteIds.splice(r,1);var i=null===(n=e.entities)||void 0===n?void 0:n[t];i&&(i.starred=!1)})),[2]}}))}))},t.prototype.getTrashList=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.api.getTrashList()];case 1:return e=i.sent(),[4,this.getSpaceContainer()];case 2:return t=i.sent(),n=e.map((function(e){return Object(h.b)(e)})),Object(l.h)((function(){r.upsertTrashFiles(n),t.service.upsertSpaces(n.filter((function(e){return e.isSpace})))})),[2]}}))}))},t.prototype.removeFromTrash=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.removeFromTrash(e)];case 1:return n.sent(),Object(l.h)((function(){t.store.update((function(t){var n=t.trashIds.indexOf(e);n>-1&&t.trashIds.splice(n,1)})),t.store.remove(e),t.removeSelection(e)})),[2]}}))}))},t.prototype.emptyTrash=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.emptyTrash()];case 1:return t.sent(),Object(l.h)((function(){e.store.remove(e.store.getValue().trashIds),e.store.update((function(e){e.trashIds=[]})),e.clearSelection()})),[2]}}))}))},t.prototype.recoverFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.recoverFile(e)];case 1:return n.sent(),[4,this.getOne(e)];case 2:return n.sent(),Object(l.h)((function(){t.store.update((function(t){var n=t.trashIds.indexOf(e);n>-1&&t.trashIds.splice(n,1)})),t.removeSelection(e)})),[2]}}))}))},t.prototype.getMemberTimeline=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,o=this;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.api.getMemberTimeline(e)];case 1:return t=c.sent(),n=t.list,r=t.nextTimestamp,[4,this.getUserContainer()];case 2:return a=c.sent(),Object(l.h)((function(){var e,t,c,l;try{for(var s=Object(i.__values)(n),p=s.next();!p.done;p=s.next()){var f=p.value;a.store.upsert(f.user.id,f.user);var m=function(e){var t=Object(h.b)(e.file);o.store.upsert(e.file.guid,(function(e){return Object(u.a)(e,t)}))};try{for(var b=(c=void 0,Object(i.__values)(f.actions)),g=b.next();!g.done;g=b.next()){m(g.value)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}o.store.update((function(e){n.length>0&&(e.memberTimeLine.list=Object(d.a)(e.memberTimeLine.list.concat(Object(h.h)(n)),(function(e){return e.id}))),e.memberTimeLine.lastTimestamp=r,e.memberTimeLine.hasMore=r>0}))})),[2]}}))}))},t.prototype.resetMemberTimeline=function(){this.store.update((function(e){e.memberTimeLine={list:[],hasMore:!1}}))},t.prototype.memberTimeLineLoadMore=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t=this.store.getValue().memberTimeLine,n=t.lastTimestamp,t.hasMore?[2,this.getMemberTimeline(Object(i.__assign)(Object(i.__assign)({},e),{lastTimestamp:n}))]:[2]}))}))},t.prototype.getFileTimeline=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,a,o,c=this;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:return[4,this.api.getFileTimeline(e,t)];case 1:return n=s.sent().data,r=n.list,a=n.lastTimestamp,[4,this.getUserContainer()];case 2:return o=s.sent(),Object(l.h)((function(){var t,n,l=function(e){c.store.upsert(e.file.guid,(function(t){return Object(u.a)(t,e.file)})),o.store.upsertMany(e.actions.map((function(e){return e.user})))};try{for(var s=Object(i.__values)(r),p=s.next();!p.done;p=s.next()){l(p.value)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}c.store.update((function(t){var n,o;t.fileTimeLine[e]={list:Object(d.a)(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(null!==(o=null===(n=t.fileTimeLine[e])||void 0===n?void 0:n.list)&&void 0!==o?o:[])),Object(i.__read)(Object(h.f)(r))),(function(e){return e.id})),lastTimestamp:a,hasMore:a>0}}))})),[2]}}))}))},t.prototype.fileTimeLineLoadMore=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t=this.store.getValue().fileTimeLine[e],n=t.lastTimestamp,t.hasMore?[2,this.getFileTimeline(e,n)]:[2]}))}))},t.prototype.getRecentLocations=function(){var e,t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.api.getRecentLocations()];case 1:return n=i.sent(),r=null!==(t=null===(e=n.data)||void 0===e?void 0:e.items)&&void 0!==t?t:[],this.store.upsertMany(r),this.store.update((function(e){e.recentLocationIds=Object(s.a)(r.map((function(e){return e.guid})).concat(e.recentLocationIds))})),[2]}}))}))},t.prototype.addRecentLocation=function(e){if(e!==m.a){var t=Object(b.b)(e)?Object(b.a)(e).guid:e;this.store.update((function(e){var n=e.recentLocationIds.indexOf(t);n>-1&&e.recentLocationIds.splice(n,1),e.recentLocationIds.unshift(t),e.recentLocationIds=e.recentLocationIds.slice(0,100)}))}},t.prototype.transFileToDeletedFile=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{isDelete:1,deletedBy:t})},t.prototype.addSelection=function(e){this.store.update((function(t){t.selectedIds=Object(s.a)(Object(l.i)(t.selectedIds,e))}))},t.prototype.removeSelection=function(e){this.store.update((function(t){var n=t.selectedIds.findIndex((function(t){return t===e}));-1!==n&&t.selectedIds.splice(n,1)}))},t.prototype.upsertTrashFiles=function(e){var t=this;Object(l.h)((function(){t.store.upsertMany(e.filter((function(e){return!e.isSpace}))),t.store.update((function(t){t.trashIds=Object(p.a)(t.trashIds,e.map((function(e){return e.guid})))}))}))},t.prototype.getTreeContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("tree")]}))}))},t.prototype.getUserContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t.prototype.getSpaceContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("space")]}))}))},t}(f.a),v=n(988),_=n(1251),y=n.n(_),O=n(1057),j={selectedIds:[],recentlyUsedIds:[],favoriteIds:[],sharedIds:[],recentLocationIds:[],trashIds:[],memberTimeLine:{list:[],hasMore:!1},fileTimeLine:{}},w=function(e){function t(t){void 0===t&&(t=j);var n=e.call(this,t)||this;return n.add({guid:"Desktop",name:y()("我的桌面"),isLegacy:!0}),n}return Object(i.__extends)(t,e),t.prototype.akitaPreAddEntity=function(e){return Object(O.a)(Object(i.__assign)(Object(i.__assign)({},e),{createdAt:Object(O.b)(e.createdAt),updatedAt:Object(O.b)(e.updatedAt),sharedAt:Object(O.b)(e.sharedAt),isInDesktop:e.isLegacy}))},t.prototype.akitaPreUpdateEntity=function(e,t){return Object(O.a)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),t),{createdAt:Object(O.b)(t.createdAt),updatedAt:Object(O.b)(t.updatedAt),sharedAt:Object(O.b)(t.sharedAt),isInDesktop:t.isLegacy}))},t=Object(i.__decorate)([Object(l.e)({name:"file",producerFn:v.c,idKey:"guid"}),Object(i.__metadata)("design:paramtypes",[Object])],t)}(l.a),x=(new w,n(1707)),E=n(3112),k=n(1733),C=function(e){function t(t,n){var r=e.call(this,t)||this;return r.store=t,r.sos=n,r}return Object(i.__extends)(t,e),t.prototype.selectFilesByIdsStream=function(e){return Object(l.l)([e,this.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=void 0===n?[]:n,a=t[1],o=void 0===a?{}:a;return r.map((function(e){return o[e]})).filter((function(e){return!Object(k.a)(e)})).filter((function(e){return!e.isDelete}))})))},Object.defineProperty(t.prototype,"recentlyUsed$",{get:function(){return this.selectFilesByIdsStream(this.select("recentlyUsedIds"))},enumerable:!1,configurable:!0}),t.prototype.getShared$=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getUserContainer()];case 1:return e=t.sent(),[2,Object(l.l)([this.selectFilesByIdsStream(this.select("sharedIds")),e.query.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1],a=void 0===r?{}:r;return n.filter((function(e){return!Object(k.a)(e)})).map((function(e){var t=Object(i.__assign)({},e);return e.sharedUserId&&(t.sharedUser=a[e.sharedUserId],delete t.sharedUserId),t}))})))]}}))}))},Object.defineProperty(t.prototype,"favorite$",{get:function(){return this.selectFilesByIdsStream(this.select("favoriteIds")).pipe(Object(x.a)((function(e){return Object(i.__spreadArray)([],Object(i.__read)(e)).sort((function(e,t){return e.kind!==r.t.Folder&&t.kind===r.t.Folder?1:e.kind===r.t.Folder&&t.kind!==r.t.Folder?-1:0}))})))},enumerable:!1,configurable:!0}),t.prototype.getTrashFiles=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getSpaceContainer()];case 1:return e=t.sent(),[2,Object(l.l)([this.select("trashIds"),this.select("entities"),e.query.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,3),n=t[0],r=void 0===n?[]:n,a=t[1],o=void 0===a?{}:a,c=t[2],l=void 0===c?{}:c;return r.map((function(e){var t;return null!==(t=o[e])&&void 0!==t?t:l[e]})).filter((function(e){return!Object(k.a)(e)}))})),Object(x.a)((function(e){return Object(i.__spreadArray)(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(e.filter((function(e){return e.kind===r.t.Space})))),Object(i.__read)(e.filter((function(e){return e.kind===r.t.Folder})))),Object(i.__read)(e.filter((function(e){return e.kind!==r.t.Folder&&e.kind!==r.t.Space}))))})))]}}))}))},t.prototype.recentLocations$=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getSpaceContainer()];case 1:return e=t.sent(),[2,Object(l.l)([this.select("recentLocationIds"),e.query.select("entities"),this.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,3),n=t[0],r=void 0===n?[]:n,a=t[1],o=void 0===a?[]:a,c=t[2],l=void 0===c?{}:c;return r.map((function(e){return l[e]||o[e]})).filter((function(e){return!Object(k.a)(e)}))})))]}}))}))},t.prototype.getSelection$=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,a;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return e=this.select("selectedIds"),[4,this.getTreeContainer()];case 1:return t=o.sent(),n=t.query.selectShortcutMap(e),r=this.selectFilesByIdsStream(e.pipe(Object(x.a)((function(e){return e.map((function(e){return Object(b.b)(e)?Object(b.a)(e).guid:e}))})))),a=r.pipe(Object(E.a)(n),Object(x.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return n.map((function(e){return r[e.guid]?Object(h.d)(e,{newGuid:r[e.guid]}):e}))}))),[2,Object(l.l)([e,a]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,2);return{ids:t[0],files:t[1]}})))]}}))}))},t.prototype.memberTimeLine$=function(){return Object(i.__awaiter)(this,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getUserContainer()];case 1:return e=t.sent(),[2,Object(l.l)([this.select("memberTimeLine"),this.select("entities"),e.query.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,3),n=t[0],r=t[1],a=void 0===r?{}:r,o=t[2],c=void 0===o?{}:o;return{list:Object(h.g)(n.list,c,a),hasMore:n.hasMore}})))]}}))}))},t.prototype.fileTimeline$=function(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getUserContainer()];case 1:return t=n.sent(),[2,Object(l.l)([this.select((function(t){return t.fileTimeLine[e]})),this.select("entities"),t.query.select("entities")]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,3),n=t[0],r=void 0===n?{}:n,a=t[1],o=void 0===a?{}:a,c=t[2],l=void 0===c?{}:c,s=r.list,u=void 0===s?[]:s,d=r.hasMore,p=void 0!==d&&d;return{list:Object(h.e)(u,l,o),hasMore:p}})))]}}))}))},t.prototype.selectFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return t=Object(b.b)(e)?Object(b.a)(e).guid:e,[4,this.getSpaceContainer()];case 1:return n=r.sent(),[2,Object(l.l)([this.select((function(e){var n;return null===(n=e.entities)||void 0===n?void 0:n[t]})),n.query.select((function(e){var n;return null===(n=e.entities)||void 0===n?void 0:n[t]}))]).pipe(Object(x.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return null!=n?n:r})))]}}))}))},t.prototype.getUserContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t.prototype.getTreeContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("tree")]}))}))},t.prototype.getSpaceContainer=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.sos.getContainer("space")]}))}))},t}(l.c),T=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"getRecentlyUsed",{get:function(){var e=this;return this.getOrAddResource("getRecentlyUsed",(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getRecentlyUsed()]}))}))}),(function(e){return e.recentlyUsed$}))},enumerable:!1,configurable:!0}),t.prototype.updateFileName=function(e,t){return this.service.updateFileName(e,t)},t.prototype.getRecent=function(){var e=this;return this.getOrAddResource("getRecent",(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getRecentlyUsed()]}))}))}),(function(e){return e.recentlyUsed$}))},Object.defineProperty(t.prototype,"getSelection",{get:function(){var e=this;return this.getOrAddResource("getSelection",(function(){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,void 0]}))}))}),(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getSelection$()]}))}))}),{ids:[],files:[]})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getTrashList",{get:function(){var e=this;return this.getOrAddResource("getTrashList",(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getTrashList()]}))}))}),(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getTrashFiles()]}))}))}))},enumerable:!1,configurable:!0}),t.prototype.create=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.create(e)]}))}))},t.prototype.createFileSync=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.createFileSync(e)]}))}))},t.prototype.batchRemove=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.batchRemove(e)]}))}))},t.prototype.rename=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.service.rename(e,t)]}))}))},t.prototype.setPasswordProtected=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.service.setPasswordProtected(e,t)]}))}))},t.prototype.setShareMode=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.service.setShareMode(e,t)]}))}))},t.prototype.setShareExpire=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,this.service.setShareExpire(e,t)]}))}))},t.prototype.resetPassword=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.resetPassword(e)]}))}))},t.prototype.selectFile=function(e){return this.service.selectFile(e)},t.prototype.setSelection=function(e,t){return this.service.setSelection(e,t)},t.prototype.addSelections=function(e){return this.service.addSelections(e)},t.prototype.setSelections=function(e){return this.service.setSelections(e)},t.prototype.toggleSelection=function(e){return this.service.toggleSelection(e)},t.prototype.clearSelection=function(){return this.service.clearSelection()},t.prototype.getFavorite=function(e){var t=this;return this.getOrAddResource("getFavorite:"+(e?r.k[e.fileType]:""),(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.getFavorite(e)]}))}))}),(function(e){return e.favorite$}))},t.prototype.getRecentLocations=function(){var e=this;return this.getOrAddResource("getRecentLocations",(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.getRecentLocations()]}))}))}),(function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t.recentLocations$()]}))}))}))},t.prototype.getShared=function(e){var t=this;return this.getOrAddResource("getShared:"+(e?r.k[e.fileType]:""),(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.getShared(e)]}))}))}),(function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,e.getShared$()]}))}))}))},t.prototype.favorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.favorFile(e)]}))}))},t.prototype.disfavorFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.disfavorFile(e)]}))}))},t.prototype.removeFromTrash=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.removeFromTrash(e)]}))}))},t.prototype.emptyTrash=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.service.emptyTrash()]}))}))},t.prototype.recoverFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.recoverFile(e)]}))}))},t.prototype.getMemberTimeLine=function(e){var t=this;return this.getOrAddResource("getMemberTimeLine",(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.getMemberTimeline(e)]}))}))}),(function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,e.memberTimeLine$()]}))}))}))},t.prototype.fetchMemberTimeLine=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this.service.resetMemberTimeline(),[2,this.service.getMemberTimeline(e).catch(console.error)]}))}))},t.prototype.memberTimeLineLoadMore=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.memberTimeLineLoadMore(e)]}))}))},t.prototype.getFileTimeline=function(e){var t=this;return this.getOrAddResource("getFileTimelineBySpace:"+e,(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.getFileTimeline(e)]}))}))}),(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.fileTimeline$(e)]}))}))}))},t.prototype.fileTimelineLoadMore=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.fileTimeLineLoadMore(e)]}))}))},t.prototype.getOne=function(e){var t=this;return this.getOrAddResource("getOne:"+e,(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.getOne(e)]}))}))}),(function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,n.selectFile(e)]}))}))}))},t.prototype.removeFromRecent=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this.service.removeFromRecent(e)]}))}))},t.prototype.addRecentLocation=function(e){return this.service.addRecentLocation(e)},t}(n(993).a)},1003:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(991),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement(o.b,Object(r.__assign)({},this.props))},t}(i.Component);t.a=c},1004:function(e,t,n){"use strict";var r={size:{xl:"20px",l:"16px",m:"14px",s:"13px",xs:"12px",xxs:"10px"},weight:{bold:500,regular:400},family:{"sans-serif":"'PingFang SC', Helvetica, Tahoma, Arial, sans-serif",serif:"'Songti SC', SimSun, 宋体, serif"}};t.a=r},1005:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(1066),a=n(2),o=n(8),c=n.n(o),l=n(253),s=function(e){function t(t){var n,r,i=e.call(this,t)||this;return i.state={hasLoaded:null!==(r=null!==(n=t.active)&&void 0!==n?n:t.forceRender)&&void 0!==r&&r},i}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.children,i=e.active,a=this.state.hasLoaded;return c.a.createElement(u,{active:i,className:t+"-tab-pane "+n},a?r:null)},t.defaultProps={prefixCls:"sm-tab",className:"",forceRender:!1},t.__SM_TAB_PANE__=!0,t.getDerivedStateFromProps=function(e,t){var n=t.hasLoaded;return e.active&&!n?{hasLoaded:!0}:null},t}(c.a.Component),u=l.default.div.withConfig({componentId:"sc-1hf2RD",displayName:"StyledTabPane"})(r||(r=Object(a.__makeTemplateObject)(["display:",";"],["",""])),(function(e){return e.active?"block":"none"})),d=s;t.b=i.a},1006:function(e,t,n){"use strict";var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_=n(2),y=n(8),O=n.n(y),j=n(253),w=n(975),x=n(989),E=function(e,t,n,i){var a="primary"!==i&&"secondary"!==i?parseInt(t,10)-2+"px":t;return Object(j.css)(r||(r=Object(_.__makeTemplateObject)(["min-width:",";height:",";line-height:",";padding:0 ",";"],["","","","",""])),e,t,a,n)},k=function(e){return"\n    position: relative;\n\n    &::before {\n      content: '';\n      display: block;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      z-index: -1;\n      width: 100%;\n      height: 100%;\n      border: 1px solid "+e+";\n      border-radius: 2px;\n      transition: opacity 0.3s ease-out;\n      opacity: 0;\n    }\n\n    &:hover {\n      border-radius: 1px;\n\n      &::before { opacity: 1 }\n    }\n\n    &[disabled] {\n      border-radius: 1px;\n\n      &::before { opacity: 1 }\n    }\n  "},C=j.default.button.withConfig({componentId:"sc-j7cy4",displayName:"StyledButton"})(v||(v=Object(_.__makeTemplateObject)(["box-sizing:border-box;display:inline-block;border-radius:2px;border-width:1px;border-style:solid;background-color:#fff;text-align:center;text-decoration:none;cursor:pointer;transition:opacity 0.3s,border-color 0.3s;"," &:focus{outline:none;}&:active{opacity:0.9;}&:hover{background-image:none;}"," "," &[disabled]{cursor:not-allowed;background-image:none;}"],["","","",""])),(function(e){return e.block&&Object(j.css)(g||(g=Object(_.__makeTemplateObject)(["display:block;width:100%;"],[""])))}),(function(e){return function(e){switch(e){case"secondary":return Object(j.css)(s||(s=Object(_.__makeTemplateObject)(["color:",";border-width:0;background-image:linear-gradient(",",#f0f0f0);box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);"," &:hover{box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);background-image:linear-gradient(",",#f0f0f0);}&:active{box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);background-image:linear-gradient(#f0f0f0,",");}&[disabled]{color:",";background-color:",";}"],["","","","","","","",""])),w.k.BLACK_80,w.k.BLACK_5,k("rgba(0, 0, 0, 0.05)"),w.k.BLACK_5,w.k.BLACK_5,w.k.BLACK_30,w.k.BLACK_5);case"black":return Object(j.css)(u||(u=Object(_.__makeTemplateObject)(["color:#fff;border-color:",";background-image:linear-gradient( ",","," );&:hover{background-color:",";}&[disabled]{background-color:",";border-color:",";}"],["","","","","","",""])),w.k.SHIMO_100,w.k.SHIMO_100,w.k.SHIMO_120,w.k.SHIMO_110,w.k.SHIMO_20,w.k.SHIMO_30);case"outline":return Object(j.css)(d||(d=Object(_.__makeTemplateObject)(["color:#676b6f;border-color:",";background-image:linear-gradient(#fff,#fbfbfb);&:hover{background-color:#fff;border-color:",";}&[disabled]{color:",";background-color:",";border-color:",";}"],["","","","","",""])),w.k.BLACK_30,w.k.BLACK_50,w.k.SHIMO_30,w.k.BLACK_5,w.k.BLACK_10);case"red":return Object(j.css)(p||(p=Object(_.__makeTemplateObject)(["color:#fff;border-color:",";background-image:linear-gradient(",",",");&:hover{background-color:",";}&[disabled]{background-color:",";border-color:#e8cdce;}"],["","","","","",""])),w.k.RED_120,w.k.RED_100,w.k.RED_120,w.k.RED_120,w.k.RED_20);case"blue":return Object(j.css)(f||(f=Object(_.__makeTemplateObject)(["color:#fff;border-color:",";background-image:linear-gradient(#80b3f5,#6c9fe2);&:hover{background-color:",";}&[disabled]{background-color:",";border-color:#d3e2f6;}"],["","","",""])),w.k.BLUE_100,w.k.BLUE_100,w.k.BLUE_20);case"flat":return Object(j.css)(b||(b=Object(_.__makeTemplateObject)(["margin:0;color:#555;border-color:#d6d6d6;background-image:none;background-color:transparent;transition:opacity 0.3s;"," &:hover:not([disabled]){"," position:relative;z-index:1;}&[disabled]{background:transparent;color:inherit;border-color:#ccc;opacity:0.3;}"],["","",""])),(function(e){return e.active&&"background: #e5e5e5;"}),(function(e){return e.isHoverActive&&Object(j.css)(m||(m=Object(_.__makeTemplateObject)(["background-color:#e5e5e5;"],[""])))}));case"primary":default:return Object(j.css)(h||(h=Object(_.__makeTemplateObject)(["color:",";border-width:0;background-image:linear-gradient(#fdfdfd,#f8f8f8);box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);"," &:hover{"," ","}"," &:active{box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);background-image:linear-gradient(#f0f0f0,",");}&[disabled]{color:",";background-color:",";&::before{border-color:rgba(0,0,0,0.05);}}"],["","","","","","","","",""])),w.k.BLACK_80,k("rgba(65, 70, 75, 0.05)"),(function(e){return e.active?"background-image: linear-gradient(#f0f0f0, "+w.k.BLACK_5+");":"background-image: linear-gradient(#fdfdfd, #f8f8f8);"}),(function(e){return e.active&&"box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1);"}),(function(e){return e.active&&"\n          box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1);\n          background-image: linear-gradient(#f0f0f0, "+w.k.BLACK_5+");"}),w.k.BLACK_5,w.k.BLACK_30,w.k.BLACK_5)}}(e.customType)}),(function(e){return function(e,t){switch(e){case"l":return Object(j.css)(i||(i=Object(_.__makeTemplateObject)([""," ",""],["","",""])),Object(x.a)("h2"),E("120px","40px","24px",t));case"s":return Object(j.css)(a||(a=Object(_.__makeTemplateObject)([""," ",""],["","",""])),Object(x.a)("h4"),E("90px","30px","15px",t));case"xs":return Object(j.css)(o||(o=Object(_.__makeTemplateObject)([""," ",""],["","",""])),Object(x.b)("p4"),E("48px","26px","12px",t));case"xxs":return Object(j.css)(c||(c=Object(_.__makeTemplateObject)([""," ",""],["","",""])),Object(x.a)("h4"),E("26px","26px","4px",t));case"m":default:return Object(j.css)(l||(l=Object(_.__makeTemplateObject)([""," ",""],["","",""])),Object(x.a)("h3"),E("100px","34px","15px",t))}}(e.size,e.customType)})),T=C.withComponent("a"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n,r;null===(r=(n=t.props).onClick)||void 0===r||r.call(n,e)},t.handleMouseUp=function(e){var n,r;null===(r=(n=t.props).onMouseUp)||void 0===r||r.call(n,e)},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.prefixCls,r=e.href,i=e.type,a=e.size,o=e.block,c=e.children,l=e.active,s=e.isHoverActive,u=e.disabled,d=n+" "+t;return r?O.a.createElement(T,Object(_.__assign)({},this.props,{disabled:u,href:r,type:i,customType:i,size:a,block:o,className:d,active:l,isHoverActive:s,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),c):O.a.createElement(C,Object(_.__assign)({},this.props,{disabled:u,type:i,customType:i,size:a,block:o,className:d,active:l,isHoverActive:s,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),c)},t.__SM_BUTTTON__=!0,t.defaultProps={prefixCls:"sm-button",className:"",onClick:function(){},disabled:!1,block:!1,type:"default",size:"m",active:!1,isHoverActive:!1},t}(y.Component);t.a=S},1007:function(e,t,n){"use strict";var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_=n(8),y=n.n(_),O=n(1080),j=n.n(O),w=n(2),x=n(253),E=n(984),k={s:"12px",m:"14px",l:"16px"},C={check:{s:{width:"11px",height:"10px",left:"0",top:"0"},m:{width:"13px",height:"12px",left:"0",top:"0"},l:{width:"15px",height:"14px",left:"0",top:"0"}},radio:{s:{width:"8px",height:"10px",left:"1px",top:"1px"},m:{width:"8px",height:"10px",left:"2px",top:"2px"},l:{width:"10px",height:"12px",left:"2px",top:"2px"}},"round-check":{s:{width:"11px",height:"10px",left:"0",top:"0"},m:{width:"13px",height:"12px",left:"0",top:"0"},l:{width:"15px",height:"14px",left:"0",top:"0"}}},T=x.default.div.withConfig({componentId:"sc-M_AR3",displayName:"StyledBaseWrapper"})(r||(r=Object(w.__makeTemplateObject)(["width:",";height:",";text-align:center;vertical-align:middle;display:inline-block;box-sizing:border-box;position:relative;"],["","",""])),(function(e){var t=e.size;return k[t]}),(function(e){var t=e.size;return k[t]})),S=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-1",displayName:"StyledCheckedIconCheckboxWrapper"})(i||(i=Object(w.__makeTemplateObject)(["background:#676b6f;border:1px solid rgba(0,0,0,0);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:2px;cursor:pointer;&:hover{background:#676b6f;border:1px solid #41464b;box-shadow:inset 0 2px 4px 0 #41464b;}"],[""]))),I=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-2",displayName:"StyledDisabledCheckedIconCheckboxWrapper"})(a||(a=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:2px;"],[""]))),N=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-3",displayName:"StyledUncheckedIconCheckboxWrapper"})(o||(o=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 1px 3px 0 #c6c7c9;border-radius:2px;cursor:pointer;",";"],["",""])),(function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 1px 3px 0 #C6C7C9;\n    }"})),R=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-4",displayName:"StyledDisabledUncheckedIconCheckboxWrapper"})(c||(c=Object(w.__makeTemplateObject)(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.1);border-radius:2px;"],[""]))),P=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-5",displayName:"StyledCheckedIconRoundCheckWrapper"})(l||(l=Object(w.__makeTemplateObject)(["background:#676b6f;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:",";cursor:pointer;",";"],["","",""])),(function(e){var t=e.size;return k[t]}),(function(e){return e.disabled?"":"&:hover {\n      background: #676B6F;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #41464B;\n    }"})),M=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-6",displayName:"StyledDisabledCheckedIconRoundCheckWrapper"})(s||(s=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.05);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";"],["",""])),(function(e){var t=e.size;return k[t]})),A=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-7",displayName:"StyledUncheckedIconRoundCheckWrapper"})(u||(u=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";cursor:pointer;",";"],["","",""])),(function(e){var t=e.size;return k[t]}),(function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #C6C7C9;\n    }"})),B=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-8",displayName:"StyledDisabledUncheckedIconRoundCheckWrapper"})(d||(d=Object(w.__makeTemplateObject)(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.05);border-radius:",";"],["",""])),(function(e){var t=e.size;return k[t]})),D=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-9",displayName:"StyledCheckedIconRadioWrapper"})(p||(p=Object(w.__makeTemplateObject)(["background:#676b6f;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:",";cursor:pointer;",";"],["","",""])),(function(e){var t=e.size;return k[t]}),(function(e){return e.disabled?"":"&:hover {\n      background: #676B6F;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #41464B;\n    }"})),L=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-10",displayName:"StyledDisabledCheckedIconRadioWrapper"})(f||(f=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.05);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";"],["",""])),(function(e){var t=e.size;return k[t]})),z=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-11",displayName:"StyledUncheckedIconRadioWrapper"})(m||(m=Object(w.__makeTemplateObject)(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";cursor:pointer;",";"],["","",""])),(function(e){var t=e.size;return k[t]}),(function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #C6C7C9;\n    }"})),F=Object(x.default)(T).withConfig({componentId:"sc-M_AR3-12",displayName:"StyledDisabledUncheckedIconRadioWrapper"})(b||(b=Object(w.__makeTemplateObject)(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.05);border-radius:",";"],["",""])),(function(e){var t=e.size;return k[t]})),V=Object(x.default)(E.b).withConfig({componentId:"sc-M_AR3-13",displayName:"StyledCheckOutlined"})(h||(h=Object(w.__makeTemplateObject)(["color:#a0a2a5;"],[""]))),U=Object(x.default)(E.d).withConfig({componentId:"sc-M_AR3-14",displayName:"StyledCheckRoundOutlined"})(g||(g=Object(w.__makeTemplateObject)(["color:#a0a2a5;"],[""]))),G=x.default.div.withConfig({componentId:"sc-M_AR3-15",displayName:"Indeterminate"})(v||(v=Object(w.__makeTemplateObject)(["width:70%;height:17%;background:#ffffff;box-shadow:0px 1px 2px #41464b;margin-left:50%;margin-top:50%;transform:translate(-50%,-50%);&.disabled{background:#a0a2a5;box-shadow:none;}"],[""]))),H=function(e){var t=e.size,n=void 0===t?"m":t,r=e.checked,i=void 0===r||r,a=e.disabled,o=void 0!==a&&a,c=e.type,l=void 0===c?"check":c,s=e.className,u=void 0===s?"":s,d=e.indeterminated,p=void 0!==d&&d,f=i?function(e,t){switch(e){case"check":return t?I:S;case"radio":return t?L:D;case"round-check":return t?M:P;default:return t?L:D}}(l,o):function(e,t){switch(e){case"check":return t?R:N;case"radio":return t?F:z;case"round-check":return t?B:A;default:return t?F:z}}(l,o),m=o?function(e){switch(e){case"radio":return E.f;case"round-check":return U;case"check":default:return V}}(l):function(e){switch(e){case"radio":return E.g;case"round-check":return E.e;case"check":default:return E.c}}(l),b=C[l][n],h=b.width,g=b.height,v=b.top,_=b.left;return y.a.createElement(f,{className:u,size:n,disabled:o},i&&!p?y.a.createElement(m,{style:{display:"inline-block",verticalAlign:"middle",width:h,height:g,position:"absolute",top:v,left:_}}):null,p?y.a.createElement(G,{className:j()({disabled:o})}):null)};t.a=H},1010:function(e,t,n){"use strict";var r=n(1064);t.a=r.a},1011:function(e,t,n){"use strict";var r,i=n(2),a=n(8),o=n.n(a),c=n(253),l=Object(c.default)((function(e){var t=e.label,n=e.children,r=e.prefixCls,i=void 0===r?"sm-divider":r,a=e.className,c=void 0===a?"":a;return o.a.createElement("div",{className:i+" "+c},null!=n?n:t?o.a.createElement("span",{className:"divider-label-wrapper"},t):null)})).withConfig({componentId:"sc-2fnOx_",displayName:"StyledDivider"})(r||(r=Object(i.__makeTemplateObject)(["color:",";display:block;overflow:hidden;.divider-label-wrapper{padding:0 10px;}&::after{content:'';border-top:1px solid ",";display:inline-block;height:0.5em;vertical-align:bottom;width:100%;margin-right:-100%;","}"],["","","",""])),(function(e){return e.theme.BLACK_50||"#A5A5A5"}),(function(e){return e.theme.BLACK_10||"#E5E5E5"}),(function(e){return e.label&&"\n        margin-left: 0.6em;\n      "}));t.a=l},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return b}));var r="file-menu-add-to-shortcut",i="file-menu-mute",a="file-menu-star",o="file-menu-save-template",c="file-menu-help",l="file-menu-toggle-user-guide",s="file-menu-hotkeys",u="file-menu-move",d="file-menu-duplicate",p="file-menu-delete",f="file-report",m="file-menu-lock",b="file-menu-file-info"},1013:function(e,t,n){"use strict";n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return V})),n.d(t,"l",(function(){return ye})),n.d(t,"k",(function(){return Oe})),n.d(t,"a",(function(){return we})),n.d(t,"b",(function(){return Re})),n.d(t,"j",(function(){return C})),n.d(t,"f",(function(){return z})),n.d(t,"c",(function(){return P.b})),n.d(t,"i",(function(){return f}));var r=n(2),i=n(254),a=n(41),o=n.n(a),c=n(257),l=n.n(c),s=n(82),u=n(1068),d=n(92),p=n(259),f=function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,a,c,f,m,b;return Object(r.__generator)(this,(function(r){return e=new p.TinyEmitter,t=o()(window,"shimo.emitter",e),(n=o()(window,"shimo.socket"))?[2,Promise.resolve(n)]:(a=o()(window,"shimo.store"),c=a.getState(),f=c.me,m=c.status.pushClientId,b=Object(u.a)(Object(s.a)(Object(d.getSocketHost)(),{pushClientId:m,accessToken:f.token||void 0,electron:void 0}),{path:"/ws",transports:["websocket","polling"]}),l()(window,"shimo.socket",b),b.on("message",(function(e){"LOGOUT"===e.type&&(window.location.href="/logout")})),Object(i.p)({socket:b,emitter:t,io:u.a,server:Object(d.getSocketHost)()})((function(){return a}))(null,null,null),[2,new Promise((function(e){e(b)}))])}))}))},m=n(121),b=n(110),h=n(1121),g=m.f.getClientId,v=m.f.getClientSecret,_="object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):b.compose,y=function(){return o()(window,"shimo.store")},O=function(e){void 0===e&&(e={});var t=y(),n=Object(r.__assign)(Object(r.__assign)({},i.Bb),e);return t?e&&t.replaceReducer(Object(b.combineReducers)(n)):t=function(e){var t=new p.TinyEmitter,n=Object(b.createStore)(Object(b.combineReducers)(e),_(Object(b.applyMiddleware)(Object(i.r)({api:{id:g()||"",secret:v()||"",fetchConfig:{withCredentials:!0},emitter:t,requestLimitTime:1e3},emitter:t}),h.a)));return l()(window,"shimo.store",n),l()(window,"shimo.emitter",t),n}(n),t},j=n(28),w=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:t=("object"==typeof window.__INITIAL_STATE__?window.__INITIAL_STATE__:{user:null}).user,n=e.dispatch,o.label=1;case 1:return o.trys.push([1,6,,8]),null===t||t.id>0?[4,n(Object(i.wb)())]:[3,4];case 2:return o.sent(),[4,n(Object(i.K)())];case 3:return o.sent(),[3,5];case 4:t.id<0&&(n(Object(i.Ec)(t.id)),n(Object(i.Dc)())),o.label=5;case 5:return[3,8];case 6:return o.sent(),[4,Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:e=-new Date,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,j.s.get("/auth/anonymous_id")];case 2:return t=n.sent().anonymousUser,e=t,[3,4];case 3:return n.sent(),[3,4];case 4:return[2,e]}}))}))];case 7:return a=o.sent(),n(Object(i.Ec)(a)),n(Object(i.Dc)()),[3,8];case 8:return[2]}}))}))},x=n(8),E=n.n(x),k=function(e){var t=e.redirectUrl;return Object(x.useEffect)((function(){location.href=t}),[t]),null},C=function(e){var t=e.getState().me;if((null==t?void 0:t.id)>0)return null;var n="/login?redirect_url="+encodeURIComponent(location.href);return E.a.createElement(k,{redirectUrl:n})},T=n(11),S=n.n(T),I=n(37),N=n(1067),R=n(3),P=n(1033),M=function(e){var t=e.me,n=e.errorCode,r=e.errorMessage,i=e.fileName,a=e.guid,o=!!t&&t.id>0;switch(n){case 60001:return __RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NOT_FOUND?(location.href=__RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NOT_FOUND,null):E.a.createElement(P.b,{login:o});case 60002:return __RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_DELETED?(location.href=__RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_DELETED,null):E.a.createElement(P.c,{login:o,fileName:i});case 20025:case 403:return __RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NO_PERMISSION?(location.href=__RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NO_PERMISSION,null):E.a.createElement(P.d,{me:t,fileName:i,guid:a});case 1:return __RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NO_PERMISSION?(location.href=__RUNTIME_ENV__.PRIVATE_DEPLOY_REDIRECT_NO_PERMISSION,null):E.a.createElement(P.e,{errorMessage:r});default:return null}},A=function(e){var t=e.store,n=e.guid,a=e.fileType;return Object(r.__awaiter)(void 0,void 0,Promise,(function(){var e,o,c,l;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),e=function(e){var t=e.fileType,n=R.fileTypes.find(t),r={contentUrl:!0};return n&&("sheet"!==n.name&&"mosheet"!==n.name||(r={encryptedContentUrl:!0})),r}({fileType:a}),[4,(0,t.dispatch)(Object(i.L)(n,Object(r.__assign)({updateViews:!0,trackOpen:!0},e)))];case 1:return s.sent(),o=t.getState(),c=Object(i.cc)(o,n),(null===(l=null==c?void 0:c.permissions)||void 0===l?void 0:l.readable)?[2,{passed:!0,result:{status:"ok",file:c}}]:[2,{passed:!1,result:{isError:!1,status:"no-permission",info:c}}];case 2:return[2,{passed:!1,result:{isError:!0,status:"error",info:s.sent().data}}];case 3:return[2]}}))}))},B=function(e){var t=e.store,n=e.guid,a=e.fileType;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,o,c,l,s,u,d,p,f,m,b,h,g,v,_;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,A({store:t,guid:n,fileType:a})];case 1:return(e=r.sent()).passed?(o=e.result,d=o.file,[2,{passed:!0,reason:o.status,element:null,file:d}]):(c=t.getState(),(l=Object(i.Yb)(c))?(s=e.result).isError?(f=s.status,m=s.info,b=m.errorCode,h=m.error,g=null!==(_=Object(I.typeToText)(a))&&void 0!==_?_:S()("文件"),[2,{passed:!1,reason:f,element:E.a.createElement(E.a.Fragment,null,E.a.createElement(N.a,null),E.a.createElement(M,{guid:n,me:l,fileName:g,errorCode:b,errorMessage:h})),error:m}]):(u=s.status,d=s.info,p=d?Object(i.zc)(c,d.user):null,[2,{passed:!1,reason:u,element:E.a.createElement(E.a.Fragment,null,E.a.createElement(N.a,null),E.a.createElement(P.a,{guid:n,file:d,me:l,authorName:null!==(v=null==p?void 0:p.name)&&void 0!==v?v:"",dispatch:t.dispatch})),file:d}]):[2,{passed:!1,reason:403,element:E.a.createElement(E.a.Fragment,null,E.a.createElement(N.a,null),E.a.createElement(P.e,{errorMessage:S()("用户未登录")}))}])}}))}))},D=n(91),L=function(){return Object(x.useEffect)((function(){try{var e=window,t=e.innerWidth,n=e.DingTalkPC;if(n&&t<500){var r=location.protocol,i=location.host,a=location.pathname,o=location.search,c=location.hash;n.biz.util.openLink({url:r+"//"+i+"/login?loginType=dingtalk&redirect_url="+encodeURIComponent(""+a+o+c)})}}catch(e){}}),[]),null},z=function(){return location.pathname.split("/").slice(1)[1]},F=function(e){return void 0===e&&(e={}),Object(r.__awaiter)(void 0,void 0,Promise,(function(){var t,n,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=O(e),[4,w(t)];case 1:return r.sent(),n=t.getState(),a=Object(i.Yb)(n),(o=0!==(null==(c=a)?void 0:c.teamRole)||"/forbidden"===location.pathname?null:E.a.createElement(k,{redirectUrl:"/forbidden"}))?[2,{passed:!1,failureElement:o}]:[2,{passed:!0,store:t}]}var c}))}))},V=function(e){var t=e.store,n=e.fileType;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(e=!Object(D.isDingtalk)()||Object(D.isDingtalkMobile)()?null:Object(D.isDingtalk)()&&window.DingTalkPC&&window.innerWidth<500?E.a.createElement(L,null):null)?[2,{passed:!1,reason:"dingtalk-redirect",element:e}]:(i=z(),[4,B({store:t,guid:i,fileType:n})]);case 1:return[2,r.sent()]}}))}))},U=function(e,t){},G=n(71),H=n(77),W=n(3183),K=n(1694),Y=n(261),Z=n(3199),q=n(1670),Q=n(982),X=n(977);function J(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return[2,j.s.post("/files/"+e+"/attach",{newContent:t})]}))}))}function $(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=e.guid,t?[4,J(i,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return n?[4,J(i,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ee(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t){var n=Q.a.open({title:e.title,body:e.body,closable:!1,maskClosable:!1,footer:E.a.createElement(X.a,{type:"black",onClick:function(){n.destroy({}),e.syncCallback&&e.syncCallback(),t(!0)}},e.okText)})}))]}))}))}function te(e){return"string"==typeof e?e:e.code||e.message||e.stack?JSON.stringify({code:e.code,message:e.stack||e.message}):JSON.stringify(e)}var ne,re=m.o.createWindowOpener;!function(e){e.RELOAD="reload",e.BACKUP="backup",e.FATAL="fatal",e.WARNING="warning",e.SKIP="skip"}(ne||(ne={}));var ie,ae=S()("获取文件信息出错，刷新页面后重试。如频繁出现此问题，请联系客服解决。"),oe=S()("您的数据无法正常同步到服务器，"),ce=S()("您的数据无法正常同步到服务器，请尝试在副本中继续编辑，如频繁出现此问题，请联系客服解决。"),le=S()("鉴权失败，如有疑问请联系客服。"),se=S()("没有进行该操作的权限，请联系文件创建者申请权限。如频繁出现此问题，请联系客服。"),ue=S()("文件已被删除");function de(e){var t=e.errorCode,n=e.response,i=e.fileType,a=e.file,o=e.editor,c=e.handleCreateFile,l=e.handleRemoveLocalData;return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,s,u,d,p,f,m;return Object(r.__generator)(this,(function(b){switch(b.label){case 0:switch(e=function(e,t){switch(e){case"ERR_LOAD_FILE":case"ERR_SNAPSHOT_LASTEST":case"ERR_FIND_DH":case"ERR_UPDATE_DH":return{type:ne.RELOAD,text:ae};case"ERR_CONVERT_FORM":return{type:ne.FATAL,text:oe};case"ERR_COMPOSE_TRANSFORM":case"ERR_PENDING_COMPOSE":case"ERR_COMPOSE_CONTENT":case"ERR_REVERT":case"ERR_REVERT_AUTHOR":case"ERR_PENDING_RANGE":case"ERR_REVERT_CS_RANGE":case"ERR_TRANSFORM_RANGE":case"ERR_CREATE_HISTORY":case"ERR_SYNC_BASE_REV":return{type:ne.BACKUP,text:ce};case"ERR_SHEET_DUPLICATED_NAME":case"ERR_BASE_REV_EMPTY":return{type:ne.FATAL,text:oe};case"ERR_FILE_TOO_LARGE":return{type:ne.FATAL,text:S()("文件大小超过限制，请联系客服解决。")};case"ERR_APOOL_EMPTY":return{type:ne.FATAL,text:oe};case"ERR_READ_DENY":case"ERR_EDIT_DENY":case"ERR_COMMENT_CS_ONLY":case"ERR_WS_DENY":return{type:ne.RELOAD,text:le};case"ERR_WS_INTERNAL":return{type:ne.BACKUP,text:ce};case"ERR_SENDER":return 403===t.status?{type:ne.WARNING,text:se}:{type:ne.BACKUP,text:ce};case"ERR_REQUEST_DENY_DURING_UPGRADE":case"ERR_DELTA_VERSION":return{type:ne.SKIP,text:""};case"ERR_PULL_4XX":case"ERR_NO_AUTH":return{type:ne.RELOAD,text:le};case"ERR_NO_PERMISSION":return{type:ne.RELOAD,text:se};case"ERR_BAD_REQUEST":return{type:ne.RELOAD,text:ae};case"ERR_FILE_DELETED":return{type:ne.FATAL,text:ue};default:return{type:ne.BACKUP,text:ce}}}(t,n),s=e.type,u=e.text,s){case ne.RELOAD:return[3,1];case ne.WARNING:return[3,3];case ne.BACKUP:return[3,5];case ne.FATAL:return[3,9]}return[3,11];case 1:return[4,ee({title:S()("抱歉..."),body:E.a.createElement("div",null,u,t?E.a.createElement("div",{style:{color:"gray"}},t):null),okText:S()("刷新")})];case 2:return b.sent(),[2,location.reload()];case 3:return[4,ee({title:S()("抱歉..."),body:E.a.createElement("div",null,u,t?E.a.createElement("div",{style:{color:"gray"}},t):null),okText:S()("确定")})];case 4:return b.sent(),[2];case 5:return d=S()("副本 ")+a.name,[4,o.getContent()];case 6:return p=b.sent(),[4,Promise.all([c(i,d,"0",p),l()])];case 7:return f=r.__read.apply(void 0,[b.sent(),2]),m=f[0],[4,ee({title:S()("抱歉..."),body:E.a.createElement("div",null,S()(ie||(ie=Object(r.__makeTemplateObject)(["您的数据无法正常同步到服务器，请尝试在副本「","」中继续编辑，如频繁出现此问题，请联系客服解决。"],["您的数据无法正常同步到服务器，请尝试在副本「","」中继续编辑，如频繁出现此问题，请联系客服解决。"])),d),E.a.createElement("div",{style:{color:"gray"}},t||"")),okText:S()("到副本中继续编辑"),syncCallback:function(){re()("/"+R.fileTypes.find(i).url+"/"+m)}})];case 8:return b.sent(),[2,location.reload()];case 9:return[4,ee({title:S()("抱歉..."),body:E.a.createElement("div",null,u,E.a.createElement("div",{style:{color:"gray"}},t||"")),okText:S()("确定")})];case 10:return b.sent(),[2,location.reload()];case 11:return[2,void 0];case 12:return[2]}}))}))}var pe=m.f.getHost;var fe,me,be,he,ge,ve=function(e){var t=this;this.allowedStorage="undefined"!=typeof localStorage,this.initContentStorage=function(e,i,a){return void 0===i&&(i={}),void 0===a&&(a=$),Object(r.__awaiter)(t,void 0,void 0,(function(){var t,c,l,s,u,d,p,f,m,b,h,g,v,_=this;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:return!i.collabVersion||i.editorVersion,[4,n.e(69).then(n.t.bind(null,3130,7))];case 1:return t=y.sent(),c=this.config,l=c.me,s=c.file,u=c.fileType,d=c.docType,p=c.clientId,f=l.id.toString(),[4,Object(q.a)(t,f,e)];case 2:return y.sent(),[4,(m=new Z.a({storageDriver:t,logger:console,guid:e,userId:f,pushFile:Y.b})).execute()];case 3:if(!(b=y.sent()).offlineData)return[3,11];if(h=o()(R.fileTypes.find(u),"type","unknown"),!b.error)return[3,9];if(Object(G.a)({moduleName:"offline_sync",actionName:"sync_failed",fileType:h}),g=o()(b,"offlineData.committingChange.delta"),v=o()(b,"offlineData.userChange.delta"),b.hasAuthError)return[3,8];y.label=4;case 4:return y.trys.push([4,7,,8]),[4,a(s,g,v)];case 5:return y.sent(),ee({title:S()("离线内容同步失败"),body:E.a.createElement("div",null,S()("上次离线编辑的数据已创建副本")),okText:S()("确定")}).catch((function(){return null})),[4,m.removeOfflineData()];case 6:case 7:return y.sent(),[3,8];case 8:return[3,11];case 9:return Object(G.a)({moduleName:"offline_sync",actionName:"sync_success",fileType:u}),[4,m.removeOfflineData()];case 10:y.sent(),y.label=11;case 11:return this.fileDataManager=new W.a({guid:e,userId:f,pageType:u,docType:d,getRemoteContent:this.getRemoteContent,storageDriver:t,clientId:p,onError:function(t,n,a){return Object(r.__awaiter)(_,void 0,void 0,(function(){var c;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:return t!==K.a.COLLAB_ERROR?[3,2]:(d=Object(r.__assign)({tag:"collaborationError",fileGuid:e,error:te(n)},i),j.s.post(pe()+"/api/log/track",d,{baseURL:""}).catch((function(){return null})),c=o()(n,"origin.response",{}),[4,de({errorCode:n.code,response:c,fileType:u,file:s,editor:a,handleCreateFile:this.createFile,handleRemoveLocalData:this.removeLocalData})]);case 1:return l.sent(),[3,8];case 2:return t!==K.a.GET_CONTENT_ERROR?[3,5]:[4,ee({title:S()("抱歉..."),body:S()("本地离线数据损坏，请联系石墨客服或清除离线数据"),okText:S()("清除离线数据")})];case 3:return l.sent(),[4,this.fileDataManager.removeOfflineData()];case 4:return l.sent(),location.reload(),[3,8];case 5:return t!==K.a.PULL_ERROR?[3,8]:[4,ee({title:S()("抱歉..."),body:S()("数据更新失败，刷新页面后重试"),okText:S()("刷新")})];case 6:return l.sent(),[4,this.removeLocalData()];case 7:l.sent(),location.reload(),l.label=8;case 8:return[2]}var d}))}))}}),[2]}}))}))},this.getContent=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.throwErrorIfNoFileDataManager(),[4,this.fileDataManager.getContent(e)];case 1:return(t=n.sent()).head?[3,3]:[4,ee({title:S()("抱歉..."),body:E.a.createElement("div",null,S()("文档初始化异常，请稍后刷新重试。")),okText:S()("刷新")})];case 2:n.sent(),location.reload(),n.label=3;case 3:return[2,t]}}))}))},this.subscribeContentChange=function(e,n){return t.throwErrorIfNoFileDataManager(),t.fileDataManager.subscribeContentChange(e,n)},this.createStorage=function(){return t.throwErrorIfNoFileDataManager(),t.fileDataManager.createStorage()},this.throwErrorIfNoFileDataManager=function(){if(!t.fileDataManager)throw new Error("`fileDataManager` not exists. Ensure initContentStorage first")},this.getRemoteContent=function(e,n,i){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,Object(Y.a)(i)]}))}))},this.createFile=function(e,n,a,o){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,(0,this.config.dispatch)(Object(i.l)(e,n,a,o))]}))}))},this.removeLocalData=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,Promise.all([this.fileDataManager.removeOfflineData(),this.fileDataManager.removeFileData()]).then((function(){}))]}))}))},this.config=e,this.me=e.me,this.file=e.file},_e=n(971),ye=function(e,t){var n,r,a,o=e.getState().me;(0,e.dispatch)(Object(i.Hb)(t)),r=null===(n=E.a.Component.prototype.componentDidCatch)||void 0===n?void 0:n.bind(void 0),E.a.Component.prototype.componentDidCatch=null!=r?r:U,function(e){window.addEventListener("online",(function(){e.dispatch(Object(i.Gc)(!0))})),window.addEventListener("offline",(function(){e.dispatch(Object(i.Gc)(!1))}))}(e),function(e){var t,n=Object(i.Yb)(e.getState()),r=null===(t=null===window||void 0===window?void 0:window.shimo)||void 0===t?void 0:t.emitter;r&&n&&n.id>0&&r.on("auth.failure",(function(){_e.B.error(S()("检测到请求失败，您可以尝试重试当前操作或者重新登录。"))}))}(e),a=o.id,Object(H.getBoolean)("DEBUG_SA"),Object(G.b)(a)},Oe=function(e){var t=e.store,n=e.docType,r=e.fileType,a=t.getState(),o=z(),c=t.dispatch,l=Object(i.Yb)(a),s=Object(i.cc)(a,o);return{guid:o,contentStorageInstance:new ve({me:l,file:s,dispatch:c,docType:n,fileType:r})}},je=n(192),we=function(e){var t=e.store,n=e.children;return E.a.createElement(je.Provider,{store:t},n)},xe=n(981),Ee=m.g.isFileCollaborator,ke=m.g.isFilePublicEditable,Ce=function(){window.location.reload()},Te=function(e){var t=e.title,n=e.content,r=e.classNames;return _e.k.open({title:t,closable:!0,maskClosable:!1,onCancel:Ce,body:E.a.createElement("div",null,n),width:480,prefixCls:(r?" ":"")+"sm-modal",footer:[E.a.createElement(_e.a,{key:"exit",type:"black",onClick:Ce},S()("刷新"))]})},Se=function(e){switch(e){case"owner":case"editor":return S()("可以编辑");case"commentator":return S()("只能评论");case"reader":return S()("只能阅读");default:return""}};function Ie(e,t){var n=Object(x.useRef)();Object(x.useEffect)((function(){var i,a=n.current;return!i&&a&&(i=function(e){var t,n=e.prevFile,i=e.currentFile,a=e.classNames;if(Ee(n)){if(!i)return Te({title:S()("权限变更"),content:S()(fe||(fe=Object(r.__makeTemplateObject)(["您的权限已变更，请刷新页面继续"],["您的权限已变更，请刷新页面继续"]))),classNames:a});if(!Ee(i))return Te({title:S()("权限变更"),content:S()(me||(me=Object(r.__makeTemplateObject)(["您的权限已变更，请刷新页面继续"],["您的权限已变更，请刷新页面继续"]))),classNames:a});if(Ee(i)&&n.role!==i.role){var o=Se(i.role);return Te({title:S()("权限变更"),content:S()(be||(be=Object(r.__makeTemplateObject)(["您的权限已变更为","，请刷新页面继续"],["您的权限已变更为","，请刷新页面继续"])),o),classNames:a})}}if(ke(n)){if(!i)return Te({title:S()("糟糕"),content:S()("文件已被删除"),classNames:a});if(Ee(i)){o=Se(i.role);return Te({title:S()("权限变更"),content:S()(he||(he=Object(r.__makeTemplateObject)(["您的权限已变更为","，请刷新页面继续"],["您的权限已变更为","，请刷新页面继续"])),o),classNames:a})}if(!i.permissions||!i.permissions.editable)return i.passwordProtected?Te({title:S()("无权限访问"),content:S()("无权限访问或访问密码被修改，请联系文档创建者或协作者"),classNames:a}):(null===(t=i.permissions)||void 0===t?void 0:t.readable)?Te({title:S()("权限变更"),content:S()(ge||(ge=Object(r.__makeTemplateObject)(["您的权限已变更，请刷新页面继续"],["您的权限已变更，请刷新页面继续"]))),classNames:a}):Te({title:S()("无权限访问"),content:S()("抱歉，您没有权限访问文件"),classNames:a})}}({prevFile:a,currentFile:null!=e?e:void 0,classNames:t}),n.current=null!=e?e:void 0),function(){null==i||i.destroy()}}),[e,t])}var Ne=m.h.getFavicon,Re=Object(xe.a)((function(e){return{file:Object(i.cc)(e,z())}}))((function(e){var t=e.children,n=e.fileType,r=e.file,i=Ne(n);return Ie(r),E.a.createElement(m.b,{title:function(e){var t;if(e){var n=e.name.trim(),r=Object(H.getString)("SELF_HOSTED_PAGE_TITLE");return null!==(t=null!=n?n:r)&&void 0!==t?t:S()("石墨文档")}}(r),suffix:"",icon:i},t)}))},1014:function(e,t,n){"use strict";var r=n(2),i=n(8);t.a=function(e){return i.createElement("svg",Object(r.__assign)({width:"1em",height:"1em",viewBox:"0 0 28 44",fill:"currentColor"},e),i.createElement("path",{d:"M13.296 40V10.544A23.513 23.513 0 016 15.104v-1.872c4.032-3.52 5.976-6.416 7.224-9.232h2c1.184 2.816 3.56 5.712 7.624 9.232v1.872c-2.624-1.056-5.384-2.576-7.624-4.56V40c0-.64-1.928 0-1.928 0z"}))}},1015:function(e,t,n){"use strict";var r=n(2),i=n(8);t.a=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 16 16",fill:"currentColor",width:"1em",height:"1em"},e),i.createElement("path",{d:"M9.2 7.8l6.4-6.4L14.2 0 7.8 6.4 1.4 0 0 1.4l6.4 6.4L0 14.2l1.4 1.4 6.4-6.4 6.4 6.4 1.4-1.4z"}))}},1016:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v}));var r,i=n(2),a=n(253),o=n(975),c=n(1017),l=n(990),s=n(992),u="#8ab3e9",d="#fff",p=o.k.SHIMO_100,f=4,m=Math.floor(2*f/Math.sqrt(2)),b=f+3,h="\n  display: block;\n  position: absolute;\n  font-size: 12px;\n  -webkit-font-smoothing: auto;\n  line-height: 1.375;\n  opacity: 1;\n  z-index: "+l.d+";\n\n  .sm-tooltip-inner {\n    color: #fff;\n    text-align: center;\n    padding: 6px 10px;\n    background: "+p+";\n    border-radius: 2px;\n    box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1);\n    height: auto;\n    line-height: 1.375;\n    white-space: normal;\n  }\n\n  &.sm-tooltip-hidden { display: none; }\n\n  .sm-tooltip-arrow {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-color: "+p+";\n    border-style: solid;\n\n    &::after {\n      content: '';\n      position: absolute;\n      width: "+m+"px;\n      height: "+m+"px;\n      transform: rotate(45deg);\n      box-shadow: 0 0 8px 0 rgba(0,0,0,0.4);\n      z-index: -1;\n    }\n  }\n\n  &.sm-tooltip-theme-blue {\n    .sm-tooltip-inner {\n      background: "+u+";\n    }\n\n    .sm-tooltip-arrow {\n      border-color: "+u+";\n    }\n  }\n\n  &.sm-tooltip-theme-white {\n    opacity: 1;\n\n    .sm-tooltip-inner {\n      color: #333;\n      background: "+d+";\n      box-shadow: 0 2px 8px 0 rgba(0,0,0,0.2);\n    }\n\n    .sm-tooltip-arrow {\n      border-color: "+d+";\n\n      &::after {\n        box-shadow: 0 0 6px 0 rgba(0,0,0,0.2);\n      }\n    }\n  }\n  \n  &.sm-tooltip-theme-lite {\n    opacity: 0.9;\n    padding-bottom: 0!important;\n\n    .sm-tooltip-inner {\n      background: "+s.a.gray.gray100+";\n      box-shadow: 0 2px 8px rgba(0, 0, 0, .08);\n      border-radius: 2px;\n      max-width: 210px;\n      line-height: 16px;\n      font-size: 12px;\n      color: "+s.a.gray.gray20+";\n      padding: 2px 4px;\n      text-align: left;\n      overflow: hidden;\n      word-break: break-all;\n    }\n\n    .sm-tooltip-arrow {\n      display: none;\n    }\n  }\n\n  /** top */\n  &.sm-tooltip-placement-top,\n  &.sm-tooltip-placement-topLeft,\n  &.sm-tooltip-placement-topRight {\n    padding-bottom: "+b+"px;\n    .sm-tooltip-arrow {\n      bottom: 3px;\n      border-width: "+f+"px "+f+"px 0;\n      border-bottom-color: transparent;\n      border-left-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+m/2+"px;\n        top: -"+(f+m/2)+"px;\n      }\n    }\n  }\n\n\n  /** bottom */\n  &.sm-tooltip-placement-bottom,\n  &.sm-tooltip-placement-bottomLeft,\n  &.sm-tooltip-placement-bottomRight {\n    padding-top: "+b+"px;\n    .sm-tooltip-arrow {\n      top: 3px;\n      border-width: 0 "+f+"px "+f+"px;\n      border-top-color: transparent;\n      border-left-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+m/2+"px;\n        top: "+(f-m/2)+"px;\n        box-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\n      }\n    }\n  }\n\n  /** left */\n  &.sm-tooltip-placement-left,\n  &.sm-tooltip-placement-leftTop,\n  &.sm-tooltip-placement-leftBottom {\n    padding-right: "+b+"px;\n    .sm-tooltip-arrow {\n      right: 3px;\n      border-width: "+f+"px 0 "+f+"px "+f+"px;\n      border-top-color: transparent;\n      border-bottom-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+(f+m/2)+"px;\n        top: -"+m/2+"px;\n      }\n    }\n  }\n\n  /** right */\n  &.sm-tooltip-placement-right,\n  &.sm-tooltip-placement-rightTop,\n  &.sm-tooltip-placement-rightBottom {\n    padding-left: "+b+"px;\n    .sm-tooltip-arrow {\n      left: 3px;\n      border-width: "+f+"px "+f+"px "+f+"px 0;\n      border-top-color: transparent;\n      border-left-color: transparent;\n      border-bottom-color: transparent;\n\n      &::after {\n        left: "+(f-m/2)+"px;\n        top: -"+m/2+"px;\n      }\n    }\n  }\n\n  /** arrow */\n  &.sm-tooltip-placement-top .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottom .sm-tooltip-arrow {\n    left: 50%;\n    margin-left: -"+f+"px;\n  }\n\n  &.sm-tooltip-placement-topLeft .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottomLeft .sm-tooltip-arrow {\n    left: "+4*f+"px;\n  }\n\n  &.sm-tooltip-placement-topRight .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottomRight .sm-tooltip-arrow {\n    right: "+4*f+"px;\n  }\n\n  &.sm-tooltip-placement-left .sm-tooltip-arrow,\n  &.sm-tooltip-placement-right .sm-tooltip-arrow {\n    top: 50%;\n    margin-top: -"+f+"px;\n  }\n\n  &.sm-tooltip-placement-leftTop .sm-tooltip-arrow,\n  &.sm-tooltip-placement-rightTop .sm-tooltip-arrow {\n    top: "+2*f+"px;\n  }\n\n  &.sm-tooltip-placement-leftBottom .sm-tooltip-arrow,\n  &.sm-tooltip-placement-rightBottom .sm-tooltip-arrow {\n    bottom: "+2*f+"px;\n  }\n",g="randomClass-"+Object(c.a)(h),v=Object(a.css)(r||(r=Object(i.__makeTemplateObject)([".","{","}.sm-tooltip.no-touch{pointer-events:none !important;}.sm-tooltip{pointer-events:auto !important;}.sm-tooltip *{pointer-events:auto !important;}"],["","",""])),g,h)},1017:function(e,t,n){"use strict";function r(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function i(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function a(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}var o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),c=o.length;t.a=function(e){var t,n="";for(t=function(e,t){void 0===t&&(t=0);for(var n=1540483477,o=t^e.length,c=e.length,l=0;c>=4;){var s=r(e,l);s=a(s,n),s=a(s^=s>>>24,n),o=a(o,n),o^=s,l+=4,c-=4}switch(c){case 3:o^=i(e,l),o=a(o^=e.charCodeAt(l+2)<<16,n);break;case 2:o=a(o^=i(e,l),n);break;case 1:default:o=a(o^=e.charCodeAt(l),n)}return o=a(o^=o>>>13,n),(o^=o>>>15)>>>0}(e);t>c;t=Math.floor(t/o.length))n=o[t%c]+n;return o[t%c]+n}},1018:function(e,t,n){"use strict";t.a={xxxs:"2px",xxs:"4px",xs:"8px",s:"12px",m:"16px",mm:"20px",l:"24px",xl:"32px",xxl:"48px",xxxl:"64px",xxxxl:"128px"}},1019:function(e,t,n){"use strict";var r=n(1062);t.a=r.a},1020:function(e,t,n){"use strict";var r,i,a;n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),function(e){e.List="List",e.Tile="Tile"}(r||(r={})),function(e){e.UPDATED_AT="UPDATED_AT",e.CREATED_AT="CREATED_AT",e.FILE_SIZE="FILE_SIZE",e.FILE_NAME="FILE_NAME",e.CREATOR="CREATOR"}(i||(i={})),function(e){e.Up="Up",e.Down="Down"}(a||(a={}))},1022:function(e,t,n){"use strict";n.d(t,"s",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"u",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"t",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"y",(function(){return p})),n.d(t,"w",(function(){return f})),n.d(t,"x",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"H",(function(){return h})),n.d(t,"D",(function(){return v})),n.d(t,"G",(function(){return _})),n.d(t,"E",(function(){return y})),n.d(t,"F",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"z",(function(){return E})),n.d(t,"C",(function(){return k})),n.d(t,"A",(function(){return C})),n.d(t,"B",(function(){return T})),n.d(t,"p",(function(){return S})),n.d(t,"k",(function(){return A})),n.d(t,"i",(function(){return B})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return L})),n.d(t,"e",(function(){return z})),n.d(t,"h",(function(){return F})),n.d(t,"j",(function(){return V.d})),n.d(t,"r",(function(){return V.f})),n.d(t,"d",(function(){return V.b})),n.d(t,"c",(function(){return K}));var r=n(2),i=n(999);function a(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(r){return[2,i.b.put("/files/"+e+"/dep_admins/"+t,{needNotice:Boolean(n)})]}))}))}function o(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,i.b.delete("/files/"+e+"/dep_admins/"+t)]}))}))}function c(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(r){return[2,i.b.put("/files/"+e+"/admins/"+t,{needNotice:n})]}))}))}function l(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,i.b.delete("/files/"+e+"/admins/"+t)]}))}))}function s(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,i.b.put("/files/"+e+"/group_admins/"+t,{needNotice:Boolean(n)})];case 1:return r.sent(),[2]}}))}))}function u(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.b.delete("/files/"+e+"/group_admins/"+t)];case 1:return n.sent(),[2]}}))}))}function d(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){var a,o;return Object(r.__generator)(this,(function(r){return a="/files/"+e+"/dep_collaborators/"+t,o={role:"commentator",needNotice:Boolean(n)},[2,i.b.patch(a,o)]}))}))}function p(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){var a,o;return Object(r.__generator)(this,(function(r){return a="/files/"+e+"/dep_collaborators/"+t,o={role:"reader",needNotice:Boolean(n)},[2,i.b.patch(a,o)]}))}))}function f(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){var a,o;return Object(r.__generator)(this,(function(r){return a="/files/"+e+"/dep_collaborators/"+t,o={role:"editor",needNotice:Boolean(n)},[2,i.b.patch(a,o)]}))}))}function m(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){var n,a;return Object(r.__generator)(this,(function(r){return n="/files/"+e+"/dep_collaborators/"+t,a={role:"none"},[2,i.b.patch(n,a)]}))}))}function b(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,i.b.delete("/files/"+e+"/dep_collaborators/"+t)]}))}))}function h(e,t){return i.b.patch("/files/"+e,{parentRole:t})}function g(e,t,n,r,a){if(void 0===n&&(n="patch"),"post"===n){var o="/files/"+e+"/collaborators/",c={userId:t,role:r,needNotice:Boolean(a)};return i.b.post(o,c)}o="/files/"+e+"/collaborators/"+t,c={role:r};return i.b.patch(o,c)}function v(e,t,n,r){return void 0===n&&(n="patch"),g(e,t,n,"commentator",r)}function _(e,t,n,r){return void 0===n&&(n="patch"),g(e,t,n,"reader",r)}function y(e,t,n,r){return void 0===n&&(n="patch"),g(e,t,n,"editor",r)}function O(e,t,n,r){return void 0===n&&(n="patch"),g(e,t,n,"none",r)}function j(e,t){return i.b.delete("/files/"+e+"/collaborators/"+t)}function w(e,t,n){return void 0===n&&(n="editor"),i.b.post("/files/"+e+"/collaborators",{email:t,role:n})}function x(e,t,n){return void 0===n&&(n="editor"),i.b.post("/files/"+e+"/collaborators",{mobile:t,role:n})}function E(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n="/files/"+e+"/group_collaborators/"+t,a={role:"commentator"},[4,i.b.patch(n,a)];case 1:return r.sent(),[2]}}))}))}function k(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n="/files/"+e+"/group_collaborators/"+t,a={role:"reader"},[4,i.b.patch(n,a)];case 1:return r.sent(),[2]}}))}))}function C(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n="/files/"+e+"/group_collaborators/"+t,a={role:"editor"},[4,i.b.patch(n,a)];case 1:return r.sent(),[2]}}))}))}function T(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return a="/files/"+e+"/group_collaborators/"+t,o={role:"none",needNotice:Boolean(n)},[4,i.b.patch(a,o)];case 1:return r.sent(),[2]}}))}))}function S(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.b.delete("/files/"+e+"/group_collaborators/"+t)];case 1:return n.sent(),[2]}}))}))}var I=n(1205),N=n.n(I);function R(e,t){return t?"admin":"editor"===e?"edit":"commentator"===e?"comment":"reader"===e?"read":"none"===e?"none":null}function P(e){return e.reduce((function(e,t){return e.length>0&&e.push(" - "),e.push(t.name),e}),[]).join("")}function M(e,t){var n=[],r=[];return e.forEach((function(e){e.departmentId?n.push({id:e.id,name:e.name,description:P(e.departments),role:R(e.role,t),isDepartment:!0,isOutsider:!1,isInherited:e.isInherited,avatar:"",disabled:!1}):e.group_id?r.push({id:e.id,name:e.name,description:"",role:R(e.role,t),isDepartment:!1,isGroup:!0,isOutsider:!1,isInherited:e.isInherited,avatar:"",disabled:!1}):(e=e,r.push({id:e.id,name:e.name,description:e.email||e.mobileAccount||e.mobile,role:R(e.role,t),isDepartment:!1,isOutsider:e.isOutsider,isInherited:e.isInherited,avatar:e.avatar,disabled:"disabled"===e.teamRole,email:e.email,teamId:e.teamId,status:e.status}))})),n.concat(r)}function A(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.b.post(e?"/search?type=recent_contact&pageSize=-1&teamId="+e:"/search?type=recent_contact&pageSize=-1",{keyword:"*"}).then((function(e){return e.recent_contact.results}))];case 1:return[2,t.sent()]}}))}))}function B(e){return void 0===e&&(e=1),Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){return[2,i.b.get("/teams/mine/members?pagination=true&page="+e+"&perPage=20")]}))}))}function D(e){return void 0===e&&(e=1),Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.b.get("/org/departments/"+e+"/shadow_subtree")];case 1:return[2,t.sent().subdepartments.map((function(t){return{id:t.id,isInherited:!1,name:t.name,role:null,level:-1,expanded:!1,parentId:e}}))]}}))}))}function L(){return Object(r.__awaiter)(this,void 0,Promise,(function(){var e,t,n,a,o;return Object(r.__generator)(this,(function(c){switch(c.label){case 0:return[4,i.b.get("/org/departments/1/shadow_subtree")];case 1:return e=c.sent(),t=e.currentDepartment,n=e.subdepartments,a=e.rootVisible,o=Object(r.__spreadArray)([],Object(r.__read)(n)),t&&a&&o.unshift(t),[2,o.map((function(e){var n;return{id:e.id,isInherited:!1,name:e.name,role:null,level:-1,expanded:!1,parentId:(null==t?void 0:t.id)===e.id?0:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:0}}))]}}))}))}function z(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){var t,n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,i.b.get("/v2/files/"+e+"/collaborators",{params:{includeInherited:!1,includeAdmin:!0}})];case 1:return t=r.sent(),n=t.admins,a=t.roles,[2,{collabs:M(N()(a,n,(function(e,t){return e.id===t.id&&e.departmentId===t.departmentId})),!1),admins:M(n,!0)}]}}))}))}function F(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.b.get("/v2/files/"+e+"/collaborators",{params:{includeInherited:!0,includeAdmin:!1,includeSelf:!1}})];case 1:return[2,M(t.sent().roles,!1)]}}))}))}var V=n(1054),U=n(28),G=n(56),H=n.n(G),W=n(1557);function K(){var e=Object(U.j)();return Object(W.a)((function(t,n,i,a){var o;return Object(r.__awaiter)(this,void 0,Promise,(function(){var c,l,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:c={limit:100,keyword:n,filter:{user:{}},fetchFileRoleByFileGuid:t},i&&(c.filter.department={}),a&&(c.filter.group={}),l=Object(U.n)(),Object(U.c)(l)(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,l.post("/search/search",c,{baseURL:"/panda-api"})];case 2:return s=r.sent().data,[2,Y(null!==(o=null==s?void 0:s.results)&&void 0!==o?o:[])];case 3:if(u=r.sent(),H.a.isCancel(u))return[2,Y([])];throw u;case 4:return[2]}}))}))}),300)}function Y(e){return e.map((function(e){var t,n,i;return"user"===e.type&&e.user?Object(r.__assign)(Object(r.__assign)({},e.user),{role:Z(e.user.role),description:null!==(i=null!==(n=null!==(t=e.user.email)&&void 0!==t?t:e.user.mobileAccount)&&void 0!==n?n:e.user.mobile)&&void 0!==i?i:""}):"department"===e.type?Object(r.__assign)(Object(r.__assign)({},e.department),{isDepartment:!0,description:P(e.department.parentDepartments)}):"group"===e.type?Object(r.__assign)(Object(r.__assign)({},e.group),{isGroup:!0,description:""}):void 0}))}function Z(e){switch(e){case 5:return"none";case 20:return"read";case 40:return"comment";case 60:return"edit";case 99:return"admin";case 0:case null:default:return null}}},1023:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2);function i(e,t){return e+":shortcut:"+t}function a(e){var t=Object(r.__read)(e.split(":shortcut:"),2),n=t[0],i=t[1];return{parentGuid:n,guid:void 0===i?"":i}}function o(e){return null==e?void 0:e.includes(":shortcut:")}},1024:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),i=n(8),a=n.n(i),o=n(122),c=n.n(o),l=n(11),s=n.n(l),u=n(253),d=n(982),p=n(977);var f,m=u.default.span.withConfig({componentId:"sc-2F1HDS",displayName:"StyledContent"})(f||(f=Object(r.__makeTemplateObject)(["a{color:#7eb1f4;text-decoration:none;}a:active{color:#7eb1f4;}"],[""]))),b=function(e){var t=e.title,n=void 0===t?s()("确认弹窗"):t,r=e.description,i=void 0===r?s()("确定执行该操作吗？"):r,o=e.okText,c=void 0===o?s()("确认"):o,l=e.cancelText,u=void 0===l?s()("取消"):l,f=e.footer,b=e.confirmFun,h=e.abortFun,g=e.cleanup,v=function(){null==b||b(),null==g||g()},_=function(){null==h||h(),null==g||g()},y=[a.a.createElement(p.a,{key:"confirm",type:"red",onClick:v},c),a.a.createElement(p.a,{key:"cancel",type:"outline",onClick:_},u)];return a.a.createElement(d.a,{title:n,okText:c,cancelText:u,onCancel:_,onOk:v,footer:null!=f?f:y,visible:!0},a.a.createElement(m,null,i))};function h(e){var t=document.body.appendChild(document.createElement("div")),n=function(){return c.a.unmountComponentAtNode(t),t.parentNode.removeChild(t)},i=Object(r.__assign)(Object(r.__assign)({},e),{cleanup:n});return c.a.render(a.a.createElement(b,i),t),n}},1025:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(1132),c=n(1078),l=n(1016),s=function(e){return"button"===e||e.__SM_BUTTTON__},u=function(e){function t(t){var n=e.call(this,t)||this;n.handleVisibleChange=function(e){if(!n.isTitleEmpty){n.setState({visible:e});var t=n.props.onVisibleChange;null==t||t(e)}};var r=n.props.visible;return n.state={visible:!n.isTitleEmpty&&r,prevVisible:r},n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevVisible,r=e.visible,i={prevVisible:r};return void 0===r&&n===r||(i.visible=r),i},t.prototype.render=function(){var e,t=this.props,n=t.overlayClassName,i=t.title,c=t.overlay,s=t.notTouchable,u=t.children,d=t.theme,p=t.prefixCls,f=t.className,m=this.state.visible,b=f+" "+n+" "+l.c+" "+(s?"no-touch":"")+" "+p+"-theme-"+d,h=this.getDisabledCompatibleChildren(a.a.isValidElement(u)?u:a.a.createElement("span",null,u));return a.a.createElement(o.a,Object(r.__assign)({},this.props,{overlayClassName:b,builtinPlacements:this.getPlacements(),overlay:null!==(e=null!=i?i:c)&&void 0!==e?e:"",visible:!this.isTitleEmpty&&m,onVisibleChange:this.handleVisibleChange}),h)},Object.defineProperty(t.prototype,"isTitleEmpty",{get:function(){var e=this.props,t=e.title,n=e.overlay;return!t&&!n},enumerable:!1,configurable:!0}),t.prototype.getPlacements=function(){var e=this.props,t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow,i=e.arrowWidth,a=e.horizontalArrowShift,o=e.verticalArrowShift,l=e.offsetWidth;return null!=t?t:Object(c.a)({arrowPointAtCenter:n,autoAdjustOverflow:r,horizontalArrowShift:a,verticalArrowShift:o,offsetWidth:l,arrowWidth:i})},t.prototype.getDisabledCompatibleChildren=function(e){if((s(e.type)||function(e){return"string"==typeof e.type.styledComponentId&&s(e.type.target)}(e))&&e.props.disabled){var t=Object(r.__assign)(Object(r.__assign)({display:"inline-block"},e.props.style),{cursor:"not-allowed"}),n=Object(i.cloneElement)(e,{style:{pointerEvents:"none"},className:null});return a.a.createElement("span",{style:t,className:e.props.className},n)}return e},t.defaultProps={prefixCls:"sm-tooltip",placement:"top",className:"",overlayClassName:"",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,theme:"default",onVisibleChange:function(){},arrowWidth:l.a},t}(a.a.Component);t.a=u},1026:function(e,t,n){"use strict";var r,i,a,o;n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),function(e){e.read="read",e.peeked="peeked"}(r||(r={})),function(e){e[e.COMMENT=0]="COMMENT",e[e.MENTION=1]="MENTION",e[e.INVITATION=2]="INVITATION",e[e.TEAM_SET_ADMIN=3]="TEAM_SET_ADMIN",e[e.TEAM_INVITATION=4]="TEAM_INVITATION",e[e.TEAM_NEW_MEMBER=5]="TEAM_NEW_MEMBER",e[e.SHARE_DESTROYED=6]="SHARE_DESTROYED",e[e.TODO=7]="TODO",e[e.LIKE=8]="LIKE",e[e.TODO_MODIFY=9]="TODO_MODIFY",e[e.COMMENT_MENTION=10]="COMMENT_MENTION",e[e.MOVE_OUT_TEAM_MEMBER=11]="MOVE_OUT_TEAM_MEMBER",e[e.TEAM_TRANSFER=12]="TEAM_TRANSFER",e[e.TEAM_NAME_MODIFIED=13]="TEAM_NAME_MODIFIED",e[e.TEAM_INVITATION_LINK_OPENED=14]="TEAM_INVITATION_LINK_OPENED",e[e.TEAM_INVITATION_LINK_CLOSED=15]="TEAM_INVITATION_LINK_CLOSED",e[e.TODO_REMIND=16]="TODO_REMIND",e[e.RANGE_REMIND=17]="RANGE_REMIND",e[e.CHANGE_MEMBER_INFO=18]="CHANGE_MEMBER_INFO",e[e.SYSTEM=20]="SYSTEM",e[e.COLLAB_REQUEST=21]="COLLAB_REQUEST",e[e.RECOVER=22]="RECOVER",e[e.SUBSCRIPTION=23]="SUBSCRIPTION"}(i||(i={})),function(e){e.CHANGE_TIME="change_time",e.TODO_DELETE="todo_delete",e.TODO_REMIND="todo_remind",e.TODO_REMIND_OTHER="todo_remind_other",e.TODO_REMIND_OTHER_WITH_CONTENT="todo_remind_other_with_content",e.BIND_EMAIL="bind_email",e.CHANGE_MAIL="change_email",e.CHANGE_NAME="change_name",e.CHANGE_PASSWORD="change_password"}(a||(a={})),function(e){e.READER="reader",e.COMMENTATOR="commentator",e.EDITOR="editor"}(o||(o={}))},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.6 15.6"},this.props),i.a.createElement("path",{d:"M9.2 7.8l6.4-6.4L14.2 0 7.8 6.4 1.4 0 0 1.4l6.4 6.4L0 14.2l1.4 1.4 6.4-6.4 6.4 6.4 1.4-1.4z",fill:"#a5a5a5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1028:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(991),c=n(255),l=n(122),s=function(e){function t(t){var n=e.call(this,t)||this;n.menuElement=null;var r=n.props.openKeys;return n.state={openKeys:null!=r?r:[],prevOpenKeys:r},n.handleClick=n.handleClick.bind(n),n.handleOpenChange=n.handleOpenChange.bind(n),n.hijackContextMenuHandler=n.hijackContextMenuHandler.bind(n),n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevOpenKeys,r=e.openKeys,i={prevOpenKeys:r};return void 0===r&&Object(c.isEqual)(r,n)||(i.openKeys=r),i},t.prototype.componentDidMount=function(){this.menuElement=Object(l.findDOMNode)(this),this.menuElement.addEventListener("contextmenu",this.hijackContextMenuHandler,{capture:!0})},t.prototype.componentWillUnmount=function(){var e;null===(e=this.menuElement)||void 0===e||e.removeEventListener("contextmenu",this.hijackContextMenuHandler)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.defaultOpenKeys,i=e.selectedKeys,c=e.defaultSelectedKeys,l=Object(r.__rest)(e,["prefixCls","defaultOpenKeys","selectedKeys","defaultSelectedKeys"]),s=this.state.openKeys,u={};return"inline"!==this.props.mode&&(u={openKeys:s,onClick:this.handleClick,onOpenChange:this.handleOpenChange}),a.a.createElement(o.c,Object(r.__assign)({prefixCls:t,selectedKeys:i,defaultSelectedKeys:c,defaultOpenKeys:n,getPopupContainer:function(e){var t;return null!==(t=e.parentNode)&&void 0!==t?t:e}},l,u))},t.prototype.handleClick=function(e){var t,n;this.setState({openKeys:[]}),null===(n=(t=this.props).onClick)||void 0===n||n.call(t,e)},t.prototype.handleOpenChange=function(e){var t,n;this.setState({openKeys:e}),null===(n=(t=this.props).onOpenChange)||void 0===n||n.call(t,e)},t.prototype.hijackContextMenuHandler=function(e){var t;e.preventDefault(),null===(t=e.target)||void 0===t||t.click()},t.defaultProps={prefixCls:"sm-menu",onClick:function(){},onOpenChange:function(){}},t}(a.a.Component);t.a=s},1029:function(e,t,n){"use strict";var r,i,a=n(2),o=n(8),c=n.n(o),l=n(122),s=n(253),u=n(975),d=s.default.div.withConfig({componentId:"sc-1SlWdK",displayName:"StyledBar"})(r||(r=Object(a.__makeTemplateObject)(["position:fixed;top:0;left:0;right:0;z-index:120;height:2px;pointer-events:none;"],[""]))),p=s.default.div.withConfig({componentId:"sc-1SlWdK-1",displayName:"StyledStep"})(i||(i=Object(a.__makeTemplateObject)(["position:relative;height:2px;background-color:",";transform-origin:0;transform:scaleX(0);transition:transform 0.2s ease;&::after{content:'';position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px ",",0 0 5px ",";transform:rotate(3deg) translate(0,-4px);}"],["","","",""])),u.j,u.j,u.j),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t.progressNum=0,t.progressNode=c.a.createRef(),t.start=function(){t.setState({visible:!0},(function(){var e=t.props.min;t.progress=e,requestAnimationFrame(t.increase)}))},t.finish=function(){var e=t.state.visible,n=t.props.max;e&&(t.progress=n,setTimeout((function(){t.setState({visible:!1})}),220))},t.increase=function(){var e=t.props,n=e.step,r=e.block;t.progress<r&&(t.progress+=n,requestAnimationFrame(t.increase))},t}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"progress",{get:function(){return this.progressNum},set:function(e){if(this.progressNode){this.progressNum=e;var t="scaleX("+e/this.props.max+")";this.progressNode.current.style.transform=t}},enumerable:!1,configurable:!0}),t.prototype.render=function(){return this.state.visible?c.a.createElement(d,null,c.a.createElement(p,{ref:this.progressNode})):null},t.defaultProps={max:100,min:0,block:80,step:1},t}(c.a.Component);function m(){}var b={init:function(e,t){var n,r,i,o,s,u;if(this.instance)return this.instance;var d=null!=t?t:document.createElement("div");document.body.appendChild(d);var p=c.a.createRef();return Object(l.render)(c.a.createElement(f,Object(a.__assign)({},e,{ref:p})),d),this.instance=p,this.start=null!==(i=null===(r=null===(n=this.instance)||void 0===n?void 0:n.current)||void 0===r?void 0:r.start)&&void 0!==i?i:m,this.finish=null!==(u=null===(s=null===(o=this.instance)||void 0===o?void 0:o.current)||void 0===s?void 0:s.finish)&&void 0!==u?u:m,this.instance},start:m,finish:m};t.a=b},1030:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(11),c=n.n(o),l=n(1025),s=n(1006),u=n(1053),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:t.props.visible,prevVisible:t.props.visible},t.onConfirm=function(e){t.handleVisibleChange(!1);var n=t.props.onConfirm;null==n||n(e)},t.onCancel=function(e){t.handleVisibleChange(!1);var n=t.props.onCancel;null==n||n(e)},t.handleVisibleChange=function(e){t.setState({visible:e});var n=t.props.onVisibleChange;null==n||n(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.content,i=e.getContainer,o=e.okText,d=e.okType,p=e.cancelText,f=e.cancelBtnStyle,m=e.withButton,b=Object(r.__rest)(e,["title","content","getContainer","okText","okType","cancelText","cancelBtnStyle","withButton"]),h=this.state.visible,g=a.a.createElement(u.d,null,a.a.createElement(u.f,null,t||c()("是否确定？")),a.a.createElement(u.e,null,n),m&&a.a.createElement(u.c,null,a.a.createElement(u.b,{onClick:this.onConfirm,type:d,size:"s"},o||c()("确定")),a.a.createElement(s.a,{onClick:this.onCancel,type:"outline",size:"s",style:f},p||c()("取消"))));return a.a.createElement(l.a,Object(r.__assign)({},b,{onVisibleChange:this.handleVisibleChange,visible:h,overlay:g,getTooltipContainer:i,theme:"white"}))},t.defaultProps={prefixCls:"sm-popconfirm sm-tooltip",placement:"bottomRight",trigger:"click",okType:"black",content:"",arrowPointAtCenter:!1,arrowWidth:u.a,withButton:!0},t.getDerivedStateFromProps=function(e,t){var n=t.prevVisible,r=e.visible,i={prevVisible:r};return void 0===r&&n===r||(i.visible=r),i},t}(a.a.Component);t.a=d},1031:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(8),a=n.n(i),o=n(1272),c=(n(1273),{scrollbars:{autoHide:"leave",clickScrolling:!0}}),l=function(e){var t=e.className,n=e.children,l=e.options,s=e.viewportRef,u=e.rootRef,d=Object(r.__rest)(e,["className","children","options","viewportRef","rootRef"]),p=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e,t=null===(e=p.current)||void 0===e?void 0:e.osTarget();t&&(u&&(u.current=t),s&&(s.current=t.querySelector(".os-viewport")))}),[p,u,s]),a.a.createElement(o.a,Object(r.__assign)({},d,{ref:p,className:t,options:Object(r.__assign)(Object(r.__assign)({},c),l)}),n)}},1032:function(e,t,n){"use strict";var r=n(1063);t.a=r.a},1033:function(e,t,n){"use strict";n.d(t,"b",(function(){return se})),n.d(t,"c",(function(){return ue})),n.d(t,"d",(function(){return cn})),n.d(t,"e",(function(){return ln})),n.d(t,"a",(function(){return jn}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_,y=n(8),O=n.n(y),j=n(11),w=n.n(j),x=n(121),E=n(2),k=n(253),C=n(977),T=n.p+"static/lizard-one/assets/404_illustration.bd7eaa02.jpg",S=n.p+"static/lizard-one/assets/deleted_illustration.5d77b9e0.jpg",I=n.p+"static/lizard-one/assets/403_illustration.a83a58ba.jpg",N=n.p+"static/lizard-one/assets/access_restricted_illustration.ab0f51aa.jpg",R=k.default.div.withConfig({componentId:"sc-PGRZz",displayName:"StyledErrorPage"})(r||(r=Object(E.__makeTemplateObject)(["margin:0;width:100%;height:100vh;position:relative;background-color:",";box-sizing:border-box;overflow-x:hidden;overflow-y:auto;"],["",""])),(function(e){var t=e.backgroundColor;return null!=t?t:"#000"})),P=k.default.div.withConfig({componentId:"sc-PGRZz-1",displayName:"StyledErrorWrapper"})(i||(i=Object(E.__makeTemplateObject)(["margin:100px auto 0 auto;text-align:center;color:#fff;font-size:12px;@media screen and (max-width:600px){margin-top:60px;}"],[""]))),M=k.default.div.withConfig({componentId:"sc-PGRZz-2",displayName:"StyledBackground404"})(a||(a=Object(E.__makeTemplateObject)(["position:absolute;bottom:0;width:300px;height:250px;left:50%;transform:translate(-50%,0);background-image:url(",");background-size:300px auto;background-repeat:no-repeat;background-position-x:center;background-position-y:bottom;@media screen and (max-width:600px){width:250px;background-size:250px auto;}"],["",""])),T),A=k.default.div.withConfig({componentId:"sc-PGRZz-3",displayName:"Title404"})(o||(o=Object(E.__makeTemplateObject)(["display:block;margin:0 auto;color:#fff;font-weight:bold;font-size:86px;"],[""]))),B=k.default.div.withConfig({componentId:"sc-PGRZz-4",displayName:"TitleDescription"})(c||(c=Object(E.__makeTemplateObject)(["display:block;margin:0 auto;color:#fff;font-family:serif;font-size:18px;font-weight:bold;"],[""]))),D=Object(k.keyframes)(l||(l=Object(E.__makeTemplateObject)(["from{filter:brightness(1);}to{filter:brightness(0.3);}"],[""]))),L=k.default.div.withConfig({componentId:"sc-PGRZz-5",displayName:"StyledImgDeleted"})(s||(s=Object(E.__makeTemplateObject)(["display:block;height:165px;width:200px;background:url(",") 50% -35px no-repeat;background-size:350px;margin:105px auto 0;animation:"," 2s ease 1s 1;animation-fill-mode:forwards;"],["","",""])),S,D),z=Object(k.default)(C.a).withConfig({componentId:"sc-PGRZz-6",displayName:"StyledBackButton"})(u||(u=Object(E.__makeTemplateObject)(["background:#41464b;font-size:12px;color:#fff;margin:40px auto 0;height:28px;line-height:28px;font-weight:500;:hover{background:#313438;}"],[""]))),F=k.default.div.withConfig({componentId:"sc-PGRZz-7",displayName:"TitleDeleted"})(d||(d=Object(E.__makeTemplateObject)(["display:block;color:#fff;font-size:30px;&::before{content:' ';display:inline-block;background-color:#fff;height:2px;width:20px;position:relative;top:-9px;margin-right:15px;}&::after{content:' ';display:inline-block;background-color:#fff;height:2px;width:20px;position:relative;top:-9px;margin-left:15px;}"],[""]))),V=k.default.div.withConfig({componentId:"sc-PGRZz-8",displayName:"StyledNoPermissionTitle"})(p||(p=Object(E.__makeTemplateObject)(["margin:0 auto;display:block;font-size:24px;font-weight:bold;color:#fff;"],[""]))),U=k.default.div.withConfig({componentId:"sc-PGRZz-9",displayName:"StyledRestrictedTitle"})(f||(f=Object(E.__makeTemplateObject)(["margin:0 auto;display:block;font-size:28px;font-weight:bold;color:#000;"],[""]))),G=k.default.div.withConfig({componentId:"sc-PGRZz-10",displayName:"StyledNoPermissionBackground"})(m||(m=Object(E.__makeTemplateObject)(["display:block;height:200px;width:200px;margin:105px auto 0;background:url(",") 50% -15px no-repeat;background-size:350px;"],["",""])),I),H=k.default.div.withConfig({componentId:"sc-PGRZz-11",displayName:"StyledReason"})(b||(b=Object(E.__makeTemplateObject)(["margin-top:24px;"],[""]))),W=k.default.div.withConfig({componentId:"sc-PGRZz-12",displayName:"StyledRestrictedReason"})(h||(h=Object(E.__makeTemplateObject)(["margin-top:24px;color:#41464b;opacity:0.7;"],[""]))),K=k.default.a.withConfig({componentId:"sc-PGRZz-13",displayName:"StyledToggleLink"})(g||(g=Object(E.__makeTemplateObject)(["display:block;width:100px;margin:20px auto;font-size:12px;color:#a0a2a5;line-height:14px;text-align:center;text-decoration:none;cursor:pointer;"],[""]))),Y=k.default.a.withConfig({componentId:"sc-PGRZz-14",displayName:"StyledLink"})(v||(v=Object(E.__makeTemplateObject)(["display:block;width:100px;margin:20px auto;font-size:12px;color:#41464b;line-height:14px;text-align:center;text-decoration:none;cursor:pointer;"],[""]))),Z=k.default.div.withConfig({componentId:"sc-PGRZz-15",displayName:"StyledRestrictedBackground"})(_||(_=Object(E.__makeTemplateObject)(["display:block;height:250px;width:800px;max-width:100%;margin:105px auto 0;background:url(",") 50% 50% no-repeat;background-size:800px;"],["",""])),N),q=function(){return O.a.createElement(z,{href:"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"")},w()("返回桌面"))},Q=function(){return O.a.createElement(z,{href:"/"},w()("返回首页"))},X=function(e){var t=e.query,n=t?"/login?"+t:"/login";return O.a.createElement(z,{href:n},w()("登录"))},J=function(e){var t=e.query,n=t?"/logout?"+t:"/logout";return O.a.createElement(K,{href:n},w()("切换账号"))},$=n(91),ee=__RUNTIME_ENV__.PRIVATE_DEPLOY_LOGO,te=(k.default.div.withConfig({componentId:"sc-2dvYA0",displayName:"Wrapper"})(ae||(ae=Object(E.__makeTemplateObject)(["position:fixed;top:0;left:0;right:0;bottom:0;background-color:#000;"],[""]))),ee||"https://assets.shimonote.com/uploads/logo_white_2x.png"),ne=ee||"https://assets.shimonote.com/uploads/logo_black_2x.png",re=k.default.a.withConfig({componentId:"sc-2dvYA0-1",displayName:"Logo"})(oe||(oe=Object(E.__makeTemplateObject)(["position:absolute;top:15px;left:24px;width:77px;height:50px;background:url(",") no-repeat center center;background-size:contain;"],["",""])),te),ie=Object(k.default)(re).withConfig({componentId:"sc-2dvYA0-2",displayName:"BlackLogo"})(ce||(ce=Object(E.__makeTemplateObject)(["background-image:url(",");"],["",""])),ne);var ae,oe,ce,le=function(e){var t=e.isBlack,n=void 0!==t&&t;if(!Object($.isMobile)())return null;var r="/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"");return n?O.a.createElement(ie,{href:r}):O.a.createElement(re,{href:r})},se=function(e){var t=e.login;return O.a.createElement(x.b,{title:"404 not found",suffix:""},O.a.createElement(R,null,O.a.createElement(P,null,O.a.createElement(le,null),O.a.createElement(A,null,"404"),O.a.createElement(B,null,w()("您访问的页面不存在")),t?O.a.createElement(q,null):O.a.createElement(Q,null),O.a.createElement(M,null))))},ue=function(e){var t=e.login,n=e.fileName;return O.a.createElement(x.b,{title:w()("出错"),suffix:""},O.a.createElement(R,null,O.a.createElement(P,null,O.a.createElement(le,null),O.a.createElement(F,null,null!=n?n:w()("文件"),w()("已删除")),t?O.a.createElement(q,null):O.a.createElement(Q,null),O.a.createElement(L,null))))},de=n(1072),pe=n(193),fe=n(28);function me(e){var t=["user","department","group","team"];return e.reduce((function(e,n){var r=t.reduce((function(e,t){var r;return(null===(r=n[t])||void 0===r?void 0:r.id)&&e.push(Object(E.__assign)(Object(E.__assign)({},n[t]),{type:t})),e}),[]);return Object(E.__spreadArray)(Object(E.__spreadArray)([],Object(E.__read)(e)),Object(E.__read)(r))}),[])}var be={TOO_MANY_REQUEST:{type:"warning",message:w()("您的申请发送频繁，请2分钟后再试")}};var he=n(985),ge=n(260);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var i=xe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,n,r,i=je(a);function a(){return _e(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return O.a.createElement("svg",Ee({width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),O.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm4.987-9.442L5.346 11.7l-3.76-3.76 1.358-1.358 2.402 2.401L10.629 3.7l1.358 1.358z",fill:"#4EA44B"}))}}])&&ye(t.prototype,n),r&&ye(t,r),a}(O.a.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var i=Pe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(a,e);var t,n,r,i=Ne(a);function a(){return Te(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return O.a.createElement("svg",Me({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),O.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 7.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0zM6.509 3.624a1 1 0 1 1 1.982 0L7.878 8.5h-.756L6.51 3.624zM6.3 11.5a1.2 1.2 0 1 1 2.4 0 1.2 1.2 0 0 1-2.4 0z",fill:"#E5BF52"}))}}])&&Se(t.prototype,n),r&&Se(t,r),a}(O.a.Component);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var i=Ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge,He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(a,e);var t,n,r,i=Fe(a);function a(){return De(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return O.a.createElement("svg",He({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),O.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 14.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm-4-4.333L4.833 11.5 7.5 8.833l2.667 2.667 1.333-1.333L8.833 7.5 11.5 4.833 10.167 3.5 7.5 6.167 4.833 3.5 3.5 4.833 6.167 7.5 3.5 10.167z",fill:"#CD4747"}))}}])&&Le(t.prototype,n),r&&Le(t,r),a}(O.a.Component),Ke=n(1027);!function(e){e.user="user",e.department="department",e.group="group"}(Ge||(Ge={}));var Ye=k.default.span.withConfig({componentId:"sc-27dBOc",displayName:"TitleStrong"})(qe||(qe=Object(E.__makeTemplateObject)(["display:inline-block;font-weight:500;padding:0 4px;cursor:default;position:relative;"],[""]))),Ze=Object(k.default)(Ke.a).withConfig({componentId:"sc-27dBOc-1",displayName:"IconClose"})(Qe||(Qe=Object(E.__makeTemplateObject)(["position:static;margin-top:8px;width:6px;height:6px;margin-left:auto;"],[""])));var qe,Qe,Xe,Je,$e,et=k.default.div.withConfig({componentId:"sc-27dBOc-2",displayName:"AdminListOverlay"})(Xe||(Xe=Object(E.__makeTemplateObject)(["background:#41464b;opacity:0.96;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-radius:2px;display:flex;flex-direction:row;position:absolute;min-width:144px;gap:4px;padding:4px 8px;box-sizing:border-box;color:#fff;left:100%;transform:",";top:",";z-index:1;"],["","",""])),(function(e){return"right"===e.placement?"translate(0, -50%)":"translate(-50%, 0)"}),(function(e){return"right"===e.placement?"8px":"100%"})),tt=k.default.div.withConfig({componentId:"sc-27dBOc-3",displayName:"AdminListInnerWrapper"})(Je||(Je=Object(E.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),nt=k.default.div.withConfig({componentId:"sc-27dBOc-4",displayName:"AdminListRow"})($e||($e=Object(E.__makeTemplateObject)(["white-space:nowrap;height:20px;line-height:20px;"],[""]))),rt=function(e){var t=e.items,n=e.children,r=e.placement,i=void 0===r?"right":r,a=e.closeIcon,o=Object(E.__read)(O.a.useState(!1),2),c=o[0],l=o[1];function s(){l(!0)}function u(){l(!1)}return O.a.createElement(Ye,{onMouseEnter:s,onMouseLeave:u},O.a.createElement("div",{onClick:s},n),c&&O.a.createElement(et,{placement:i},O.a.createElement(tt,null,t.filter((function(e){return e.type===Ge.user})).map((function(e){var t;return O.a.createElement(nt,{key:e.id},e.name+" "+(null!==(t=e.email)&&void 0!==t?t:""))}))),a&&O.a.createElement(Ze,{onClick:u})))};rt.displayName="AdminList";var it,at=n(1059),ot=n(980),ct=n(1003),lt=k.default.span.withConfig({componentId:"sc-7JGN2",displayName:"PermissionSelectorValue"})(ft||(ft=Object(E.__makeTemplateObject)(["color:#5ba0e7;padding-left:4px;display:inline-flex;flex-direction:row;align-items:center;white-space:nowrap;position:relative;cursor:pointer;"],[""]))),st=Object(k.default)(ot.e).withConfig({componentId:"sc-7JGN2-1",displayName:"StyledMenu"})(mt||(mt=Object(E.__makeTemplateObject)(["position:absolute;min-width:128px;top:20px;"],[""]))),ut=Object(k.default)(at.a).withConfig({componentId:"sc-7JGN2-2",displayName:"StyledIconArrow"})(bt||(bt=Object(E.__makeTemplateObject)(["width:12px;margin-left:3px;path{fill:#5ba0e7;}"],[""])));!function(e){e.reader="reader",e.commentator="commentator",e.editor="editor"}(it||(it={}));var dt=[{id:it.reader,label:w()("只能阅读")},{id:it.commentator,label:w()("只能评论")},{id:it.editor,label:w()("可以编辑")}],pt=function(e){var t=e.active,n=e.onChange;return O.a.createElement(st,{selectedKeys:[t],onClick:function(e){var t=e.key;n(t)}},dt.map((function(e){return O.a.createElement(ct.a,{key:e.id},e.label)})))};pt.displayName="PermissionMenu";var ft,mt,bt,ht=function(e){var t,n=e.active,r=e.onChange,i=Object(E.__read)(O.a.useState(!1),2),a=i[0],o=i[1];return O.a.createElement(lt,{onClick:function(){o(!a)}},null===(t=dt.find((function(e){return e.id===n})))||void 0===t?void 0:t.label,O.a.createElement(ut,null),a&&O.a.createElement(pt,{active:n,onChange:r}))};ht.displayName="PermissionSelector";var gt,vt,_t=k.default.div.withConfig({componentId:"sc-3cke9",displayName:"Wrapper"})(gt||(gt=Object(E.__makeTemplateObject)(["position:relative;overflow:hidden;"],[""]))),yt=k.default.div.withConfig({componentId:"sc-3cke9-1",displayName:"ShadowTextarea"})(vt||(vt=Object(E.__makeTemplateObject)(["position:absolute;height:auto !important;white-space:pre-wrap;overflow-wrap:break-word;"],[""]))),Ot=function(e){var t=e.className,n=e.placeholder,r=e.onChange,i=e.value,a=O.a.useRef(null),o=O.a.useRef(null);return O.a.useEffect((function(){o.current&&a.current&&(a.current.style.height=o.current.offsetHeight+"px")}),[i]),O.a.createElement(_t,null,O.a.createElement("textarea",{className:t,placeholder:n,onChange:r,value:i,ref:a}),O.a.createElement(yt,{className:t,ref:o},i))};Ot.displayName="Textarea";var jt=k.default.div.withConfig({componentId:"sc-3vv8JU",displayName:"Wrapper"})(It||(It=Object(E.__makeTemplateObject)(["width:428px;max-width:80%;margin:0 auto;background:#fff;border-radius:2px;padding:16px 24px;box-sizing:border-box;display:flex;flex-direction:column;gap:8px;font-size:12px;"],[""]))),wt=k.default.div.withConfig({componentId:"sc-3vv8JU-1",displayName:"Title"})(Nt||(Nt=Object(E.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-size:12px;text-align:left;"],[""]))),xt=Object(k.default)(Ot).withConfig({componentId:"sc-3vv8JU-2",displayName:"Note"})(Rt||(Rt=Object(E.__makeTemplateObject)(["min-height:32px;max-height:74px;line-height:20px;width:100%;height:32px;resize:none;background:rgba(65,70,75,0.05);box-shadow:inset 0 1px 2px rgba(0,0,0,0.08);border-radius:2px;padding:6px 16px;box-sizing:border-box;border:none;color:#41464be6;display:block;&::placeholder{font-size:12px;padding:0;color:rgba(65,70,75,0.3);}"],[""]))),Et=k.default.div.withConfig({componentId:"sc-3vv8JU-3",displayName:"Footer"})(Pt||(Pt=Object(E.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),kt=k.default.div.withConfig({componentId:"sc-3vv8JU-4",displayName:"PermissionSelectorWrapper"})(Mt||(Mt=Object(E.__makeTemplateObject)(["display:inline-flex;flex-direction:row;align-items:center;"],[""]))),Ct=k.default.span.withConfig({componentId:"sc-3vv8JU-5",displayName:"PermissionSelectorLabel"})(At||(At=Object(E.__makeTemplateObject)(["color:#565656;font-weight:500;"],[""]))),Tt=Object(k.default)(C.a).withConfig({componentId:"sc-3vv8JU-6",displayName:"StyledButton"})(Bt||(Bt=Object(E.__makeTemplateObject)(["margin-left:auto;height:24px;line-height:24px;font-size:12px;font-weight:500;padding:0 12px;width:auto;min-width:auto;color:#fff !important;border-color:#41464b !important;background-image:linear-gradient(#41464b,#2c3033) !important;"],[""]))),St=Object(k.default)(jt).withConfig({componentId:"sc-3vv8JU-7",displayName:"ResultWrapper"})(Dt||(Dt=Object(E.__makeTemplateObject)(["height:124px;align-items:center;display:flex;flex-direction:row;justify-content:center;font-size:14px;color:rgba(65,70,75,0.9);& > svg{width:14px;}"],[""])));var It,Nt,Rt,Pt,Mt,At,Bt,Dt,Lt,zt=function(e){var t=e.admins,n=e.onSubmit,r=e.result,i=e.resultType,a=e.closeIcon,o=Object(E.__read)(O.a.useState(""),2),c=o[0],l=o[1],s=Object(E.__read)(O.a.useState(it.reader),2),u=s[0],d=s[1];return r?O.a.createElement(St,null,function(e){switch(e){case"success":return O.a.createElement(ke,null);case"warning":return O.a.createElement(Ae,null);case"error":return O.a.createElement(We,null);default:return null}}(i),r):O.a.createElement(jt,null,O.a.createElement(wt,null,w.a.x(Lt||(Lt=Object(E.__makeTemplateObject)(["向","发送申请"],["向","发送申请"])),O.a.createElement(rt,{items:t,closeIcon:a},w()("管理者")))),O.a.createElement(xt,{placeholder:w()("添加备注"),value:c,onChange:function(e){var t=e.target.value;l(t)}}),O.a.createElement(Et,null,O.a.createElement(kt,null,O.a.createElement(Ct,null,w()("申请")),O.a.createElement(ht,{active:u,onChange:d})),O.a.createElement(Tt,{type:"black",onClick:function(){n(u,c)}},w()("发送申请"))))};zt.displayName="RequestPermissionDialog";var Ft,Vt,Ut=Object(k.default)(he.a).withConfig({componentId:"sc-1YJkpY",displayName:"StyledTooltip"})(Ft||(Ft=Object(E.__makeTemplateObject)(["transform:translate(0,10px);.sm-tooltip-content{.sm-tooltip-inner{padding:0;background:none;max-width:100vw;}.sm-tooltip-arrow{border-bottom-color:#fff;}}"],[""]))),Gt=Object(k.default)(C.a).withConfig({componentId:"sc-1YJkpY-1",displayName:"StyledButton"})(Vt||(Vt=Object(E.__makeTemplateObject)(["margin:32px auto -14px;border:1px solid rgba(65,70,75,0.2);font-weight:500;position:relative;height:28px;line-height:28px;font-size:12px;display:block !important;padding:0 !important;color:#41464be6 !important;"],[""]))),Ht=function(e){var t=e.admins,n=e.onRequestPermission,r=e.onReset,i=e.result,a=e.resultType,o=e.className,c=e.closeIcon,l=Object(E.__read)(O.a.useState(!1),2),s=l[0],u=l[1],d=Object(E.__read)(Object(ge.a)((function(){return u(!1)}),3e3),1)[0];return O.a.createElement(Ut,{trigger:"click",visible:s,onVisibleChange:function(e){e&&a&&"success"!==a&&r(),u(e)},overlay:O.a.createElement(zt,{admins:t,onSubmit:function(e,t){n(e,t).catch((function(){})),d()},result:i,resultType:a,closeIcon:c}),placement:"bottom"},O.a.createElement(Gt,{className:o,type:"outline"},w()("申请权限")))};Ht.displayName="RequestPermissionButton";var Wt,Kt,Yt,Zt,qt,Qt;n(1116);var Xt,Jt,$t,en,tn,nn,rn,an,on=function(e){var t=e.login,n=e.redirectQuery,r=e.admins,i=e.result,a=e.resultType,o=e.onRequestPermission,c=e.onReset;return t?O.a.createElement(O.a.Fragment,null,r.length>0&&O.a.createElement(Ht,{admins:r,result:i,resultType:a,onRequestPermission:o,onReset:c}),O.a.createElement(q,null),O.a.createElement("br",null),O.a.createElement(J,{query:"next="+encodeURIComponent("/login?"+n)})):O.a.createElement(X,{query:n})},cn=function(e){var t=e.me,n=e.guid,r=e.fileName,i=void 0===r?w()("文档"):r,a=function(e){var t=this,n=Object(pe.b)((function(e){return e.features.data.includes("is_open_role_apply")})),r=Object(E.__read)(O.a.useState([]),2),i=r[0],a=r[1],o=Object(E.__read)(O.a.useState(""),2),c=o[0],l=o[1],s=Object(E.__read)(O.a.useState(),2),u=s[0],d=s[1];function p(t,n){return Object(E.__awaiter)(this,void 0,void 0,(function(){return Object(E.__generator)(this,(function(r){switch(r.label){case 0:return[4,fe.s.post("/role_applies",{role:t,comment:n,fileGUID:e},{baseURL:"/panda-api/file"})];case 1:return r.sent(),[2]}}))}))}return O.a.useEffect((function(){n&&Object(E.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i;return Object(E.__generator)(this,(function(o){switch(o.label){case 0:return[4,fe.s.get("/role_applies?fileGUID="+e,{baseURL:"/panda-api/file"}).catch((function(){}))];case 1:return t=o.sent(),(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.admins)?(a(me(n)),d("success"),[3,4]):[3,2];case 2:return[4,fe.s.get("/role_applies/admins?fileGUID="+e,{baseURL:"/panda-api/file"})];case 3:r=o.sent().data,a(me(r)),o.label=4;case 4:return[2]}}))})).catch(console.error)}),[e,n]),{handleRequestPermission:function(e,t){var n;return Object(E.__awaiter)(this,void 0,void 0,(function(){var r,i,a,o;return Object(E.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,p(e,t)];case 1:return c.sent(),l(w()("您的申请发送成功")),setTimeout((function(){l("")}),12e4),d("success"),[3,3];case 2:return r=c.sent(),i=r.data,a={message:w()("您的申请发送失败，请稍后再试"),type:"error"},(null===(n=null==i?void 0:i.error)||void 0===n?void 0:n.code)&&(o=be[i.error.code])&&(a=o),l(a.message),d(a.type),[3,3];case 3:return[2]}}))}))},handleReset:function(){l("")},admins:i,result:c,resultType:u}}(n),o=a.handleRequestPermission,c=a.handleReset,l=a.result,s=a.resultType,u=a.admins,d=t&&t.id>0,p=t.email||t.mobile||t.name||"",f=u.filter((function(e){return e.type===Ge.user})),m=function(e){var t=e.login,n=e.admins,r=e.adminUsers,i=e.account,a=e.fileTypeName,o=e.requestSuccess,c=e.isMobile,l=new URLSearchParams(location.search).get("recipient"),s=l&&l!==i?w()(Wt||(Wt=Object(E.__makeTemplateObject)(["，请使用帐号 "," 进行登录访问"],["，请使用帐号 "," 进行登录访问"])),l):"",u=l?w()(Kt||(Kt=Object(E.__makeTemplateObject)(["请使用帐号 "," 进行登录或注册后访问"],["请使用帐号 "," 进行登录或注册后访问"])),l):w()("请登录后尝试访问");if(!t)return w()(Yt||(Yt=Object(E.__makeTemplateObject)(["您还没有登录，",""],["您还没有登录，",""])),u);var d=r.length>0;return d&&o&&n.length>0?w.a.x(Zt||(Zt=Object(E.__makeTemplateObject)(["已向 "," 发送申请"],["已向 "," 发送申请"])),O.a.createElement(rt,{items:n,closeIcon:c,placement:c?"bottom":"right"},w()("管理者"))):d||0===n.length?w()(qt||(qt=Object(E.__makeTemplateObject)(["当前登录账号 "," 没有权限访问这个","",""],["当前登录账号 "," 没有权限访问这个","",""])),i,a,s):w.a.x(Qt||(Qt=Object(E.__makeTemplateObject)(["当前登录账号 "," 没有权限访问这个"," ","若需要申请该文件评论，编辑，管理权限，请自行联系「","」申请。"],["当前登录账号 "," 没有权限访问这个"," ","若需要申请该文件评论，编辑，管理权限，请自行联系「","」申请。"])),i,a,O.a.createElement("br",null),n[0].name)}({login:d,admins:u,adminUsers:f,account:p,fileTypeName:i,requestSuccess:"success"===s});!d&&Object($.isDingtalk)()&&Object(de.a)();var b="referer=access_denied&redirect_url="+encodeURIComponent(window.location.href);return O.a.createElement(x.b,{title:""+i+String(w()("出错")),suffix:""},O.a.createElement(R,null,O.a.createElement(P,null,O.a.createElement(le,null),O.a.createElement(V,null,w()("没有权限访问")),O.a.createElement(H,null,m),O.a.createElement(on,{login:d,redirectQuery:b,admins:f,onRequestPermission:o,onReset:c,result:l,resultType:s}),O.a.createElement(G,null))))},ln=function(e){var t=e.errorMessage;return O.a.createElement(x.b,{title:w()("访问受限"),suffix:""},O.a.createElement(R,{backgroundColor:"#fff"},O.a.createElement(P,null,O.a.createElement(le,{isBlack:!0}),O.a.createElement(U,null,w()("需要登录访问")),O.a.createElement(W,null,t),O.a.createElement(X,{query:"referer=access_restricted"}),O.a.createElement(Y,{href:"/register?referer=access_restricted"},w()("注册石墨账号"))),O.a.createElement(Z,null)))},sn=n(254),un=n(1035),dn=n(3),pn=n.p+"static/lizard-one/assets/password_required.6634a8d8.png",fn=k.default.div.withConfig({componentId:"sc-380CSW",displayName:"StyledWrapper"})(Xt||(Xt=Object(E.__makeTemplateObject)(["text-align:center;font-size:12px;color:#fff;margin:100px auto 0 auto;"],[""]))),mn=k.default.h4.withConfig({componentId:"sc-380CSW-1",displayName:"StyledSubTitle"})(Jt||(Jt=Object(E.__makeTemplateObject)(["font-size:14px;color:#fff;margin-top:37px;"],[""]))),bn=k.default.div.withConfig({componentId:"sc-380CSW-2",displayName:"StyledTitle"})($t||($t=Object(E.__makeTemplateObject)(["position:relative;display:block;font-size:24px;margin:21px auto 0;color:#fff;&::before{content:' ';display:inline-block;background-color:#fff;height:2px;width:20px;position:relative;top:-7px;margin-right:15px;}&::after{content:' ';display:inline-block;background-color:#fff;height:2px;width:20px;position:relative;top:-7px;margin-left:15px;}"],[""]))),hn=k.default.div.withConfig({componentId:"sc-380CSW-3",displayName:"StyledBgIcon"})(en||(en=Object(E.__makeTemplateObject)(["position:absolute;bottom:0;width:300px;height:250px;left:50%;transform:translate(-55%,0);background-image:url(",");background-size:300px auto;background-repeat:no-repeat;background-position-x:center;background-position-y:bottom;@media screen and (max-width:600px){width:250px;background-size:250px auto;}"],["",""])),pn),gn=k.default.div.withConfig({componentId:"sc-380CSW-4",displayName:"StyledPasswordArea"})(tn||(tn=Object(E.__makeTemplateObject)(["text-align:center;margin:36px auto 0;margin-top:36px;display:block;width:250px;height:34px;"],[""]))),vn=k.default.input.withConfig({componentId:"sc-380CSW-5",displayName:"StyledPasswordInput"})(nn||(nn=Object(E.__makeTemplateObject)(["display:inline-block;width:130px;height:32px;outline:none;margin:0;padding:0 15px;background-color:#fff;border:1px solid #e5e5e5;box-shadow:inset 0 1px 3px 0 #e5e5e5;border-radius:2px;font-size:12px;line-height:32px;color:#333;vertical-align:middle;"],[""]))),_n=k.default.span.withConfig({componentId:"sc-380CSW-6",displayName:"StyledPasswordSubmit"})(rn||(rn=Object(E.__makeTemplateObject)(["cursor:pointer;display:inline-block;width:75px;height:34px;line-height:34px;vertical-align:middle;background-color:#41464b;border-radius:2px;font-weight:bold;font-size:14px;color:#fff;margin-left:10px;text-decoration:none;"],[""]))),yn=k.default.div.withConfig({componentId:"sc-380CSW-7",displayName:"StyledErrorHintMessage"})(an||(an=Object(E.__makeTemplateObject)(["margin-top:10px;font-size:12px;color:#e95555;"],[""]))),On={WRONG_PARAMS:w()("参数错误"),NOT_ALLOWED:w()("用户不合法"),EXCEED_RETRY_TIMES:w()("密码输入错误超过 5 次，请 1 天后再试或联系文件管理员重置密码。"),WRONG_PASSWORD:w()("密码错误"),UNKNOWN:w()("内部错误")},jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wrongTimes:0,errMessage:"",password:""},t.captchaRef=O.a.createRef(),t.handlePasswordInput=function(e){t.setState({password:e.target.value.slice(0,6)})},t.handleKeyUp=function(e){"Enter"===e.key&&t.handleSubmit()},t.handleSubmit=function(){return Object(E.__awaiter)(t,void 0,void 0,(function(){var e;return Object(E.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),this.state.wrongTimes>=3?[4,(0,this.props.dispatch)(Object(sn.Q)("web","3.0"))]:[3,3];case 1:return e=t.sent(),[4,Object(un.d)(e,this.captchaRef.current)];case 2:t.sent(),t.label=3;case 3:return this.submit(),[3,5];case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},t.submit=function(){return Object(E.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,c,l;return Object(E.__generator)(this,(function(s){switch(s.label){case 0:e=this.props,t=e.dispatch,n=e.guid,r=e.file,i=this.state.password,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t(Object(sn.cd)(n,i))];case 2:if(!s.sent())throw new Error("password error");return this.setState({errMessage:""}),a=r.get("type"),o=dn.fileTypes.find(a),c={contentUrl:!0},o&&("sheet"!==o.name&&"mosheet"!==o.name||(c={encryptedContentUrl:!0})),t(Object(sn.L)(n,c)).then((function(){location.reload()})).catch((function(){})),[3,4];case 3:return l=s.sent(),this.setState((function(e){var t,n,r;return{wrongTimes:e.wrongTimes+1,errMessage:On[null!==(r=null===(n=null===(t=null==l?void 0:l.data)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code)&&void 0!==r?r:"UNKNOWN"]}})),[3,4];case 4:return[2]}}))}))},t}return Object(E.__extends)(t,e),t.prototype.render=function(){var e=this.props.authorName,t=this.state,n=t.password,r=t.errMessage;return O.a.createElement(R,null,O.a.createElement(x.b,{title:w()("请输入密码访问文件"),suffix:""}),O.a.createElement(fn,null,O.a.createElement(le,null),e?O.a.createElement(mn,null,e+w()(" 分享了一个加密文件")):null,O.a.createElement(bn,null,w()("请输入密码访问文件")),O.a.createElement(gn,null,O.a.createElement(vn,{className:"strong-password",type:"text",placeholder:w()("请输入密码"),value:n,onChange:this.handlePasswordInput,onKeyUp:this.handleKeyUp,maxLength:6}),O.a.createElement(_n,{onClick:this.handleSubmit},w()("确定"))),r?O.a.createElement(yn,null,r):null,O.a.createElement(hn,null),O.a.createElement("div",{ref:this.captchaRef})))},t}(O.a.PureComponent)},1034:function(e,t,n){"use strict";var r,i=n(2),a=n(8),o=n.n(a),c=n(253).default.div.withConfig({componentId:"sc-3sI2nc",displayName:"StyledQRCode"})(r||(r=Object(i.__makeTemplateObject)(["width:",";height:",";> img{width:",";height:",";}"],["","","","",""])),(function(e){return e.size+"px"}),(function(e){return e.size+"px"}),(function(e){return e.size+"px"}),(function(e){return e.size+"px"})),l=function(e){var t=e.prefixCls,n=void 0===t?"sm-qrcode":t,r=e.className,i=void 0===r?"":r,a=e.size,l=void 0===a?100:a,s=e.isWechat,u=void 0!==s&&s,d=e.wechatTicket,p=e.isMiniprogram,f=void 0!==p&&p,m=e.guid,b=void 0===m?"":m,h=e.origin,g=function(e){var t=e.size,n=e.url,r=e.origin,i=e.isWechat,a=e.isMiniprogram,o=e.wechatTicket,c=e.guid;if(i&&!o)throw new Error("Wechat qrcode MUST HAVE wechatTicket as a prop of component QRCode!");if(a&&!c)throw new Error("miniprogram qrcode MUST HAVE guid as a prop of component QRCode!");if(i)return"https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket="+o;if(a){var l=window.encodeURIComponent("pages/editor/editor");return r+"/lizard-api/wechat/action/miniprogram_qrcode?type=unlimited&isHyaline=true&scene="+window.encodeURIComponent("guid="+c)+"&page="+l}return r+"/qrcode?size="+(t>300?t:300)+"&margin=0&url="+n}({size:l,isMiniprogram:f,isWechat:u,wechatTicket:d,guid:b,origin:void 0===h?window.location.origin:h,url:e.url});return o.a.createElement(c,{className:n+" "+i,size:l},o.a.createElement("img",{src:g}))};t.a=l},1035:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var r,i,a=n(2);n(1088);function o(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,6]),[4,e()];case 1:return[2,a.sent()];case 2:if(!(r=a.sent()))throw new Error("request failed");if(429!==r.status)throw new Error(r);return[4,n()];case 3:return[4,c(a.sent(),t)];case 4:return i=a.sent(),[4,e(i)];case 5:return[2,a.sent()];case 6:return[2]}}))}))}function c(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return[2,new Promise((function(n,r){window.initGeetest({gt:e.gt,challenge:e.challenge,offline:e.fallback,new_captcha:e.new_captcha,product:"bind",https:!0},(function(e){e.appendTo(t),e.onReady((function(){e.verify(),e.dom&&e.dom.firstChild&&(e.dom.firstChild.style.display="none")})),e.onSuccess((function(){e.getValidate()?n(e.getValidate()):r(new Error("Geetest Captcha Error"))})),e.onError((function(){r(new Error("Geetest Captcha Error"))}))}))}))]}))}))}function l(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){if(i&&i.destroy)try{i.destroy()}catch(e){}return[2,new Promise((function(n){window.initGeetest({gt:e.gt,challenge:e.challenge,offline:e.fallback,new_captcha:e.new_captcha,product:"bind",https:!0},(function(e){i=e,e.appendTo(t),e.onReady((function(){e.verify(),e.dom&&e.dom.firstChild&&(e.dom.firstChild.style.display="none")})),e.onSuccess((function(){var t=e.getValidate();n(t?{status:r.Success,result:t}:{status:r.Failed})})),e.onError((function(){n({status:r.Error,errorMsg:"Geetest Captcha Error"})})),e.onClose((function(){n({status:r.Closed})}))}))}))]}))}))}!function(e){e.Success="success",e.Failed="failed",e.Closed="closed",e.Error="error"}(r||(r={}))},1036:function(e,t,n){"use strict";var r,i=n(8),a=n.n(i),o=n(2),c=n(253).default.button.withConfig({componentId:"sc-Xtr6f",displayName:"StyledButton"})(r||(r=Object(o.__makeTemplateObject)(["position:relative;cursor:",";opacity:",";display:inline-block;width:50px;height:20px;border:none;background-color:transparent;&:focus{outline:none;}.slider{position:absolute;top:0;left:0;right:0;bottom:0;border-width:1px;border-style:solid;border-color:rgba(0,0,0,0.05);background-image:linear-gradient(-180deg,#f2f2f2,#e5e5e5);box-shadow:inset 0 1px 3px 0 rgba(0,0,0,0.1);transition:0.4s;}.slider::before{content:'';position:absolute;box-sizing:content-box;border-width:1px;border-style:solid;height:26px;width:26px;left:-1px;top:-5px;background-image:linear-gradient(-180deg,#fff,#fbfbfb);border-color:rgba(0,0,0,0.1);box-shadow:0 1px 4px 0 rgba(0,0,0,0.1);transition:0.4s;}.slider.round{border-radius:10px;}.slider.round::before{border-radius:50%;}&.checked{.slider{background-image:linear-gradient(-180deg,#6c9fe2,#80b3f5);border-color:rgba(0,0,0,0.1);}.slider::before{transform:translateX(22px);}}"],["","",""])),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?.4:1})),l=function(e){var t=e.checked,n=e.handleCheckedChange,r=e.disabled,i=void 0!==r&&r,o=e.className,l=void 0===o?"":o;return a.a.createElement(c,{className:(t?"checked ":"")+l,onClick:function(e){e.stopPropagation(),i||n(!t)},disabled:i,type:"button"},a.a.createElement("div",{className:"slider round"}))};t.a=l},1037:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(1079),c=function(e){function t(){var t,n=e.apply(this,Object(r.__spreadArray)([],Object(r.__read)(arguments)))||this;return n.state={visible:null!==(t=n.props.visible)&&void 0!==t&&t,preVisible:n.props.visible},n.renderTitle=function(){var e=n.props,t=e.title,r=e.href,i=e.onClick;return i?a.a.createElement(o.d,{onClick:i},t):r?a.a.createElement(o.b,{href:r},t):a.a.createElement(o.d,null,t)},n.handleCloseClick=function(){n.setState({visible:!1});var e=n.props.onClose;null==e||e()},n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.visible,r={preVisible:n};return void 0===n&&n===t.preVisible||(r.visible=n),r},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.closable,r=e.style,i=e.children,c=this.state.visible;return a.a.createElement(o.c,{visible:c,theme:t,style:r},null!=i?i:this.renderTitle(),n?a.a.createElement(o.a,{onClick:this.handleCloseClick}):null)},t.defaultProps={visible:!0,theme:"info",closable:!0,onClose:function(){}},t}(a.a.Component);n(1050),t.a=c},1038:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return _}));var r=n(2),i=n(973),a=n(1283),o=n(3180),c=n(1727),l=n(1101),s=n(974),u={role:s.i.owner,isDelete:0,passwordProtected:!1,password:"",type:2,isFolder:!1,collaboratorCount:0,departmentCollaboratorCount:0,isSpace:!1,isLocked:!1,parentRole:s.x.inherited,isShortcut:!1,permissionsAndReasons:{canRead:{value:!0,reason:"UNKNOWN"},canEdit:{value:!0,reason:"UNKNOWN"},canComment:{value:!0,reason:"UNKNOWN"},canManage:{value:!0,reason:"UNKNOWN"},canExit:{value:!1,reason:"NOT_A_PERSONAL_COLLABORATOR"},canExport:{value:!0,reason:"UNKNOWN"},canManageCollaborator:{value:!0,reason:"UNKNOWN"},canManageAdmin:{value:!0,reason:"UNKNOWN"},canAddOutsider:{value:!0,reason:"UNKNOWN"},canCreateChildFile:{value:!1,reason:"NOT_A_FOLDER"},canChangeShareMode:{value:!0,reason:"UNKNOWN"},canChangeTeamShareMode:{value:!0,reason:"UNKNOWN"},canCopy:{value:!0,reason:"UNKNOWN"},canLock:{value:!1,reason:"NO_BASIC_PERMISSION"},canUnlock:{value:!1,reason:"NO_BASIC_PERMISSION"},canRemove:{value:!0,reason:"UNKNOWN"},canDownload:{value:!1,reason:"NOT_A_DRIVE_FILE"},canUseMoveFeature:{value:!0,reason:"UNKNOWN"},canUseSheetLockFeature:{value:!0,reason:"UNKNOWN"},canUsePasswordShareFileFeature:{value:!0,reason:"UNKNOWN"},canSetFileAuth:{value:!0,reason:"UNKNOWN"},canUseChangeRoleFeature:{value:!0,reason:"UNKNOWN"},canLockSheetCell:{value:!0,reason:"UNKNOWN"},canSetPassword:{value:!0,reason:"UNKNOWN"},canMove:{value:!0,reason:"UNKNOWN"},canUncompress:{value:!0,reason:"UNKNOWN"},canDuplicate:{value:!0,reason:"UNKNOWN"},canSaveAsTemplate:{value:!0,reason:"UNKNOWN"},canModifyAdvancedPermission:{value:!0,reason:"UNKNOWN"},canCustomizeAdvancedPermission:{value:!0,reason:"UNKNOWN"},canApplyPermission:{value:!0,reason:"UNKNOWN"},canRename:{value:!0,reason:"UNKNOWN"},canPrint:{value:!0,reason:"UNKNOWN"}},lastAction:"open",starred:!1,isAdmin:!0,excerpt:"",kind:s.t.ShimoFile,shareMode:s.j.Private};function d(e){var t=Object(a.a)(e);return t.type<=0?(t.subType=t.type,t.type=s.r.ShimoFile,t):1===t.type?(t.subType=t.isSpace?s.k.space:s.k.folder,t.type=s.r.FolderOrSpace,t):2===t.type?(t.subType=s.k.unknown,t.type=s.r.Unknown,t):t.type>2?(t.extType=t.subType,t.subType=t.type,t.type=s.r.CloudFile,t):t}function p(e){var t=Object(a.a)(e);if(t.extType=t.subType,"unknown"===t.type)return t.type=s.r.Unknown,t.subType=s.k.unknown,t;t.subType=t.isSpace?s.k.space:s.k[t.type];var n=Number(t.subType);return 1!==n&&2!==n||(t.type=s.r.FolderOrSpace),n<1&&(t.type=s.r.ShimoFile),n>2&&(t.type=s.r.CloudFile),t}function f(e){return e.map((function(e){return{id:e.id,timestamp:new Date(e.timestamp),userId:e.user.id,actions:e.actions.map((function(e){return{type:e.type,fileGuid:e.file.guid,updatedFile:e.type===s.v.update?{updatedAt:new Date(e.timestamp)}:void 0,comment:e.comment?Object(r.__assign)(Object(r.__assign)({},e.comment),{updatedAt:new Date(e.timestamp)}):void 0,discussion:e.discussion?Object(r.__assign)(Object(r.__assign)({},e.discussion),{content:e.discussion.data.content,updatedAt:new Date(e.timestamp)}):void 0}}))}}))}function m(e,t,n){return e.map((function(e){return{id:e.id,timestamp:e.timestamp,user:t[e.userId],updatedFiles:e.actions.filter(l.d).map((function(e){return{file:n[e.fileGuid],updatedAt:e.updatedFile.updatedAt}})),comments:e.actions.filter(l.a).map((function(e){return Object(r.__assign)(Object(r.__assign)({},e.comment),{file:n[e.fileGuid]})})),discussions:e.actions.filter(l.b).map((function(e){return Object(r.__assign)(Object(r.__assign)({},e.discussion),{file:n[e.fileGuid]})}))}}))}function b(e){return e.map((function(e){return{id:e.id,fileGuid:e.file.guid,timestamp:new Date(e.timestamp),actions:e.actions.map((function(e){return{type:e.type,updatedFile:[s.m.create,s.m.update].includes(e.type)?{userId:e.user.id,updatedAt:new Date(e.timestamp)}:void 0,comment:e.comment?Object(r.__assign)(Object(r.__assign)({},e.comment),{updatedAt:new Date(e.timestamp)}):void 0,discussion:e.discussion?Object(r.__assign)(Object(r.__assign)({},e.discussion),{content:e.discussion.data.content,updatedAt:new Date(e.timestamp)}):void 0}}))}}))}function h(e,t,n){return e.map((function(e){var i=function(e,t){return Object.values(Object(o.a)(e.map((function(e){return e.comment})).filter((function(e){return Boolean(e)})),(function(e){return e.selectionGuid}))).map((function(e){return e.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{user:t[e.userId]})})).sort((function(e,t){return t.updatedAt.getTime()-e.updatedAt.getTime()}))})).sort((function(e,t){return t[0].updatedAt.getTime()-e[0].updatedAt.getTime()}))}(e.actions,t).map((function(e){return{type:s.m.comment,comments:e}})),a=function(e,t){return Object(c.a)(Object.values(Object(o.a)(e.map((function(e){return e.discussion})).filter((function(e){return Boolean(e)})),(function(e){return e.id})))).map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{user:t[e.userId]})})).sort((function(e,t){return t.updatedAt.getTime()-e.updatedAt.getTime()}))}(e.actions,t),l=a.length>0?[{type:s.m.discussion,discussions:a}]:[],u=e.actions.filter((function(e){return Boolean(e.updatedFile)})).sort((function(e,t){var n,r,i,a;return(null!==(r=null===(n=t.updatedFile)||void 0===n?void 0:n.updatedAt.getTime())&&void 0!==r?r:0)-(null!==(a=null===(i=e.updatedFile)||void 0===i?void 0:i.updatedAt.getTime())&&void 0!==a?a:0)})).map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{updatedFile:Object(r.__assign)(Object(r.__assign)({},e.updatedFile),{user:t[e.updatedFile.userId]})})})),d=Object(r.__spreadArray)(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(u)),Object(r.__read)(i)),Object(r.__read)(l)).sort((function(e,t){var n,r,i,a,o,c,l,s,u,d,p,f,m=null!==(c=null!==(a=null!==(r=null===(n=e.updatedFile)||void 0===n?void 0:n.updatedAt.getTime())&&void 0!==r?r:null===(i=e.comments)||void 0===i?void 0:i[0].updatedAt.getTime())&&void 0!==a?a:null===(o=e.discussions)||void 0===o?void 0:o[0].updatedAt.getTime())&&void 0!==c?c:1/0;return(null!==(f=null!==(d=null!==(s=null===(l=t.updatedFile)||void 0===l?void 0:l.updatedAt.getTime())&&void 0!==s?s:null===(u=t.comments)||void 0===u?void 0:u[0].updatedAt.getTime())&&void 0!==d?d:null===(p=t.discussions)||void 0===p?void 0:p[0].updatedAt.getTime())&&void 0!==f?f:1/0)-m}));return{id:e.id,timestamp:e.timestamp,file:n[e.fileGuid],actions:d}}))}function g(e,t){return{newTimeline:Object.keys(e).reduce((function(n,a){var o;return Object(r.__assign)(Object(r.__assign)({},n),((o={})[a]=Object(r.__assign)(Object(r.__assign)({},e[a]),{list:Object(i.j)(Object(r.__spreadArray)([],Object(r.__read)(e[a].list)),t,"fileGuid")}),o))}),{}),removedTimelineItemList:Object(c.a)(Object.keys(e).map((function(n){return e[n].list.filter((function(e){return t.includes(e.fileGuid)}))})))}}function v(e,t){var n=t.newGuid;return Object(r.__assign)(Object(r.__assign)({},e),{guid:n,isShortcut:!0,permissionsAndReasons:e.permissionsAndReasons?Object(r.__assign)(Object(r.__assign)({},e.permissionsAndReasons),{canRemove:{value:!0,reason:"UNKNOWN"},canUseMoveFeature:{value:!0,reason:"UNKNOWN"}}):void 0})}function _(e,t){var n,i;return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},u),e),{sortName:[e.name],user:t,teamId:null!==(i=null===(n=t.team)||void 0===n?void 0:n.id)&&void 0!==i?i:null,userId:t.id,updatedBy:t.id,updatedUser:t,lockedUser:t,createdAt:new Date,updatedAt:new Date,subType:e.subtype})}},1039:function(e,t,n){"use strict";var r=n(2),i=n(8);t.a=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 31 32",width:"1em",height:"1em"},e),i.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:2.064,d:"M1.486 26.839h27.996c-.358-1-.715-2.069-1.05-3.168a50.765 50.765 0 01-.962-3.6c-.408-1.814-.631-3.411-.631-4.745v-2.933c0-6.282-5.079-11.361-11.355-11.361-6.272 0-11.355 5.086-11.355 11.361v2.944c0 1.333-.225 2.933-.634 4.75a50.205 50.205 0 01-.959 3.584 68.385 68.385 0 01-1.05 3.167z"}),i.createElement("path",{fill:"currentColor",d:"M19.483 28.903A4.133 4.133 0 0115.484 32a4.135 4.135 0 01-3.999-3.097h7.999z"}))}},1041:function(e,t,n){"use strict";var r,i=n(2),a=n(8),o=n.n(a),c=n(11),l=n.n(c),s=n(977),u=n(982),d=n(978),p=n(253),f=n(975),m=p.default.form.withConfig({componentId:"sc--fDX",displayName:"StyledForm"})(r||(r=Object(i.__makeTemplateObject)(["input{color:",";font-size:14px;box-sizing:border-box;display:block;width:100%;padding:8px 12px;border:1px solid ",";border-radius:1px;box-shadow:inset 0 2px 8px ",";}input:focus{outline:0 none;}"],["","","",""])),f.b,f.f,f.a);function b(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.select()}),[]),o.a.createElement("input",Object(i.__assign)({},e,{ref:t}))}var h=function(e){function t(){var t,n=e.apply(this,Object(i.__spreadArray)([],Object(i.__read)(arguments)))||this;return n.state={value:null!==(t=n.props.defaultText)&&void 0!==t?t:""},n.handleSubmit=function(e){e.preventDefault&&e.preventDefault();var t=n.state.value,r=n.props,i=r.onOk,a=r.errorText;n.hasValidValue?null==i||i(t):(d.a.destroy(),a&&d.a.error(a))},n.handleCancel=function(){var e=n.props.onCancel;null==e||e()},n.handleChange=function(e){n.setState({value:e.target.value})},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"hasValidValue",{get:function(){var e=this.state.value;return!!(void 0===e?"":e).trim()},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.children,n=e.footer,r=e.okText,i=e.cancelText,a=e.placeholder,c=e.visible,d=e.title,p=e.style,f=e.maskClosable,h=this.state.value,g=[o.a.createElement(s.a,{key:"confirm",type:"black",disabled:!this.hasValidValue,onClick:this.handleSubmit},null!=r?r:l()("确定")),o.a.createElement(s.a,{key:"cancel",type:"outline",onClick:this.handleCancel},null!=i?i:l()("取消"))];return o.a.createElement(u.a,{visible:c,onOk:this.handleSubmit,onCancel:this.handleCancel,footer:null!=n?n:g,title:d,maskClosable:f,style:p},o.a.createElement(m,{onSubmit:this.handleSubmit},t,o.a.createElement(b,{"data-test":"new-folder-inputbox",value:h,onChange:this.handleChange,placeholder:a})))},t.defaultProps={onOk:function(){}},t}(o.a.Component);t.a=h},1042:function(e,t,n){"use strict";var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_,y,O,j,w,x=n(2),E=n(8),k=n.n(E),C=n(253),T=n(992),S=T.a.text,I=T.a.border,N=T.a.button,R=T.a.gray,P=T.a.blue,M=T.a.red,A=T.a.transparency,B=C.default.button.withConfig({componentId:"sc-1ZbBsW",displayName:"StyledButton"})(j||(j=Object(x.__makeTemplateObject)(["box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;text-align:center;text-decoration:none;cursor:pointer;outline:none;user-select:none;font-family:inherit;font-weight:500;&:focus{outline:none;}&[disabled],&.disabled{cursor:not-allowed;}"," "," ",""],["","","",""])),(function(e){return e.block&&Object(C.css)(O||(O=Object(x.__makeTemplateObject)(["width:100%;justify-content:center;"],[""])))}),(function(e){return function(e){var t=e.size,n=void 0===t?"l":t,l=Object(C.css)(r||(r=Object(x.__makeTemplateObject)([".sm-button-icon{width:16px;height:16px;font-size:16px;}"],[""])));switch(n){case"xl":l=Object(C.css)(i||(i=Object(x.__makeTemplateObject)([""," height:40px;padding:7px 23px;line-height:24px;font-size:16px;.sm-button-text{padding:0 8px;}.sm-button-icon{width:20px;height:20px;font-size:20px;}"],["",""])),l);break;case"l":l=Object(C.css)(a||(a=Object(x.__makeTemplateObject)([""," height:32px;padding:3px 15px;line-height:24px;font-size:13px;.sm-button-text{padding:0 8px;}"],["",""])),l);break;case"m":l=Object(C.css)(o||(o=Object(x.__makeTemplateObject)([""," height:28px;padding:3px 11px;line-height:20px;font-size:12px;.sm-button-text{padding:0 4px;}"],["",""])),l);break;case"s":default:l=Object(C.css)(c||(c=Object(x.__makeTemplateObject)([""," height:24px;padding:1px 7px;line-height:20px;font-size:12px;.sm-button-text{padding:0 4px;}"],["",""])),l)}return l}({size:e.size})}),(function(e){return function(e){var t,n=e.type,r=void 0===n?"primary":n,i=e.subType,a=void 0===i?"normal":i,o=e.active,c=void 0!==o&&o;switch(r){case"primary":switch(t=Object(C.css)(l||(l=Object(x.__makeTemplateObject)(["border-radius:2px;border-width:1px;border-style:solid;color:",";"],["",""])),S.white),a){case"normal":t=Object(C.css)(s||(s=Object(x.__makeTemplateObject)([""," background:",";border-color:",";&:hover{background:",";}&:active{background:",";}&[disabled],&.disabled{background:",";border-color:",";}"],["","","","","","","",""])),t,N.main,I.button.normal,A.transparency90,R.gray120,R.gray30,R.gray30);break;case"guidance":t=Object(C.css)(u||(u=Object(x.__makeTemplateObject)([""," background:",";border-color:",";&:hover{background:",";}&:active{background:",";}&[disabled],&.disabled{background:",";border-color:",";}"],["","","","","","","",""])),t,N.guidance,I.button.guidance,P.blue5,P.blue7,P.blue2,P.blue2);break;case"alert":default:t=Object(C.css)(d||(d=Object(x.__makeTemplateObject)([""," background:",";border-color:",";&:hover{background:",";}&:active{background:",";}&[disabled],&.disabled{background:",";border-color:",";}"],["","","","","","","",""])),t,N.alert,I.button.alert,M.red6,M.red8,M.red2,M.red2)}break;case"secondary":switch(t=Object(C.css)(p||(p=Object(x.__makeTemplateObject)(["border-radius:2px;border-width:1px;border-style:solid;border-color:",";background:",";&:hover{border-color:",";background:",";}&:active{border-color:",";background:",";}&[disabled],&.disabled{color:",";border-color:",";background:",";}"],["","","","","","","","","",""])),A.transparency20,N.secondary,A.transparency20,R.gray0,A.transparency20,R.gray5,S.disabled,A.transparency5,A.transparency5),a){case"normal":t=Object(C.css)(f||(f=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,S.default);break;case"guidance":t=Object(C.css)(m||(m=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,S.guidance);break;case"alert":default:t=Object(C.css)(b||(b=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,S.alert)}break;case"minimal":default:switch(t=Object(C.css)(h||(h=Object(x.__makeTemplateObject)(["background:transparent;border-width:1px;border-style:solid;border-color:transparent;border-radius:2px;&:hover{background:",";}&:active{background:",";}&[disabled],&.disabled{background:transparent;color:",";}"],["","","",""])),A.transparency5,A.transparency10,S.disabled),a){case"normal":t=Object(C.css)(g||(g=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,S.default);break;case"guidance":t=Object(C.css)(v||(v=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,P.blue7);break;case"alert":default:t=Object(C.css)(_||(_=Object(x.__makeTemplateObject)([""," color:",";"],["","",""])),t,S.alert)}c&&(t=Object(C.css)(y||(y=Object(x.__makeTemplateObject)([""," color:",";border-color:",";background:",";&:hover{border-color:",";background:",";}&:active{border-color:",";background:",";}&[disabled],&.disabled{color:",";border-color:",";background:",";}"],["","","","","","","","","","","",""])),t,P.blue8,P.blue1,P.blue1,P.blue2,P.blue2,P.blue1,P.blue1,S.disabled,A.transparency5,A.transparency5))}return t}({type:e.customType,subType:e.subType,active:e.active})})),D=C.default.span.withConfig({componentId:"sc-1ZbBsW-1",displayName:"IconSpan"})(w||(w=Object(x.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),L=B.withComponent("a"),z=k.a.forwardRef((function(e,t){var n=e.type,r=void 0===n?"primary":n,i=e.subType,a=void 0===i?"normal":i,o=e.size,c=void 0===o?"l":o,l=e.disabled,s=void 0!==l&&l,u=e.active,d=void 0!==u&&u,p=e.href,f=e.prefixCls,m=void 0===f?"sm-button":f,b=e.block,h=void 0!==b&&b,g=e.className,v=void 0===g?"":g,_=e.children,y=e.iconBefore,O=e.iconAfter,j=Object(x.__rest)(e,["type","subType","size","disabled","active","href","prefixCls","block","className","children","iconBefore","iconAfter"]),w=y&&k.a.createElement(D,{className:"sm-button-icon sm-button-icon-before"},y),E=O&&k.a.createElement(D,{className:"sm-button-icon sm-button-icon-after"},O),C=k.a.createElement(k.a.Fragment,null,w,k.a.createElement("span",{className:"sm-button-text"},_),E);return p?k.a.createElement(L,Object(x.__assign)({ref:t,className:m+" "+v,href:p,customType:r,subType:a,active:d,size:c,block:h},j),C):k.a.createElement(B,Object(x.__assign)({ref:t,className:m+" "+v,type:r,customType:r,subType:a,active:d,size:c,block:h,disabled:s},j),C)}));t.a=z},1043:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return _})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return O}));var r,i,a,o,c,l,s,u=n(2),d=n(253),p=n(975),f=n(989),m=n(984),b=d.default.div.withConfig({componentId:"sc-2Q8vjj",displayName:"StyledBaseToast"})(r||(r=Object(u.__makeTemplateObject)(["display:inline-block;box-sizing:border-box;min-height:42px;padding:10px 25px;margin:6px 20px 0 20px;box-shadow:0 2px 6px 0 rgba(0,0,0,0.15);border-radius:2px;border:solid 1px #e5e5e5;color:",";background-color:#fff;",";span{vertical-align:middle;}"],["","",""])),p.k.BLACK_80,Object(f.b)("p4")),h=Object(d.default)(m.h).withConfig({componentId:"sc-2Q8vjj-1",displayName:"StyledErrorIcon"})(i||(i=Object(u.__makeTemplateObject)(["width:12px;height:12px;vertical-align:middle;margin-right:10px;color:#cd4747;"],[""]))),g=Object(d.default)(m.k).withConfig({componentId:"sc-2Q8vjj-2",displayName:"StyledCloseIcon"})(a||(a=Object(u.__makeTemplateObject)(["width:12px;height:12px;vertical-align:middle;margin-left:10px;color:#c2c2c2;cursor:pointer;&:hover{color:#666;}"],[""]))),v=d.default.div.withConfig({componentId:"sc-2Q8vjj-3",displayName:"StyledOperation"})(o||(o=Object(u.__makeTemplateObject)(["display:inline-block;",";color:#6da0e3;padding-left:10px;&:hover{text-decoration:underline;cursor:pointer;}"],["",""])),Object(f.b)("p4")),_=Object(d.default)(b).withConfig({componentId:"sc-2Q8vjj-4",displayName:"StyledWarningToast"})(c||(c=Object(u.__makeTemplateObject)(["background-color:#fcf2d7;"],[""]))),y=d.default.div.withConfig({componentId:"sc-2Q8vjj-5",displayName:"ShakeToast"})(l||(l=Object(u.__makeTemplateObject)(["animation:shake 0.8s cubic-bezier(0.36,0.07,0.19,0.97) both;transform:translate3d(0,0,0);display:inline-block;@keyframes shake{10%,90%{transform:translate3d(-1px,0,0);}20%,80%{transform:translate3d(2px,0,0);}30%,50%,70%{transform:translate3d(-4px,0,0);}40%,60%{transform:translate3d(4px,0,0);}}"],[""]))),O=Object(d.css)(s||(s=Object(u.__makeTemplateObject)(["#ToastsContainer_ShimoUI{.Toastify__toast-container{width:100%;text-align:center;height:0;padding:0;margin:0;margin-top:30px;right:0;}.Toastify__toast{box-shadow:none;background:none;cursor:auto;overflow:visible;margin:0;padding:0;display:inline;}.Toastify__toast::after{content:'\\a';white-space:pre;}.Toastify__toast-body{display:inline;}&.Toast_mask{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;background:transparent;z-index:999999;}}"],[""])))},1044:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1020),i="desktop2",a=r.c.UPDATED_AT,o="space"},1045:function(e,t,n){"use strict";var r,i,a,o,c,l=n(2),s=n(8),u=n.n(s),d=n(253),p=n(975),f=d.default.div.withConfig({componentId:"sc-8qrjN",displayName:"StyledCarousel"})(r||(r=Object(l.__makeTemplateObject)(["position:relative;"],[""]))),m=d.default.div.withConfig({componentId:"sc-8qrjN-1",displayName:"StyledWindow"})(i||(i=Object(l.__makeTemplateObject)(["width:","px;overflow:hidden;"],["",""])),(function(e){return e.width})),b=d.default.div.withConfig({componentId:"sc-8qrjN-2",displayName:"StyledTrack"})(a||(a=Object(l.__makeTemplateObject)(["width:","px;transition:transform 0.3s ease-out;transform:translateX(-","px);> *{float:left;}"],["","",""])),(function(e){return e.width}),(function(e){return e.translateX})),h=d.default.ol.withConfig({componentId:"sc-8qrjN-3",displayName:"StyledIndicators"})(o||(o=Object(l.__makeTemplateObject)(["position:absolute;left:10px;bottom:10px;padding:0;margin:0 auto;line-height:8px;list-style:none;text-align:center;"],[""]))),g=d.default.li.withConfig({componentId:"sc-8qrjN-4",displayName:"StyledIndicator"})(c||(c=Object(l.__makeTemplateObject)(["float:left;width:8px;height:8px;margin:0 4px;border-radius:50%;opacity:0.2;background:",";cursor:pointer;transition:opacity 0.3s ease-out;",";"],["","",""])),p.i,(function(e){return e.active&&"\n    opacity: 1;\n  "})),v=u.a.forwardRef((function(e,t){var n=e.prefixCls,r=void 0===n?"sm-carousel":n,i=e.className,a=void 0===i?"":i,o=e.width,c=e.autoplay,d=e.children,p=e.beforeChange,v=e.afterChange,_=Object(l.__read)(Object(s.useState)(0),2),y=_[0],O=_[1],j=function(e,t){void 0===e&&(e=1),O((function(n){var r=t||n+e;return n!==r&&r>=0&&r<d.length?(null==p||p(n,r),r):n}))},w=function(e){return function(){j(void 0,e)}};Object(s.useEffect)((function(){var e;return c&&(e=window.setInterval((function(){j(1)}),3e3)),function(){e&&window.clearInterval(e)}}),[]),Object(s.useEffect)((function(){null==v||v(y)}),[y]),Object(s.useImperativeHandle)(t,(function(){return{prev:function(){return j(-1)},next:function(){return j(1)}}}));var x=y*o,E=d.length,k=E*o,C=r+" "+a;return u.a.createElement(f,{className:C},u.a.createElement(m,{width:o},u.a.createElement(b,{translateX:x,width:k,className:r+"-track"},d)),u.a.createElement(h,{className:r+"-indicators"},Array(E).fill(1).map((function(e,t){return u.a.createElement(g,{key:t,active:t===y,onClick:w(t)})}))))}));t.a=v},1046:function(e,t,n){"use strict";var r,i=n(2),a=n(8),o=n.n(a),c=n(253),l=n(122),s=n.n(l),u=n(990),d=0,p=null,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={visible:!1},n.containerEle=o.a.createRef(),n.portalRootEle=null,n.maskEle=null,n.unmounted=!1,n.registerCancelListeners=function(){document.addEventListener("dismiss-cm",n.hideContextMenu)},n.unregisterCancelListeners=function(){document.removeEventListener("dismiss-cm",n.hideContextMenu)},n.handleContextMenu=function(e){var t=n.props,r=t.onContextMenu,i=t.preventDefault,a=t.afterShowContextMenu;r?r(e):e.shiftKey||(i&&e.preventDefault(),n.showContextMenu(e.clientX,e.clientY),null==a||a())},n.showContextMenu=function(e,t){if((null==p?void 0:p.id)===n.instanceId&&(n.portalRootEle.style.left=e+"px",n.portalRootEle.style.top=t+"px",n.portalRootEle.style.bottom="",n.adjustMenuPosition(e,t)),p&&p.id!==n.instanceId&&p.hideContextMenu(),!p){p={id:n.instanceId,hideContextMenu:n.hideContextMenu},n.attachMaskElement(),n.portalRootEle=document.createElement("div");var r=n.props.zIndex;Object.assign(n.portalRootEle.style,{display:"inline-block",position:"fixed",left:e+"px",top:t+"px",zIndex:r}),n.portalRootEle.addEventListener("mousewheel",(function(e){return e.preventDefault()}),{capture:!0}),n.portalRootEle.addEventListener("click",(function(){setTimeout(n.hideContextMenu,0)})),document.body.appendChild(n.portalRootEle)}n.setState({visible:!0},(function(){n.adjustMenuPosition(e,t)}))},n.hideContextMenu=function(){(null==p?void 0:p.id)===n.instanceId&&(p=null),n.unmounted||n.setState({visible:!1},(function(){n.cleanup();var e=n.props.afterHideContextMenu;null==e||e()}))},n.adjustMenuPosition=function(e,t){if(n.portalRootEle){var r=n.portalRootEle.getBoundingClientRect();if((r.y||r.top)+r.height>window.innerHeight){var i=t;i-r.height<0&&(i=window.innerHeight),n.portalRootEle.style.top="",n.portalRootEle.style.bottom=window.innerHeight-i+"px"}if((r.x||r.left)+r.width>window.innerWidth){var a=e;a-r.width<0&&(a=window.innerWidth),n.portalRootEle.style.left="",n.portalRootEle.style.right=window.innerWidth-a+"px"}}},n.cleanup=function(){var e,t,r,i;null===(t=null===(e=n.portalRootEle)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(n.portalRootEle),null===(i=null===(r=n.maskEle)||void 0===r?void 0:r.parentNode)||void 0===i||i.removeChild(n.maskEle)},n.attachMaskElement=function(){n.maskEle=document.createElement("div"),n.maskEle.classList.add("sm-context-menu-mask");var e=n.props.zIndex;Object.assign(n.maskEle.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:e-1}),n.maskEle.addEventListener("mousewheel",n.hideContextMenu,{capture:!0}),n.maskEle.addEventListener("contextmenu",n.hideContextMenu,{capture:!0}),n.maskEle.addEventListener("mousedown",n.hideContextMenu,{capture:!0}),document.body.appendChild(n.maskEle)},n.handleContextMenuOnContextMenu=function(e){var t;null===(t=e.stopPropagation)||void 0===t||t.call(e)},n.instanceId=d+1,d+=1,n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.registerCancelListeners()},t.prototype.componentWillUnmount=function(){this.unregisterCancelListeners(),this.cleanup(),this.unmounted=!0},t.prototype.render=function(){var e,t=this.props,n=t.contextMenu,r=t.children,i=t.className;if(this.state.visible&&this.portalRootEle){var a=o.a.createElement("div",{className:"fixed-context-menu",onContextMenu:this.handleContextMenuOnContextMenu},n);e=s.a.createPortal(a,this.portalRootEle)}return o.a.createElement("div",{onContextMenu:this.handleContextMenu,className:i,ref:this.containerEle},r,e)},t.defaultProps={zIndex:u.a,preventDefault:!0},t}(o.a.Component),m=Object(c.default)(f).withConfig({componentId:"sc-3ij67k",displayName:"StyledContextMenu"})(r||(r=Object(i.__makeTemplateObject)(["position:relative;.fixed-context-menu{position:absolute;z-index:999;box-shadow:0 2px 6px rgba(0,0,0,0.2);-webkit-touch-callout:none;user-select:none;}.sm-menu-item{transition:none;}"],[""])));t.a=m},1049:function(e,t,n){"use strict";var r,i,a=n(2),o=n(8),c=n.n(o),l=n(253),s=n(975),u=c.a.forwardRef((function(e,t){var n=e.className,r=void 0===n?"":n,i=e.supportedType,a=e.onClick,l=e.children,s=e.disabled,u=void 0!==s&&s,p=e.onChange,f=Object(o.useRef)(null);return Object(o.useImperativeHandle)(t,(function(){return{click:function(){var e;return null===(e=null==f?void 0:f.current)||void 0===e?void 0:e.click()}}})),c.a.createElement(d,{className:r,onClick:a,disabled:u},c.a.createElement("form",{encType:"multipart/form-data",method:"post",role:"form",onSubmit:function(e){e.preventDefault()}},c.a.createElement("input",{"data-test":"import-file",type:u?void 0:"file",ref:f,accept:i,onClick:function(e){e.stopPropagation()},onChange:p}),l))})),d=l.default.div.withConfig({componentId:"sc-2B361t",displayName:"InputWrapper"})(i||(i=Object(a.__makeTemplateObject)(["position:relative;display:inline-block;width:128px;height:28px;padding:0 15px;line-height:28px;text-align:center;border:1px solid ",";border-radius:2px;overflow:hidden;color:",";text-decoration:none;text-indent:0;transition:opacity 0.3s,border-color 0.3s;background-image:linear-gradient(",",#f0f0f0);font-size:12px;font-weight:bold;cursor:pointer;input{width:0;height:0;visibility:hidden;}&:hover{border:1px solid ",";background-image:linear-gradient(",",#f0f0f0);}",";"],["","","","","","",""])),s.c,s.g,s.e,s.f,s.e,(function(e){return e.disabled&&Object(l.css)(r||(r=Object(a.__makeTemplateObject)(["background-color:#f7f7f7;border-color:#e5e5e5;background-image:none;color:#ccc;cursor:not-allowed;&:hover{border-color:#e5e5e5;background-image:none;}"],[""])))})),p=u;t.a=p},1050:function(e,t,n){"use strict";var r,i,a,o=n(8),c=n.n(o),l=n(1015),s=n(2),u=n(253),d=u.default.div.withConfig({componentId:"sc-3i0S41",displayName:"StyledWrapper"})(r||(r=Object(s.__makeTemplateObject)(["position:absolute;background:#fff;font-size:14px;color:#41464b;box-shadow:0 2px 3px rgba(214,214,214,0.7);width:760px;height:48px;line-height:48px;left:0;right:0;margin:0 auto;bottom:50px;box-sizing:border-box;padding:0 24px;display:flex;"],[""]))),p=u.default.div.withConfig({componentId:"sc-3i0S41-1",displayName:"StyledChildrenWrapper"})(i||(i=Object(s.__makeTemplateObject)(["flex:auto;"],[""]))),f=u.default.span.withConfig({componentId:"sc-3i0S41-2",displayName:"StyledClose"})(a||(a=Object(s.__makeTemplateObject)(["width:12px;height:12px;float:right;box-sizing:border-box;margin:3px 0 0 12px;cursor:pointer;color:#a5a5a5;svg{width:100%;height:100%;}"],[""])));t.a=function(e){var t=e.closable,n=void 0!==t&&t,r=e.className,i=void 0===r?"":r,a=e.visible,o=void 0===a||a,s=e.children,u=e.style;return o?c.a.createElement(d,{className:i,style:u},c.a.createElement(p,null,s),n&&c.a.createElement(f,{onClick:function(t){var n;t.preventDefault(),t.stopPropagation(),null===(n=e.onVisibleChange)||void 0===n||n.call(e,!1)}},c.a.createElement(l.a,null))):null}},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r,i=n(2),a=n(253),o=n(1017),c=n(990),l="\n  position: absolute;\n  left: -9999px;\n  top: -9999px;\n  display: block;\n  z-index: "+c.a+";\n",s="randomClass-"+Object(o.a)(l),u=Object(a.css)(r||(r=Object(i.__makeTemplateObject)([".",".sm-dropdown{"," .sm-dropdown-menu{box-shadow:0 2px 8px 0 rgba(0,0,0,0.15);}}.",".sm-dropdown-tip{&::before{content:'';position:absolute;z-index:-1;display:block;width:10px;height:10px;background-color:#fff;transform:rotate(45deg);box-shadow:0 0 6px 0 rgba(0,0,0,0.15);}&::after{content:'';display:block;position:absolute;border-color:transparent;border-width:6px;border-style:solid;}&.sm-dropdown-placement-bottomLeft{&::before{left:20px;top:-4px;}&::after{left:19px;top:-12px;border-bottom-color:#fff;}}&.sm-dropdown-placement-bottomRight{&::before{right:20px;top:-4px;}&::after{right:19px;top:-12px;border-bottom-color:#fff;}}&.sm-dropdown-placement-bottomCenter{&::before{left:50%;top:-4px;margin-left:-6px;}&::after{left:50%;top:-12px;margin-left:-6px;border-bottom-color:#fff;}}&.sm-dropdown-placement-topLeft{&::before{left:20px;bottom:-4px;}&::after{left:19px;bottom:-12px;border-top-color:#fff;}}&.sm-dropdown-placement-topRight{&::before{right:20px;bottom:-4px;}&::after{right:19px;bottom:-12px;border-top-color:#fff;}}&.sm-dropdown-placement-topCenter{&::before{left:50%;bottom:-4px;margin-left:-6px;}&::after{left:50%;bottom:-12px;margin-left:-6px;border-top-color:#fff;}}}.",".sm-dropdown-hidden{display:none;}.",".sm-dropdown-mask{z-index:",";position:absolute;top:0;bottom:0;left:0;right:0;}.",".sm-dropdown-mask-hidden{display:none;}"],["","","","","","","",""])),s,l,s,s,s,c.a,s)},1052:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b}));var r,i,a=n(2),o=n(253),c=n(1145),l=n(975),s=n(1017),u=n(989),d="\n  position: fixed;\n  overflow: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n",p={position:"fixed",top:0,right:0,left:0,bottom:0,backgroundColor:"rgba(55, 55, 55, 0.6)",height:"100%",zIndex:n(990).b-1},f="randomClass-"+Object(s.a)(d),m=Object(o.css)(r||(r=Object(a.__makeTemplateObject)([".","{","}.sm-modal-mask-hidden{display:none;}"],["","",""])),f,d),b=Object(o.default)(c.a).withConfig({componentId:"sc-1xee7_",displayName:"StyledDialog"})(i||(i=Object(a.__makeTemplateObject)(["position:relative;width:auto;.sm-modal-title{"," color:",";}.sm-modal-content{position:relative;padding:30px 40px;background-image:linear-gradient(#fff,#fafafa);box-shadow:0 2px 3px 1px rgba(0,0,0,0.1);border-radius:2px;}.sm-modal-close{display:",";position:absolute;right:40px;top:30px;z-index:10;padding:0;line-height:1;border:0;outline:0;background:transparent;cursor:pointer;transition:color 0.3s ease;.sm-modal-close-x{display:block;width:22px;height:22px;background-size:12px 12px;background-repeat:no-repeat;background-position:center;background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2xvc2U8L3RpdGxlPgo8cGF0aCBmaWxsPSIjYzJjMmMyIiBkPSJNMTYuMDI4IDE0LjE0MmwtMTQuMTQyLTE0LjE0Mi0xLjg4NiAxLjg4NiAxNC4xNDIgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMS44ODYgMS44ODYgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMTQuMTQyIDEuODg2LTEuODg2LTE0LjE0Mi0xNC4xNDIgMTQuMTQyLTE0LjE0Mi0xLjg4Ni0xLjg4Ni0xNC4xNDIgMTQuMTQyeiI+PC9wYXRoPgo8L3N2Zz4K');&:focus,&:hover{background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2xvc2U8L3RpdGxlPgo8cGF0aCBmaWxsPSIjNjY2IiBkPSJNMTYuMDI4IDE0LjE0MmwtMTQuMTQyLTE0LjE0Mi0xLjg4NiAxLjg4NiAxNC4xNDIgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMS44ODYgMS44ODYgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMTQuMTQyIDEuODg2LTEuODg2LTE0LjE0Mi0xNC4xNDIgMTQuMTQyLTE0LjE0Mi0xLjg4Ni0xLjg4Ni0xNC4xNDIgMTQuMTQyeiI+PC9wYXRoPgo8L3N2Zz4K');}}}.sm-modal-header{margin-bottom:24px;}.sm-modal-body{margin-bottom:30px;"," color:",";}.sm-modal-footer{text-align:right;button + button{margin-left:10px;margin-bottom:0;}a + button{margin-left:10px;margin-bottom:0;}}&.zoom-enter,&.zoom-appear{animation-duration:0.3s;transform:none;opacity:0;}.sm-modal-open{overflow:hidden;}"],["","","","","",""])),Object(u.a)("h2"),l.k.BLACK_110,(function(e){return e.closable?"block":"none"}),Object(u.b)("p3"),l.k.BLACK_100)},1053:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return O}));var r,i,a,o,c,l,s=n(2),u=n(253),d=n(977),p=n(989),f=6,m=Math.floor(2*f/Math.sqrt(2)),b=f+5,h=u.default.div.withConfig({componentId:"sc-d57LU",displayName:"StyledContainer"})(r||(r=Object(s.__makeTemplateObject)(["margin:-6px -10px;width:230px;text-align:left;"],[""]))),g=u.default.h3.withConfig({componentId:"sc-d57LU-1",displayName:"StyledHeader"})(i||(i=Object(s.__makeTemplateObject)(["",";line-height:20px;color:#333;margin:15px 0 0;padding:0 20px 10px;border-bottom:1px solid #e8e8e8;word-break:break-all;"],["",""])),Object(p.a)("h3")),v=u.default.div.withConfig({componentId:"sc-d57LU-2",displayName:"StyledContent"})(a||(a=Object(s.__makeTemplateObject)(["font-size:12px;line-height:21px;color:#666;margin:12px 20px 20px;"],[""]))),_=u.default.div.withConfig({componentId:"sc-d57LU-3",displayName:"StyledButtonContainer"})(o||(o=Object(s.__makeTemplateObject)(["margin:-5px 0 20px;display:flex;flex-direction:row;align-items:center;justify-content:center;"],[""]))),y=Object(u.default)(d.a).withConfig({componentId:"sc-d57LU-4",displayName:"StyledButton"})(c||(c=Object(s.__makeTemplateObject)(["margin-right:10px;"],[""]))),O=Object(u.css)(l||(l=Object(s.__makeTemplateObject)([".sm-popconfirm.sm-tooltip{&.sm-tooltip-placement-top,&.sm-tooltip-placement-topLeft,&.sm-tooltip-placement-topRight{padding-bottom:","px;.sm-tooltip-arrow{bottom:","px;border-width:","px ","px 0;&::after{left:-","px;top:-","px;}}}&.sm-tooltip-placement-bottom,&.sm-tooltip-placement-bottomLeft,&.sm-tooltip-placement-bottomRight{padding-top:","px;.sm-tooltip-arrow{top:","px;border-width:0 ","px ","px;&::after{left:-","px;top:","px;}}}&.sm-tooltip-placement-left,&.sm-tooltip-placement-leftTop,&.sm-tooltip-placement-leftBottom{padding-right:","px;.sm-tooltip-arrow{right:","px;border-width:","px 0 ","px ","px;&::after{left:-","px;top:-","px;}}}&.sm-tooltip-placement-right,&.sm-tooltip-placement-rightTop,&.sm-tooltip-placement-rightBottom{padding-left:","px;.sm-tooltip-arrow{left:","px;border-width:","px ","px ","px 0;&::after{left:","px;top:-","px;}}}&.sm-tooltip-placement-top,&.sm-tooltip-placement-bottom{.sm-tooltip-arrow{margin-left:-","px;}}&.sm-tooltip-placement-topLeft,&.sm-tooltip-placement-bottomLeft{.sm-tooltip-arrow{left:","px;}}&.sm-tooltip-placement-topRight,&.sm-tooltip-placement-bottomRight{.sm-tooltip-arrow{right:","px;}}&.sm-tooltip-placement-left,&.sm-tooltip-placement-right{.sm-tooltip-arrow{margin-top:-","px;}}&.sm-tooltip-placement-leftTop,&.sm-tooltip-placement-rightTop{.sm-tooltip-arrow{top:","px;}}&.sm-tooltip-placement-leftBottom,&.sm-tooltip-placement-rightBottom{.sm-tooltip-arrow{bottom:","px;}}}"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""])),b,5,f,f,m/2,f+m/2,b,5,f,f,m/2,f-m/2,b,5,f,f,f,f+m/2,m/2,b,5,f,f,f,f-m/2,m/2,f,4*f,4*f,f,2*f,2*f)},1054:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(999);function a(){return Object(r.__awaiter)(this,void 0,Promise,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i.b.get("/alpha_features/collabpanel_no_access_allowed")];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=!1,[3,3];case 3:return[2,e]}}))}))}function o(e){return i.b.delete("/users/me/recent_contacts/"+e)}function c(e){return i.b.get("/teams/"+e+"/members/external")}function l(e){return i.b.post("/files/"+e+"/invite_links")}function s(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.b.get("/user/users/"+e+"/info")];case 1:return[2,t.sent().data]}}))}))}function u(){return i.b.get("/org/teams/check_all_staff_visibility")}},1055:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return y}));var r,i,a,o,c,l,s,u,d=n(2),p=n(253),f=p.default.div.withConfig({componentId:"sc-2Qcp0U",displayName:"TemplateName"})(r||(r=Object(d.__makeTemplateObject)(["font-weight:400;font-size:13px;line-height:24px;margin-top:16px;color:rgba(65,70,75,0.9);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],[""]))),m=p.default.div.withConfig({componentId:"sc-2Qcp0U-1",displayName:"TemplateCover"})(i||(i=Object(d.__makeTemplateObject)(["position:absolute;width:100%;height:88px;bottom:0;background:#fff;border-radius:4px;left:0;box-sizing:border-box;padding:0 16px;","{margin:10px 0;}"],["",""])),f),b=p.default.div.withConfig({componentId:"sc-2Qcp0U-2",displayName:"ButtonWrapper"})(a||(a=Object(d.__makeTemplateObject)(["display:flex;flex-direction:row;grid-gap:8px;box-sizing:border-box;user-select:none;justify-content:center;"],[""]))),h=p.default.button.withConfig({componentId:"sc-2Qcp0U-3",displayName:"BaseButton"})(o||(o=Object(d.__makeTemplateObject)(["padding:6px 24px;box-sizing:border-box;height:34px;border-radius:2px;border:none;font-size:12px;white-space:nowrap;cursor:pointer;font-weight:bold;line-height:1;"],[""]))),g=Object(p.default)(h).withConfig({componentId:"sc-2Qcp0U-4",displayName:"PreviewButton"})(c||(c=Object(d.__makeTemplateObject)(["background:#f6f6f6;color:#41464b;&:hover{background:#eeeeef;}&:active{background:#f6f6f6;}"],[""]))),v=Object(p.default)(h).withConfig({componentId:"sc-2Qcp0U-5",displayName:"SubmitButton"})(l||(l=Object(d.__makeTemplateObject)(["background:linear-gradient(360deg,#2c3033 -0.09%,#54585d 100%);color:#fff;margin-left:auto;&:hover{background:#54585d;}&:active{background:#41464b;}"],[""]))),_=p.default.div.withConfig({componentId:"sc-2Qcp0U-6",displayName:"TemplateItemWrapper"})(s||(s=Object(d.__makeTemplateObject)(["width:232px;height:186px;padding:12px;box-sizing:border-box;border-radius:4px;border:1px solid #f0f0f1;background:#fff;position:relative;overflow:hidden;","{transform:translate(0,105%);transition:transform 0.2s ease-out;}&:hover{box-shadow:0 1px 4px rgba(0,0,0,0.08);","{transform:translate(0,0);box-shadow:0 -2px 8px rgba(65,70,75,0.1);}}"],["","",""])),m,m),y=p.default.div.withConfig({componentId:"sc-2Qcp0U-7",displayName:"TemplateThumbnail"})(u||(u=Object(d.__makeTemplateObject)(["width:208px;height:126px;background-image:",";background-color:#f9f9fa;background-size:100%;background-repeat:no-repeat;background-position:0 0;box-sizing:border-box;border:1px solid #f0f0f1;border-radius:2px;"],["",""])),(function(e){var t=e.src;return t?"url("+t+")":"none"}))},1056:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Desktop"},1057:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2),i=n(974),a=function(e){var t,n;return n=e.type!==i.r.FolderOrSpace?null!==(t=i.t[i.r[e.type]])&&void 0!==t?t:i.t.CloudFile:e.subType===i.k.folder?i.t.Folder:i.t.Space,Object(r.__assign)(Object(r.__assign)({},e),{kind:n})};function o(e){if(e){var t=new Date(e),n=t.getTime();return n>12345678910?t:new Date(1e3*n)}}},1058:function(e,t,n){"use strict";n.d(t,"d",(function(){return Vr})),n.d(t,"c",(function(){return ti})),n.d(t,"g",(function(){return ei})),n.d(t,"b",(function(){return qe})),n.d(t,"a",(function(){return Xe})),n.d(t,"h",(function(){return tt})),n.d(t,"f",(function(){return Ct})),n.d(t,"e",(function(){return sn}));var r,i=n(2),a=n(8),o=n.n(a),c=n(976),l=n(983),s=n(979),u=n(1094),d=n(11),p=n.n(d),f=n(91),m=n(995),b=n(253),h=n(1008),g=n.n(h),v=Object(f.isMobile)(),_=function(e){var t=Object(i.__read)(Object(a.useState)(window.innerHeight),2),n=t[0],r=t[1];Object(a.useEffect)((function(){if(window.onbeforeunload=null,v){var e=function(){return r(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[]);var c=e.children,l=e.className,s=void 0===l?"":l,u=e.scene;return o.a.createElement(y,{className:g()(s,{page:"page"===u,component:"component"===u}),style:{maxHeight:(v?n:600)+"px"}},c)},y=b.default.div.withConfig({componentId:"sc-1qCzXd",displayName:"StyledFormWrapper"})(r||(r=Object(i.__makeTemplateObject)(["height:600px;position:relative;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.1),0 1px 1px rgba(0,0,0,0.06);padding:60px 48px 0;box-sizing:border-box;&.page{width:420px;@media (max-width:420px){padding:60px 24px 50px;width:100%;height:100%;box-shadow:none;position:static;overflow:auto;}}&.component{min-width:420px;box-shadow:none;}"],[""])));function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T,S,I,N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,i=E(a);function a(){return j(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",N({width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{d:"M10.972 1.558L9.405 0 .7 8.714l8.714 8.714 1.558-1.558-7.156-7.156 7.156-7.156z",fill:"#41464B",fillOpacity:".9"}))}}])&&w(t.prototype,n),r&&w(t,r),a}(o.a.Component),P=function(e){var t=e.text,n=e.withBack,r=e.subTitle,i=e.onBack;return o.a.createElement(M,null,n&&o.a.createElement(R,{onClick:i}),t,!!r&&o.a.createElement("div",null,r))},M=b.default.div.withConfig({componentId:"sc-16NrIR",displayName:"StyledHeaderContainer"})(T||(T=Object(i.__makeTemplateObject)(["font-family:serif;color:#000;font-size:32px;line-height:36px;font-weight:900;letter-spacing:2px;text-align:center;position:relative;svg{position:absolute;height:17.5px;top:11px;left:14.7px;cursor:pointer;}div{font-family:initial;letter-spacing:0;font-size:13px;font-weight:400;color:rgba(65,70,75,0.9);line-height:20px;margin-top:6px;}"],[""]))),A=function(e){var t=e.curType,n=e.type,r=e.onTabChange;return o.a.createElement(L,null,n===c.c.SelfHostLogin?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"active"},p()("密码登录")),o.a.createElement("span",null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:c.h.LoginByPassword,className:t===c.h.LoginByPassword?"active tab":"",onClick:function(){return r(c.h.LoginByPassword)}},p()("密码登录")),o.a.createElement("div",{key:c.h.LoginByMobile,className:t===c.h.LoginByMobile?"active tab":"",onClick:function(){return r(c.h.LoginByMobile)}},p()("免密登录"))))},B=function(e){var t=e.defaultType,n=e.type,r=e.onChange,l=e.track,s=Object(i.__read)(Object(a.useState)(t),2),u=s[0],d=s[1];return o.a.createElement(D,null,o.a.createElement(P,{text:p()("石墨文档"),withBack:!1}),o.a.createElement("div",{className:"sub-title"},p()("多人实时协作的「云端 Office」")),o.a.createElement(A,{type:n,onTabChange:function(e){d(e),null==l||l(e===c.h.LoginByMobile?c.j.GO_TO_LOGIN_BY_MOBILE:c.j.GO_TO_LOGIN_BY_PASSWORD,{target_page_type:e}),null==r||r(e)},curType:u}))},D=b.default.div.withConfig({componentId:"sc-1s6ZtA",displayName:"StyledLoginContainer"})(S||(S=Object(i.__makeTemplateObject)([".sub-title{margin-top:4px;font-size:14px;text-align:center;line-height:32px;font-weight:400;color:#8d9093;margin-bottom:24px;}"],[""]))),L=b.default.div.withConfig({componentId:"sc-1s6ZtA-1",displayName:"StyledTabContainer"})(I||(I=Object(i.__makeTemplateObject)(["display:flex;padding-bottom:4px;position:relative;div{font-weight:500;font-size:14px;line-height:24px;color:#8d9093;cursor:pointer;}div:nth-child(2n){margin-left:24px;}.active{color:#41464b;}.tab{padding-bottom:2px;}.active.tab{color:#41464b;border-bottom:2px solid #41464b;}span{position:absolute;bottom:0;left:0;width:54px;height:2px;background-color:#41464b;transition:left 0.2s;}"],[""])));function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K,Y,Z,q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,i=G(a);function a(){return F(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",q({width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.98 10.893L5 9.918 8.669 6.25H0v-1.5h8.776L5 .974 5.974 0l5.446 5.446-5.44 5.447z",fill:"#4A90E2"}))}}])&&V(t.prototype,n),r&&V(t,r),a}(o.a.Component),X=function(e){var t=e.onChange,n=e.curType,r=e.withChange,a=void 0===r||r,l=e.track,u=Object(s.u)(n),d=u?p()("个人版"):p()("企业版"),f=u?p()("企业版"):p()("个人版");return o.a.createElement(J,null,o.a.createElement(P,{text:d,withBack:!1}),a&&o.a.createElement("div",{className:"change-tab",onClick:function(){var e=u?c.h.RegisterByMobileTeam:c.h.RegisterByMobilePersonal;null==l||l(u?c.j.GO_TO_COMPANY_REGISTER:c.j.GO_TO_PERSONAL_REGISTER,{target_page_type:e}),null==t||t(e)},"data-test":"btn-change-regist-version"},o.a.createElement(Q,null),p()(K||(K=Object(i.__makeTemplateObject)(["切换至","注册"],["切换至","注册"])),null!=f?f:"")))},J=b.default.div.withConfig({componentId:"sc-Q-jeC",displayName:"StyledTitleTab"})(Y||(Y=Object(i.__makeTemplateObject)(["text-align:center;padding-bottom:12px;.change-tab{margin-top:10px;color:#508cd7;font-size:16px;line-height:24px;cursor:pointer;}.change-tab:hover{opacity:0.8;}.change-tab > svg{margin-right:8px;}"],[""]))),$=function(e){var t=e.defaultType,n=e.onChange,r=Object(i.__read)(Object(a.useState)(t),2),l=r[0],s=r[1],u=function(e){s(e),null==n||n(e)};return o.a.createElement(D,null,o.a.createElement(P,{text:p()("重置密码"),withBack:!1}),o.a.createElement("div",{className:"sub-title"},p()("选择重置密码方式")),o.a.createElement(L,null,o.a.createElement("div",{key:c.h.LoginByMobile,className:l===c.h.ResetPasswordByMobile?"active":"",onClick:function(){return u(c.h.ResetPasswordByMobile)}},p()("手机找回")),o.a.createElement("div",{key:c.h.LoginByPassword,className:l===c.h.ResetPasswordByEmail?"active":"",onClick:function(){return u(c.h.ResetPasswordByEmail)}},p()("邮箱找回")),o.a.createElement("span",{className:l===c.h.ResetPasswordByMobile?"":"active-line-second"})))},ee=function(e){var t=e.type,n=e.onTypeChange,r=e.track,i=Object(a.useCallback)((function(){var e="login"===t?c.h.RegisterByMobilePersonal:c.h.LoginByPassword;null==r||r("login"===t?c.j.GO_TO_REGISTER:c.j.GO_TO_LOGIN,{target_page_type:e}),null==n||n(e)}),[t,r,n]);return o.a.createElement(te,null,o.a.createElement("span",null,"login"===t?p()("还没有账号？"):p()("已有账号？")),o.a.createElement("span",{className:"link",onClick:i},"login"===t?p()("快速注册"):p()("立即登录")))},te=b.default.div.withConfig({componentId:"sc-1VZD3v",displayName:"JumpWrapper"})(Z||(Z=Object(i.__makeTemplateObject)(["background:#f4f4f4;display:flex;justify-content:center;align-items:center;width:100%;height:48px;span{font-size:14px;line-height:24px;color:rgba(65,70,75,0.6);}.link{color:#508cd7;cursor:pointer;}"],[""])));function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(a,e);var t,n,r,i=oe(a);function a(){return re(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",se({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{d:"M19.79 11.815c0-2.66-2.661-4.826-5.649-4.826-3.164 0-5.656 2.168-5.656 4.826 0 2.663 2.492 4.826 5.656 4.826.663 0 1.332-.168 1.997-.334l1.823.998-.5-1.66c1.335-1.003 2.329-2.33 2.329-3.83zm-7.398-.738a.753.753 0 1 1 0-1.507.753.753 0 0 1 0 1.507zm3.66-.006a.753.753 0 1 1-.001-1.506.753.753 0 0 1 0 1.506z",fill:"#28C445"}),o.a.createElement("path",{d:"M7.65 2C3.996 2 1 4.492 1 7.656c0 1.827.996 3.327 2.661 4.49l-.664 2 2.324-1.165c.832.164 1.5.333 2.33.333.209 0 .416-.01.621-.026a4.95 4.95 0 0 1-.205-1.394c0-2.906 2.496-5.264 5.654-5.264.217 0 .43.015.64.04C13.786 3.99 10.922 2 7.652 2zM5.418 6.564a.904.904 0 1 1 0-1.809.904.904 0 0 1 0 1.809zm4.645 0a.904.904 0 1 1 0-1.809.904.904 0 0 1 0 1.809z",fill:"#28C445"}))}}])&&ie(t.prototype,n),r&&ie(t,r),a}(o.a.Component);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var i=ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,i=be(a);function a(){return pe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",ve({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{d:"M13.14 14.64c-.05.05-.08.13-.08.21.01.08.05.15.11.19.56.53.93 1.23 1.03 2 .14.53.66.87 1.2.79.54-.08.94-.55.93-1.09-.01-.55-.43-1-.97-1.06a3.36 3.36 0 0 1-1.85-1.03.257.257 0 0 0-.37-.01z",fill:"#FB6500"}),o.a.createElement("path",{d:"M17.54 12.92c-.18.18-.29.41-.31.65a3.3 3.3 0 0 1-1.03 1.85c-.07.07-.1.17-.07.27.03.09.11.16.21.18.1.01.2-.03.25-.11.53-.56 1.23-.93 2-1.03.44-.12.76-.5.8-.95.04-.45-.21-.88-.62-1.07-.42-.2-.91-.11-1.23.21z",fill:"#0082EF"}),o.a.createElement("path",{d:"M14.49 9.86c-.29.3-.39.73-.25 1.13.14.39.49.67.91.72A3.3 3.3 0 0 1 17 12.74c.07.07.17.1.27.07.09-.03.16-.11.18-.21.01-.1-.03-.2-.11-.25-.56-.53-.93-1.23-1.03-2-.1-.37-.4-.66-.77-.76-.38-.11-.78 0-1.05.27z",fill:"#2DBC00"}),o.a.createElement("path",{d:"M13.96 11.56l-.02.02c-.53.58-1.25.96-2.03 1.06-.37.1-.67.39-.77.77-.1.37.01.77.29 1.04.3.29.73.39 1.13.25.39-.14.67-.49.72-.91.13-.71.5-1.36 1.03-1.85.11-.1.12-.26.02-.37-.1-.1-.27-.11-.37-.01z",fill:"#FC0"}),o.a.createElement("path",{d:"M7.41 2.2c-1.94.21-3.7 1.04-4.97 2.34-.5.51-.91 1.09-1.21 1.71-.96 1.93-.8 4.22.42 6 .34.52.91 1.17 1.42 1.63l-.23 1.84-.03.08c-.01.02-.01.05-.01.07l-.01.06.01.06a.591.591 0 0 0 .89.45h.01l.04-.03.56-.28 1.66-.84c.79.23 1.61.34 2.43.33 1.02 0 2.03-.17 2.98-.52-.48-.16-.79-.63-.74-1.13-.99.32-2.04.42-3.07.3l-.17-.02c-.37-.05-.74-.13-1.1-.23a.757.757 0 0 0-.59.06l-.05.02-1.37.8-.06.04c-.03.02-.05.03-.06.03-.05 0-.09-.05-.09-.1l.05-.21.06-.23.1-.38.11-.42a.57.57 0 0 0-.21-.64c-.54-.4-1.01-.89-1.38-1.44a4.694 4.694 0 0 1-.34-4.73c.25-.49.57-.95.97-1.36 1.04-1.07 2.5-1.75 4.11-1.93.56-.06 1.12-.06 1.68 0 1.61.18 3.06.88 4.09 1.94.4.41.72.88.96 1.37.32.66.48 1.35.48 2.06 0 .07-.01.15-.01.22.43-.26.98-.2 1.33.16l.05.06a5.97 5.97 0 0 0-.59-3.08c-.31-.63-.71-1.2-1.2-1.71a8.06 8.06 0 0 0-4.92-2.34c-.66-.07-1.33-.08-2-.01z",fill:"#0082EF"}))}}])&&fe(t.prototype,n),r&&fe(t,r),a}(o.a.Component);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var i=ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce,Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(a,e);var t,n,r,i=xe(a);function a(){return Oe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Te({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{d:"M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.697 6.929c-.016.07-.058.172-.116.296h.002l-.006.011c-.336.718-1.213 2.127-1.213 2.127l-.004-.01-.256.447h1.234l-2.358 3.133.536-2.131h-.972l.338-1.41c-.273.066-.596.156-.978.279 0 0-.517.302-1.49-.582 0 0-.655-.578-.275-.722.162-.062.785-.14 1.275-.206.664-.089 1.071-.137 1.071-.137s-2.043.03-2.528-.046c-.485-.075-1.1-.885-1.231-1.595 0 0-.202-.39.436-.206.638.185 3.28.72 3.28.72s-3.435-1.053-3.665-1.31c-.229-.257-.672-1.403-.615-2.107 0 0 .025-.176.206-.128 0 0 2.54 1.16 4.276 1.795 1.738.636 3.248.959 3.053 1.782z",fill:"#3AA2EB"}))}}])&&je(t.prototype,n),r&&je(t,r),a}(o.a.Component);!function(e){e.Wechat="wechat",e.Wework="wework",e.Dingtalk="dingtalk"}(Ce||(Ce={}));var Ie,Ne,Re,Pe,Me,Ae,Be,De,Le,ze,Fe,Ve,Ue,Ge={wechat:{className:"wechat",text:p()("微信"),callbackType:Ce.Wechat,icon:o.a.createElement(ue,null)},wework:{className:"wework",text:p()("企业微信"),callbackType:Ce.Wework,icon:o.a.createElement(_e,null)},dingtalk:{className:"dingtalk",text:p()("钉钉"),callbackType:Ce.Dingtalk,icon:o.a.createElement(Se,null)}},He=function(e){var t=e.types,n=e.scene,r=e.isRegist,i=e.changeStepType,l=e.track,u=Object(s.m)().inviteGuid,d=Object(a.useMemo)((function(){return{wechat:function(){if("component"===n)return null==i?void 0:i(c.k.LoginByWechat);var e="";return u&&(e="/joinCompany/riskWarning?"+location.search.substr(1)),Object(s.D)(e,r)},wework:s.E,dingtalk:function(){return null==i?void 0:i(c.k.LoginByDingding)}}}),[n,r,u,i]);return o.a.createElement(Ke,null,o.a.createElement("div",{className:"title"},o.a.createElement("div",null),o.a.createElement("span",null,p()("第三方登录"))),o.a.createElement(We,null,t.map((function(e){var t=Ge[e],n=t.text,r=t.className,i=t.callbackType,a=t.icon;return o.a.createElement("div",{key:n,className:r,onClick:function(){null==l||l(c.j.GO_TO_THIRD_LOGIN,{target_page_type:i}),d[i]()}},a,n)}))))},We=b.default.div.withConfig({componentId:"sc-1v8ebI",displayName:"StyledSSO"})(Ie||(Ie=Object(i.__makeTemplateObject)(["display:flex;justify-content:space-between;margin-top:16px;div{flex:1 1 100px;height:40px;display:flex;justify-content:center;align-items:center;font-size:13px;color:#54595d;border:1px solid rgba(65,70,75,0.2);border-radius:2px;margin-right:12px;cursor:pointer;&:last-child{margin-right:0;}& > svg{width:20px;height:20px;cursor:pointer;margin-right:10px;}}"],[""]))),Ke=b.default.div.withConfig({componentId:"sc-1v8ebI-1",displayName:"StyledSSOContainer"})(Ne||(Ne=Object(i.__makeTemplateObject)(["width:100%;padding:0 48px 24px;box-sizing:border-box;@media (max-width:420px){padding:0 24px 24px;}.title{width:100%;height:20px;color:#8d9093;display:flex;justify-content:center;align-items:center;position:relative;div{background-color:#8d9093;width:100%;height:1px;}> span{width:113px;height:20px;position:absolute;top:0;left:50%;transform:translateX(-50%);font-size:13px;line-height:20px;background-color:#fff;text-align:center;}}"],[""]))),Ye=b.default.div.withConfig({componentId:"sc-1QM5Ob",displayName:"StyledFooterContainer"})(Re||(Re=Object(i.__makeTemplateObject)(["position:absolute;bottom:0;left:0;width:100%;"],[""]))),Ze=b.default.div.withConfig({componentId:"sc-1QM5Ob-1",displayName:"WrapperWithPadding"})(Pe||(Pe=Object(i.__makeTemplateObject)(["padding:0 48px;@media (max-width:420px){padding:0 24px;}"],[""]))),qe=function(e){var t=e.itemType,n=e.labelText,r=e.inputName,i=e.required,a=e.placeholder,c=void 0===a?"":a,l=e.placeholderPosition,u=void 0===l?"left":l,d=e.errorMsg,p=e.prefix,f=void 0===p?null:p,m=e.suffix,b=void 0===m?null:m,h=e.disabled,g=void 0!==h&&h,v=e.inputType,_=void 0===v?"text":v,y=e.inputPrefix,O=e.maxLength,j=e.stepType,w=e.register,x=e.onBlur,E=e.onChange;return o.a.createElement(Qe,{placeholderPosition:u,"data-test":"input-"+r},o.a.createElement("label",null,d&&" "!==d?o.a.createElement("div",{className:"error-msg"},d):n,i&&o.a.createElement("span",{className:"required-mark"},"*")),f,o.a.createElement("div",{className:d?"error":""},y,o.a.createElement("input",{name:r,ref:null==w?void 0:w({validate:Object(s.C)(t,j)}),placeholder:c,autoComplete:"off",disabled:g,type:_,maxLength:O,onBlur:x,onChange:E})),b)},Qe=b.default.div.withConfig({componentId:"sc-lCfRB",displayName:"StyledInputContainer"})(Me||(Me=Object(i.__makeTemplateObject)(["margin-bottom:16px;position:relative;label{display:inline-block;font-size:14px;line-height:24px;color:#41464b;margin-bottom:4px;.required-mark{color:#cd4747;margin-left:4px;}}.error-msg{font-size:14px;color:#cd4747;span{color:#4483d4;cursor:pointer;}}> div{height:40px;width:100%;letter-spacing:0.5px;background:#fff;border:1px solid rgba(65,70,75,0.1);box-sizing:border-box;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1);border-radius:2px;padding:8px 16px;color:#41464b;font-size:14px;transition:border-color 0.3s;text-overflow:ellipsis;appearance:none;display:flex;align-items:center;.mobile-suffix{color:#8d9093;height:16px;line-height:16px;padding-right:8px;margin-right:10px;border-right:1px solid rgba(65,70,75,0.2);}}input{width:100%;letter-spacing:0.5px;background:transparent;box-sizing:border-box;border-radius:2px;color:#41464b;font-size:14px;text-overflow:ellipsis;appearance:none;border:none;line-height:24px;height:24px;}input::placeholder{color:rgba(65,70,75,0.3);font-size:13px;text-align:",";}input:-webkit-autofill{box-shadow:0 0 0 23px #fff inset !important;}.error{border-color:#cd4747;}input.disabled{cursor:not-allowed;}input::-ms-reveal,input::-ms-clear{display:none;}.eye{width:20px;height:20px;cursor:pointer;position:absolute;right:10px;top:39px;}.get-code{position:absolute;top:33px;right:4px;height:32px;padding:0 16px;background:linear-gradient(0deg,#6c9fe2 0%,#80b3f5 100%);border:1px solid #6da0e3;box-sizing:border-box;border-radius:2px;color:#fff;font-weight:500;font-size:14px;cursor:pointer;}.get-code:hover{background-color:#6da0e3;}.get-code.disabled{opacity:0.5;cursor:not-allowed;}.change-verify-type{position:absolute;right:0;top:4px;color:rgba(65,70,75,0.6);font-size:14px;cursor:pointer;}.change-verify-type:hover{opacity:0.8;}"],["",""])),(function(e){return e.placeholderPosition})),Xe=function(e){var t=e.text,n=e.icon,r=e.type,i=e.disabled,a=e.onClick,c=e.dataTest,l=e.className,s=e.buttonType,u=void 0===s?"submit":s;return o.a.createElement(Je,{type:r,disabled:i,className:l},o.a.createElement("button",{disabled:i,type:u,onClick:a,"data-test":null!=c?c:"btn-submit"},n||null,t))},Je=b.default.div.withConfig({componentId:"sc-iF3AH",displayName:"StyledButton"})(Ae||(Ae=Object(i.__makeTemplateObject)(["&.footer-button{margin-bottom:32px;}button{height:40px;width:100%;background:",";color:",";font-size:",";border-radius:2px;border:1px "," solid;font-weight:",";margin-bottom:",";cursor:pointer;display:flex;justify-content:center;align-items:center;svg{margin-right:8px;}}button:hover{opacity:0.9;}",""],["","","","","","","",""])),(function(e){return"ghost"===e.type?"#fff":"linear-gradient(360deg, #2C3033 -0.09%, #54585D 100%)"}),(function(e){return"ghost"===e.type?"#54595e":"#fff"}),(function(e){return"ghost"===e.type?"13px":"16px"}),(function(e){return"ghost"===e.type?"#d9dadb":"transparent"}),(function(e){return"ghost"===e.type?400:500}),(function(e){return"ghost"===e.type?"12px":"16px"}),(function(e){return e.disabled?"\n\t\tbutton {\n\t\t\tcursor: not-allowed;\n\t\t\tbackground: rgba(65, 70, 75, 0.3);\n\t\t\tborder: 0;\n\t\t}\n\n\t\tbutton:hover {\n\t\t\topacity: 1;\n\t\t}\n\t":""})),$e=function(e){void 0===e&&(e=s.a);var t=Object(i.__read)(Object(a.useState)(0),2),n=t[0],r=t[1],o=Object(a.useRef)();return Object(a.useEffect)((function(){return n>0&&!o.current?o.current=window.setInterval((function(){r((function(e){return e-1}))}),1e3):n<=0&&(clearInterval(o.current),o.current=void 0),function(){clearInterval(o.current),o.current=void 0}}),[n,e]),[n,function(t){void 0===t&&(t=e),r(t)}]},et=((Be={})[c.m.SMS]=p()("收不到验证码？语音验证"),Be[c.m.VOICE]=p()("不方便接电话？切换回短信验证码"),Be),tt=function(e){var t,n=e.onChangeVerifyMethod,r=e.verifyMethod,l=e.onRequestVerifyCode,s=e.countDownDefault,u=e.suffix,d=void 0===u?null:u,f=e.disabled,m=void 0!==f&&f,b=e.verifyTip,h=e.alwaysShowVerifyTip,g=void 0!==h&&h,v=Object(i.__read)(Object(a.useState)(!1),2),_=v[0],y=v[1],O=((t={})[c.m.SMS]=$e(s),t[c.m.VOICE]=$e(s),t[c.m.EMAIL]=$e(s),t),j=O[r][0],w=j?p()(De||(De=Object(i.__makeTemplateObject)(["（","）重新发送"],["（","）重新发送"])),j):p()("获取验证码"),x=g||_&&r!==c.m.EMAIL,E=!(!j&&!m),k=o.a.createElement(o.a.Fragment,null,x&&o.a.createElement("span",{onClick:function(){return null==n?void 0:n(r)},className:"change-verify-type","data-test":"change-verify-type-btn"},null!=b?b:et[r]),o.a.createElement("button",{type:"button",disabled:E,className:"get-code "+(E?"disabled":""),onClick:function(){y(!0),null==l||l().then((function(){O[r][1]()}),(function(){return null}))},"data-test":"input-verifyCode"},w),d);return o.a.createElement(qe,Object(i.__assign)({},e,{suffix:k,maxLength:4,inputType:"tel"}))},nt=n(1283),rt=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.active,i=e.currentValue,c=e.onInputChange,l=e.onDelete,s=Object(a.createRef)();return Object(a.useEffect)((function(){var e;r&&(null===(e=s.current)||void 0===e||e.focus())}),[r,s]),o.a.createElement(lt,{className:r||i?"input-container active":"input-container"},o.a.createElement("input",{ref:s,autoComplete:"off",disabled:n,type:"tel",value:i,onChange:c,onKeyDown:function(e){"Backspace"!==e.key&&8!==e.keyCode||null==l||l()}}))},it=function(e){void 0===e&&(e=4);var t=new Array(e).fill("").map((function(){return{active:!1,value:""}}));return t[0].active=!0,t},at=function(e){var t=e.mobile,n=e.verifyByMsg,r=void 0===n||n,c=e.countDownDefault,l=void 0===c?s.a:c,u=e.errorMsg,d=e.autoSubmit,f=void 0!==d&&d,m=e.verifyType,b=void 0===m?"mobile":m,h=e.onChange,g=e.onFinish,v=e.setVerifyByMsg,_=e.onRequestVerifyCode,y=Object(i.__read)(Object(a.useState)(it(4)),2),O=y[0],j=y[1],w=Object(a.useRef)(""),x=Object(i.__read)($e(l),2),E=x[0],k=x[1],C=Object(i.__read)($e(l),2),T=C[0],S=C[1];Object(a.useEffect)((function(){var e=Object(s.g)(),t=e.msg,n=e.voice;t&&(t>=l?Object(s.c)("MSG"):k(l-t)),n&&(n>=l?Object(s.c)("VOICE"):S(l-n))}),[]),Object(a.useEffect)((function(){4===w.current.length&&u&&(j(it(4)),w.current="")}),[u]);var I=r?E:T,N=r?p()("获取语音验证码"):p()("获取短信验证码"),R=I?p()(Le||(Le=Object(i.__makeTemplateObject)([""," 秒后可重新获取验证码"],[""," 秒后可重新获取验证码"])),I):p()(ze||(ze=Object(i.__makeTemplateObject)(["重新获取验证码"],["重新获取验证码"]))),P=function(e){return function(t){var n=t.target,r=null==n?void 0:n.value.replace(/[^\d]/g,"");if(r){var i=Object(nt.a)(O),a=e;r.split("").forEach((function(e){a<4&&(i[a]={value:e,active:Boolean(3===a&&!f)},a+=1)})),a<4&&(i[a].active=!0),j(i);var o=i.map((function(e){return e.value})).join("");null==h||h(o),w.current=o,a>3&&f&&(null==g||g())}}};return o.a.createElement(ot,null,o.a.createElement("div",{className:"verify-content"},"email"===b?o.a.createElement(o.a.Fragment,null,p()("数字验证码已通过邮件发送至"),o.a.createElement("span",{className:"mobile-number"}," ",t," "),p()("，有效期 10 分钟。如未收到，请尝试重新获取")):o.a.createElement(o.a.Fragment,null,r?p()("数字验证码已通过短信发送至"):p()("数字验证码将通过电话告知")," +86 ",o.a.createElement("span",{className:"mobile-number"},t),r?p()("，有效期 10 分钟。如未收到，请尝试重新获取或"):p()("，请注意接听。如未收到，请尝试重新获取或")," ",o.a.createElement("span",{className:"verify-type",onClick:function(){return null==v?void 0:v(!r)}},N))),o.a.createElement(ct,{className:u?"error-container":"","data-test":"input-verifyCode"},O.map((function(e,t){var n=e.value,r=e.active;return o.a.createElement(rt,{key:t,currentValue:n,onInputChange:P(t),onDelete:function(){return function(e){var t=Object(nt.a)(O);t[e].value||(t[e].active=!1,e>0&&(t[e-1].active=!0)),t[e].value="",j(t)}(t)},active:r,disabled:!r})}))),u?o.a.createElement("div",{className:"error-msg","data-test":"input-verifyCode"},u):null,o.a.createElement("button",{type:"button",className:I?"verify-btn":"verify-btn active",disabled:I>0,"data-test":"input-verifyCode",onClick:function(){null==_||_().then((function(){r?(Object(s.A)("MSG",Number(new Date)),k()):(Object(s.A)("VOICE",Number(new Date)),S())}),(function(){return null}))}},R))},ot=b.default.div.withConfig({componentId:"sc-3cr4Gw",displayName:"StyledVerifyCodeSingle"})(Fe||(Fe=Object(i.__makeTemplateObject)(["width:100%;font-size:13px;line-height:20px;color:rgba(65,70,75,0.6);padding:8px 0 36px;position:relative;.verify-content{.mobile-number{font-weight:500;color:#41464b;}.verify-type{color:#4e84cc;cursor:pointer;}}.verify-btn{position:absolute;bottom:0;right:0;font-size:14px;line-height:24px;color:rgba(65,70,75,0.6);cursor:pointer;background:transparent;border:none;outline:none;}.verify-btn.active{color:#508cd7;}.error-msg{position:absolute;bottom:0;left:0;font-size:14px;line-height:24px;color:#cd4747;}"],[""]))),ct=b.default.div.withConfig({componentId:"sc-3cr4Gw-1",displayName:"VerifyCodeContainer"})(Ve||(Ve=Object(i.__makeTemplateObject)(["display:flex;width:100%;justify-content:space-between;align-items:center;&.error-container{div{border:1px solid #cd4747;}}"],[""]))),lt=b.default.div.withConfig({componentId:"sc-3cr4Gw-2",displayName:"InputContainer"})(Ue||(Ue=Object(i.__makeTemplateObject)(["width:60px;height:60px;padding:18px;letter-spacing:0.5px;background:#fff;border:1px solid rgba(65,70,75,0.1);box-sizing:border-box;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1);border-radius:2px;color:#41464b;font-size:14px;transition:border-color 0.3s;text-overflow:ellipsis;appearance:none;display:flex;align-items:center;margin-top:16px;&.active{border:1px solid rgba(65,70,75,0.5);}input{font-size:24px;line-height:24px;text-align:center;width:100%;letter-spacing:0.5px;background:#fff;box-sizing:border-box;border-radius:2px;color:#41464b;transition:border-color 0.3s;text-overflow:ellipsis;appearance:none;border:none;}"],[""])));function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var i=bt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(a,e);var t,n,r,i=ft(a);function a(){return ut(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",ht({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),o.a.createElement("g",{fill:"#CCC",fillRule:"evenodd"},o.a.createElement("path",{d:"M17.913 9.842a8.56 8.56 0 0 0-2.615-3.39l-.727.699a7.572 7.572 0 0 1 2.31 2.876 7.555 7.555 0 0 1-6.883 4.441 7.533 7.533 0 0 1-2.549-.46l-.787.757a8.555 8.555 0 0 0 3.336.69 8.579 8.579 0 0 0 7.915-5.242l.08-.186-.08-.185z"}),o.a.createElement("path",{fillRule:"nonzero",d:"M9.997 12.035c-.153 0-.3-.022-.444-.054l-.798.77c.39.178.813.27 1.242.271 1.67 0 3.027-1.343 3.027-2.994 0-.398-.08-.793-.237-1.16l-.826.794c.022.12.037.241.037.366a2.005 2.005 0 0 1-2 2.007zm5.113-8.123l-1.581 1.522a8.487 8.487 0 0 0-3.527-.777 8.582 8.582 0 0 0-7.916 5.242l-.079.185.08.187c.607 1.434 1.59 2.611 2.784 3.497l-1.277 1.23c.213.258.442.503.686.732L15.871 4.573a8.029 8.029 0 0 0-.761-.661zm-7.013 6.75A1.953 1.953 0 0 1 8 10.086c0-1.108.898-2.008 2.001-2.008.231 0 .446.05.652.123l-2.557 2.461zm3.324-3.199a2.97 2.97 0 0 0-1.419-.372c-1.669 0-3.026 1.344-3.026 2.995 0 .483.127.931.334 1.334l-1.715 1.653a7.5 7.5 0 0 1-2.477-2.989 7.558 7.558 0 0 1 6.885-4.44c.963 0 1.888.196 2.747.54l-1.33 1.28z"})))}}])&&dt(t.prototype,n),r&&dt(t,r),a}(o.a.Component);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var i=xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(a,e);var t,n,r,i=jt(a);function a(){return _t(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Et({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),o.a.createElement("g",{fill:"#6DA0E3"},o.a.createElement("path",{d:"M10.003 15.5c-3.465 0-6.551-2.09-7.959-5.28a.616.616 0 0 1 0-.44c1.408-3.19 4.494-5.28 7.96-5.28 3.465 0 6.551 2.09 7.959 5.28a.616.616 0 0 1 0 .44c-1.408 3.19-4.494 5.28-7.96 5.28zM3.181 10c1.245 2.695 3.899 4.4 6.822 4.4 2.924 0 5.577-1.705 6.823-4.4-1.246-2.695-3.899-4.4-6.823-4.4-2.923 0-5.577 1.705-6.822 4.4z"}),o.a.createElement("path",{d:"M10 13c-1.68 0-3-1.32-3-3s1.32-3 3-3 3 1.32 3 3-1.32 3-3 3zm0-5c-1.133 0-2 .867-2 2s.867 2 2 2 2-.867 2-2-.867-2-2-2z"})))}}])&&yt(t.prototype,n),r&&yt(t,r),a}(o.a.Component),Ct=function(e){var t=Object(i.__read)(Object(a.useState)(!1),2),n=t[0],r=t[1],c=e.withPasswordControl,l=void 0===c||c,s=e.suffix,u=e.withForget,d=e.prefix,f=e.forgetPassword,m=Object(a.useCallback)((function(){return r(!n)}),[n]),b=Object(a.useMemo)((function(){return n?kt:gt}),[n]),h=Object(a.useMemo)((function(){return u?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"change-verify-type",onClick:f},p()("忘记密码?")),d):d}),[d,u,f]),g=Object(a.useMemo)((function(){return l?o.a.createElement(o.a.Fragment,null,o.a.createElement(b,{className:"eye",onClick:m}),s):s}),[s,l,m]);return o.a.createElement(qe,Object(i.__assign)({},e,{prefix:h,suffix:g,maxLength:72,inputType:n?"text":"password"}))};function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var i=Mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(a,e);var t,n,r,i=Rt(a);function a(){return St(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",At({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7A7 7 0 1 0 0 7a7 7 0 0 0 14 0zM2 7a5 5 0 1 1 10 0A5 5 0 0 1 2 7z",fill:"#ECEDED"}))}}])&&It(t.prototype,n),r&&It(t,r),a}(o.a.Component);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,e);var t,n,r,i=Vt(a);function a(){return Lt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Ht({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14A7 7 0 1 0 7 0a7 7 0 0 0 0 14zm4.987-9.442L5.346 11.2l-3.76-3.76 1.358-1.358 2.402 2.401L10.629 3.2l1.358 1.358z",fill:"#4EA44B"}))}}])&&zt(t.prototype,n),r&&zt(t,r),a}(o.a.Component);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var i=Jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $t,en,tn,nn,rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(a,e);var t,n,r,i=Qt(a);function a(){return Yt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",rn({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14A7 7 0 1 0 7 0a7 7 0 0 0 0 14zM3 9.667L4.333 11 7 8.333 9.667 11 11 9.667 8.333 7 11 4.333 9.667 3 7 5.667 4.333 3 3 4.333 5.667 7 3 9.667z",fill:"#CD4747"}))}}])&&Zt(t.prototype,n),r&&Zt(t,r),a}(o.a.Component),on=function(e){return{minLengthCheck:{value:p()("不少于 8 位字符"),status:e},letterCheck:{value:p()("英文大写 (A-Z) 和小写字母  (a-z) "),status:e},numberCheck:{value:p()("数字 (0-9)"),status:e}}},cn=function(e){var t=e.account,n=e.errorMsg,r=e.watch,l=e.register,s=Object(i.__read)(Object(a.useState)(on("initial")),2),u=s[0],d=s[1],f=null==r?void 0:r("password");Object(a.useEffect)((function(){if(f){var e=on("pass");(function(e){var t=[];return e.length<8&&t.push("minLengthCheck"),/[a-z]/.test(e)&&/[A-Z]/.test(e)||t.push("letterCheck"),/[0-9]/.test(e)||t.push("numberCheck"),t})(f).forEach((function(t){e[t].status="failed"})),d(e)}else d(on("initial"))}),[f]);return o.a.createElement(ln,null,o.a.createElement("div",{className:"sub-title"},p()($t||($t=Object(i.__makeTemplateObject)(["为 "," 创建您想要使用的密码"],["为 "," 创建您想要使用的密码"])),null!=t?t:"")),o.a.createElement(Ct,{labelText:p()("密码"),itemType:c.e.PasswordSingle,inputName:"password",register:l,errorMsg:n}),o.a.createElement("div",{className:"check-list","data-test":"input-password"},o.a.createElement("div",{className:"check-list-title"},p()("为保障信息安全，您的密码必须包含：")),Object.keys(u).map((function(e){return o.a.createElement("div",{key:e,className:"check-item"},"initial"===(t=u[e].status)?o.a.createElement(Bt,null):"pass"===t?o.a.createElement(Wt,null):o.a.createElement(an,null),o.a.createElement("p",{className:u[e].status},u[e].value));var t}))))},ln=b.default.div.withConfig({componentId:"sc-1bmRJ6",displayName:"StyledContainer"})(en||(en=Object(i.__makeTemplateObject)(["width:100%;padding-top:8px;.sub-title{font-size:14px;line-height:20px;color:#8d9093;margin-bottom:16px;}.check-list{font-size:14px;line-height:24px;color:#8d9093;}.check-item{display:flex;align-items:center;margin-top:4px;p{margin-bottom:0;}svg{width:14px;height:14px;margin-right:9px;}.failed{color:#2c3033;}.pass{color:#c6c7c9;}}"],[""]))),sn=function(e){var t=o.a.createElement("span",{className:"mobile-suffix"},"+86");return o.a.createElement(qe,Object(i.__assign)({},e,{inputPrefix:t,maxLength:11,inputType:"tel"}))},un=function(e){var t=e.pageType,n=e.onTypeChange,r=e.track,i=t===c.h.RegisterByEmailPersonal,a=i?p()("使用手机号注册"):p()("使用邮箱注册");return o.a.createElement(dn,{onClick:function(){var e=i?c.h.RegisterByMobilePersonal:c.h.RegisterByEmailPersonal;null==r||r(i?c.j.GO_TO_REGISTER_BY_MOBILE:c.j.GO_TO_REGISTER_BY_EMAIL,{target_page_type:e}),null==n||n(e)},"data-test":"btn-change-regist-type"},a)},dn=b.default.div.withConfig({componentId:"sc-28UfCm",displayName:"StyledContainer"})(tn||(tn=Object(i.__makeTemplateObject)(["font-size:14px;line-height:24px;color:#8d9093;cursor:pointer;"],[""]))),pn=function(e){var t=e.stepType;return Object(a.useEffect)((function(){Object(l.l)()}),[]),t!==c.k.LoginByDingding?null:o.a.createElement(fn,null,o.a.createElement("div",{id:"dingtalk-login-qrcode"}))},fn=b.default.div.withConfig({componentId:"sc-2-gGB_",displayName:"ThirdContainer"})(nn||(nn=Object(i.__makeTemplateObject)(["width:240px;height:300px;margin:46px auto 0;background:#f9f9f9;border:1px solid rgba(65,70,75,0.1);border-radius:2px;box-sizing:border-box;padding-top:20px;overflow:hidden;"],[""])));function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var i=yn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n(this,n)}}function _n(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(a,e);var t,n,r,i=vn(a);function a(){return bn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="e5968b8c8d13f7ae546ac0aa56865bc60_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",On({width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("g",{clipPath:"url(#".concat(e,")"),fill:"#28C445"},o.a.createElement("path",{d:"M20.29 11.815c0-2.66-2.661-4.826-5.649-4.826-3.164 0-5.656 2.168-5.656 4.826 0 2.663 2.492 4.826 5.656 4.826.663 0 1.332-.168 1.997-.334l1.823.998-.5-1.66c1.335-1.003 2.329-2.33 2.329-3.83zm-7.398-.738a.753.753 0 1 1 0-1.507.753.753 0 0 1 0 1.507zm3.66-.006a.753.753 0 1 1-.001-1.506.753.753 0 0 1 0 1.506z"}),o.a.createElement("path",{d:"M8.15 2C4.496 2 1.5 4.492 1.5 7.656c0 1.827.996 3.327 2.661 4.49l-.664 2 2.324-1.165c.832.164 1.5.333 2.33.333.209 0 .416-.01.621-.026a4.95 4.95 0 0 1-.205-1.394c0-2.906 2.496-5.264 5.654-5.264.217 0 .43.015.64.04C14.286 3.99 11.422 2 8.152 2zM5.918 6.564a.904.904 0 1 1 0-1.809.904.904 0 0 1 0 1.809zm4.645 0a.904.904 0 1 1 0-1.809.904.904 0 0 1 0 1.809z"})),o.a.createElement("defs",null,o.a.createElement("clipPath",{id:e},o.a.createElement("path",{fill:"#fff",transform:"translate(.5)",d:"M0 0h20v20H0z"}))))}}])&&hn(t.prototype,n),r&&hn(t,r),a}(o.a.Component);function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn(e);if(t){var i=Sn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var In,Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(a,e);var t,n,r,i=Cn(a);function a(){return xn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="a6e38c56dd2b7057691eb047512a26a70_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",Nn({width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 17.75a8.75 8.75 0 1 0 0-17.5 8.75 8.75 0 0 0 0 17.5zm2.108-5.271c-1.28 1.067-2.416.571-2.74-.949-.8-3.748-1.826-5.64-3.218-6.69-.128-.203-.007-.444.288-.353 3.329 1.07 5.22 2.132 6.514 3.353 1.04.982 1.16 1.898.41 3.214-.225.397-.621.898-1.254 1.425z",fill:"url(#".concat(e,")")}),o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:e,x1:"9.5",y1:".25",x2:"9.5",y2:"17.75",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{stopColor:"#676B6F"}),o.a.createElement("stop",{offset:"1",stopColor:"#A0A2A5"}))))}}])&&En(t.prototype,n),r&&En(t,r),a}(o.a.Component),Pn=function(e){var t=e.pageType,n=e.showAppBtn,r=void 0===n||n,i=e.track,a=Object(s.s)(t);return o.a.createElement(o.a.Fragment,null,Object(f.isWechat)()&&o.a.createElement(Xe,{key:"wechat",icon:o.a.createElement(jn,null),text:""+p()("微信一键")+(a?p()("登录"):p()("注册")),type:"ghost",buttonType:"button",dataTest:"btn-submit-wechat",onClick:function(){var e=Object(s.l)();null==i||i(c.j.GO_TO_THIRD_LOGIN,{target_page_type:"loginWechat"}),Object(l.g)("wechat_register",e).then((function(e){(null==e?void 0:e.url)&&(window.location.href=e.url)}),(function(){return null}))}}),Object(f.isMobile)()&&r&&o.a.createElement(Xe,{key:"shimo",icon:o.a.createElement(Rn,null),text:p()("打开石墨APP"),type:"ghost",buttonType:"button",dataTest:"btn-submit-app",onClick:function(){null==i||i(c.j.GO_TO_THIRD_LOGIN,{target_page_type:"loginApp"}),Object(s.p)()}}))},Mn="https://assets.shimonote.com/static/unmd5/default-avatar-moke.2.png",An=function(e){var t=e.url,n=void 0===t?Mn:t;return o.a.createElement(Bn,{src:n||Mn})},Bn=b.default.img.withConfig({componentId:"sc-3Aqtq_",displayName:"StyledImg"})(In||(In=Object(i.__makeTemplateObject)(["display:block;width:88px;height:88px;margin:38px auto 24px;border-radius:50%;"],[""]))),Dn=n(987),Ln=n.p+"static/lizard-one/assets/agreement-error.d0b8459a.png";function zn(e){var t=e.agree,n=e.handleAgreementPromptClose,r=e.toggleAgreementCheckbox,i=e.handleSignUpConfirm,a=e.showAgreementPrompt,l=e.agreementPromptType;return o.a.createElement(o.a.Fragment,null,"modal"===l?o.a.createElement(Xn,{visible:a,title:p()("提示"),onCancel:n,footer:[o.a.createElement(Dn.a,{key:"cancel",type:"outline",onClick:n},p()("取消")),o.a.createElement(Dn.a,{key:"confirm",type:"black",onClick:i},p()("同意"))],width:c.f},p()("请先同意 "),o.a.createElement(Fn,null),p()("。")):a&&o.a.createElement(Jn,null,o.a.createElement("img",{src:Ln,alt:""}),o.a.createElement("span",null,p()("请先同意相关服务条款"))),o.a.createElement($n,{onClick:r},o.a.createElement("div",{className:"agreement-checkbox","data-test":"btn-agreement"},o.a.createElement(Dn.p,{checked:t})),o.a.createElement("div",null,o.a.createElement("span",null,p()("我已阅读并同意")," "),o.a.createElement(Fn,null))))}function Fn(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:"/agreements/service",target:"_blank","data-test":"btn-agreement"},p()("石墨服务条款")),p()("，"),o.a.createElement("a",{href:"/agreements/privacy",target:"_blank","data-test":"btn-agreement"},p()("隐私保护")),p()("，"),o.a.createElement("a",{href:"/agreements/behavior",target:"_blank","data-test":"btn-agreement"},p()("用户行为规范")))}var Vn,Un,Gn,Hn,Wn,Kn,Yn,Zn,qn,Qn,Xn=Object(b.default)(Dn.k).withConfig({componentId:"sc-2ADiSL",displayName:"StyledAgreementPromptModal"})(Vn||(Vn=Object(i.__makeTemplateObject)(["a{color:#41464b;text-decoration:none;font-weight:bold;}"],[""]))),Jn=b.default.div.withConfig({componentId:"sc-2ADiSL-1",displayName:"StyledAgreementPromptText"})(Un||(Un=Object(i.__makeTemplateObject)(["font-size:14px;color:#cd4747;margin-top:8px;margin-bottom:8px;span{vertical-align:middle;}img{width:14px;height:14px;margin-right:10px;vertical-align:middle;}"],[""]))),$n=b.default.div.withConfig({componentId:"sc-2ADiSL-2",displayName:"StyledAgreementCheckbox"})(Gn||(Gn=Object(i.__makeTemplateObject)(["font-size:12px;color:rgba(65,70,75,0.5);text-align:left;line-height:20px;display:flex;margin-bottom:12px;a{font-weight:500;text-decoration:none;color:#41464b;}a:hover{text-decoration:underline;}.agreement-checkbox{border:none;line-height:14px;margin-top:2px;margin-right:6px;cursor:pointer;align-self:start;}"],[""]))),er=b.default.form.withConfig({componentId:"sc-2AuIXk",displayName:"StyledForm"})(Hn||(Hn=Object(i.__makeTemplateObject)(["padding-top:12px;.sub-title{font-size:13px;color:#8d9093;line-height:20px;margin-bottom:16px;}"],[""]))),tr=Object(f.isMobile)(),nr=Object(f.isWechat)(),rr=Object(s.B)(c.h.LoginByMobile),ir=Object(f.isMobile)(),ar=Object(f.isWechat)(),or=Object(s.B)(c.h.LoginByPassword),cr=b.default.div.withConfig({componentId:"sc-3RIj6L",displayName:"StyledWechatContainer"})(Wn||(Wn=Object(i.__makeTemplateObject)(["display:flex;position:relative;width:100%;height:400px;background:#f9f9f9;border:1px solid rgba(65,70,75,0.1);margin-top:20px;div{width:100%;height:40px;background:#f9f9f9;top:0;left:0;position:absolute;}"],[""]))),lr=b.default.iframe.withConfig({componentId:"sc-3RIj6L-1",displayName:"StyledIframe"})(Kn||(Kn=Object(i.__makeTemplateObject)(["border:none;width:324px;height:400px;margin:0 auto;.title{display:none;}"],[""]))),sr=Object(s.B)(c.h.LoginByMobile),ur=Object(s.B)(c.h.RegisterByMobilePersonal),dr=Object(s.B)(c.h.RegisterByMobileTeam),pr=Object(s.B)(c.h.RegisterByEmailPersonal),fr=Object(f.isMobile)(),mr=Object(f.isWechat)(),br=Object(s.B)(c.h.RegisterByMobilePersonal),hr=Object(s.B)(c.h.RegisterByMobileTeam),gr=Object(f.isMobile)(),vr=Object(f.isWechat)(),_r=Object(s.B)(c.h.RegisterByEmailPersonal),yr=Object(s.B)(c.h.RegisterByMobileTeam),Or=function(e){var t=e.showModal,n=e.inviteGuid,r=e.setShowModal,i=e.submit;return o.a.createElement(Dn.k,{visible:t,title:p()("提示"),onCancel:function(){return r(!1)},width:c.f,footer:[o.a.createElement(Dn.a,{key:"confirm",type:"black",onClick:function(){r(!1),Object(s.d)("/login?inviteGuid="+(null!=n?n:"")+"&"+location.search.slice(1))}},p()("使用其他个人版账号登录")),o.a.createElement(Dn.a,{key:"cancel",type:"outline",onClick:function(){r(!1),i()}},p()("不加入企业，直接登录"))]},p()("这个账号已加入其他企业，无法加入当前企业。"))},jr=b.default.div.withConfig({componentId:"sc-33yeoA",displayName:"StyledWrapper"})(Yn||(Yn=Object(i.__makeTemplateObject)(["position:relative;box-sizing:border-box;width:420px;height:524px;padding:62px 48px 48px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.1),0 1px 1px rgba(0,0,0,0.06);@media (max-width:420px){padding:45px 24px 0;width:100%;height:100%;box-shadow:none;position:static;}"],[""]))),wr=b.default.form.withConfig({componentId:"sc-33yeoA-1",displayName:"StyledContainer"})(Zn||(Zn=Object(i.__makeTemplateObject)(["padding-top:30px;"],[""]))),xr=b.default.div.withConfig({componentId:"sc-33yeoA-2",displayName:"StyledCheckContainer"})(qn||(qn=Object(i.__makeTemplateObject)(["display:flex;align-items:center;cursor:pointer;margin-bottom:16px;div{min-width:14px;}span{font-size:12px;line-height:20px;margin-left:10px;color:rgba(65,70,75,0.9);}"],[""]))),Er=b.default.div.withConfig({componentId:"sc-33yeoA-3",displayName:"StyledFooterContainer"})(Qn||(Qn=Object(i.__makeTemplateObject)(["position:absolute;bottom:0;left:0;width:100%;padding:48px;box-sizing:border-box;button{margin-top:24px;}"],[""])));function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var i=Rr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nr(this,n)}}function Nr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pr,Mr,Ar,Br,Dr,Lr,zr,Fr,Vr,Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(a,e);var t,n,r,i=Ir(a);function a(){return Cr(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Ur({width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{opacity:".1",fillRule:"evenodd",clipRule:"evenodd",d:"M40 80c22.091 0 40-17.909 40-40S62.091 0 40 0 0 17.909 0 40s17.909 40 40 40z",fill:"#31A321"}),o.a.createElement("path",{opacity:".8",d:"M60 28L33.333 54.667 20 41.333",stroke:"#47863E",strokeWidth:"6.667",strokeLinecap:"round",strokeLinejoin:"round"}))}}])&&Tr(t.prototype,n),r&&Tr(t,r),a}(o.a.Component),Hr=b.default.div.withConfig({componentId:"sc-3jAtPM",displayName:"ContentWrapper"})(Pr||(Pr=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;padding:110px 0;align-items:center;div{font-size:14px;line-height:20px;margin-top:28px;color:rgba(65,70,75,0.6);}"],[""]))),Wr=function(){return o.a.createElement(qr,null,o.a.createElement("div",{className:"tips"},o.a.createElement("span",null,p()(Mr||(Mr=Object(i.__makeTemplateObject)(["点击「立即免费试用」表示已阅读并同意石墨文档"],["点击「立即免费试用」表示已阅读并同意石墨文档"])))," "),o.a.createElement("a",{href:"/agreements/service",target:"_blank","data-test":"agreement-btn"},p()("服务条款")),p()("，"),o.a.createElement("a",{href:"/agreements/privacy",target:"_blank","data-test":"agreement-btn"},p()("隐私保护政策")),p()("，"),o.a.createElement("a",{href:"/agreements/behavior",target:"_blank","data-test":"agreement-btn"},p()("用户行为规范"))))},Kr=b.default.button.withConfig({componentId:"sc-3i7grT",displayName:"StyledButton"})(Ar||(Ar=Object(i.__makeTemplateObject)(["width:100%;height:40px;font-weight:500;font-size:16px;margin-top:12px;background:linear-gradient(90deg,#e95555 0%,#f6846f 100%);box-shadow:0 3px 4px rgba(236,97,91,0.4),0 10px 15px rgba(244,126,108,0.2);border-radius:2.4px;border:0;cursor:pointer;color:#fff;"],[""]))),Yr=b.default.div.withConfig({componentId:"sc-3i7grT-1",displayName:"StyledWrapper"})(Br||(Br=Object(i.__makeTemplateObject)(["width:100%;max-width:400px;background:#fff;box-sizing:border-box;padding:42px 0 32px;.form-wrapper{padding:8px 48px 0;}@media (max-width:375px){.form-wrapper{padding:8px 20px 0;}}"],[""]))),Zr=b.default.div.withConfig({componentId:"sc-3i7grT-2",displayName:"Title"})(Dr||(Dr=Object(i.__makeTemplateObject)(["font-family:serif;font-weight:900;font-size:26px;line-height:36px;align-items:center;letter-spacing:1.5px;color:#000;@media (max-width:375px){letter-spacing:1px;}"],[""]))),qr=b.default.div.withConfig({componentId:"sc-3i7grT-3",displayName:"StyledContainer"})(Lr||(Lr=Object(i.__makeTemplateObject)([".sm-button.submit{margin-top:0;}& > .tips{margin-top:16px;font-size:12px;text-align:center;color:rgba(65,70,75,0.5);a{font-weight:600;white-space:nowrap;color:#41464b;text-decoration:none;&:hover{text-decoration:underline;}}}"],[""]))),Qr=b.default.div.withConfig({componentId:"sc-2NZ0B",displayName:"TabWrapper"})(zr||(zr=Object(i.__makeTemplateObject)(["padding:16px 48px 8px;@media (max-width:375px){padding:16px 20px 8px;}"],[""]))),Xr=b.default.div.withConfig({componentId:"sc-2NZ0B-1",displayName:"ButtonWrapper"})(Fr||(Fr=Object(i.__makeTemplateObject)(["margin-bottom:16px;"],[""]))),Jr=function(e){var t,n,r,u=e.errMap,d=e.changeStep,f=Object(i.__read)(Object(a.useState)(c.m.SMS),2),b=f[0],h=f[1],g=Object(i.__read)(Object(a.useState)(!0),2),v=g[0],_=g[1],y=Object(i.__read)(Object(a.useState)(c.h.LoginByPassword),2),O=y[0],j=y[1],w=Object(m.useForm)(),x=w.register,E=w.setError,k=w.watch,C=w.getValues,T=w.formState.errors,S=k("mobile");Object(a.useEffect)((function(){S&&Object(s.t)(S)&&_(!1)}),[S]),Object(a.useEffect)((function(){u&&Object.keys(u).forEach((function(e){E(e,{message:u[e]})}))}),[u,E]);var I=function(e,t){E(e,{message:t})},N=Object(a.useCallback)((function(){null==d||d({type:"changePage",targeType:c.h.SingleTeamRegister})}),[d]);return o.a.createElement(Yr,null,o.a.createElement(J,null,o.a.createElement(Zr,null,p()("登录石墨文档账号")),o.a.createElement("div",{className:"change-tab",onClick:N,"data-test":"btn-change-regist-version"},o.a.createElement(Q,null),p()("注册新账号"))),o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(A,{curType:O,onTabChange:j})),o.a.createElement("form",{className:"form-wrapper"},o.a.createElement(qe,{inputName:"teamName",itemType:c.d.TeamName,labelText:p()("企业或团队名称"),errorMsg:null===(t=T.teamName)||void 0===t?void 0:t.message,placeholder:p()("用于建立属于您团队/企业的石墨工作平台"),register:x}),o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("输入手机号"),errorMsg:null===(n=T.mobile)||void 0===n?void 0:n.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:x}),o.a.createElement(tt,{inputName:"verifyCode",itemType:c.d.VerifyCode,labelText:p()("输入验证码"),errorMsg:null===(r=T.verifyCode)||void 0===r?void 0:r.message,placeholder:p()("4位数字"),onRequestVerifyCode:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=C("mobile"),e="+86"+String(e).trim(),_(!0),[2,Object(l.f)({mobile:e,scene:c.l.RESET,type:"msg",setError:I}).finally((function(){return _(!1)}))]}))}))},verifyMethod:b,onChangeVerifyMethod:function(e){h(e===c.m.SMS?c.m.VOICE:c.m.SMS)},disabled:v,register:x}),o.a.createElement(Kr,{type:"submit"},p()("立即免费试用"))))},$r={loginByMobile:function(e){var t,n=e.defaultValue,r=e.errMap,s=e.extra,u=e.config,d=e.scene,f=e.changeStep,b=Object(i.__read)(Object(a.useState)(!1),2),h=b[0],g=b[1],v=Object(m.useForm)({defaultValues:n}),y=v.register,O=v.handleSubmit,j=v.getValues,w=v.setError,x=v.formState.errors,E=Object(a.useRef)(""),k=!(tr||nr&&"component"===d);Object(a.useEffect)((function(){return rr(c.j.VIEW_LOGIN_BY_MOBILE)}),[]),Object(a.useEffect)((function(){r&&Object.keys(r).forEach((function(e){w(e,{message:r[e]})}))}),[r,w]);var C=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,f({type:"changePage",targeType:e,extra:t})]}))}))},T=function(e,t){w(e,{message:t})},S=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=j("mobile");r===(null==s?void 0:s.account)?(E.current=null!==(n=null==s?void 0:s.code)&&void 0!==n?n:"",e()):(rr(c.j.CHECK_ACCOUNT),Object(l.a)({account:r,scene:"login"}).then((function(n){var r=n.token,a=n.result;E.current=r,a||(w("mobile",{message:o.a.createElement(o.a.Fragment,null,p()("此账号不存在，"),o.a.createElement("span",{onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=c.h.RegisterByMobilePersonal,rr(c.j.GO_TO_REGISTER_BY_ERROR,{target_page_type:e}),[2,C(e,{isFromError:!0})]}))}))}},p()("前往注册")))}),rr(c.j.CHECK_ACCOUNT_RESULT_ERROR),t(new Error)),e()})).catch(t))}))]}))}))},I=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=j("mobile"),e="+86"+String(e).trim(),[2,Object(l.f)({mobile:e,scene:c.l.LOGIN,type:"msg",code:E.current,setError:T})]}))}))};return o.a.createElement(_,{scene:d},o.a.createElement(B,{type:c.c.NormalLogin,defaultType:c.h.LoginByMobile,track:rr,onChange:C}),o.a.createElement(er,{onSubmit:O((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return g(!0),[2,[S,I].reduce((function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,e.then(t)]}))}))}),Promise.resolve()).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"next",data:e,extra:{account:e.mobile,code:E.current}})]}))}))})).catch((function(){return g(!1)}))]}))}))}))},o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("手机号"),errorMsg:null===(t=x.mobile)||void 0===t?void 0:t.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:y}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:h}),!k&&o.a.createElement(Pn,{pageType:c.h.LoginByMobile,track:rr}),o.a.createElement(Ye,null,k&&o.a.createElement(He,{types:"component"===d||(null==u?void 0:u.inviteGuid)?["wechat"]:["wechat","wework","dingtalk"],scene:d,changeStepType:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"changeStep",targeType:e})]}))}))},track:rr}),o.a.createElement(ee,{type:"login",onTypeChange:C,track:rr}))))},loginByPassword:function(e){var t,n,r,u=e.defaultValue,d=e.errMap,f=e.extra,b=e.config,h=e.scene,g=e.changeStep,v=Object(i.__read)(Object(a.useState)(!1),2),y=v[0],O=v[1],j=Object(m.useForm)({defaultValues:u}),w=j.register,x=j.handleSubmit,E=j.getValues,k=j.setError,C=j.formState.errors,T=Object(a.useRef)(""),S=!(ir||ar&&"component"===h);Object(a.useEffect)((function(){return or(c.j.VIEW_LOGIN_BY_PASSWORD)}),[]),Object(a.useEffect)((function(){d&&Object.keys(d).forEach((function(e){k(e,{message:d[e]})}))}),[d,k]);var I=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,g({type:"changePage",targeType:e,extra:t})]}))}))};return o.a.createElement(_,{scene:h},o.a.createElement(B,{type:c.c.NormalLogin,defaultType:c.h.LoginByPassword,onChange:I,track:or}),o.a.createElement(er,{onSubmit:x((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return O(!0),[2,Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=E("account").trim();r===(null==f?void 0:f.account)?(T.current=null!==(n=null==f?void 0:f.code)&&void 0!==n?n:"",e()):(or(c.j.CHECK_ACCOUNT),Object(l.a)({account:r,scene:"login"}).then((function(n){var r=n.token,a=n.result;T.current=r,a||(k("account",{message:o.a.createElement(o.a.Fragment,null,p()("此账号不存在，"),o.a.createElement("span",{onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=c.h.RegisterByMobilePersonal,or(c.j.GO_TO_REGISTER_BY_ERROR,{target_page_type:e}),[2,I(e,{isFromError:!0})]}))}))}},p()("前往注册")))}),or(c.j.CHECK_ACCOUNT_RESULT_ERROR),t(new Error)),e()})).catch(t))}))]}))})).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,g({type:"next",data:e,extra:{account:e.account.trim(),code:T.current}})]}))}))})).catch((function(){return O(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"account",itemType:c.d.Account,labelText:p()("手机号/邮箱"),errorMsg:null===(t=C.account)||void 0===t?void 0:t.message,register:w}),o.a.createElement(Ct,{stepType:c.k.LoginByPassword,inputName:"password",itemType:c.d.Password,labelText:p()("密码"),errorMsg:null===(n=C.password)||void 0===n?void 0:n.message,register:w,forgetPassword:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return Object(s.b)()?[4,I(c.h.ResetPasswordByMobile)]:[3,2];case 1:return e.sent(),[3,3];case 2:location.href="/resetPassword?redirect_url="+encodeURIComponent(location.href),e.label=3;case 3:return[2]}}))}))},withForget:null===(r=null==b?void 0:b.withForget)||void 0===r||r}),o.a.createElement(Xe,{text:p()("登录"),type:"black",dataTest:"btn-submit",disabled:y}),!S&&o.a.createElement(Pn,{pageType:c.h.LoginByPassword,track:or}),o.a.createElement(Ye,null,S&&o.a.createElement(He,{types:"component"===h||(null==b?void 0:b.inviteGuid)?["wechat"]:["wechat","wework","dingtalk"],scene:h,changeStepType:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,g({type:"changeStep",targeType:e})]}))}))},track:or}),o.a.createElement(ee,{type:"login",onTypeChange:I,track:or}))))},loginByDingding:function(e){var t=e.changeStep,n=e.scene;return o.a.createElement(_,{scene:n},o.a.createElement(P,{text:p()("钉钉登录"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t({type:"back"})]}))}))}}),o.a.createElement(er,null,o.a.createElement(pn,{stepType:c.k.LoginByDingding})))},loginSelfHost:function(e){var t,n,r,l=e.defaultValue,s=e.errMap,u=e.scene,d=e.config,f=e.changeStep,b=Object(i.__read)(Object(a.useState)(!1),2),h=b[0],g=b[1],v=Object(m.useForm)({defaultValues:l}),y=v.register,O=v.handleSubmit,j=v.setError,w=v.formState.errors,x=Object(a.useRef)("");Object(a.useEffect)((function(){s&&Object.keys(s).forEach((function(e){j(e,{message:s[e]})}))}),[s,j]);return o.a.createElement(_,{scene:u},o.a.createElement(B,{type:c.c.SelfHostLogin,defaultType:c.h.LoginSelfHost}),o.a.createElement(er,{onSubmit:O((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return g(!0),[2,f({type:"next",data:e,extra:{account:e.mobile,code:x.current}}).catch((function(){return g(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"account",itemType:c.d.Account,labelText:p()("手机号/邮箱"),errorMsg:null===(t=w.account)||void 0===t?void 0:t.message,register:y}),o.a.createElement(Ct,{inputName:"password",itemType:c.d.Password,labelText:p()("密码"),errorMsg:null===(n=w.password)||void 0===n?void 0:n.message,register:y,withForget:null===(r=null==d?void 0:d.withForget)||void 0===r||r}),o.a.createElement(Xe,{text:p()("登录"),type:"black",dataTest:"btn-submit",disabled:h})))},loginByWechat:function(e){var t=e.changeStep,n=e.scene;return o.a.createElement(_,{scene:n},o.a.createElement(P,{text:p()("微信登录"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,t({type:"back"})]}))}))}}),o.a.createElement(cr,null,o.a.createElement("div",null),o.a.createElement(lr,{src:Object(l.c)(Object(s.l)())})))},registerByEmailPersonal:function(e){var t,n=e.defaultValue,r=e.errMap,s=e.config,u=e.extra,d=e.scene,f=e.changeStep,b=Object(i.__read)(Object(a.useState)(!1),2),h=b[0],g=b[1],v=Object(m.useForm)({defaultValues:n}),y=v.register,O=v.handleSubmit,j=v.getValues,w=v.setError,x=v.formState.errors,E=Object(a.useRef)(""),k=!(gr||vr&&"component"===d);Object(a.useEffect)((function(){return _r(c.j.VIEW_REGISTER_BY_EMAIL)}),[]),Object(a.useEffect)((function(){r&&Object.keys(r).forEach((function(e){w(e,{message:r[e]})}))}),[r,w]);var C=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"changePage",targeType:e})]}))}))};return o.a.createElement(_,{scene:d},(null==s?void 0:s.inviteGuid)?o.a.createElement(P,{text:p()("加入企业"),withBack:!1}):o.a.createElement(X,{curType:c.h.RegisterByMobilePersonal,onChange:C,track:_r}),o.a.createElement(er,{onSubmit:O((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return g(!0),[2,Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=j("email").trim();r===(null==u?void 0:u.account)?(E.current=null!==(n=null==u?void 0:u.code)&&void 0!==n?n:"",e()):(_r(c.j.CHECK_ACCOUNT),Object(l.a)({account:r,scene:"register"}).then((function(n){var r=n.token,a=n.result;E.current=r,a||(w("email",{message:o.a.createElement(o.a.Fragment,null,p()("此邮箱已注册，"),o.a.createElement("span",{onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return _r(c.j.GO_TO_LOGIN_BY_ERROR,{target_page_type:c.h.LoginByPassword}),[2,C(c.h.LoginByPassword)]}))}))}},p()("立即登录")))}),_r(c.j.CHECK_ACCOUNT_RESULT_ERROR),t(new Error)),e()})).catch(t))}))]}))})).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"next",data:e,extra:{account:e.email.trim(),code:E.current}})]}))}))})).catch((function(){return g(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"email",itemType:c.d.Email,labelText:p()("邮箱"),errorMsg:null===(t=x.email)||void 0===t?void 0:t.message,placeholder:p()("请输入您的邮箱地址"),register:y}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:h}),!k&&o.a.createElement(Pn,{pageType:c.h.RegisterByEmailPersonal,track:_r}),o.a.createElement(un,{pageType:c.h.RegisterByEmailPersonal,onTypeChange:C,track:_r}),o.a.createElement(Ye,null,k&&o.a.createElement(He,{types:["wechat"],scene:d,isRegist:!0,track:_r,changeStepType:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"changeStep",targeType:e})]}))}))}}),o.a.createElement(ee,{type:"register",onTypeChange:C,track:_r}))))},registerByMobilePersonal:function(e){var t,n=e.defaultValue,r=e.errMap,s=e.extra,u=e.config,d=e.scene,f=e.changeStep,b=Object(i.__read)(Object(a.useState)(!1),2),h=b[0],g=b[1],v=Object(m.useForm)({defaultValues:n}),y=v.register,O=v.handleSubmit,j=v.getValues,w=v.setError,x=v.formState.errors,E=Object(a.useRef)(""),k=!(fr||mr&&"component"===d);Object(a.useEffect)((function(){return br(c.j.VIEW_REGISTER_BY_MOBILE)}),[]),Object(a.useEffect)((function(){r&&Object.keys(r).forEach((function(e){w(e,{message:r[e]})}))}),[r,w]);var C=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"changePage",targeType:e})]}))}))},T=function(e,t){w(e,{message:t})},S=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=j("mobile").trim();r===(null==s?void 0:s.account)?(E.current=null!==(n=null==s?void 0:s.code)&&void 0!==n?n:"",e()):(br(c.j.CHECK_ACCOUNT),Object(l.a)({account:r,scene:"register"}).then((function(n){var r=n.token,a=n.result;E.current=r,a||(w("mobile",{message:o.a.createElement(o.a.Fragment,null,p()("此手机号已注册，"),o.a.createElement("span",{onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return br(c.j.GO_TO_LOGIN_BY_ERROR,{target_page_type:c.h.LoginByMobile}),[2,C(c.h.LoginByMobile)]}))}))}},p()("立即登录")))}),br(c.j.CHECK_ACCOUNT_RESULT_ERROR),t(new Error)),e()})).catch(t))}))]}))}))},I=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){return e=j("mobile"),e="+86"+String(e).trim(),[2,Object(l.f)({mobile:e,scene:c.l.REGISTER,type:"msg",code:E.current,setError:T})]}))}))};return o.a.createElement(_,{scene:d},(null==u?void 0:u.inviteGuid)?o.a.createElement(P,{text:p()("加入企业"),withBack:!1}):o.a.createElement(X,{curType:c.h.RegisterByMobilePersonal,onChange:C,track:br}),o.a.createElement(er,{onSubmit:O((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return g(!0),[2,[S,I].reduce((function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,e.then(t)]}))}))}),Promise.resolve()).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"next",data:e,extra:{account:e.mobile,code:E.current}})]}))}))})).catch((function(){return g(!1)}))]}))}))}))},o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("手机号"),errorMsg:null===(t=x.mobile)||void 0===t?void 0:t.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:y}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:h}),!k&&o.a.createElement(Pn,{pageType:c.h.RegisterByMobilePersonal,track:br}),o.a.createElement(un,{pageType:c.h.RegisterByMobilePersonal,onTypeChange:C,track:br}),o.a.createElement(Ye,null,k&&o.a.createElement(He,{types:["wechat"],scene:d,isRegist:!0,track:br,changeStepType:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,f({type:"changeStep",targeType:e})]}))}))}}),o.a.createElement(ee,{type:"register",onTypeChange:C,track:br}))))},registerByMobileTeam:function(e){var t,n,r=e.defaultValue,s=e.errMap,u=e.extra,d=e.config,f=e.scene,b=e.changeStep,h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],y=Object(m.useForm)({defaultValues:r}),O=y.register,j=y.handleSubmit,w=y.getValues,x=y.setError,E=y.formState.errors,k=Object(a.useRef)("");Object(a.useEffect)((function(){return hr(c.j.VIEW_REGISTER_BY_MOBILE)}),[]),Object(a.useEffect)((function(){s&&Object.keys(s).forEach((function(e){x(e,{message:s[e]})}))}),[s,x]);var C=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,b({type:"changePage",targeType:e})]}))}))},T=function(e,t){x(e,{message:t})},S=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=w("mobile").trim();r===(null==u?void 0:u.account)?(k.current=null!==(n=null==u?void 0:u.code)&&void 0!==n?n:"",e()):(hr(c.j.CHECK_ACCOUNT),Object(l.a)({account:r,scene:"register"}).then((function(n){var r=n.token,a=n.result;k.current=r,a||(x("mobile",{message:o.a.createElement(o.a.Fragment,null,p()("此手机号已注册，"),o.a.createElement("span",{onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return hr(c.j.GO_TO_LOGIN_BY_ERROR,{target_page_type:c.h.LoginByMobile}),[2,C(c.h.LoginByMobile)]}))}))}},p()("立即登录")))}),hr(c.j.CHECK_ACCOUNT_RESULT_ERROR),t(new Error)),e()})).catch(t))}))]}))}))},I=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){return e=w("mobile"),e="+86"+String(e).trim(),[2,Object(l.f)({mobile:e,scene:c.l.REGISTER,type:"msg",code:k.current,setError:T})]}))}))};return o.a.createElement(_,{scene:f},o.a.createElement(X,{curType:c.h.RegisterByMobileTeam,withChange:!(null==d?void 0:d.isEnterpriseOnly),onChange:C,track:hr}),o.a.createElement(er,{onSubmit:j((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return v(!0),[2,[S,I].reduce((function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,e.then(t)]}))}))}),Promise.resolve()).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,b({type:"next",data:e,extra:{account:e.mobile,code:k.current}})]}))}))})).catch((function(){return v(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"teamName",itemType:c.d.TeamName,labelText:p()("企业或团队名称"),errorMsg:null===(t=E.teamName)||void 0===t?void 0:t.message,placeholder:p()("用于建立属于您团队/企业的石墨工作平台"),register:O}),o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("手机号"),errorMsg:null===(n=E.mobile)||void 0===n?void 0:n.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:O}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:g}),o.a.createElement(Ye,null,o.a.createElement(ee,{type:"register",onTypeChange:C,track:hr}))))},completeMessagePersonal:function(e){var t,n=e.defaultValue,r=e.errMap,l=e.extra,s=e.config,u=e.scene,d=e.changeStep,f=Object(i.__read)(Object(a.useState)(!1),2),b=f[0],h=f[1],g=Object(i.__read)(Object(a.useState)(!1),2),v=g[0],y=g[1],O=Object(i.__read)(Object(a.useState)(!1),2),j=O[0],w=O[1],x=Object(m.useForm)({defaultValues:n}),E=x.register,k=x.handleSubmit,C=x.setError,T=x.formState.errors,S=Object(a.useRef)({});Object(a.useEffect)((function(){r&&Object.keys(r).forEach((function(e){C(e,{message:r[e]})}))}),[r,C]);var I=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return h(!0),[2,d({type:"next",data:e,extra:{account:null==l?void 0:l.account,code:null==l?void 0:l.code}}).catch((function(){return h(!1)}))]}))}))};return o.a.createElement(_,{scene:u},o.a.createElement(P,{text:p()("完善信息"),withBack:!1}),o.a.createElement(er,{onSubmit:k((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return S.current=e,j?[3,1]:(y(!0),[3,3]);case 1:return[4,I(S.current)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))},o.a.createElement(An,{url:null==n?void 0:n.avatar}),o.a.createElement(qe,{inputName:"name",itemType:c.d.Name,labelText:p()("用户名"),errorMsg:null===(t=T.name)||void 0===t?void 0:t.message,placeholder:p()("请输入用户名"),register:E}),o.a.createElement(Ye,null,o.a.createElement(Ze,null,o.a.createElement(zn,{agree:!!j,handleAgreementPromptClose:function(){return y(!1)},toggleAgreementCheckbox:function(e){"A"!==e.target.tagName&&(y(!!j&&v),w(!j))},handleSignUpConfirm:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return w(!0),y(!1),[4,I(S.current)];case 1:return e.sent(),[2]}}))}))},showAgreementPrompt:v,agreementPromptType:"modal"})),o.a.createElement(Ze,null,o.a.createElement(Xe,{text:(null==s?void 0:s.inviteGuid)?p()("注册并加入企业"):p()("注册并进入石墨"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:b})))))},completeMessageTeam:function(e){var t,n,r=e.defaultValue,l=e.errMap,s=e.extra,u=e.scene,d=e.changeStep,f=Object(i.__read)(Object(a.useState)(!1),2),b=f[0],h=f[1],g=Object(m.useForm)({defaultValues:r}),v=g.register,y=g.handleSubmit,O=g.setError,j=g.formState.errors;Object(a.useEffect)((function(){return yr(c.j.VIEW_COMPLETE_MESSAGE)}),[]),Object(a.useEffect)((function(){l&&Object.keys(l).forEach((function(e){O(e,{message:l[e]})}))}),[l,O]);return o.a.createElement(_,{scene:u},o.a.createElement(P,{text:p()("完善信息"),withBack:!1}),o.a.createElement(er,{onSubmit:y((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return h(!0),[2,d({type:"next",data:e,extra:{account:null==s?void 0:s.account,code:null==s?void 0:s.code}}).catch((function(){return h(!1)}))]}))}))}))},o.a.createElement("div",{className:"sub-title"},p()("注册完成后，将有专属产品顾问与您联系，帮助建立属于您企业或团队的石墨工作平台")),o.a.createElement(qe,{inputName:"teamName",itemType:c.d.TeamName,labelText:p()("企业或团队名称"),errorMsg:null===(t=j.teamName)||void 0===t?void 0:t.message,placeholder:p()("用于建立属于您团队/企业的石墨工作平台"),register:v}),o.a.createElement(qe,{inputName:"name",itemType:c.d.Name,labelText:p()("您的名字"),errorMsg:null===(n=j.name)||void 0===n?void 0:n.message,placeholder:p()("输入您的名字"),register:v}),o.a.createElement(Ye,null,o.a.createElement(Ze,null,o.a.createElement(Xe,{text:p()("免费使用"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:b})))))},verifyCode:function(e){var t=e.errMap,n=e.extra,r=e.scene,u=e.changeStep,d=Object(i.__read)(Object(a.useState)(!0),2),f=d[0],b=d[1],h=Object(m.useForm)(),g=h.control,v=h.handleSubmit,y=h.setError,O=h.formState.errors;Object(a.useEffect)((function(){return sr(c.j.VIEW_VERIFY_CODE)}),[]),Object(a.useEffect)((function(){t&&Object.keys(t).forEach((function(e){y(e,{message:t[e]})}))}),[t,y]);var j=function(e,t){y(e,{message:t})},w=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){return e="+86"+String(null==n?void 0:n.account).trim(),[2,Object(l.f)({mobile:e,scene:c.l.LOGIN,type:f?"msg":"voice",code:null==n?void 0:n.code,errKey:"verifyCode",setError:j})]}))}))},x=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,u({type:"next",data:e,extra:{account:null==n?void 0:n.account,code:null==n?void 0:n.code}})]}))}))},E=function(){v(x)().catch((function(){return null}))};return o.a.createElement(_,{scene:r},o.a.createElement(P,{text:p()("验证手机号"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,u({type:"back"})]}))}))}}),o.a.createElement(er,null,o.a.createElement(m.Controller,{control:g,name:"verifyCode",rules:{validate:Object(s.C)(c.d.VerifyCode)},render:function(e){var t,r=e.onChange;return o.a.createElement(at,{errorMsg:null===(t=O.verifyCode)||void 0===t?void 0:t.message,verifyByMsg:f,mobile:null==n?void 0:n.account,autoSubmit:!0,onFinish:E,onChange:r,onRequestVerifyCode:w,setVerifyByMsg:b})}})))},verifyCodeWithAgreePersonal:function(e){var t=e.errMap,n=e.extra,r=e.config,u=e.scene,d=e.changeStep,f=Object(i.__read)(Object(a.useState)(!0),2),b=f[0],h=f[1],g=Object(i.__read)(Object(a.useState)(!1),2),v=g[0],y=g[1],O=Object(i.__read)(Object(a.useState)(!1),2),j=O[0],w=O[1],x=Object(m.useForm)(),E=x.control,k=x.handleSubmit,C=x.setError,T=x.formState.errors,S=Object(i.__read)(Object(a.useState)(!1),2),I=S[0],N=S[1],R=Object(a.useRef)({});Object(a.useEffect)((function(){return ur(c.j.VIEW_VERIFY_CODE)}),[]),Object(a.useEffect)((function(){t&&Object.keys(t).forEach((function(e){C(e,{message:t[e]})}))}),[t,C]);var M=function(e,t){C(e,{message:t})},A=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){return e="+86"+String(null==n?void 0:n.account).trim(),[2,Object(l.f)({mobile:e,scene:c.l.REGISTER,type:b?"msg":"voice",code:null==n?void 0:n.code,errKey:"verifyCode",setError:M,setVerifyByMsg:h})]}))}))},B=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return N(!0),[2,d({type:"next",data:e,extra:{account:null==n?void 0:n.account,code:null==n?void 0:n.code}}).catch((function(){return N(!1)}))]}))}))};return o.a.createElement(_,{scene:u},o.a.createElement(P,{text:p()("验证手机号"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,d({type:"back"})]}))}))}}),o.a.createElement(er,{onSubmit:k((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return R.current=e,j?[3,1]:(y(!0),[3,3]);case 1:return[4,B(R.current)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))},o.a.createElement(m.Controller,{control:E,name:"verifyCode",rules:{validate:Object(s.C)(c.d.VerifyCode)},render:function(e){var t,r=e.onChange;return o.a.createElement(at,{errorMsg:null===(t=T.verifyCode)||void 0===t?void 0:t.message,verifyByMsg:b,mobile:null==n?void 0:n.account,onChange:r,onRequestVerifyCode:A,setVerifyByMsg:h})}}),o.a.createElement(Ye,null,o.a.createElement(Ze,null,o.a.createElement(zn,{agree:!!j,handleAgreementPromptClose:function(){return y(!1)},toggleAgreementCheckbox:function(e){"A"!==e.target.tagName&&(y(!!j&&v),w(!j))},handleSignUpConfirm:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return w(!0),y(!1),[4,B(R.current)];case 1:return e.sent(),[2]}}))}))},showAgreementPrompt:v,agreementPromptType:"component"!==u?"modal":"text"})),o.a.createElement(Ze,null,o.a.createElement(Xe,{text:(null==r?void 0:r.inviteGuid)?p()("注册并加入企业"):p()("免费使用"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:I})))))},verifyCodeWithAgreeTeam:function(e){var t=e.errMap,n=e.extra,r=e.scene,u=e.changeStep,d=Object(i.__read)(Object(a.useState)(!0),2),f=d[0],b=d[1],h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],y=Object(i.__read)(Object(a.useState)(!1),2),O=y[0],j=y[1],w=Object(m.useForm)(),x=w.control,E=w.handleSubmit,k=w.setError,C=w.formState.errors,T=Object(i.__read)(Object(a.useState)(!1),2),S=T[0],I=T[1],N=Object(a.useRef)({});Object(a.useEffect)((function(){return dr(c.j.VIEW_VERIFY_CODE)}),[]),Object(a.useEffect)((function(){t&&Object.keys(t).forEach((function(e){k(e,{message:t[e]})}))}),[t,k]);var R=function(e,t){k(e,{message:t})},M=function(){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(t){return e="+86"+String(null==n?void 0:n.account).trim(),[2,Object(l.f)({mobile:e,scene:c.l.REGISTER,type:f?"msg":"voice",code:null==n?void 0:n.code,errKey:"verifyCode",setError:R,setVerifyByMsg:b})]}))}))},A=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return I(!0),[2,u({type:"next",data:e,extra:{account:null==n?void 0:n.account,code:null==n?void 0:n.code}}).catch((function(){return I(!1)}))]}))}))};return o.a.createElement(_,{scene:r},o.a.createElement(P,{text:p()("验证手机号"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,u({type:"back"})]}))}))}}),o.a.createElement(er,{onSubmit:E((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return N.current=e,O?[3,1]:(v(!0),[3,3]);case 1:return[4,A(N.current)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))},o.a.createElement(m.Controller,{control:x,name:"verifyCode",rules:{validate:Object(s.C)(c.d.VerifyCode)},render:function(e){var t,r=e.onChange;return o.a.createElement(at,{errorMsg:null===(t=C.verifyCode)||void 0===t?void 0:t.message,verifyByMsg:f,mobile:null==n?void 0:n.account,onChange:r,onRequestVerifyCode:M,setVerifyByMsg:b})}}),o.a.createElement(Ye,null,o.a.createElement(Ze,null,o.a.createElement(zn,{agree:!!O,handleAgreementPromptClose:function(){return v(!1)},toggleAgreementCheckbox:function(e){"A"!==e.target.tagName&&(v(!!O&&g),j(!O))},handleSignUpConfirm:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return j(!0),v(!1),[4,A(N.current)];case 1:return e.sent(),[2]}}))}))},showAgreementPrompt:g,agreementPromptType:"component"!==r?"modal":"text"})),o.a.createElement(Ze,null,o.a.createElement(Xe,{text:p()("免费注册"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:S})))))},verifyPasswordWithAgree:function(e){var t,n=e.errMap,r=e.extra,l=e.scene,s=e.config,u=e.changeStep,d=Object(i.__read)(Object(a.useState)(!1),2),f=d[0],b=d[1],h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],y=Object(m.useForm)(),O=y.register,j=y.watch,w=y.handleSubmit,x=y.setError,E=y.formState.errors,k=Object(i.__read)(Object(a.useState)(!1),2),C=k[0],T=k[1],S=Object(a.useRef)({});Object(a.useEffect)((function(){return pr(c.j.VIEW_VERIFY_PASSWORD)}),[]),Object(a.useEffect)((function(){n&&Object.keys(n).forEach((function(e){x(e,{message:n[e]})}))}),[n,x]);var I=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return T(!0),[2,u({type:"next",data:e,extra:{account:null==r?void 0:r.account,code:null==r?void 0:r.code}}).catch((function(){return T(!1)}))]}))}))};return o.a.createElement(_,{scene:l},o.a.createElement(P,{text:p()("设置密码"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,u({type:"back"})]}))}))}}),o.a.createElement(er,{onSubmit:w((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return S.current=e,g?[3,1]:(b(!0),[3,3]);case 1:return[4,I(S.current)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))},o.a.createElement(cn,{errorMsg:null===(t=E.password)||void 0===t?void 0:t.message,register:O,watch:j,account:null==r?void 0:r.account}),o.a.createElement(Ye,null,o.a.createElement(Ze,null,o.a.createElement(zn,{agree:!!g,handleAgreementPromptClose:function(){return b(!1)},toggleAgreementCheckbox:function(e){"A"!==e.target.tagName&&(b(!!g&&f),v(!g))},handleSignUpConfirm:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return v(!0),b(!1),[4,I(S.current)];case 1:return e.sent(),[2]}}))}))},showAgreementPrompt:f,agreementPromptType:"component"!==l?"modal":"text"})),o.a.createElement(Ze,null,o.a.createElement(Xe,{text:(null==s?void 0:s.inviteGuid)?p()("注册并加入企业"):p()("免费使用"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:C})))))},riskWarning:function(e){var t=e.changeStep,n=Object(s.m)(),r=n.inviteGuid,c=n.referer,u=n.inviter,d=Object(i.__read)(Object(a.useState)(!1),2),f=d[0],m=d[1],b=Object(i.__read)(Object(a.useState)(!1),2),h=b[0],g=b[1],v=Object(i.__read)(Object(a.useState)(!1),2),_=v[0],y=v[1],O=Object(i.__read)(Object(a.useState)(!1),2),j=O[0],w=O[1],x=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,null==t?void 0:t({type:"next"})]}))}))};return o.a.createElement(jr,null,o.a.createElement(Or,{showModal:j,inviteGuid:r,submit:x,setShowModal:w}),o.a.createElement(P,{text:p()("风险提示"),withBack:!1,subTitle:p()("请阅读并确认账号加入企业的风险：")}),o.a.createElement(wr,null,o.a.createElement(xr,{onClick:function(){return m(!f)}},o.a.createElement(Dn.p,{checked:f}),o.a.createElement("span",null,p()("加入企业后，账号及账号内全部内容的所有权归属于企业。"))),o.a.createElement(xr,{onClick:function(){return g(!h)}},o.a.createElement(Dn.p,{checked:h}),o.a.createElement("span",null,p()("企业管理员将有权禁用你的账号。"))),o.a.createElement(xr,{onClick:function(){return y(!_)}},o.a.createElement(Dn.p,{checked:_}),o.a.createElement("span",null,p()("账号被禁用后，你将无法登录该账号，也无法访问账号里的文件。")))),o.a.createElement(Er,null,o.a.createElement(Dn.l,{type:"primary",block:!0,size:"xl",disabled:!f||!h||!_,onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!r)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(l.h)({inviteGuid:r,referer:c,inviter:u})];case 2:return i.sent(),x(),[3,4];case 3:return e=i.sent(),13012===(null==(t=e.data)?void 0:t.errorCode)?w(!0):Dn.w.error({content:null!==(n=null==t?void 0:t.error)&&void 0!==n?n:p()("加入企业失败")}),[3,4];case 4:return[2]}}))}))}},p()("我已知晓，确认用该账号加入")),o.a.createElement(Dn.l,{type:"secondary",block:!0,size:"xl",onClick:function(){return function(e){Object(s.d)("/personalRegist?inviteGuid="+(null!=e?e:"")+"&"+location.search.slice(1))}(r)}},p()("注册新账号加入企业"))))},resetPasswordByMobile:function(e){var t,n,r,u=e.defaultValue,d=e.errMap,f=e.scene,b=e.changeStep,h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],y=Object(i.__read)(Object(a.useState)(!0),2),O=y[0],j=y[1],w=Object(i.__read)(Object(a.useState)(c.m.SMS),2),x=w[0],E=w[1],k=Object(m.useForm)({defaultValues:u}),C=k.register,T=k.handleSubmit,S=k.getValues,I=k.setError,N=k.watch,R=k.formState.errors,P=N("mobile");Object(a.useEffect)((function(){P&&Object(s.t)(P)&&j(!1)}),[P]),Object(a.useEffect)((function(){d&&Object.keys(d).forEach((function(e){I(e,{message:d[e]})}))}),[d,I]);var M=function(e,t){I(e,{message:t})};return o.a.createElement(_,{scene:f},o.a.createElement($,{defaultType:c.h.ResetPasswordByMobile,onChange:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,b({type:"changePage",targeType:e})]}))}))}}),o.a.createElement(er,{onSubmit:T((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return v(!0),[2,b({type:"next",data:e,extra:{account:e.mobile}}).catch((function(){return v(!1)}))]}))}))}))},o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("输入手机号"),errorMsg:null===(t=R.mobile)||void 0===t?void 0:t.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:C}),o.a.createElement(tt,{inputName:"verifyCode",itemType:c.d.VerifyCode,labelText:p()("输入验证码"),errorMsg:null===(n=R.verifyCode)||void 0===n?void 0:n.message,placeholder:p()("4位数字"),onRequestVerifyCode:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=S("mobile"),e="+86"+String(e).trim(),j(!0),[2,Object(l.f)({mobile:e,scene:c.l.RESET,type:"msg",setError:M}).finally((function(){return j(!1)}))]}))}))},verifyMethod:x,onChangeVerifyMethod:function(e){E(e===c.m.SMS?c.m.VOICE:c.m.SMS)},disabled:O,register:C}),o.a.createElement(Ct,{inputName:"password",itemType:c.d.Password,labelText:p()("输入新密码"),errorMsg:null===(r=R.password)||void 0===r?void 0:r.message,placeholder:p()("请输入新密码"),register:C}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:g})))},resetPasswordByEmail:function(e){var t,n,r,u=e.defaultValue,d=e.errMap,f=e.scene,b=e.changeStep,h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],y=Object(i.__read)(Object(a.useState)(!0),2),O=y[0],j=y[1],w=Object(m.useForm)({defaultValues:u}),x=w.register,E=w.handleSubmit,k=w.getValues,C=w.setError,T=w.watch,S=w.formState.errors,I=T("email");Object(a.useEffect)((function(){I&&Object(s.r)(I.trim())&&j(!1)}),[I]),Object(a.useEffect)((function(){d&&Object.keys(d).forEach((function(e){C(e,{message:d[e]})}))}),[d,C]);var N=function(e,t){C(e,{message:t})};return o.a.createElement(_,{scene:f},o.a.createElement($,{defaultType:c.h.ResetPasswordByEmail,onChange:function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,b({type:"changePage",targeType:e})]}))}))}}),o.a.createElement(er,{onSubmit:E((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return v(!0),[2,b({type:"next",data:e,extra:{account:e.mobile}}).catch((function(){return v(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"email",itemType:c.d.Email,labelText:p()("输入邮箱"),errorMsg:null===(t=S.email)||void 0===t?void 0:t.message,stepType:c.k.ResetPasswordByEmail,placeholder:p()("请输入您的邮箱地址"),register:x}),o.a.createElement(tt,{inputName:"verifyCode",itemType:c.d.VerifyCode,labelText:p()("输入验证码"),errorMsg:null===(n=S.verifyCode)||void 0===n?void 0:n.message,placeholder:p()("4位数字"),onRequestVerifyCode:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=k("email").trim(),j(!0),[2,Object(l.f)({mobile:"",email:e,scene:c.l.RESET,type:"msg",setError:N}).finally((function(){return j(!1)}))]}))}))},disabled:O,verifyMethod:c.m.EMAIL,register:x}),o.a.createElement(Ct,{inputName:"password",itemType:c.d.Password,labelText:p()("输入新密码"),errorMsg:null===(r=S.password)||void 0===r?void 0:r.message,placeholder:p()("请输入新密码"),register:x}),o.a.createElement(Xe,{text:p()("下一步"),type:"black",dataTest:"btn-submit",disabled:g})))},resetPasswordSuccess:function(e){var t=e.scene,n=e.changeStep,r=Object(i.__read)(Object(a.useState)(!1),2),c=r[0],l=r[1];return o.a.createElement(_,{scene:t},o.a.createElement(P,{text:p()("重置成功"),withBack:!0,onBack:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,n({type:"back"})]}))}))}}),o.a.createElement(er,null,o.a.createElement(Hr,null,o.a.createElement(Gr,null),o.a.createElement("div",null,p()("密码已重置"))),o.a.createElement(Xe,{text:p()("立即登录"),type:"black",dataTest:"btn-submit",className:"footer-button",onClick:function(){l(!0),Object(s.d)("/login"+location.search)},disabled:c})))},singleTeamRegister:function(e){var t,n,r,u=e.errMap,d=e.extra,f=e.config,b=e.scene,h=e.changeStep,g=Object(i.__read)(Object(a.useState)(c.m.SMS),2),v=g[0],_=g[1],y=Object(i.__read)(Object(a.useState)(!1),2),O=y[0],j=y[1],w=Object(i.__read)(Object(a.useState)(!0),2),x=w[0],E=w[1],k=Object(i.__read)(Object(a.useState)(!1),2),C=k[0],T=k[1],S=Object(i.__read)(Object(a.useState)(!1),2),I=S[0],N=S[1],R=Object(m.useForm)(),P=R.register,M=R.handleSubmit,A=R.setError,B=R.watch,D=R.getValues,L=R.formState.errors,z=Object(a.useRef)(""),F=Object(a.useRef)({}),V=B("mobile");Object(a.useEffect)((function(){V&&Object(s.t)(V)&&E(!1)}),[V]),Object(a.useEffect)((function(){u&&Object.keys(u).forEach((function(e){A(e,{message:u[e]})}))}),[u,A]);var U=function(e,t){A(e,{message:t})},G=function(e,t){void 0===e&&(e=c.h.SingleLoginByPassword),h({type:"changePage",targeType:e,extra:t})},H=Object(a.useCallback)((function(){null==h||h({type:"changePage",targeType:c.h.SingleLoginByPassword})}),[h]),W=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return j(!0),[2,Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=D("mobile").trim();r===(null==d?void 0:d.account)?(z.current=null!==(n=null==d?void 0:d.code)&&void 0!==n?n:"",e()):Object(l.a)({account:r,scene:"register"}).then((function(n){var r=n.token,i=n.result;z.current=r,i||(A("mobile",{message:o.a.createElement(o.a.Fragment,null,p()("此手机号已注册，"),o.a.createElement("span",{onClick:function(){return G(c.h.SingleLoginByPassword)}},p()("立即登录")))}),t(new Error)),e()})).catch(t)}))]}))})).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,h({type:"next",data:e,extra:{account:e.mobile,code:z.current}})]}))}))})).catch((function(){return j(!1)}))]}))}))};return o.a.createElement(Yr,null,"celebration"===(null==f?void 0:f.theme)?o.a.createElement(J,null,o.a.createElement(Zr,null,p()("注册企业版账号完成抢购")),o.a.createElement("div",{className:"change-tab",onClick:H,"data-test":"btn-change-regist-version"},o.a.createElement(Q,null),p()("已有账号，立即登录免费领取"))):o.a.createElement(X,{curType:c.h.RegisterByMobileTeam,withChange:null==f?void 0:f.isEnterpriseOnly}),o.a.createElement("form",{className:"form-wrapper",onSubmit:M((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return F.current=e,I||"celebration"===(null==f?void 0:f.theme)?[3,1]:(T(!0),[3,3]);case 1:return[4,W(F.current)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))},o.a.createElement(qe,{inputName:"teamName",itemType:c.d.TeamName,labelText:p()("企业或团队名称"),errorMsg:null===(t=L.teamName)||void 0===t?void 0:t.message,placeholder:p()("用于建立属于您团队/企业的石墨工作平台"),register:P}),o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("输入手机号"),errorMsg:null===(n=L.mobile)||void 0===n?void 0:n.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:P}),o.a.createElement(tt,{inputName:"verifyCode",itemType:c.d.VerifyCode,labelText:p()("输入验证码"),errorMsg:null===(r=L.verifyCode)||void 0===r?void 0:r.message,placeholder:p()("4位数字"),onRequestVerifyCode:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=D("mobile"),e="+86"+String(e).trim(),E(!0),[2,Object(l.f)({mobile:e,scene:c.l.REGISTER,type:"msg",setError:U}).finally((function(){return E(!1)}))]}))}))},verifyMethod:v,onChangeVerifyMethod:function(e){_(e===c.m.SMS?c.m.VOICE:c.m.SMS)},disabled:x,register:P}),"celebration"===(null==f?void 0:f.theme)?o.a.createElement(o.a.Fragment,null,o.a.createElement(Kr,{type:"submit",disabled:O},p()("立即免费试用")),o.a.createElement(Wr,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement(zn,{agree:!!I,handleAgreementPromptClose:function(){return T(!1)},toggleAgreementCheckbox:function(e){"A"!==e.target.tagName&&(T(!!I&&C),N(!I))},handleSignUpConfirm:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return N(!0),T(!1),[4,W(F.current)];case 1:return e.sent(),[2]}}))}))},showAgreementPrompt:C,agreementPromptType:"component"!==b?"modal":"text"}),o.a.createElement(Xe,{text:p()("注册领取权益"),type:"black",dataTest:"btn-submit",className:"footer-button",disabled:O}),o.a.createElement(Ye,null,o.a.createElement(ee,{type:"register",onTypeChange:function(){return G(c.h.SingleLoginByPassword)}})))))},singleLoginByMobile:function(e){var t,n,r=e.errMap,u=e.changeStep,d=Object(i.__read)(Object(a.useState)(c.m.SMS),2),f=d[0],b=d[1],h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],_=Object(i.__read)(Object(a.useState)(!0),2),y=_[0],O=_[1],j=Object(m.useForm)(),w=j.register,x=j.handleSubmit,E=j.setError,k=j.watch,C=j.getValues,T=j.formState.errors,S=Object(a.useRef)(""),I=k("mobile");Object(a.useEffect)((function(){I&&Object(s.t)(I)&&O(!1)}),[I]),Object(a.useEffect)((function(){r&&Object.keys(r).forEach((function(e){E(e,{message:r[e]})}))}),[r,E]);var N=function(e,t){var n=t===p()("用户不存在")?P():t;E(e,{message:n})},R=function(e,t){void 0===e&&(e=c.h.SingleLoginByPassword),u({type:"changePage",targeType:e,extra:t})},P=function(){return o.a.createElement(o.a.Fragment,null,p()("此账号不存在，"),o.a.createElement("span",{onClick:function(){var e=c.h.SinglePersonalRegisterByMobile;return R(e,{isFromError:!0})}},p()("前往注册")))};return o.a.createElement(Yr,null,o.a.createElement(J,null,o.a.createElement(Zr,null,p()("登录石墨文档账号")),o.a.createElement("div",{className:"change-tab",onClick:function(){return R(c.h.SingleTeamRegister)},"data-test":"btn-change-regist-version"},o.a.createElement(Q,null),p()("注册新账号"))),o.a.createElement(Qr,null,o.a.createElement(A,{curType:c.h.LoginByMobile,onTabChange:function(){return R()}})),o.a.createElement("form",{className:"form-wrapper",onSubmit:x((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return v(!0),[2,u({type:"next",data:e,extra:{account:e.mobile,code:S.current}}).catch((function(){return v(!1)}))]}))}))}))},o.a.createElement(sn,{inputName:"mobile",itemType:c.d.Mobile,labelText:p()("输入手机号"),errorMsg:null===(t=T.mobile)||void 0===t?void 0:t.message,placeholder:p()("暂不支持大陆地区以外的手机号"),register:w}),o.a.createElement(tt,{inputName:"verifyCode",itemType:c.d.VerifyCode,labelText:p()("输入验证码"),errorMsg:null===(n=T.verifyCode)||void 0===n?void 0:n.message,placeholder:p()("4位数字"),onRequestVerifyCode:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){return e=C("mobile"),e="+86"+String(e).trim(),O(!0),[2,Object(l.f)({mobile:e,scene:c.l.LOGIN,type:"msg",code:S.current,setError:N}).finally((function(){return O(!1)}))]}))}))},verifyMethod:f,onChangeVerifyMethod:function(e){b(e===c.m.SMS?c.m.VOICE:c.m.SMS)},disabled:y,register:w}),o.a.createElement(Xr,null,o.a.createElement(Kr,{disabled:g,type:"submit"},p()("立即免费试用"))),o.a.createElement(Pn,{pageType:c.h.LoginByMobile,showAppBtn:!1})))},singleLoginByPassword:function(e){var t,n,r,u=e.errMap,d=e.extra,f=e.config,b=e.changeStep,h=Object(i.__read)(Object(a.useState)(!1),2),g=h[0],v=h[1],_=Object(m.useForm)(),y=_.register,O=_.handleSubmit,j=_.setError,w=_.getValues,x=_.formState.errors,E=Object(a.useRef)("");Object(a.useEffect)((function(){u&&Object.keys(u).forEach((function(e){j(e,{message:u[e]})}))}),[u,j]);var k=function(e,t){void 0===e&&(e=c.h.SingleLoginByMobile),b({type:"changePage",targeType:e,extra:t})};return o.a.createElement(Yr,null,o.a.createElement(J,null,o.a.createElement(Zr,null,p()("登录石墨文档账号")),o.a.createElement("div",{className:"change-tab",onClick:function(){return k(c.h.SingleTeamRegister)},"data-test":"btn-change-regist-version"},o.a.createElement(Q,null),p()("注册新账号"))),o.a.createElement(Qr,null,o.a.createElement(A,{curType:c.h.LoginByPassword,onTabChange:function(){return k()}})),o.a.createElement("form",{className:"form-wrapper",onSubmit:O((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return v(!0),[2,Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n,r=w("account");r===(null==d?void 0:d.account)?(E.current=null!==(n=null==d?void 0:d.code)&&void 0!==n?n:"",e()):Object(l.a)({account:r,scene:"login"}).then((function(n){var r=n.token,i=n.result;E.current=r,i||(j("account",{message:o.a.createElement(o.a.Fragment,null,p()("此账号不存在，"),o.a.createElement("span",{onClick:function(){var e=c.h.SinglePersonalRegisterByMobile;return k(e,{isFromError:!0})}},p()("前往注册")))}),t(new Error)),e()})).catch(t)}))]}))})).then((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,b({type:"next",data:e,extra:{account:e.mobile,code:E.current}})]}))}))})).catch((function(){return v(!1)}))]}))}))}))},o.a.createElement(qe,{inputName:"account",itemType:c.d.Account,labelText:p()("手机号/邮箱"),errorMsg:null===(t=x.account)||void 0===t?void 0:t.message,register:y}),o.a.createElement(Ct,{stepType:c.k.LoginByPassword,inputName:"password",itemType:c.d.Password,labelText:p()("密码"),errorMsg:null===(n=x.password)||void 0===n?void 0:n.message,register:y,forgetPassword:function(){Object(s.b)()?k(c.h.ResetPasswordByMobile):location.href="/resetPassword?redirect_url="+encodeURIComponent(location.href)},withForget:null===(r=null==f?void 0:f.withForget)||void 0===r||r}),o.a.createElement(Xr,null,o.a.createElement(Kr,{disabled:g,type:"submit"},p()("立即免费试用"))),o.a.createElement(Pn,{pageType:c.h.LoginByMobile,showAppBtn:!1})))},singlePersonalRegisterByMobile:Jr,singlePersonalRegisterByEmail:Jr},ei=function(e){var t=Object(u.b)(e),n=t.currentValue,r=t.changeStep,i=e.stepType,a=e.errorMap,c=e.extra,l=e.config,s=e.scene,d=void 0===s?"page":s,p=$r[i];return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{defaultValue:n,errMap:a,extra:c,scene:d,config:l,changeStep:r}),o.a.createElement("div",{id:"geetestCaptcha"}))};!function(e){e.LOGINED="logined"}(Vr||(Vr={}));var ti=function(e){var t=e.defaultPage,n=e.crmExtra,r=e.config,d=e.onStatusChange,p=Object(i.__read)(Object(a.useState)(t),2),f=p[0],m=p[1],b=Object(i.__read)(Object(a.useState)(),2),h=b[0],g=b[1],v=Object(i.__read)(Object(a.useState)(c.g[t][0]),2),_=v[0],y=v[1],O=Object(i.__read)(Object(a.useState)(0),2),j=O[0],w=O[1],x=Object(i.__read)(Object(a.useState)(),2),E=x[0],k=x[1];Object(a.useLayoutEffect)((function(){Object(l.d)().then((function(){return null==d?void 0:d({messageType:Vr.LOGINED})})).catch((function(){return null}))}),[]);var C=Object(u.a)({pageType:f,crmExtra:n,setErrorMap:g,setExtra:k,onFinish:function(){return null==d?void 0:d({messageType:Vr.LOGINED})}});return o.a.createElement(ei,{pageType:f,stepType:_,extra:E,customSubmitMap:C,errorMap:h,currentIndex:j,config:r,scene:"component",typeChangeHandler:function(e){var t=e.pageType,n=e.stepIndex,i=e.stepType,a=e.extra;if(a&&(null==k||k(a)),i)y(i),w(j+1);else{var o=Object(s.o)(t,f,null==r?void 0:r.isEnterpriseOnly);t!==f&&(m(o),g({})),y(c.g[o][n]),w(n)}}})}},1059:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 20"},this.props),i.a.createElement("path",{fill:"#555",d:"M6.5 12L9 8H4z"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1060:function(e,t,n){"use strict";n.r(t),n.d(t,"UserConfigStore",(function(){return u})),n.d(t,"UserConfigState",(function(){})),n.d(t,"UserConfigService",(function(){return d})),n.d(t,"UserConfigQuery",(function(){return f})),n.d(t,"UserConfigFacade",(function(){return m})),n.d(t,"UserConfigApi",(function(){return b})),n.d(t,"ViewMode",(function(){return o.e})),n.d(t,"SortBy",(function(){return o.c})),n.d(t,"SortOrder",(function(){return o.d})),n.d(t,"FolderFilterOptions",(function(){return o.FolderFilterOptions})),n.d(t,"GlobalConfig",(function(){return o.GlobalConfig})),n.d(t,"SPACE_KEY",(function(){return c.b}));var r=n(2),i=n(973),a=n(988),o=n(1020),c=n(1044),l={announcementVisible:!1,sortBy:c.a,sortOrder:o.d.Down,folderFilterOptions:{fileType:"",timeType:c.a},spaceActivityVisible:!1},s={viewMode:o.e.List,pinnedSpaceListExpand:!0,informationDrawerVisible:!1,hasUsedInformationDrawer:!1,pinFolder:!0,viewModeInLocationModal:o.e.List,recentFilterOptions:{fileType:"",creator:"",operation:""},shareFilterOptions:{fileType:"all"},favoriteFilterOptions:{fileType:"all"},trashFilterOptions:{fileType:""},spaceFilterOptions:{timeType:c.a},asideCollapsed:!1,expireAlertClosedAt:0},u=function(e){function t(t){return void 0===t&&(t=s),e.call(this,t)||this}return Object(r.__extends)(t,e),t=Object(r.__decorate)([Object(i.e)({name:"userConfig",producerFn:a.c}),Object(r.__metadata)("design:paramtypes",[Object])],t)}(i.a);var d=function(e){function t(t,n,r){var i=e.call(this,t,"userConfig")||this;return i.store=t,i.storage=n,i.sos=r,i}return Object(r.__extends)(t,e),t.prototype.getByKey=function(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.storage.get(e)];case 1:return n=null!==(t=r.sent())&&void 0!==t?t:s[e],this.store.update((function(t){t[e]=n})),[2,n]}}))}))},t.prototype.getByGuid=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return e?[4,this.storage.get(e)]:[2];case 1:return t=i.sent(),n=Object(r.__assign)(Object(r.__assign)({},l),t),this.store.upsert(e,n),[2,n]}}))}))},t.prototype.setByKey=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.set(e,t)];case 1:return n.sent(),this.store.update((function(n){n[e]=t})),[2]}}))}))},t.prototype.setByGuid=function(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.getByGuid(e)];case 1:return i=null!==(n=o.sent())&&void 0!==n?n:{},a=Object(r.__assign)(Object(r.__assign)({},i),t),[4,this.storage.set(e,a)];case 2:return o.sent(),this.store.upsert(e,a),[2]}}))}))},t.prototype.getSideDrawerState=function(e){var t,n;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,c,l,s,u,d;return Object(r.__generator)(this,(function(p){switch(p.label){case 0:return i=!1,a=!1,o=!1,e?[4,this.getSpaceContainer()]:[3,4];case 1:return[4,p.sent().service.getAnnouncement(e)];case 2:return c=p.sent(),i=c.some((function(e){return!e.isRead})),[4,this.getByGuid(e)];case 3:l=p.sent(),a=null!==(t=null==l?void 0:l.announcementVisible)&&void 0!==t&&t,o=null!==(n=null==l?void 0:l.spaceActivityVisible)&&void 0!==n&&n,p.label=4;case 4:return[4,this.getByKey("informationDrawerVisible")];case 5:return s=p.sent(),[4,this.getByKey("hasUsedInformationDrawer")];case 6:return u=p.sent(),d=function(e){var t=e.hasUnreadAnnouncement,n=e.announcementVisible,r=e.informationDrawerVisible,i=e.spaceActivityVisible,a=e.hasUsedInformationDrawer;return t||n?{announcementVisible:!0,informationDrawerVisible:!1,spaceActivityVisible:!1,hasUsedInformationDrawer:a}:r||!a?{announcementVisible:!1,informationDrawerVisible:!0,spaceActivityVisible:!1,hasUsedInformationDrawer:!0}:i?{informationDrawerVisible:!1,announcementVisible:!1,spaceActivityVisible:!0,hasUsedInformationDrawer:a}:{informationDrawerVisible:!1,announcementVisible:!1,spaceActivityVisible:!1,hasUsedInformationDrawer:!0}}({hasUnreadAnnouncement:i,announcementVisible:a,informationDrawerVisible:s,spaceActivityVisible:o,hasUsedInformationDrawer:u}),[4,this.storeSideDrawerState(Object(r.__assign)({guid:e},d))];case 7:return p.sent(),[2]}}))}))},t.prototype.setSideDrawerState=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:if(t=e.informationDrawerVisible,n=e.announcementVisible,i=e.spaceActivityVisible,[t,n,i].filter(Boolean).length>1)throw new Error("小预览、空间公告、空间动态不能同时显示");return[4,this.storeSideDrawerState(Object(r.__assign)(Object(r.__assign)({},e),{hasUsedInformationDrawer:!!t||void 0}))];case 1:return a.sent(),[2]}}))}))},t.prototype.storeSideDrawerState=function(e){var t,n,a;return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,c,l,s,u,d,p=this;return Object(r.__generator)(this,(function(f){switch(f.label){case 0:return o=e.guid,c=e.informationDrawerVisible,l=e.announcementVisible,s=e.spaceActivityVisible,u=e.hasUsedInformationDrawer,Object(i.h)((function(){p.store.update((function(e){e.informationDrawerVisible=c,Object(i.p)(u)||(e.hasUsedInformationDrawer=!!u)})),o&&p.store.upsert(o,(function(e){return Object(r.__assign)(Object(r.__assign)({},e),{announcementVisible:l,spaceActivityVisible:s})}))})),o?(d=null!==(a=null===(n=null===(t=this.store.getValue())||void 0===t?void 0:t.entities)||void 0===n?void 0:n[o])&&void 0!==a?a:{},[4,this.storage.set(o,Object(r.__assign)(Object(r.__assign)({},d),{announcementVisible:l,spaceActivityVisible:s}))]):[3,2];case 1:f.sent(),f.label=2;case 2:return[4,this.storage.set("informationDrawerVisible",c)];case 3:return f.sent(),Object(i.p)(u)?[3,5]:[4,this.storage.set("hasUsedInformationDrawer",!!u)];case 4:f.sent(),f.label=5;case 5:return[2]}}))}))},t.prototype.getSpaceContainer=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.sos.getContainer("space")]}))}))},t}(n(997).a),p=n(1707),f=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(r.__extends)(t,e),t.prototype.getGlobalConfig=function(e){return this.select(e)},t.prototype.getLocalConfig=function(e){return this.select((function(t){var n;return null===(n=t.entities)||void 0===n?void 0:n[e]}))},t.prototype.getSideDrawerState=function(e){return e?Object(i.l)([this.getGlobalConfig("informationDrawerVisible"),this.getLocalConfig(e)]).pipe(Object(p.a)((function(e){var t,n,i=Object(r.__read)(e,2),a=i[0],o=i[1];return{informationDrawerVisible:!(null==o?void 0:o.announcementVisible)&&!(null==o?void 0:o.spaceActivityVisible)&&a,announcementVisible:null!==(t=null==o?void 0:o.announcementVisible)&&void 0!==t&&t,spaceActivityVisible:null!==(n=null==o?void 0:o.spaceActivityVisible)&&void 0!==n&&n}}))):this.getGlobalConfig("informationDrawerVisible").pipe(Object(p.a)((function(e){return{informationDrawerVisible:e,announcementVisible:!1,spaceActivityVisible:!1}})))},t}(i.b),m=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(r.__extends)(t,e),t.prototype.getLocalConfig=function(e){var t=this;return this.getOrAddResource("localConfig:"+e,(function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,n.getByGuid(e)]}))}))}),(function(t){return t.getLocalConfig(e)}))},t.prototype.fetchLocalConfig=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.service.getByGuid(e)]}))}))},t.prototype.getGlobalConfig=function(e){var t=this;return this.getOrAddResource("globalConfig:"+e,(function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,n.getByKey(e)]}))}))}),(function(t){return t.getGlobalConfig(e)}))},t.prototype.setLocalConfig=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return[2,this.service.setByGuid(e,t)]}))}))},t.prototype.setGlobalConfig=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return[2,this.service.setByKey(e,t)]}))}))},t.prototype.getSideDrawerState=function(e){var t=this;return this.getOrAddResource("sideDrawer:"+(null!=e?e:""),(function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,n.getSideDrawerState(e)]}))}))}),(function(t){return t.getSideDrawerState(e)}))},t.prototype.setSideDrawerState=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.service.setSideDrawerState(e)]}))}))},t}(n(993).a),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(n(996).a)},1061:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(192),i=n(34).withRouter,a=r.connect},1062:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(1144),c={adjustX:1,adjustY:1},l=[0,0];var s=n(1051),u=function(e){function t(t){var n=e.call(this,t)||this;n.onClick=function(e){var t=n.props,r=t.overlay,i=t.onOverlayClick;n.state.closeMenu&&n.setState({visible:!1}),null==i||i(e);var a=r.props.onClick;null==a||a(e)},n.handleVisibleChange=function(e){n.setState({visible:e});var t=n.props.onVisibleChange;null==t||t(e)};var r=n.props,i=r.visible,a=r.defaultVisible,o=r.closeMenu;return n.state={visible:null!=i?i:a,closeMenu:void 0===o||o},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,i=t.children,u=t.showTip,d=t.tipDelay,p=t.transitionName,f=t.animation,m=t.mouseLeaveDelay,b=t.align,h=t.placement,g=t.getPopupContainer,v=t.className,_=t.overlayStyle,y=t.getPlacements,O=t.afterVisibleChange,j=t.trigger,w=t.disabled,x=Object(r.__rest)(t,["prefixCls","children","showTip","tipDelay","transitionName","animation","mouseLeaveDelay","align","placement","getPopupContainer","className","overlayStyle","getPlacements","afterVisibleChange","trigger","disabled"]),E=this.state.visible,k=u?n+"-tip":"",C=(null!=v?v:"")+" "+s.a+" "+k,T=null!==(e=null==y?void 0:y())&&void 0!==e?e:{topLeft:{points:["bl","tl"],offset:[0,-5],overflow:c,targetOffset:l},topCenter:{points:["bc","tc"],offset:[0,-5],overflow:c,targetOffset:l},topRight:{points:["br","tr"],offset:[0,-5],overflow:c,targetOffset:l},bottomLeft:{points:["tl","bl"],offset:[0,5],overflow:c,targetOffset:l},bottomCenter:{points:["tc","bc"],offset:[0,5],overflow:c,targetOffset:l},bottomRight:{points:["tr","br"],offset:[0,5],overflow:c,targetOffset:l}};return u&&this.calcTipsDropdownPosition(T),a.a.createElement(o.a,Object(r.__assign)({},x,{prefixCls:n,popupClassName:C,popupStyle:_,builtinPlacements:T,action:w?[]:j,popupPlacement:h,popupAlign:b,popupTransitionName:p,popupAnimation:f,popupVisible:E,afterPopupVisibleChange:O,popup:this.getMenuElement(),onPopupVisibleChange:this.handleVisibleChange,getPopupContainer:g,mouseLeaveDelay:u?m+d:m}),i)},t.prototype.calcTipsDropdownPosition=function(e){var t=this.props,n=t.tipPositionX,r=t.tipHeight,i=n+r;Object.keys(e).forEach((function(t){var n=e[t],a=n.offset,o=void 0===a?[]:a,c=n.points,l=void 0===c?[]:c,s=o[1]/Math.abs(o[1]);o[1]=o[1]+s*r,l[1]=l[1].replace(/.$/g,"c"),t.indexOf("Left")>0?o[0]=-i:t.indexOf("Right")>0&&(o[0]=i)}))},t.prototype.getMenuElement=function(){var e=this.props,t=e.overlay,n=e.prefixCls,i={onClick:this.onClick};return"string"!=typeof t&&"string"!=typeof(null==t?void 0:t.type)&&(i=Object(r.__assign)(Object(r.__assign)({},i),{prefixCls:n+"-menu"})),a.a.cloneElement(t,i)},t.defaultProps={prefixCls:"sm-dropdown",className:"",minOverlayWidthMatchTrigger:!0,trigger:["click"],showAction:[],hideAction:[],overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft",mask:!1,mouseEnterDelay:.15,mouseLeaveDelay:.1,tipHeight:6,tipPositionX:19,tipDelay:.2},t.getDerivedStateFromProps=function(e,t){var n=t.prevVisible,r=e.visible,i={prevVisible:r};return void 0===r&&n===r||(i.visible=r),i},t}(i.Component);t.a=u},1063:function(e,t,n){"use strict";var r=n(8),i=n.n(r),a=n(1136),o=n.n(a),c=n(11),l=n.n(c),s=n(978);t.a=function(e){var t=e.prefixCls,n=void 0===t?"sm-clipboard-text":t,a=e.className,c=void 0===a?"":a,u=e.onSuccess,d=e.onError,p=e.text,f=e.children,m=Object(r.useRef)();return Object(r.useEffect)((function(){var e=function(){var e=new o.a(null==m?void 0:m.current,{text:function(){return p}});return e.on("success",(function(e){u?u(e):s.a.success(l()("复制成功！"))})),e.on("error",(function(e){d?d(e):(o.a.isSupported()&&s.a.error(l()("复制失败！")),s.a.error(l()("您的浏览器不支持此功能，请手动复制，或使用最新的 Chrome 浏览器。")))})),e}();return function(){null==e||e.destroy()}}),[p]),i.a.createElement("span",{className:n+" "+c,ref:m},f)}},1064:function(e,t,n){"use strict";var r,i,a,o,c,l,s,u,d,p,f,m,b=n(2),h=n(8),g=n.n(h),v=n(253),_=n(975),y=n(984),O=v.default.div.withConfig({componentId:"sc-3rCHNf",displayName:"StyledFormGroup"})(i||(i=Object(b.__makeTemplateObject)(["box-sizing:border-box;vertical-align:bottom;display:inline-block;position:relative;",";"],["",""])),(function(e){return e.row&&Object(v.css)(r||(r=Object(b.__makeTemplateObject)(["position:relative;padding-left:100px;"],[""])))})),j=v.default.input.withConfig({componentId:"sc-3rCHNf-1",displayName:"StyledInput"})(a||(a=Object(b.__makeTemplateObject)(["box-sizing:border-box;flex:auto;max-width:100%;padding:0;padding-left:",";padding-right:",";line-height:20px;font-size:12px;border:none;outline:none;background-color:transparent;&::placeholder{color:",";}&[disabled]{color:",";-webkit-text-fill-color:",";cursor:not-allowed;&:hover{border-color:",";}&:focus{border-color:",";}&::placeholder{color:",";}}"],["","","","","","","","",""])),(function(e){return e.hasPrefix?"0":"16px"}),(function(e){return e.hasAffix?"0":"16px"}),_.k.BLACK_50,_.k.BLACK_30,_.k.BLACK_30,_.k.BLACK_10,_.k.BLACK_10,_.k.BLACK_30),w=v.default.div.withConfig({componentId:"sc-3rCHNf-2",displayName:"StyledInputWrapper"})(l||(l=Object(b.__makeTemplateObject)(["box-sizing:border-box;display:flex;width:100%;min-height:34px;border-radius:2px;border:1px solid ",";box-shadow:inset 0 1px 3px 0 ",";background:#fff;transition:border-color 0.3s;&:hover{border-color:",";}"," "," &[disabled]{color:",";background-color:",";box-shadow:none;cursor:not-allowed;}"],["","","","","","","",""])),_.k.BLACK_10,_.k.BLACK_10,_.k.BLACK_30,(function(e){return e.isFocused&&Object(v.css)(o||(o=Object(b.__makeTemplateObject)(["border-color:",";&:hover{border-color:",";}"],["","",""])),_.k.BLACK_50,_.k.BLACK_50)}),(function(e){return e.disabled&&Object(v.css)(c||(c=Object(b.__makeTemplateObject)(["color:",";background-color:",";box-shadow:none;cursor:not-allowed;"],["","",""])),_.k.BLACK_30,_.k.BLACK_5)}),_.k.BLACK_30,_.k.BLACK_5),x=v.default.textarea.withConfig({componentId:"sc-3rCHNf-3",displayName:"StyledTextArea"})(s||(s=Object(b.__makeTemplateObject)(["box-sizing:border-box;width:100%;padding:10px 16px;min-height:160px;border-radius:2px;border:1px solid ",";box-shadow:inset 0 1px 3px 0 ",";background:#fff;font-size:12px;line-height:20px;outline:none;transition:border-color 0.3s;&:hover{border-color:",";}&:focus{border-color:",";}&::placeholder{color:",";}&[disabled]{color:",";background:",";box-shadow:none;cursor:not-allowed;&::placeholder{color:",";}}"],["","","","","","","","",""])),_.k.BLACK_10,_.k.BLACK_10,_.k.BLACK_30,_.k.BLACK_50,_.k.BLACK_50,_.k.BLACK_30,_.k.BLACK_5,_.k.BLACK_30),E=v.default.div.withConfig({componentId:"sc-3rCHNf-4",displayName:"StyledLabel"})(d||(d=Object(b.__makeTemplateObject)(["display:inline-block;position:relative;color:",";font-size:12px;line-height:20px;margin-bottom:7px;",";"],["","",""])),_.k.BLACK_50,(function(e){return e.row&&Object(v.css)(u||(u=Object(b.__makeTemplateObject)(["position:absolute;top:7px;left:0;width:70px;text-align:right;"],[""])))})),k=v.default.span.withConfig({componentId:"sc-3rCHNf-5",displayName:"StyledLabelRequired"})(p||(p=Object(b.__makeTemplateObject)(["position:absolute;right:-10px;color:",";"],["",""])),_.k.RED_100),C=Object(v.default)(y.j).withConfig({componentId:"sc-3rCHNf-6",displayName:"StyledCleanBtn"})(f||(f=Object(b.__makeTemplateObject)(["width:32px;height:32px;visibility:",";transform:scale(0.375);cursor:pointer;color:#ccc;&:hover{color:#a5a5a5;}"],["",""])),(function(e){return e.show?"visible":"hidden"})),T=Object(v.default)(y.i).withConfig({componentId:"sc-3rCHNf-7",displayName:"StyledSearchIcon"})(m||(m=Object(b.__makeTemplateObject)(["width:32px;height:32px;color:#41464b;transform:scale(0.5);"],[""]))),S=function(e){function t(){var t,n,r=e.apply(this,Object(b.__spreadArray)([],Object(b.__read)(arguments)))||this;return r.inputRef=g.a.createRef(),r.state={value:null!==(n=null!==(t=r.props.value)&&void 0!==t?t:r.props.defaultValue)&&void 0!==n?n:"",prevValue:r.props.value,isFocused:!1},r.renderLabel=function(){var e=r.props,t=e.label,n=e.required,i=e.row,a=t;return"string"==typeof t&&(a=g.a.createElement(E,{row:i},t,n&&g.a.createElement(k,null,"*"))),a},r.renderInput=function(){var e=r.props,t=e.searchIcon,n=e.cleanBtn,i=e.disabled,a=void 0!==i&&i,o=e.prefixCls,c=e.type,l=e.prefix,s=e.affix,u=(e.value,e.label,e.onChange,e.row,e.className,Object(b.__rest)(e,["searchIcon","cleanBtn","disabled","prefixCls","type","prefix","affix","value","label","onChange","row","className"])),d=r.state,p=d.value,f=d.isFocused,m=l,h=s;return t&&(m=r.renderSearchIcon()),n&&(h=r.renderCleanBtn()),"textarea"===c?g.a.createElement(x,Object(b.__assign)({onChange:r.handleChange,value:p,disabled:a},u,{ref:r.inputRef})):g.a.createElement(w,{className:o+"-wrapper",disabled:a,isFocused:f},m,g.a.createElement(j,Object(b.__assign)({onChange:r.handleChange,value:p,disabled:a,type:c},u,{ref:r.inputRef,hasPrefix:!!m,hasAffix:!!h})),h)},r.handleChange=function(e){var t=r.props.onChange,n=e.target.value;r.setState({value:n}),null==t||t(n,e)},r.handleFocus=function(e){r.setState({isFocused:!0});var t=r.props.onFocus;"function"==typeof t&&t(e)},r.handleBlur=function(e){r.setState({isFocused:!1});var t=r.props.onBlur;"function"==typeof t&&t(e)},r.handleClean=function(e){r.setState({value:""});var t=r.props.onChange;null==t||t("",e),r.inputRef.current.focus()},r}return Object(b.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevValue,r={prevValue:e.value};return void 0===e.value&&n===e.value||(r.value=e.value),r},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.row,r=e.className;return g.a.createElement(O,{row:n,className:t+" "+r},this.renderLabel(),this.renderInput())},t.prototype.renderSearchIcon=function(){return g.a.createElement(T,null)},t.prototype.renderCleanBtn=function(){var e=this.state.value,t=this.props.cleanBtn;return g.a.createElement(C,{show:t&&e?"true":"",onClick:this.handleClean})},t.prototype.focus=function(){this.inputRef.current.focus()},t.prototype.blur=function(){this.inputRef.current.blur()},t.defaultProps={prefixCls:"sm-input",placeholder:"",row:!1,cleanBtn:!1,searchIcon:!1,className:""},t}(h.Component);t.a=S},1066:function(e,t,n){"use strict";var r,i,a,o,c=n(2),l=n(8),s=n.n(l),u=n(253),d=n(975),p=n(989),f=u.default.div.withConfig({componentId:"sc-35fhcO",displayName:"StyledNavTab"})(a||(a=Object(c.__makeTemplateObject)(["float:left;color:",";border-bottom:2px solid transparent;cursor:pointer;transition:color 0.3s ease-out,border-color 0.3s ease-out;margin-right:36px;padding:"," 0;"," "," &:hover{color:",";}&:last-of-type{margin-right:0;}",";"],["","","","","","",""])),d.k.BLACK_50,(function(e){var t=e.size,n=e.padding;return null!=n?n:"small"===t?"8px":"12px"}),Object(p.a)("h3"),(function(e){return"small"===e.size&&Object(u.css)(r||(r=Object(c.__makeTemplateObject)(["margin-right:20px;",";"],["",""])),Object(p.a)("h4"))}),d.k.BLACK_80,(function(e){return e.isActive&&Object(u.css)(i||(i=Object(c.__makeTemplateObject)(["color:",";border-bottom-color:",";&:hover{color:",";}"],["","","",""])),d.k.BLACK_110,d.k.BLACK_110,d.k.BLACK_110)})),m=function(e){var t=e.activeKey,n=e.prefixCls,r=void 0===n?"":n,i=e.activeNavTabCls,a=void 0===i?"":i,o=e.targetKey,c=e.size,l=void 0===c?"default":c,u=e.verticalPadding,d=e.onClick,p=e.children,m=t===o;return s.a.createElement(f,{className:r+"-navtab "+(m?a:""),size:l,padding:u,isActive:m,onClick:d},p)},b=function(e){function t(t){var n=e.call(this,t)||this;n.getActiveKey=function(){var e,t,r=n.props,i=r.defaultActiveKey,a=r.activeKey,o=r.children;return null!==(e=null!=a?a:i)&&void 0!==e?e:null===(t=o[0])||void 0===t?void 0:t.key},n.renderNavTabs=function(){var e=n.props,t=e.prefixCls,r=e.children,i=e.size,a=e.verticalPadding,o=e.activeNavTabCls,c=n.state.activeKey,l=(Array.isArray(r)?r:[r]).filter((function(e){return null==e?void 0:e.type.__SM_TAB_PANE__})).map((function(e){var r=e.props,l=e.key,u=r.tab;return s.a.createElement(m,{prefixCls:t,size:i,verticalPadding:a,activeKey:c,key:l,targetKey:l,onClick:function(e){return n.handleNavTabClick(e,l)},activeNavTabCls:o},u)}));return s.a.createElement(h,{className:t+"-navtabs"},l)},n.renderTabContent=function(){var e=n.state.activeKey,t=n.props.children;return(Array.isArray(t)?t:[t]).filter((function(e){return null==e?void 0:e.type.__SM_TAB_PANE__})).map((function(t){return s.a.cloneElement(t,{active:e===t.key})}))},n.handleNavTabClick=function(e,t){var r=n.state.activeKey,i=n.props.onChange;r!==t&&n.setState({activeKey:t},(function(){null==i||i(t)}))};var r=n.getActiveKey();return n.state={activeKey:r,prevActiveKey:r},n}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.className;return s.a.createElement("div",{className:n+" "+t+"-container"},this.renderNavTabs(),s.a.createElement("div",{className:t+"-content"},this.renderTabContent()))},t.defaultProps={className:"",prefixCls:"sm-tab",size:"default",onChange:function(){},activeNavTabCls:""},t.getDerivedStateFromProps=function(e,t){var n=t.activeKey,r=e.activeKey,i={prevActiveKey:r};return r&&r!==n&&(i.activeKey=r),i},t}(s.a.Component),h=u.default.div.withConfig({componentId:"sc-1UvKIi",displayName:"StyledNavTabs"})(o||(o=Object(c.__makeTemplateObject)(["&::after{content:'';display:table;clear:both;}"],[""])));t.a=b},1067:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(971),o=n(253),c=Object(o.css)(r||(r=Object(i.__makeTemplateObject)(["/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */ html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type='button'],[type='reset'],[type='submit']{-webkit-appearance:button;}button::-moz-focus-inner,[type='button']::-moz-focus-inner,[type='reset']::-moz-focus-inner,[type='submit']::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type='button']:-moz-focusring,[type='reset']:-moz-focusring,[type='submit']:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type='checkbox'],[type='radio']{box-sizing:border-box;padding:0;}[type='number']::-webkit-inner-spin-button,[type='number']::-webkit-outer-spin-button{height:auto;}[type='search']{-webkit-appearance:textfield;outline-offset:-2px;}[type='search']::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}"],[""])));var l,s,u=(l=document.documentElement.lang,function(e){return Object(i.__spreadArray)(Object(i.__spreadArray)(["BlinkMacSystemFont"],Object(i.__read)(e)),["Helvetica","Tahoma","Arial",'"Microsoft YaHei"','"微软雅黑"','"黑体"',"Heiti","sans-serif","SimSun",'"宋体"',"serif"])}("ja"===l?[]:["PingFang SC"])),d=Object(o.createGlobalStyle)(s||(s=Object(i.__makeTemplateObject)([""," "," body{font-family:",";background-color:#F7F7F7;}*{margin:0;padding:0;outline:none;}button,input,optgroup,select,textarea{font-family:inherit;}.hide{display:none;}@media screen and (-webkit-min-device-pixel-ratio:2),screen and (min-resolution:2dppx){body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}}a *{border-color:inherit;outline-color:inherit;}html,body{height:100%;}"],["","","",""])),c,a.A,u.join(","))},1068:function(e,t,n){"use strict";var r=n(2),i=n(1149),a=n.n(i);t.a=function(e,t){var n=Object(r.__assign)({path:"/ws",transports:["websocket","polling"],randomizationFactor:1,reconnectionDelay:2e3,reconnectionDelayMax:4e4},t);return a()(e,n)}},1071:function(e,t,n){"use strict";var r,i,a=n(8),o=n.n(a),c=n.p+"static/lizard-one/assets/snow-loading.c375dcdd.gif",l=n(2),s=n(253),u=n(975),d=n.p+"static/lizard-one/assets/spinner@2x.0f14d3b6.png",p=Object(s.keyframes)(r||(r=Object(l.__makeTemplateObject)(["0%{transform:rotate(0);}50%{transform:rotate(180deg);}100%{transform:rotate(360deg);}"],[""]))),f=s.default.div.withConfig({componentId:"sc--KkPO",displayName:"StyledLoading"})(i||(i=Object(l.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;color:",";.loading{display:inline-block;width:20px;height:20px;background:url(",") no-repeat;background-size:20px 20px;margin-bottom:10px;animation:"," 0.8s infinite linear;}"],["","","",""])),u.d,d,p);t.a=function(e){var t=e.prefix,n=void 0===t?"sm-loading":t,r=e.className,i=void 0===r?"":r,a=e.snow,l=void 0!==a&&a,s=e.text,u=void 0===s?"":s;return o.a.createElement(f,{className:n+" "+i},l?o.a.createElement("img",{src:c,width:"30px",height:"30px"}):o.a.createElement("span",{className:"loading"}),u)}},1072:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(2),i=(n(77),n(978)),a=n(1155),o=n(82),c=n(91),l=n(28),s=n(92),u=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,l.p.post(Object(s.getHost)()+"/lizard-api/auth/dingtalk/login/isv_in_app_login",e,{baseURL:"",headers:{"x-source":"lizard-desktop"}})]}))}))},d=function(e){void 0===e&&(e=location.pathname);var t=Object(o.b)(location.search.substr(1)).corpid;!t&&location.search.substr(1).includes("corpid")&&(t=Object(o.b)(location.search.substr(1).replace(/\?/g,"&")).corpid),t?a.ready((function(){a.runtime.permission.requestAuthCode({corpId:t}).then((function(e){var n=e.code;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:e={code:n,corp_id:t},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u(e)];case 2:return r.sent(),location.pathname.includes("login")?window.location.href="/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:""):Object(c.isDingtalkMobile)()?location.replace(location.pathname+"?dingtalkAutoLogin=1"):window.location.href=window.location.pathname,[3,4];case 3:return a=r.sent(),404===a.status?window.location.href="/dingtalk_home?reason=not-install":i.a.error({content:"自动登录失败，请重试。"}),[3,4];case 4:return[2]}}))}))})).catch((function(e){}))})):p()?window.location.href="/dingtalk_home?reason=not-install":function(e){var t=e,n=Object(s.getHost)();t||(t=Object(o.b)(location.search.substr(1)).redirect_url||"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"")),/^https?:\/\//.test(t)||(t.startsWith("/")||(t="/"+t),t=n+t),t=encodeURIComponent(t),location.href=n+"/lizard-api/auth/dingtalk/login/in_app_login?redirect_url="+t}(e)},p=function(){return location.href.includes("dingtalkLoginFailed")}},1073:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Creator="creator",e.Admin="admin",e.Member="member",e.Outsider="outsider"}(r||(r={}))},1075:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(2),i=n(973),a=n(988),o={unreadIds:[],unreadCount:0,hasMore:!0,hasMoreUnread:!0,lastId:"",lastUnreadId:"",unpeekCount:0},c=function(e){function t(t){return void 0===t&&(t=o),e.call(this,t)||this}return Object(r.__extends)(t,e),t=Object(r.__decorate)([Object(i.e)({name:"notice",producerFn:a.c}),Object(r.__metadata)("design:paramtypes",[Object])],t)}(i.a)},1076:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(8),a=n.n(i),o=n(1077),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.top;return a.a.createElement("div",{id:"ToastsContainer_ShimoUI"},a.a.createElement(o.a,{style:{top:e+"px"}}))},t.defaultProps={top:30},t}(i.Component)},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(1129),a=n(1016),o={adjustX:1,adjustY:1},c={adjustX:0,adjustY:0};function l(e){return"boolean"==typeof e?e?o:c:Object(r.__assign)(Object(r.__assign)({},c),e)}var s=[0,0];function u(e){var t=e.arrowPointAtCenter,n=void 0!==t&&t,r=e.arrowWidth,o=void 0===r?a.a:r,c=e.horizontalArrowShift,u=void 0===c?16:c,d=e.verticalArrowShift,p=void 0===d?8:d,f=e.offsetWidth,m=void 0===f?0:f,b=e.autoAdjustOverflow,h=void 0===b||b,g={left:{points:["cr","cl"],offset:[-m,0]},right:{points:["cl","cr"],offset:[m,0]},top:{points:["bc","tc"],offset:[0,-m]},bottom:{points:["tc","bc"],offset:[0,m]},topLeft:{points:["bl","tc"],offset:[-(u+o),-m]},leftTop:{points:["tr","cl"],offset:[-m,-(p+o)]},topRight:{points:["br","tc"],offset:[u+o,-m]},rightTop:{points:["tl","cr"],offset:[m,-(p+o)]},bottomRight:{points:["tr","bc"],offset:[u+o,m]},rightBottom:{points:["bl","cr"],offset:[m,p+o]},bottomLeft:{points:["tl","bc"],offset:[-(u+o),m]},leftBottom:{points:["br","cl"],offset:[-m,p+o]}};return Object.keys(g).forEach((function(e){g[e]={points:n?g[e].points:i.placements[e].points,offset:n?g[e].offset:[0,0],overflow:l(h),targetOffset:s}})),g}},1079:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m}));var r,i,a,o,c=n(2),l=n(253),s=n(984),u={info:"#e2ecf9",warning:"#ffefab"},d=l.default.div.withConfig({componentId:"sc-1WdEUZ",displayName:"StyledMaintenanceBar"})(r||(r=Object(c.__makeTemplateObject)(["display:",";position:relative;height:42px;color:#666;background-color:",";border-bottom:1px solid #e5e5e5;transition:all 0.2s ease-out;min-width:1120px;"],["","",""])),(function(e){return e.visible?"block":"none"}),(function(e){var t=e.theme;return u[t]})),p=Object(l.default)(s.k).withConfig({componentId:"sc-1WdEUZ-1",displayName:"StyledCloseBtn"})(i||(i=Object(c.__makeTemplateObject)(["position:absolute;right:18px;top:15px;height:12px;width:12px;cursor:pointer;> path{opacity:0.2;fill:#41464b;transition:all 0.2s ease-out;}&:hover > path{opacity:0.5;}"],[""]))),f=l.default.div.withConfig({componentId:"sc-1WdEUZ-2",displayName:"StyledSpan"})(a||(a=Object(c.__makeTemplateObject)(["width:100%;height:100%;font-size:12px;line-height:42px;text-align:center;cursor:",";"],["",""])),(function(e){return e.onClick?"pointer":"cursor"})),m=Object(l.default)(f.withComponent("a")).withConfig({componentId:"sc-1WdEUZ-3",displayName:"StyledLink"})(o||(o=Object(c.__makeTemplateObject)(["display:block;text-decoration:none;color:inherit;> span > span{margin:0 5px;color:#6da0e3;font-weight:bold;transition:all 0.2s ease-out;}"],[""])))},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),i=n.n(r),a=n(41),o=n.n(a),c=function(e){var t=e.path,n=e.data,r=i.a.useRef(null);if(i.a.useEffect((function(){if("function"==typeof a&&r.current)try{a(r.current,n)}catch(e){}}),[]),"undefined"==typeof window)return null;var a=o()(window,t);return i.a.createElement("div",{ref:r})};c.displayName="Hook"},1082:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(11),c=n.n(o),l=n(977),s=n(1052),u=n(122),d=n.n(u);function p(e){var t=e.onCancel,n=e.body,i=e.width,o=e.style,c=document.createElement("div");("function"==typeof e.getContainer?e.getContainer():document.body).appendChild(c);var l=function(e,n){var r=(void 0===n?{triggerCancel:!1}:n).triggerCancel;d.a.unmountComponentAtNode(c)&&c.parentNode&&c.parentNode.removeChild(c),r&&e&&(null==t||t(e))};return d.a.render(a.a.createElement(m,Object(r.__assign)({},e,{visible:!0,width:i,style:null!=o?o:{},onCancel:function(e){return l(e,{triggerCancel:!0})}}),n),c),{destroy:l}}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,i=t.className,o=t.closable,u=t.title,d=t.width,p=t.maskClosable,f=t.getContainer,m=t.okText,b=t.cancelText,h=t.footer,g=t.visible,v=t.maskStyle,_=t.onOk,y=t.onCancel,O=Object(r.__rest)(t,["prefixCls","className","closable","title","width","maskClosable","getContainer","okText","cancelText","footer","visible","maskStyle","onOk","onCancel"]);void 0===h&&(e=[null===m?null:a.a.createElement(l.a,{key:"confirm",type:"black",onClick:_},null!=m?m:c()("确定")),null===b?null:a.a.createElement(l.a,{key:"cancel",type:"outline",onClick:y},null!=b?b:c()("取消"))]);return a.a.createElement(s.a,Object(r.__assign)({},O,{maskStyle:Object(r.__assign)(Object(r.__assign)({},s.b),v),wrapClassName:s.d,prefixCls:n,className:i,closable:o,maskClosable:p,title:u,onClose:y,visible:g,width:d,getContainer:f,footer:void 0===h?e:h}))},t.open=p,t.defaultProps={prefixCls:"sm-modal",width:460,visible:!1,maskClosable:!0,closable:!0,onCancel:function(){},onOk:function(){}},t}(a.a.Component),m=t.a=f},1087:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"TreeNode",(function(){})),n.d(t,"TreeRootType",(function(){return r})),n.d(t,"FileTree",(function(){})),n.d(t,"Ancestor",(function(){})),n.d(t,"TreeState",(function(){})),n.d(t,"TreeStore",(function(){return u})),n.d(t,"TreeQuery",(function(){return h})),n.d(t,"TreeApi",(function(){return g})),n.d(t,"TreeService",(function(){return O})),n.d(t,"TreeFacade",(function(){return j})),function(e){e[e.Unknown=0]="Unknown",e[e.Folder=1]="Folder",e[e.Desktop=2]="Desktop",e[e.Space=3]="Space"}(r||(r={}));var i,a=n(2),o=n(973),c=n(988),l=n(1056),s={rootNodes:(i={},i[l.a]={guid:l.a,rootType:r.Desktop},i)},u=function(e){function t(t){void 0===t&&(t=s);var n=e.call(this,t)||this;return n.add([{guid:l.a,name:"我的桌面",childGuids:[]}]),n}return Object(a.__extends)(t,e),t=Object(a.__decorate)([Object(o.e)({name:"tree",producerFn:c.c,idKey:"guid"}),Object(a.__metadata)("design:paramtypes",[Object])],t)}(o.a),d=n(1707),p=n(3182),f=n(1002),m=n(1038),b=n(1023),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.store=t,r.sos=n,r}return Object(a.__extends)(t,e),t.prototype.selectPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getFileContainer()];case 1:return t=r.sent(),[4,this.getSpaceContainer()];case 2:return n=r.sent(),[2,Object(o.l)([n.query.select("entities"),t.query.select("entities"),e]).pipe(Object(d.a)((function(e){var t,n=Object(a.__read)(e,3),r=n[0],i=void 0===r?{}:r,o=n[1],c=void 0===o?{}:o,l=n[2];return l?null!==(t=i[l])&&void 0!==t?t:c[l]:void 0})))]}}))}))},t.prototype.selectCurrentPosition=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,this.selectPosition(this.select("currentPosition"))]}))}))},t.prototype.selectParentPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.selectPosition(this.select("entities").pipe(Object(d.a)((function(t){var n;return void 0===t&&(t={}),null===(n=t[e])||void 0===n?void 0:n.parentGuid}))))]}))}))},t.prototype.selectBreadcrumb=function(e){return Object(a.__awaiter)(this,void 0,Promise,(function(){var t,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.getFileContainer()];case 1:return t=i.sent(),[4,this.getSpaceContainer()];case 2:return n=i.sent(),[2,Object(o.l)([this.selectAncestors(e),this.select("rootNodes"),t.query.select("entities"),n.query.select("entities")]).pipe(Object(d.a)((function(e){var t,n,i,o=Object(a.__read)(e,4),c=o[0],l=o[1],s=o[2],u=void 0===s?{}:s,d=o[3],p=void 0===d?{}:d,f=c[0];if(!f)return{ancestors:[],rootType:r.Unknown};var m=c.length,b=c[m-1],h=null!==(n=null===(t=l[f.guid])||void 0===t?void 0:t.rootType)&&void 0!==n?n:r.Unknown;return{ancestors:c.slice(0,m-1).map((function(e){return{guid:e.guid,name:e.name}})),currentPosition:null!==(i=u[b.guid])&&void 0!==i?i:p[b.guid],rootType:h}})),Object(p.a)({ancestors:[],rootType:r.Unknown}))]}}))}))},t.prototype.selectShortcutMap=function(e){return e.pipe(Object(d.a)((function(e){return e.filter((function(e){return Object(b.b)(e)}))})),Object(d.a)((function(e){var t={};return e.forEach((function(e){var n=Object(b.a)(e).guid;t[n]=e})),t})))},t.prototype.selectFilesOfPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t=this.select("entities").pipe(Object(d.a)((function(t){var n,r;return void 0===t&&(t={}),null!==(r=null===(n=t[e])||void 0===n?void 0:n.childGuids)&&void 0!==r?r:[]}))),n=t.pipe(Object(d.a)((function(e){return e.map((function(e){return Object(b.b)(e)?Object(b.a)(e).guid:e}))}))),[4,this.getFileContainer()];case 1:return r=i.sent(),[2,Object(o.l)([r.query.selectFilesByIdsStream(n),this.selectShortcutMap(t)]).pipe(Object(d.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],r=t[1];return{files:n.filter((function(e){return e.kind!==f.Kind.Folder&&!e.isDelete})).map((function(e){return r[e.guid]?Object(m.d)(e,{newGuid:r[e.guid]}):e})),folders:n.filter((function(e){return e.kind===f.Kind.Folder&&!e.isDelete})).map((function(e){return r[e.guid]?Object(m.d)(e,{newGuid:r[e.guid]}):e}))}})),Object(p.a)({files:[],folders:[]}))]}}))}))},t.prototype.selectFileTreeOfPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getFileContainer()];case 1:return t=r.sent(),[2,Object(o.l)([this.select("entities"),t.query.select("entities")]).pipe(Object(d.a)((function(t){var r=Object(a.__read)(t,2),i=r[0],o=void 0===i?{}:i,c=r[1],l=void 0===c?{}:c;return n.mapGuidTreeToFileTree(n.mapGuidsToGuidTree(e,o),l)})))]}}))}))},t.prototype.selectAllOfPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,i;return Object(a.__generator)(this,(function(c){switch(c.label){case 0:return[4,Promise.all([this.selectFilesOfPosition(e),this.selectBreadcrumb(e)])];case 1:return t=a.__read.apply(void 0,[c.sent(),2]),n=t[0],i=t[1],[2,Object(o.l)([n,i]).pipe(Object(d.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],r=t[1];return{files:n.files,folders:n.folders,breadcrumb:r}})),Object(p.a)({breadcrumb:{ancestors:[],rootType:r.Unknown},files:[],folders:[]}))]}}))}))},t.prototype.selectRootAncestor=function(e){return Object(o.l)([this.selectAncestors(e),this.select("rootNodes")]).pipe(Object(d.a)((function(e){var t,n=Object(a.__read)(e,2),i=n[0],o=n[1],c=void 0===o?{}:o,l=i[0];if(l){var s=null===(t=c[l.guid])||void 0===t?void 0:t.rootType;if(s!==r.Unknown)return{rootAncestor:l,rootType:s}}})))},t.prototype.selectAncestors=function(e){return this.select("entities").pipe(Object(d.a)((function(t){void 0===t&&(t={});for(var n=t[Object(b.b)(e)?Object(b.a)(e).guid:e],r=[];n;)r.push(n),n=n.parentGuid?t[n.parentGuid]:void 0;return r.reverse(),r})),Object(d.a)((function(e){return e.map((function(e){return{guid:e.guid,name:e.name}}))})))},t.prototype.mapGuidsToGuidTree=function(e,t){var n=this;return t[e]?t[e].childGuids.map((function(e){return{guid:e,children:n.mapGuidsToGuidTree(e,t)}})):[]},t.prototype.mapGuidTreeToFileTree=function(e,t){var n=this;return e.filter((function(e){return!!t[Object(b.b)(e.guid)?Object(b.a)(e.guid).guid:e.guid]})).filter((function(e){var n;return!(null===(n=t[e.guid])||void 0===n?void 0:n.isDelete)})).map((function(e){var r=Object(b.b)(e.guid),i=r?Object(b.a)(e.guid).guid:e.guid,o=r?Object(m.d)(t[i],{newGuid:e.guid}):Object(a.__assign)({},t[i]);return o.isFolder&&!r&&(o.children=n.mapGuidTreeToFileTree(e.children,t)),o})).sort((function(e,t){return e.kind!==f.Kind.Folder&&t.kind===f.Kind.Folder?1:e.kind===f.Kind.Folder&&t.kind!==f.Kind.Folder?-1:0}))},t.prototype.getFileContainer=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t.prototype.getSpaceContainer=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,this.sos.getContainer("space")]}))}))},t}(o.c),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.ancestors=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.get("/files/"+e+"/ancestors",void 0,{baseURL:"/panda-api/file"})]}))}))},t.prototype.filesOfFolder=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){return t=e?{folder:e}:void 0,[2,this.get("/files",t)]}))}))},t.prototype.batchRemoveShortcuts=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return[2,this.post("/shortcuts/action/destroy",{from:t,fileGuids:e})]}))}))},t.prototype.batchMoveFile=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.post("/files/move_batch",{entries:e},{baseURL:"/panda-api/file"})]}))}))},t.prototype.batchDuplicateFile=function(e){var t=e.files,n=e.folder;return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,this.post("/files/action/duplicate",{files:t,folder:n})]}))}))},t.prototype.cloudFileToShimoFile=function(e){return Object(a.__awaiter)(this,void 0,Promise,(function(){return Object(a.__generator)(this,(function(t){return[2,this.post("/files/import",e)]}))}))},t.prototype.excelToShimoFile=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.post("/files/import/excel",Object(a.__assign)(Object(a.__assign)({},e),{type:"mosheet"}))]}))}))},t}(n(996).a),v=n(3109),_=n(997),y=function(e){return Object(b.b)(e)?Object(b.a)(e).guid:e},O=function(e){function t(t,n,r,i){var a=e.call(this,t,"tree")||this;return a.store=t,a.api=n,a.query=r,a.sos=i,a}return Object(a.__extends)(t,e),t.prototype.fetchBreadCrumb=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e?[4,this.getFileContainer()]:[2];case 1:return t=n.sent(),[2,Promise.all([t.service.getOne(e),this.getAncestors(e)])]}}))}))},t.prototype.fetchPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getFileContainer()];case 1:return t=n.sent(),[2,Promise.all([t.service.getOne(e),this.getAncestors(e),this.getChildrenOfFolder(e)])]}}))}))},t.prototype.enterPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t=Object(b.b)(e)?Object(b.a)(e).guid:e,[4,this.fetchPosition(t)];case 1:return i.sent(),[4,this.getFileContainer()];case 2:return n=i.sent(),Object(o.h)((function(){r.setPosition(t),n.facade.clearSelection()})),[2]}}))}))},t.prototype.setPosition=function(e){this.store.update((function(t){t.currentPosition=e}))},t.prototype.addFile=function(e,t){var n=this;Object(o.h)((function(){var r=e.isShortcut?Object(b.c)(t,e.guid):e.guid;n.store.upsert(r,{guid:r,name:e.name,parentGuid:t,childGuids:[]}),e.isShortcut||n.store.update(t,(function(e){e.childGuids=Object(o.k)(e.childGuids,r,r)}))}))},t.prototype.batchRemoveShortcuts=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,c,s=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return 0===e.length?[2]:(t=e.map((function(e){return Object(b.a)(e)})),n=t[0].parentGuid,r=!0,i=t.map((function(e){return e.parentGuid!==n&&(r=!1),e.guid})),r?[4,this.api.batchRemoveShortcuts(i,n===l.a?void 0:n)]:[2]);case 1:return a.sent(),[4,this.getFileContainer()];case 2:return c=a.sent(),Object(o.h)((function(){s.store.remove(e),s.store.update((function(t){var r,i;(null===(r=t.entities)||void 0===r?void 0:r[n].childGuids)&&(t.entities[n].childGuids=Object(o.j)(null!==(i=t.entities[n].childGuids)&&void 0!==i?i:[],(function(t){return e.includes(t)})))})),c.store.remove(i.filter((function(e){var t;return!(null===(t=s.store.getValue())||void 0===t?void 0:t[e])})))})),[2]}}))}))},t.prototype.getAncestors=function(e){var t,n,i,c;return Object(a.__awaiter)(this,void 0,void 0,(function(){var s,u,d,p,f=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e&&e!==l.a?(s=y(e),[4,this.api.ancestors(s)]):[2];case 1:return u=a.sent(),d=null!==(n=null===(t=null==u?void 0:u.data)||void 0===t?void 0:t.ancestors)&&void 0!==n?n:[],p=null!==(c=null===(i=null==u?void 0:u.data)||void 0===i?void 0:i.rootType)&&void 0!==c?c:r.Unknown,Object(o.h)((function(){var e=d[0];f.store.update((function(t){t.rootNodes[e.guid]={guid:e.guid,rootType:p}}));for(var t=0;t<d.length;t+=1){var n=d[t],r={guid:n.guid,name:n.name,childGuids:[]};t>0&&(r.parentGuid=d[t-1].guid),t<d.length-1&&r.childGuids.push(d[t+1].guid),f.upsertTreeNode(r.guid,r)}})),[2,null==u?void 0:u.data]}}))}))},t.prototype.batchMoveFile=function(e){var t=e.to,n=e.fileGuids;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,i,c,l,s=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=y(t),i=n.map((function(e){var t=e.guid;return Object(b.b)(t)?Object(b.a)(t).guid:t})),c=n.map((function(t){var n=t.from,r=t.guid;return{from:n?y(n):void 0,to:e,fileGuid:y(r)}})),[4,this.api.batchMoveFile(c)];case 1:return a.sent(),[4,this.getFileContainer()];case 2:return l=a.sent(),Object(o.h)((function(){var a,c,u,d,p,f,m;s.store.update((function(t){n.forEach((function(n){var r,i=n.guid;if(t.entities){var a=null===(r=t.entities[i])||void 0===r?void 0:r.parentGuid;if(!a||!t.entities[a])return;t.entities[a].childGuids=Object(o.j)(t.entities[a].childGuids,i),t.entities[i].parentGuid=e}}))})),s.store.update(e,(function(t){t.childGuids=Object(o.i)(t.childGuids,n.map((function(t){var n=t.guid;if(!Object(b.b)(n))return n;var r=Object(b.a)(n).guid;return Object(b.c)(e,r)})))}));var h=t,g=s.store.getValue().rootNodes;if((null===(a=null==g?void 0:g[h])||void 0===a?void 0:a.rootType)!==r.Space)for(var v=s.store.getValue().entities,_=null!==(u=null===(c=null==v?void 0:v[t])||void 0===c?void 0:c.parentGuid)&&void 0!==u?u:"";_;)h=_,_=null!==(p=null===(d=null==v?void 0:v[_])||void 0===d?void 0:d.parentGuid)&&void 0!==p?p:"";l.service.moveFileTimelineToSpace(i,(null===(m=null===(f=s.store.getValue().rootNodes)||void 0===f?void 0:f[h])||void 0===m?void 0:m.rootType)===r.Space?h:void 0),l.service.addRecentLocation(e)})),[2]}}))}))},t.prototype.batchDuplicateFile=function(e){var t=e.files,n=e.folder;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t.forEach((function(e){Object(b.b)(e.guid)&&(e.guid=Object(b.a)(e.guid).guid)})),[4,this.api.batchDuplicateFile({files:t,folder:n})];case 1:return e=i.sent(),r=e.filter((function(e){return"string"!=typeof e})),[4,this.upsertChildrenOfFolder(r,n)];case 2:return i.sent(),r.length>0?[4,this.getFileContainer()]:[3,4];case 3:i.sent().service.addRecentLocation(n),i.label=4;case 4:return[2,e]}}))}))},t.prototype.getChildrenOfFolder=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return t=Object(b.b)(e)?Object(b.a)(e).guid:e,[4,this.api.filesOfFolder(t===l.a?"":t)];case 1:return n=r.sent(),[4,this.upsertChildrenOfFolder(n,t)];case 2:return r.sent(),[2]}}))}))},t.prototype.cloudFileToShimoFile=function(e,t){var n,r;return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,c,s,u=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(!(i=null!==(r=null===(n=this.store.getValue().entities)||void 0===n?void 0:n[e].parentGuid)&&void 0!==r?r:""))throw new Error("parentGuid not found");return[4,this.getShimoFileFromApi({fileGuid:e,folder:i===l.a?void 0:i,type:t})];case 1:return c=a.sent(),[4,this.getFileContainer()];case 2:return s=a.sent(),Object(o.h)((function(){s.store.add(c),u.addFile(c,i)})),[2,c]}}))}))},t.prototype.addFileByGuid=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getFileContainer()];case 1:return[4,r.sent().service.getOne(e)];case 2:return(n=r.sent())?(this.addFile(n,t),[2,n]):[2,void 0]}}))}))},t.prototype.getParentGuid=function(e){var t,n;return Object(b.b)(e)?Object(b.a)(e).parentGuid:null===(n=null===(t=this.store.getValue().entities)||void 0===t?void 0:t[e])||void 0===n?void 0:n.parentGuid},t.prototype.getShimoFileFromApi=function(e){return Object(a.__awaiter)(this,void 0,Promise,(function(){var t,n,r,i,o,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return"mosheet"!==e.type?[3,2]:[4,this.api.excelToShimoFile(e)];case 1:if(t=a.sent(),n=t.data,r=t.message,i=t.status,!(o=(null!=n?n:{}).file)||0!==i)throw{status:i,data:{error:r}};return[2,Object(f.convertFileFromNumberType)(o)];case 2:return[4,this.api.cloudFileToShimoFile(e)];case 3:return c=a.sent(),[2,Object(f.convertFileFromStringType)(c)]}}))}))},t.prototype.upsertTreeNode=function(e,t){this.store.upsert(e,(function(e){var n,r,i,o=null!==(r=null===(n=e)||void 0===n?void 0:n.childGuids)&&void 0!==r?r:[],c=Object(v.a)(Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__read)(o)),Object(a.__read)(null!==(i=t.childGuids)&&void 0!==i?i:[])));return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),t),{childGuids:c})}))},t.prototype.upsertChildrenOfFolder=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,c,l,s,u,d=this;return Object(a.__generator)(this,(function(p){switch(p.label){case 0:return n=this.store.getValue(),r=n.entities,i=n.ids,c=e.map((function(e){return Object(f.convertFileFromStringType)(e)})),l=c.map((function(e){var n,a=d.isOldShortcut(e)?Object(b.c)(t,e.guid):e.guid;return{guid:a,name:e.name,parentGuid:t,childGuids:(null==i?void 0:i.includes(a))&&null!==(n=null==r?void 0:r[a].childGuids)&&void 0!==n?n:[]}})),s=c.map((function(e){return d.isOldShortcut(e)?Object(b.c)(t,e.guid):e.guid})),[4,this.getFileContainer()];case 1:return u=p.sent(),Object(o.h)((function(){d.store.upsertMany(l),d.upsertTreeNode(t,{childGuids:s}),u.store.upsertMany(c.map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{isShortcut:!d.isOldShortcut(e)&&e.isShortcut})}))),u.store.update((function(e){e.favoriteIds=Object(v.a)(c.filter((function(e){return e.starred})).map((function(e){return e.guid})).concat(e.favoriteIds))}))})),[2]}}))}))},t.prototype.isOldShortcut=function(e){return e.isShortcut&&e.subType!==f.FileSubType.shortcut},t.prototype.getFileContainer=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t}(_.a),j=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(a.__extends)(t,e),t.prototype.setPosition=function(e){return this.service.setPosition(e)},t.prototype.getFileTree=function(e){var t=this;return this.getOrAddResource("fileTree:"+e,(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.enterPosition(e)]}))}))}),(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.selectFileTreeOfPosition(e)]}))}))}))},t.prototype.getPositionTree=function(e){var t=this;return this.getOrAddResource("positionTree:"+e,(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.fetchPosition(e)]}))}))}),(function(e){return e.select("null")}))},t.prototype.fetchPosition=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.service.fetchPosition(e)]}))}))},t.prototype.fetchAncestors=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.service.getAncestors(e)]}))}))},t.prototype.getChildrenOfFolder=function(e){var t=this;return this.getOrAddResource("childrenOfFolder:"+e,(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.getChildrenOfFolder(e)]}))}))}),(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.selectFilesOfPosition(e)]}))}))}))},t.prototype.getChildrenOfFolders=function(e){var t=this;return this.getOrAddResource("childrenOfFolders:"+e.join(","),(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t=this;return Object(a.__generator)(this,(function(r){return[2,Promise.all(e.map((function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.getChildrenOfFolder(e)]}))}))})))]}))}))}),(function(e){return e.select("null")}))},t.prototype.getBreadCrumb=function(e){var t=this;return this.getOrAddResource("breadcrumb:"+e,(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.fetchBreadCrumb(e)]}))}))}),(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.selectBreadcrumb(e)]}))}))}))},t.prototype.getCurrentPosition=function(){var e=this;return this.getOrAddResource("currentPosition",(function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,null]}))}))}),(function(t){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,t.selectCurrentPosition()]}))}))}))},t.prototype.getParentPosition=function(e){var t=this;return this.getOrAddResource("parentGuid:"+e,(function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,null]}))}))}),(function(n){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n.selectParentPosition(e)]}))}))}))},t.prototype.batchRemoveShortcuts=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.service.batchRemoveShortcuts(e)]}))}))},t.prototype.batchMoveFile=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.service.batchMoveFile(e)]}))}))},t.prototype.batchDuplicateFile=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.service.batchDuplicateFile(e)]}))}))},t.prototype.cloudFileToShimoFile=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return[2,this.service.cloudFileToShimoFile(e,t)]}))}))},t.prototype.getRootAncestor=function(e){var t=this;return this.getOrAddResource("childOfRoot:"+e,(function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,void 0]}))}))}),(function(t){return t.selectRootAncestor(e)}))},t.prototype.addFileByGuid=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return[2,this.service.addFileByGuid(e,t)]}))}))},t}(n(993).a)},1088:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";if(void 0===e)throw new Error("Geetest requires browser environment");var t=e.document,r=e.Math,i=t.getElementsByTagName("head")[0];function a(e){this._obj=e}function o(e){var t=this;new a(e)._each((function(e,n){t[e]=n}))}a.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},o.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return c(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(e){var t=this;new a(e)._each((function(e,n){t[e]=n}))}};var c=function(e){return"string"==typeof e},l=function(e){return"object"===n(e)&&null!==e},s={},u={},d=function(e,t,n,r){t=function(e){return e.replace(/^https?:\/\/|\/$/g,"")}(t);var i=function(e){return 0!==(e=e.replace(/\/+/g,"/")).indexOf("/")&&(e="/"+e),e}(n)+function(e){if(!e)return"";var t="?";return new a(e)._each((function(e,n){(c(n)||function(e){return"number"==typeof e}(n)||function(e){return"boolean"==typeof e}(n))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")})),"?"===t&&(t=""),t.replace(/&$/,"")}(r);return t&&(i=e+t+i),i},p=function(e,n,r,a,o){!function c(l){!function(e,n){var r=t.createElement("script");r.charset="UTF-8",r.async=!0,r.onerror=function(){n(!0)};var a=!1;r.onload=r.onreadystatechange=function(){a||r.readyState&&"loaded"!==r.readyState&&"complete"!==r.readyState||(a=!0,setTimeout((function(){n(!1)}),0))},r.src=e,i.appendChild(r)}(d(e,n[l],r,a),(function(e){e?l>=n.length-1?o(!0):c(l+1):o(!1)}))}(0)},f=function(t,n,i,a){if(l(i.getLib))return i._extend(i.getLib),void a(i);if(i.offline)a(i._get_fallback_config());else{var o="geetest_"+(r.round(1e4*r.random())+(new Date).valueOf());e[o]=function(t){"success"==t.status?a(t.data):t.status?a(i._get_fallback_config()):a(t),e[o]=void 0;try{delete e[o]}catch(e){}},p(i.protocol,t,n,{gt:i.gt,callback:o},(function(e){e&&a(i._get_fallback_config())}))}},m=function(e,t){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])};(e.Geetest||t.getElementById("gt_lib"))&&(u.slide="loaded"),e.initGeetest=function(t,n){var r=new o(t);t.https?r.protocol="https://":t.protocol||(r.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(r.apiserver="yumchina.geetest.com/",r.api_server="yumchina.geetest.com"),l(t.getType)&&r._extend(t.getType),f([r.api_server||r.apiserver],r.typePath,r,(function(t){var i=t.type,a=function(){r._extend(t),n(new e.Geetest(r))};s[i]=s[i]||[];var o=u[i]||"init";"init"===o?(u[i]="loading",s[i].push(a),p(r.protocol,t.static_servers||t.domains,t[i]||t.path,null,(function(e){if(e)u[i]="fail",m("networkError",r);else{u[i]="loaded";for(var t=s[i],n=0,a=t.length;n<a;n+=1){var o=t[n];"function"==typeof o&&o()}s[i]=[]}}))):"loaded"===o?a():"fail"===o?m("networkError",r):"loading"===o&&s[i].push(a)}))}}(window)},1090:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(973),a=n(1707),o=n(3182),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.store=t,r.sos=n,r}return Object(r.__extends)(t,e),t.prototype.selectNoticeByIdStream=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.getFileContainer()];case 1:return t=o.sent(),[4,this.getUserContainer()];case 2:return n=o.sent(),[2,Object(i.l)([e,this.select("entities"),t.query.select("entities"),n.query.select("entities")]).pipe(Object(a.a)((function(e){var t=Object(r.__read)(e,4),n=t[0],a=void 0===n?[]:n,o=t[1],c=void 0===o?{}:o,l=t[2],s=t[3];return a.map((function(e){return c[e]})).filter((function(e){return!Object(i.p)(e)})).map((function(e){var t;return Object(r.__assign)(Object(r.__assign)({},e),{notification:Object(r.__assign)(Object(r.__assign)({},e.notification),{file:null==l?void 0:l[null!==(t=e.notification.fileGuid)&&void 0!==t?t:""],user:null==s?void 0:s[e.notification.userId]})})}))})))]}}))}))},t.prototype.all$=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.selectNoticeByIdStream(this.select("ids"))];case 1:return e=t.sent(),[2,Object(i.l)([e,this.select("hasMore")]).pipe(Object(a.a)((function(e){var t=Object(r.__read)(e,2),n=t[0];return{hasMore:t[1],notices:n}})),Object(o.a)({hasMore:!1,notices:[]}))]}}))}))},t.prototype.unread$=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.selectNoticeByIdStream(this.select("unreadIds"))];case 1:return e=t.sent(),[2,Object(i.l)([e,this.select("hasMoreUnread")]).pipe(Object(a.a)((function(e){var t=Object(r.__read)(e,2),n=t[0];return{hasMore:t[1],notices:n}})),Object(o.a)({hasMore:!1,notices:[]}))]}}))}))},Object.defineProperty(t.prototype,"unreadCount$",{get:function(){return this.select("unreadCount")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unpeekCount$",{get:function(){return this.select("unpeekCount")},enumerable:!1,configurable:!0}),t.prototype.getFileContainer=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t.prototype.getUserContainer=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t}(i.c)},1091:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.getNotice=function(e){return void 0===e&&(e={limit:20,status:"all",action:"peek"}),Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.get("/notifications",e)]}))}))},t.prototype.getUnreadCount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.get("/notifications/unread_count")]}))}))},t.prototype.markAllAsRead=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.post("/notifications/action/read_all")]}))}))},t.prototype.markAsRead=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.patch("/notifications/"+e+"?status=read")]}))}))},t.prototype.getUnpeekCount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.get("/notifications/unpeeked_count")]}))}))},t}(n(996).a)},1092:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.all$()]}))}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getUnread",{get:function(){var e=this;return this.getOrAddResource("getUnread",(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.getUnread()]}))}))}),(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.unread$()]}))}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getUnreadCount",{get:function(){var e=this;return this.getOrAddResource("getUnreadCount",(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.getUnreadCount()]}))}))}),(function(e){return e.unreadCount$}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getUnpeekCount",{get:function(){var e=this;return this.getOrAddResource("getUnpeekCount",(function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t.getUnpeekCount()]}))}))}),(function(e){return e.unpeekCount$}))},enumerable:!1,configurable:!0}),t.prototype.loadMore=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.service.loadMore()]}))}))},t.prototype.loadMoreUnread=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.service.loadMoreUnread()]}))}))},t.prototype.markAllAsRead=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.service.markAllAsRead()]}))}))},t.prototype.markAsRead=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.service.markAsRead(e)]}))}))},t.prototype.markRequestAsApproved=function(e){return this.service.markRequestAsApproved(e)},t.prototype.setUnpeekCount=function(e){return this.service.setUnpeekCount(e)},t.prototype.refreshAll=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.service.refresh()]}))}))},t.prototype.getLatest=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.service.getLatest()]}))}))},t}(n(993).a)},1093:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(973),a=n(997),o=n(1002),c=n(1057),l=n(1026),s=function(e){var t,n,i;return Object(r.__assign)(Object(r.__assign)({},e),{createdAt:Object(c.b)(e.createdAt),status:l.d[e.status],notification:Object(r.__assign)(Object(r.__assign)({},e.notification),{createdAt:Object(c.b)(e.notification.createdAt),team:null===(t=e.notification.user)||void 0===t?void 0:t.team,fileGuid:null!==(i=null===(n=e.notification.file)||void 0===n?void 0:n.guid)&&void 0!==i?i:e.notification.fileGuid})})},u=function(e){function t(t,n,r){var i=e.call(this,t,"notice")||this;return i.store=t,i.api=n,i.sos=r,i}return Object(r.__extends)(t,e),t.prototype.getAll=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getNotice({limit:20,action:"peek",status:"all"})];case 1:return e=t.sent(),[4,this.upsertNotice(e,"all")];case 2:return t.sent(),this.store.update((function(e){e.unpeekCount=0})),[2]}}))}))},t.prototype.refresh=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getNotice({limit:20,action:"peek",status:"all"})];case 1:return e=t.sent(),this.store.remove(),[4,this.upsertNotice(e,"all")];case 2:return t.sent(),this.store.update((function(e){e.unpeekCount=0})),[2]}}))}))},t.prototype.getLatest=function(){var e;return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o,c;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.api.getNotice({limit:1,status:"all"})];case 1:return t=l.sent(),[4,this.upsertNotice(t,"skip")];case 2:return l.sent(),[4,this.getFileContainer()];case 3:return n=l.sent(),[4,this.getUserContainer()];case 4:return i=l.sent(),a=n.store.getValue().entities,o=i.store.getValue().entities,t[0]?(c=s(t[0]),[2,Object(r.__assign)(Object(r.__assign)({},c),{notification:Object(r.__assign)(Object(r.__assign)({},c.notification),{file:null==a?void 0:a[null!==(e=c.notification.fileGuid)&&void 0!==e?e:""],user:null==o?void 0:o[c.notification.userId]})})]):[2,null]}}))}))},t.prototype.loadMore=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.store.getValue(),t=e.hasMore,n=e.lastId,t?[4,this.api.getNotice({limit:20,action:"peek",status:"all",lt:n})]:[3,3];case 1:return i=r.sent(),[4,this.upsertNotice(i,"all")];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.getUnread=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getNotice({limit:20,action:"peek",status:"unread"})];case 1:return e=t.sent(),[4,this.upsertNotice(e,"unread")];case 2:return t.sent(),[2]}}))}))},t.prototype.loadMoreUnread=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.store.getValue(),t=e.hasMoreUnread,n=e.lastUnreadId,t?[4,this.api.getNotice({limit:20,action:"peek",status:"unread",lt:n})]:[3,3];case 1:return i=r.sent(),[4,this.upsertNotice(i,"unread")];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.getUnreadCount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getUnreadCount()];case 1:return e=t.sent(),this.store.update((function(t){t.unreadCount=e})),[2]}}))}))},t.prototype.markAllAsRead=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.markAllAsRead()];case 1:return t.sent(),Object(i.h)((function(){e.store.update(e.store.getValue().unreadIds,(function(e){e.isRead=!0})),e.store.update((function(e){e.unreadIds=[],e.unreadCount=0}))})),[2]}}))}))},t.prototype.markAsRead=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.store.getValue().unreadIds.includes(e)?[4,this.api.markAsRead(e)]:[2];case 1:return n.sent(),Object(i.h)((function(){t.store.update(e,(function(e){e.isRead=!0})),t.store.update((function(t){t.unreadIds.includes(e)&&(t.unreadIds=Object(i.j)(t.unreadIds,e),t.unreadCount-=1)}))})),[2]}}))}))},t.prototype.markRequestAsApproved=function(e){var t=this;Object(i.h)((function(){t.store.update(e,(function(e){e.notification.roleApply&&(e.notification.roleApply.status="ROLE_APPLY_IS_APPROVED")}))}))},t.prototype.getUnpeekCount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.getUnpeekCount()];case 1:return e=t.sent(),this.store.update((function(t){t.unpeekCount=e})),[2]}}))}))},t.prototype.setUnpeekCount=function(e){this.store.update((function(t){t.unpeekCount=e}))},t.prototype.upsertNotice=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a,c=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getFileContainer()];case 1:return n=r.sent(),[4,this.getUserContainer()];case 2:return a=r.sent(),Object(i.h)((function(){n.store.upsertMany(e.filter((function(e){return e.notification.file})).map((function(e){return Object(o.convertFileFromStringType)(e.notification.file)}))),a.store.upsertMany(e.filter((function(e){return e.notification.user})).map((function(e){return e.notification.user}))),c.store.upsertMany(e.map((function(e){return s(e)}))),c.store.update((function(n){n.unreadIds=e.filter((function(e){return!e.isRead})).map((function(e){return e.id})).reduce((function(e,t){return e.includes(t)||e.push(t),e}),n.unreadIds);var r=e.length;switch(t){case"all":r<20?n.hasMore=!1:r>0&&(n.lastId=e[r-1].id);break;case"unread":r<20?n.hasMoreUnread=!1:r>0&&(n.lastUnreadId=e[r-1].id)}}))})),[2]}}))}))},t.prototype.getFileContainer=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t.prototype.getUserContainer=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t}(a.a)},1094:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(2),i=n(8),a=n(976),o=n(979),c=function(e){var t=e.extra,n=e.scene,c=e.pageType,l=e.stepType,s=e.customSubmitMap,u=e.defaultValue,d=e.currentIndex,p=e.typeChangeHandler,f=Object(i.useRef)([]),m=Object(i.useMemo)((function(){return a.g[c]}),[c]),b=Object(r.__read)(Object(i.useState)(null!=u?u:{}),2),h=b[0],g=b[1];Object(i.useEffect)((function(){return g({}),void(f.current=[])}),[c]),Object(i.useEffect)((function(){return u&&g(u)}),[u]);return{currentValue:h,changeStep:function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,a,u,b;return Object(r.__generator)(this,(function(h){switch(i=e.type,a=e.targeType,u=e.data,b=e.extra,i){case"back":return function(){var e,t=d-1>=0?d-1:0,n=f.current.pop();p({pageType:c,stepIndex:t}),g(null!==(e=null==n?void 0:n.value)&&void 0!==e?e:{})}(),[2,Promise.resolve()];case"next":return[2,(v={data:null!=u?u:{},extra:b},Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,i,a,u,b,h,g;return Object(r.__generator)(this,(function(_){switch(_.label){case 0:return e=v.data,i=v.extra,a=s.get(l),u=!1,a?(f.current=null!==(g=null===(h=Object(o.n)(l))||void 0===h?void 0:h.history)&&void 0!==g?g:f.current,b=f.current.reduce((function(e,t){var n=t.value;return Object(r.__assign)(Object(r.__assign)({},e),n)}),{}),[4,a({data:Object(r.__assign)(Object(r.__assign)({},b),e),extra:i}).catch((function(){u=!0}))]):[3,2];case 1:_.sent(),_.label=2;case 2:return!u&&Object(o.x)(),d<m.length-1&&!u&&(p({pageType:c,stepIndex:d+1}),f.current.push({type:l,value:e}),"component"!==n&&Object(o.z)({type:m[d+1],extra:Object(r.__assign)(Object(r.__assign)({},t),i),history:f.current})),[2,u?Promise.reject(new Error):Promise.resolve()]}}))})))];case"changePage":return function(e,t){p({pageType:e,stepIndex:0,extra:t})}(a,b),[2,Promise.resolve()];case"changeStep":return function(e,i){void 0===i&&(i={}),Object(o.x)(),p({pageType:c,stepIndex:d,stepType:e}),f.current.push({type:l,value:i}),"component"!==n&&Object(o.z)({type:e,extra:Object(r.__assign)({},t),history:f.current})}(a,u),[2,Promise.resolve()];default:return[2,Promise.resolve()]}var v;return[2]}))}))}}},l=n(983),s=function(e){var t=e.pageType,n=e.crmExtra,c=e.onFinish,s=e.setErrorMap,u=e.setExtra,d=Object(i.useCallback)((function(e){var r=Object(o.w)(t);return{withTeam:r,crm_extra:JSON.stringify(Object(o.h)({withTeam:r,extra:null!=e?e:{},behaviors:[],crmExtra:n}))}}),[t,n]),p=Object(i.useCallback)((function(e){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch((i=n.extra)&&(null==u||u(i)),e){case a.k.VerifyCodeWithAgreePersonal:case a.k.VerifyPasswordWithAgree:case a.k.VerifyCodeWithAgreeTeam:case a.k.SingleTeamRegister:return[2,Object(l.k)(n,d(i),s).then((function(){Object(o.B)(t)(a.j.REGISTER_SUCCESS),null==c||c()}))];case a.k.SingleLoginByPassword:case a.k.LoginByPassword:return[2,Object(l.j)(n,!0,s).then((function(){Object(o.B)(t)(a.j.LOGIN_SUCCESS),null==c||c()}))];case a.k.SingleLoginByMobile:case a.k.VerifyCode:return[2,Object(l.j)(n,!1,s).then((function(){Object(o.B)(t)(a.j.LOGIN_SUCCESS),null==c||c()}))];case a.k.ResetPasswordByEmail:case a.k.ResetPasswordByMobile:return[2,Object(l.n)(n,s)];default:return[2,Promise.resolve()]}return[2]}))}))}}),[t,u,c,s,d]);return Object(i.useMemo)((function(){var e=new Map;return Object.values(a.k).forEach((function(t){e.set(t,p(t))})),e}),[p])}},1098:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r,i,a,o,c,l=n(2),s=n(253),u=n(980),d=n(1130),p=n(1208),f=s.default.a.withConfig({componentId:"sc-3IB3Bg",displayName:"StyledOpenWrapper"})(r||(r=Object(l.__makeTemplateObject)(["opacity:0;-webkit-transition:0.1s;transition:0.1s;position:absolute;right:0;top:0;box-sizing:border-box;width:40px;height:32px;background-repeat:no-repeat;background-position:center;background-size:8px 8px;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAElBMVEUAAADMzMzQ0NDQ0NDMzMzMzMzglyrRAAAABXRSTlMA1BUm5vsHjY0AAAA2SURBVAjXYwgNDWUAEwgGAxAwiUIZioFABlhACMgACyhAGCZCQALEYFYAM8AAkxGKlwEBCAYAz9cRnvRHyjQAAAAASUVORK5CYII=');&:hover{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAElBMVEUAAABmZmZqampra2tmZmZmZmY7hVXjAAAABXRSTlMA1BUm5vsHjY0AAAA2SURBVAjXYwgNDWUAEwgGAxAwiUIZioFABlhACMgACyhAGCZCQALEYFYAM8AAkxGKlwEBCAYAz9cRnvRHyjQAAAAASUVORK5CYII=');}svg{pointer-events:none;}"],[""]))),m=Object(s.default)(u.c).withConfig({componentId:"sc-3IB3Bg-1",displayName:"StyledMenuItem"})(i||(i=Object(l.__makeTemplateObject)(["cursor:",";opacity:",";position:relative;box-sizing:border-box;width:100%;display:flex;& > span{position:relative;}&:hover ","{opacity:1;-webkit-transition:0.2s;transition:0.2s;}"],["","","",""])),(function(e){return e.disable?"not-allowed":"default"}),(function(e){return e.disable?"0.5":"1"}),f),b=s.default.span.withConfig({componentId:"sc-3IB3Bg-2",displayName:"StyledIcon"})(a||(a=Object(l.__makeTemplateObject)(["vertical-align:middle;display:inline-block;padding:13px 12px 8px 20px;background:url(",") no-repeat;background-size:20px 20px;pointer-events:none;"],["",""])),(function(e){return e.backgroundUrl})),h=Object(s.default)(p.a).withConfig({componentId:"sc-3IB3Bg-3",displayName:"StyledBetaIcon"})(o||(o=Object(l.__makeTemplateObject)(["width:20px;height:20px;position:absolute;right:-22px;top:-6px;path{fill:#d6b184;}"],[""]))),g=Object(s.default)(d.a).withConfig({componentId:"sc-3IB3Bg-4",displayName:"StyledAlphaIcon"})(c||(c=Object(l.__makeTemplateObject)(["width:20px;height:20px;position:absolute;right:-22px;top:-6px;path{fill:#d6b184;}"],[""])))},1099:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_=n(8),y=n.n(_),O=n(982),j=n(2),w=n(11),x=n.n(w),E=n(981),k=n(254),C=n(978),T=n(987),S=n(253),I=n(1006),N=S.default.div.withConfig({componentId:"sc-2ufkz1",displayName:"StyledWrapper"})(r||(r=Object(j.__makeTemplateObject)(["margin-bottom:-30px;"],[""]))),R=S.default.div.withConfig({componentId:"sc-2ufkz1-1",displayName:"StyledTitle"})(i||(i=Object(j.__makeTemplateObject)(["height:20px;font-size:16px;font-weight:600;line-height:1.25;color:#2c3033;margin-bottom:24px;"],[""]))),P=S.default.div.withConfig({componentId:"sc-2ufkz1-2",displayName:"StyledBodyContainer"})(a||(a=Object(j.__makeTemplateObject)(["font-size:14px;color:#41464b;"],[""]))),M=S.default.p.withConfig({componentId:"sc-2ufkz1-3",displayName:"StyledNotice"})(o||(o=Object(j.__makeTemplateObject)(["margin-bottom:20px;font-size:14px;line-height:1.71;text-align:left;color:#2c3033;"],[""]))),A=S.default.div.withConfig({componentId:"sc-2ufkz1-4",displayName:"StyledLabel"})(c||(c=Object(j.__makeTemplateObject)(["color:#2c3033;margin-bottom:8px;display:flex;justify-content:space-between;"],[""]))),B=S.default.div.withConfig({componentId:"sc-2ufkz1-5",displayName:"StyledInputWrapper"})(l||(l=Object(j.__makeTemplateObject)(["width:100%;height:40px;border-radius:2px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);border:1px solid #e5e5e5;color:#333;background:#fff;box-sizing:border-box;border-color:",";"],["",""])),(function(e){return e.error?"#cd4747":"none"})),D=S.default.p.withConfig({componentId:"sc-2ufkz1-6",displayName:"StyledErrorMessage"})(s||(s=Object(j.__makeTemplateObject)(["margin-top:8px;line-height:12px;color:#cd4747;font-size:12px;"],[""]))),L=S.default.input.withConfig({componentId:"sc-2ufkz1-7",displayName:"StyledInput"})(u||(u=Object(j.__makeTemplateObject)(["border:none;width:100%;padding:10px 15px;box-sizing:border-box;font-size:12px;line-height:20px;background:transparent;-moz-appearance:textfield;&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;}&::placeholder{color:#ccc;font-size:12px;}"],[""]))),z=Object(S.default)(I.a).withConfig({componentId:"sc-2ufkz1-8",displayName:"StyledButton"})(d||(d=Object(j.__makeTemplateObject)(["margin-top:24px;height:40px;width:100%;"],[""]))),F=n(1108),V=S.default.div.withConfig({componentId:"sc-367y6",displayName:"StyledContainer"})(p||(p=Object(j.__makeTemplateObject)(["margin-bottom:16px;"],[""]))),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mobile:"",nationCode:"86",mobileErrorMessage:""},t.handleMobileInputChange=function(e){var n=t.state.nationCode,r=e.target.value.trim();"86"===n&&(r=r.slice(0,11)),t.setState({mobile:r,mobileErrorMessage:""}),t.props.onMobileChange(r)},t.handleMobileInputBlur=function(){var e=t.state,n=e.mobile;"86"===e.nationCode&&n&&!Object(F.a)(n)&&t.setState({mobileErrorMessage:x()("手机号码格式不正确,请重新输入")})},t}return Object(j.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.mobile,n=e.mobileErrorMessage,r=void 0===n?"":n;return y.a.createElement(V,null,y.a.createElement(A,null,x()("请输入手机号码")),y.a.createElement(B,{error:!!r,className:"mobile"},y.a.createElement(L,{placeholder:x()("暂不支持非中国大陆地区手机号"),type:"number",value:t,onChange:this.handleMobileInputChange,onBlur:this.handleMobileInputBlur})),r?y.a.createElement(D,null,r):null)},t}(y.a.PureComponent),G=n(1035),H=S.default.div.withConfig({componentId:"sc-2Ki8V",displayName:"StyledContainer"})(f||(f=Object(j.__makeTemplateObject)([".switch-verify{color:#6da0e3;font-size:12px;cursor:pointer;}.btn-code{width:100px;margin-right:3px;padding:0 11px;font-size:12px;}"],[""]))),W=Object(S.default)(B).withConfig({componentId:"sc-2Ki8V-1",displayName:"StyledCodeInputWrapper"})(m||(m=Object(j.__makeTemplateObject)(["display:flex;align-items:center;justify-content:space-between;"],[""]))),K=S.default.span.withConfig({componentId:"sc-2Ki8V-2",displayName:"StyledSwitch"})(b||(b=Object(j.__makeTemplateObject)(["color:#508cd7;font-size:12px;cursor:pointer;line-height:23px;"],[""]))),Y=Object(S.default)(I.a).withConfig({componentId:"sc-2Ki8V-3",displayName:"StyledVerifyCodeButton"})(h||(h=Object(j.__makeTemplateObject)(["width:100px;margin-right:3px;padding:0 11px;font-size:12px;&[disabled]{background-color:#bfdcf7;border-color:#bfdcf7;}"],[""])));!function(e){e.SMS="sms",e.VOICE="voice"}(g||(g={})),function(e){e[e.Ready=0]="Ready",e[e.Sending=1]="Sending",e[e.Countdown=2]="Countdown"}(v||(v={}));var Z,q=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={verifyMethod:g.SMS,smsStatus:v.Ready,voiceStatus:v.Ready,code:"",codeErrorMessage:"",smsTimerCount:0,voiceTimerCount:0},n.statusTextMap=((t={})[v.Ready]=x()("获取验证码"),t[v.Sending]=x()("发送中..."),t[v.Countdown]=x()("重新发送"),t),n.mounted=!0,n.geetestContainer=y.a.createRef(),n.renderTip=function(){var e=n.state.verifyMethod;return y.a.createElement(K,{onClick:n.handleSwitchVerifyMethod},e===g.SMS?x()("收不到验证码？语音验证"):x()("不方便接电话？切换回短信验证码"))},n.renderCountDown=function(){return n.currentStatus===v.Countdown?"("+n.currentCount+")":""},n.handleSwitchVerifyMethod=function(){n.state.verifyMethod===g.SMS?n.setState({verifyMethod:g.VOICE}):n.setState({verifyMethod:g.SMS})},n.handleCodeInputChange=function(e){var t=e.target.value.trim().slice(0,4);n.setState({code:t,codeErrorMessage:""}),n.props.onCodeChange(t)},n.handleInputBlur=function(){var e=n.state.code;e&&Object(F.b)(e)&&n.setState({codeErrorMessage:x()("验证码格式不正确")})},n.handleGetVerifyCode=function(){return Object(j.__awaiter)(n,void 0,void 0,(function(){var e,t,n,r,i,a,o,c,l=this;return Object(j.__generator)(this,(function(s){switch(s.label){case 0:if(e=this.props,t=e.nationCode,n=e.mobile,r=this.state.verifyMethod,!Object(F.d)(t,n)||this.currentStatus!==v.Ready)return[2];this.setCurrentStatus(v.Sending),i={type:r,mobile:n,countryCode:"+"+t},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Object(G.c)(this.createMobileCaptchaRequest(i),this.geetestContainer.current,(function(){return l.props.dispatch(Object(k.Q)("web","3.0"))}))];case 2:return s.sent(),this.startTimer(),[3,4];case 3:return a=s.sent(),o=(a||{}).message,c=void 0===o?"":o,C.a.error({content:c||x()("验证码发送失败,请稍后再试")}),this.setCurrentStatus(v.Ready),[3,4];case 4:return[2]}}))}))},n.createMobileCaptchaRequest=function(e){return function(t){return n.props.dispatch(Object(k.Cc)(e,t,"bind","3"))}},n.setCurrentStatus=function(e){n.state.verifyMethod===g.SMS?n.setState({smsStatus:e}):n.setState({voiceStatus:e})},n.startTimer=function(){n.state.verifyMethod===g.SMS?(n.setState({smsTimerCount:59,smsStatus:v.Countdown}),n.smsTimer=setInterval((function(){n.mounted&&(1===n.state.smsTimerCount?(n.setState({smsStatus:v.Ready}),clearInterval(n.smsTimer),n.smsTimer=void 0):n.setState({smsTimerCount:n.state.smsTimerCount-1}))}),1e3)):(n.setState({voiceTimerCount:59,voiceStatus:v.Countdown}),n.voiceTimer=setInterval((function(){n.mounted&&(1===n.state.voiceTimerCount?(n.setState({voiceStatus:v.Ready}),clearInterval(n.voiceTimer),n.voiceTimer=void 0):n.setState({voiceTimerCount:n.state.voiceTimerCount-1}))}),1e3))},n}return Object(j.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.codeErrorMessage!==t.codeErrorMessage?{codeErrorMessage:e.codeErrorMessage}:null},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.smsTimer&&clearInterval(this.smsTimer),this.voiceTimer&&clearInterval(this.voiceTimer)},t.prototype.render=function(){var e=this.props,t=e.nationCode,n=e.mobile,r=this.state,i=r.code,a=r.codeErrorMessage,o=Object(F.d)(t,n);return y.a.createElement(H,null,y.a.createElement(A,null,y.a.createElement("span",null,x()("输入验证码")),this.renderTip()),y.a.createElement(W,{error:!!a},y.a.createElement(L,{className:"code-input-area",type:"number",value:i,onChange:this.handleCodeInputChange,onBlur:this.handleInputBlur}),y.a.createElement(Y,{className:"btn-code",disabled:this.currentStatus!==v.Ready||!o,type:"blue",onClick:this.handleGetVerifyCode},this.renderCountDown()+this.statusTextMap[this.currentStatus])),a&&y.a.createElement(D,null,a),y.a.createElement("div",{ref:this.geetestContainer}))},Object.defineProperty(t.prototype,"currentStatus",{get:function(){return this.state.verifyMethod===g.SMS?this.state.smsStatus:this.state.voiceStatus},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentCount",{get:function(){return this.state.verifyMethod===g.SMS?this.state.smsTimerCount:this.state.voiceTimerCount},enumerable:!1,configurable:!0}),t}(y.a.PureComponent),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={nationCode:"86",nationErrorMessage:"",mobile:"",mobileErrorMessage:"",code:"",codeErrorMessage:""},t.handleMobileChange=function(e){t.setState({mobile:e,mobileErrorMessage:""})},t.handleCodeChange=function(e){t.setState({code:e,mobileErrorMessage:"",codeErrorMessage:""})},t.handleSubmit=function(){return Object(j.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,c;return Object(j.__generator)(this,(function(l){switch(l.label){case 0:if(e=this.props.dispatch,t=this.state,n=t.nationCode,r=t.mobile,i=t.code,!this.checkData())return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e(Object(k.g)({mobile:r,captcha:i,countryCode:"+"+n,filing:!0}))];case 2:return l.sent(),(0,this.props.onComplete)(r),[3,4];case 3:return a=l.sent(),o=(a||{}).message,c=void 0===o?"":o,T.w.error(c||x()("手机号验证失败，请稍后再试")),[3,4];case 4:return[2]}}))}))},t.checkData=function(){var e=t.state,n=e.nationCode,r=e.mobile,i=e.code,a=e.nationErrorMessage,o=e.mobileErrorMessage,c=e.codeErrorMessage;if(a||o||c)return!1;var l=Object(F.c)("+"+n)>-1,s=Object(F.d)(n,r),u=Object(F.b)(i);return!!(l&&s&&u)||(n||t.setState({nationErrorMessage:x()("国家区号不能为空")}),r||t.setState({mobileErrorMessage:x()("手机号不能为空")}),i||t.setState({codeErrorMessage:x()("验证码不能为空")}),!1)},t}return Object(j.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.mobileVerifyText,r=this.state,i=r.nationCode,a=r.mobile,o=r.mobileErrorMessage,c=r.codeErrorMessage,l=void 0===c?"":c;return y.a.createElement(P,null,y.a.createElement(M,null,null!=n?n:x()("应国家法律要求，使用新建、公开分享链接、上传等功能需要验证手机号，当前账号未验证手机号，请验证。")),y.a.createElement(U,{mobileErrorMessage:o,onMobileChange:this.handleMobileChange}),y.a.createElement(q,{dispatch:t,nationCode:i,mobile:a,onCodeChange:this.handleCodeChange,codeErrorMessage:l}),y.a.createElement(z,{type:"black",className:"button btn-submit",onClick:this.handleSubmit},x()("验证")))},t}(y.a.PureComponent);!function(e){e[e.BindMobile=0]="BindMobile",e[e.SetPassword=1]="SetPassword"}(Z||(Z={}));var X=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={step:Z.BindMobile},n.stepTitleMap=((t={})[Z.BindMobile]=x()("验证手机号码"),t[Z.SetPassword]=x()("设置登录密码"),t),n.handleBindMobileComplete=function(){var e=n.props,t=e.me,r=e.onClose;t.mobileAccount&&t.hasPassword?(C.a.success({content:x()("手机号验证成功，您可用该手机号登录石墨文档")}),n.timer=setTimeout((function(){r(!0)}),2e3)):(C.a.success({content:x()("手机号验证成功")}),n.timer=setTimeout((function(){r(!0)}),2e3))},n}return Object(j.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.mobileVerifyText,r=this.state.step;return y.a.createElement(N,null,y.a.createElement(R,null,this.stepTitleMap[r]),r===Z.BindMobile&&y.a.createElement(Q,{mobileVerifyText:n,dispatch:t,onComplete:this.handleBindMobileComplete}))},t=Object(j.__decorate)([Object(E.a)((function(e){return{me:Object(k.Yb)(e)}}))],t)}(y.a.PureComponent),J=n(192);function $(e,t){return new Promise((function(n){var r=function(e){n(e),i()},i=O.a.open({title:null,footer:null,width:400,onCancel:function(){return r(!1)},body:y.a.createElement(J.Provider,{store:e},y.a.createElement(X,{onClose:r,mobileVerifyText:null==t?void 0:t.mobileVerifyText}))}).destroy}))}},1100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(254),i=n(69);function a(e){if(__RUNTIME_ENV__.PRIVATE_DEPLOY)return __RUNTIME_ENV__.PRIVATE_DEPLOY_MANAGE_DOCX;var t=Object(r.jc)(e);if(736329===(null==t?void 0:t.id))return!1;if(e.alphaFeatures.professional_docs)return!0;var n=Object(r.Yb)(e);return!!n&&Object(i.x)(n)&&e.alphaFeatures.professional_docs_personal}function o(e){if(__RUNTIME_ENV__.PRIVATE_DEPLOY)return __RUNTIME_ENV__.PRIVATE_DEPLOY_MANAGE_PRESENTATION;if(e.alphaFeatures.presentation)return!0;var t=Object(r.Yb)(e);return!!t&&Object(i.x)(t)&&e.alphaFeatures.presentation_personal}function c(e){return!!e.alphaFeatures.lite_table}},1101:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(974);function i(e){return Boolean(e.then)}function a(e){return e.type===r.v.update}function o(e){return e.type===r.v.comment}function c(e){return e.type===r.v.discussion}},1102:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),i.a.createElement("path",{d:"M7.8 10l4.9 4.9c.2.2.2.5 0 .7l-.3.4c-.2.2-.5.2-.7 0l-5.3-5.3-.4-.3c-.2-.2-.2-.5 0-.7L11.6 4c.2-.2.5-.2.7 0l.4.4c.2.2.2.5 0 .7L7.8 10z",fill:"#555"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1104:function(e,t,n){"use strict";var r=n(976);n.d(t,"a",(function(){return r.d})),n.d(t,"d",(function(){return r.g})),n.d(t,"e",(function(){return r.h})),n.d(t,"h",(function(){return r.k})),n.d(t,"i",(function(){return r.m}));var i=n(979);n.d(t,"j",(function(){return i.d})),n.d(t,"k",(function(){return i.j})),n.d(t,"l",(function(){return i.l})),n.d(t,"m",(function(){return i.n})),n.d(t,"n",(function(){return i.o})),n.d(t,"p",(function(){return i.v}));var a=n(983);n.d(t,"s",(function(){return a.o})),n.d(t,"q",(function(){return a.h})),n.d(t,"r",(function(){return a.m})),n.d(t,"o",(function(){return a.e}));var o=n(1094);n.d(t,"t",(function(){return o.a}));var c=n(1058);n.d(t,"g",(function(){return c.g})),n.d(t,"b",(function(){return c.c})),n.d(t,"c",(function(){return c.d})),n.d(t,"f",(function(){return c.f}))},1106:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(8),a=n(973);function o(e){var t=Object(r.__read)(Object(i.useState)(null),2),n=t[0],o=t[1];return Object(i.useEffect)((function(){var t=e.data$.subscribe((function(e){o(e)}));return function(){return t.unsubscribe()}}),[e.data$]),[Object(i.useCallback)((function(){if(!e.cached)throw e.callAction();if(e.loading)throw e.promise;return Object(a.p)(e.data)?n:e.data}),[e,n]),Object(i.useCallback)((function(){e.cleanCache()}),[e])]}},1107:function(e,t,n){"use strict";n.r(t);var r=n(1026);n.d(t,"Notice",(function(){return r.Notice})),n.d(t,"NoticeStatus",(function(){return r.d})),n.d(t,"NoticeType",(function(){return r.e})),n.d(t,"NoticeItem",(function(){return r.NoticeItem})),n.d(t,"UserTeam",(function(){return r.UserTeam}));var i=n(1075);n.d(t,"NoticeStore",(function(){return i.b})),n.d(t,"NoticeState",(function(){return i.NoticeState}));var a=n(1090);n.d(t,"NoticeQuery",(function(){return a.a}));var o=n(1091);n.d(t,"NoticeApi",(function(){return o.a}));var c=n(1093);n.d(t,"NoticeService",(function(){return c.a}));var l=n(1092);n.d(t,"NoticeFacade",(function(){return l.a}))},1108:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(11),i=n.n(r),a=[{name:i()("中国"),value:"+86"},{name:i()("香港（中国）"),value:"+852"},{name:i()("台湾（中国）"),value:"+886"},{name:i()("澳门（中国）"),value:"+853"},{name:i()("阿尔巴尼亚"),value:"+355"},{name:i()("阿尔及利亚"),value:"+213"},{name:i()("阿富汗"),value:"+93"},{name:i()("阿根廷"),value:"+54"},{name:i()("爱尔兰"),value:"+353"},{name:i()("埃及"),value:"+20"},{name:i()("埃塞俄比亚"),value:"+251"},{name:i()("爱沙尼亚"),value:"+372"},{name:i()("阿拉伯联合酋长国"),value:"+971"},{name:i()("阿鲁巴"),value:"+297"},{name:i()("阿曼"),value:"+968"},{name:i()("安道尔"),value:"+376"},{name:i()("安哥拉"),value:"+244"},{name:i()("安圭拉"),value:"+1264"},{name:i()("安提瓜和巴布达"),value:"+1268"},{name:i()("澳大利亚"),value:"+61"},{name:i()("奥地利"),value:"+43"},{name:i()("阿塞拜疆"),value:"+994"},{name:i()("巴巴多斯"),value:"+1246"},{name:i()("巴布亚新几内亚"),value:"+675"},{name:i()("巴哈马"),value:"+1242"},{name:i()("白俄罗斯"),value:"+375"},{name:i()("百慕大"),value:"+1441"},{name:i()("巴基斯坦"),value:"+92"},{name:i()("巴拉圭"),value:"+595"},{name:i()("巴林"),value:"+973"},{name:i()("巴拿马"),value:"+507"},{name:i()("保加利亚"),value:"+359"},{name:i()("巴西"),value:"+55"},{name:i()("北马里亚纳群岛"),value:"+1670"},{name:i()("贝宁"),value:"+229"},{name:i()("比利时"),value:"+32"},{name:i()("冰岛"),value:"+354"},{name:i()("博兹瓦纳"),value:"+267"},{name:i()("波多黎各"),value:"+1"},{name:i()("波兰"),value:"+48"},{name:i()("玻利维亚"),value:"+591"},{name:i()("伯利兹"),value:"+501"},{name:i()("波斯尼亚和黑塞哥维那"),value:"+387"},{name:i()("不丹"),value:"+975"},{name:i()("布基纳法索"),value:"+226"},{name:i()("布隆迪"),value:"+257"},{name:i()("朝鲜"),value:"+850"},{name:i()("赤道几内亚"),value:"+240"},{name:i()("丹麦"),value:"+45"},{name:i()("德国"),value:"+49"},{name:i()("东帝汶"),value:"+670"},{name:i()("多哥"),value:"+228"},{name:i()("多米尼加共和国"),value:"+1809"},{name:i()("多米尼克"),value:"+1767"},{name:i()("厄瓜多尔"),value:"+593"},{name:i()("厄立特里亚"),value:"+291"},{name:i()("俄罗斯"),value:"+7"},{name:i()("法国"),value:"+33"},{name:i()("法罗群岛"),value:"+298"},{name:i()("梵蒂冈"),value:"+379"},{name:i()("法属波利尼西亚"),value:"+689"},{name:i()("法属圣马丁"),value:"+1599"},{name:i()("斐济"),value:"+679"},{name:i()("菲律宾"),value:"+63"},{name:i()("芬兰"),value:"+358"},{name:i()("佛得角"),value:"+238"},{name:i()("福克兰群岛"),value:"+500"},{name:i()("冈比亚"),value:"+220"},{name:i()("刚果（布）"),value:"+242"},{name:i()("刚果（金）"),value:"+243"},{name:i()("格陵兰"),value:"+299"},{name:i()("格林纳达"),value:"+1473"},{name:i()("格鲁吉亚"),value:"+995"},{name:i()("哥伦比亚"),value:"+57"},{name:i()("哥斯达黎加"),value:"+506"},{name:i()("关岛"),value:"+1671"},{name:i()("古巴"),value:"+53"},{name:i()("圭亚那"),value:"+592"},{name:i()("海地"),value:"+509"},{name:i()("韩国"),value:"+82"},{name:i()("哈萨克斯坦"),value:"+7"},{name:i()("黑山"),value:"+382"},{name:i()("荷兰"),value:"+31"},{name:i()("洪都拉斯"),value:"+504"},{name:i()("加纳"),value:"+233"},{name:i()("加拿大"),value:"+1"},{name:i()("柬埔寨"),value:"+855"},{name:i()("加蓬"),value:"+241"},{name:i()("吉布提"),value:"+253"},{name:i()("捷克共和国"),value:"+420"},{name:i()("吉尔吉斯斯坦"),value:"+996"},{name:i()("基里巴斯"),value:"+686"},{name:i()("津巴布韦"),value:"+263"},{name:i()("几内亚"),value:"+224"},{name:i()("几内亚比绍"),value:"+245"},{name:i()("开曼群岛"),value:"+1345"},{name:i()("喀麦隆"),value:"+237"},{name:i()("卡塔尔"),value:"+974"},{name:i()("科科斯（基林）群岛"),value:"+61"},{name:i()("克罗地亚"),value:"+385"},{name:i()("科摩罗"),value:"+269"},{name:i()("肯尼亚"),value:"+254"},{name:i()("科特迪瓦"),value:"+225"},{name:i()("科威特"),value:"+965"},{name:i()("库克群岛"),value:"+682"},{name:i()("库拉索"),value:"+599"},{name:i()("莱索托"),value:"+266"},{name:i()("老挝"),value:"+856"},{name:i()("拉脱维亚"),value:"+371"},{name:i()("黎巴嫩"),value:"+961"},{name:i()("利比里亚"),value:"+231"},{name:i()("利比亚"),value:"+218"},{name:i()("列支敦士登"),value:"+423"},{name:i()("立陶宛"),value:"+370"},{name:i()("罗马尼亚"),value:"+40"},{name:i()("卢森堡"),value:"+352"},{name:i()("卢旺达"),value:"+250"},{name:i()("马达加斯加"),value:"+261"},{name:i()("马尔代夫"),value:"+960"},{name:i()("马耳他"),value:"+356"},{name:i()("马来西亚"),value:"+60"},{name:i()("马拉维"),value:"+265"},{name:i()("马里"),value:"+223"},{name:i()("曼岛"),value:"+44"},{name:i()("毛里求斯"),value:"+230"},{name:i()("毛里塔尼亚"),value:"+222"},{name:i()("马其顿"),value:"+389"},{name:i()("马绍尔群岛"),value:"+692"},{name:i()("马约特"),value:"+262"},{name:i()("美国"),value:"+1"},{name:i()("美属萨摩亚"),value:"+1684"},{name:i()("美属维京群岛"),value:"+1340"},{name:i()("蒙古"),value:"+976"},{name:i()("孟加拉国"),value:"+880"},{name:i()("蒙特塞拉特"),value:"+1664"},{name:i()("缅甸"),value:"+95"},{name:i()("密克罗尼西亚"),value:"+691"},{name:i()("秘鲁"),value:"+51"},{name:i()("摩尔多瓦"),value:"+373"},{name:i()("摩洛哥"),value:"+212"},{name:i()("摩纳哥"),value:"+377"},{name:i()("莫桑比克"),value:"+258"},{name:i()("墨西哥"),value:"+52"},{name:i()("纳米比亚"),value:"+264"},{name:i()("南非"),value:"+27"},{name:i()("南极洲"),value:"+672"},{name:i()("瑙鲁"),value:"+674"},{name:i()("尼泊尔"),value:"+977"},{name:i()("尼加拉瓜"),value:"+505"},{name:i()("尼日尔"),value:"+227"},{name:i()("尼日利亚"),value:"+234"},{name:i()("纽埃"),value:"+683"},{name:i()("挪威"),value:"+47"},{name:i()("帕劳"),value:"+680"},{name:i()("皮特凯恩群岛"),value:"+870"},{name:i()("葡萄牙"),value:"+351"},{name:i()("日本"),value:"+81"},{name:i()("瑞典"),value:"+46"},{name:i()("瑞士"),value:"+41"},{name:i()("萨尔瓦多"),value:"+503"},{name:i()("塞尔维亚"),value:"+381"},{name:i()("塞拉利昂"),value:"+232"},{name:i()("塞内加尔"),value:"+221"},{name:i()("塞浦路斯"),value:"+357"},{name:i()("塞舌尔"),value:"+248"},{name:i()("萨摩亚"),value:"+685"},{name:i()("沙特阿拉伯"),value:"+966"},{name:i()("圣巴泰勒米"),value:"+590"},{name:i()("圣诞岛"),value:"+61"},{name:i()("圣多美和普林西比"),value:"+239"},{name:i()("圣赫勒拿"),value:"+290"},{name:i()("圣基茨和尼维斯"),value:"+1869"},{name:i()("圣卢西亚"),value:"+1758"},{name:i()("圣马力诺"),value:"+378"},{name:i()("圣皮埃尔和密克隆群岛"),value:"+508"},{name:i()("圣文森特和格林纳丁斯"),value:"+1784"},{name:i()("斯里兰卡"),value:"+94"},{name:i()("斯洛伐克"),value:"+421"},{name:i()("斯洛文尼亚"),value:"+386"},{name:i()("斯威士兰"),value:"+268"},{name:i()("苏丹"),value:"+249"},{name:i()("苏里南"),value:"+597"},{name:i()("所罗门群岛"),value:"+677"},{name:i()("索马里"),value:"+252"},{name:i()("泰国"),value:"+66"},{name:i()("塔吉克斯坦"),value:"+992"},{name:i()("汤加"),value:"+676"},{name:i()("坦桑尼亚"),value:"+255"},{name:i()("特克斯和凯科斯群岛"),value:"+1649"},{name:i()("特立尼达和多巴哥"),value:"+1868"},{name:i()("土耳其"),value:"+90"},{name:i()("土库曼斯坦"),value:"+993"},{name:i()("突尼斯"),value:"+216"},{name:i()("托克劳"),value:"+690"},{name:i()("图瓦卢"),value:"+688"},{name:i()("瓦利斯和富图纳"),value:"+681"},{name:i()("瓦努阿图"),value:"+678"},{name:i()("危地马拉"),value:"+502"},{name:i()("委内瑞拉"),value:"+58"},{name:i()("文莱"),value:"+673"},{name:i()("乌干达"),value:"+256"},{name:i()("乌克兰"),value:"+380"},{name:i()("乌拉圭"),value:"+598"},{name:i()("乌兹别克斯坦"),value:"+998"},{name:i()("西班牙"),value:"+34"},{name:i()("希腊"),value:"+30"},{name:i()("新加坡"),value:"+65"},{name:i()("新喀里多尼亚"),value:"+687"},{name:i()("新西兰"),value:"+64"},{name:i()("匈牙利"),value:"+36"},{name:i()("叙利亚"),value:"+963"},{name:i()("牙买加"),value:"+1876"},{name:i()("亚美尼亚"),value:"+374"},{name:i()("也门"),value:"+967"},{name:i()("意大利"),value:"+39"},{name:i()("伊拉克"),value:"+964"},{name:i()("伊朗"),value:"+98"},{name:i()("印度"),value:"+91"},{name:i()("印度尼西亚"),value:"+62"},{name:i()("英国"),value:"+44"},{name:i()("英属维京群岛"),value:"+1284"},{name:i()("以色列"),value:"+972"},{name:i()("约旦"),value:"+962"},{name:i()("越南"),value:"+84"},{name:i()("赞比亚"),value:"+260"},{name:i()("乍得"),value:"+235"},{name:i()("直布罗陀"),value:"+350"},{name:i()("智利"),value:"+56"},{name:i()("中非共和国"),value:"+236"}];function o(e){for(var t=a.length,n=0;n<t;n++)if(a[n].value===e)return n;return-1}function c(e){return/^1[3456789][0-9]{9}$/.test(e)}function l(e,t){return"86"===e||"+86"===e?c(t):e&&!!t}function s(e){return/^[0-9]{4}$/.test(e)}},1112:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return m}));var r=n(2),i=n(11),a=n.n(i),o=n(28),c=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.s.get("/lizard-one/manifest-api/v1/sdk/"+e,{data:Object(r.__assign)({},t),baseURL:""})];case 1:return[2,n.sent()];case 2:return n.sent(),[2,null];case 3:return[2]}}))}))},l=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("link");r.setAttribute("data-from-lizard","1"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),r.onload=function(){t()},r.onerror=function(e){n(e)},document.head.appendChild(r)}))]}))}))},s=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.crossOrigin="anonymous",r.async=!1,r.onload=function(){t()},r.onerror=function(e){n(e)},document.body.appendChild(r)}))]}))}))},u=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){return"ja"===(n=document.documentElement.lang)&&(n="jp"),i=""+e+t[n],[2,new Promise((function(e,t){var n=document.createElement("script");n.src=i,n.crossOrigin="anonymous",n.async=!1,n.onload=function(){"applyResource"in a.a&&a.a.applyResource(),e()},n.onerror=function(e){t(e)},document.body.appendChild(n)}))]}))}))},d=function(e,t){return""+(t.startsWith("/")?e:"")+t},p=function(e,t){var n;return void 0===t&&(t="desktop"),e.length>1&&(n=e.find((function(e){var n=e.devices;return(void 0===n?{only:[]}:n).only.includes(t)}))),null!=n?n:e[0]},f=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,a,o,f,m,b,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,c(e,t)];case 1:return(n=r.sent())?(i=n.manifest,a=p(i.service,null==t?void 0:t.device),o=i.publicPath,f=i.languages,window.__SM_CDN_HOST__||(window.__SM_CDN_HOST__=o),m=a.styles,b=a.scripts,h=[],Object.keys(f).length&&h.push(u(o,f)),(null==m?void 0:m.length)&&m.forEach((function(e){h.push(l(d(o,e)))})),(null==b?void 0:b.length)&&b.forEach((function(e){h.push(s(d(o,e)))})),[2,Promise.all(h)]):[2]}}))}))},m=function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,new Promise((function(e,t){var n=document.createElement("script"),r=__RUNTIME_ENV__.PRIVATE_DEPLOY?__RUNTIME_ENV__.PRIVATE_DEPLOY_URL_OF_STYLED_COMPONENTS_2:"https://assets.shimonote.com/lizard-one/styled-components-2.4.1.min.js";n.setAttribute("src",r),n.setAttribute("crossorigin","anonymous"),n.addEventListener("load",(function(){window.$07=window.styled,e("")})),n.addEventListener("error",t),document.body.appendChild(n)}))]}))}))}},1113:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return g}));var r,i,a,o,c,l=n(2),s=n(8),u=n.n(s),d=n(11),p=n.n(d),f=n(69),m=n(121),b=m.r.openPayment,h=m.r.isNewDing;function g(e,t,n){var s=f.n.isEnterprisePremium(n)?p()("企业高级版"):p()("企业版"),d=__RUNTIME_ENV__.PRIVATE_DEPLOY?null:u.a.createElement("a",{href:"javascript:",onClick:function(){b("/pricing",n,!0)}},p()("了解更多")+" >");switch(e){case f.a.NO_ACCESS_CREATE_OR_UPLOAD_FILE:case f.a.FAILURE_READ_ONLY:return u.a.createElement("p",null,p()("当前文件夹无编辑权限，无法新建文件，请联系该文件夹管理者"));case f.a.FAILURE_PERSONAL_FREE:return t===r.Create?u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,p()("您当前的版本为「基础版」，没有权限在协作者人数大于 15 人的文件夹里新建文件。您可以升级到「高级版」或「企业版」，获得更多权限。")),d):u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,p()("您当前的版本为「基础版」，没有权限在协作者人数大于 15 人的文件夹里导入或上传文件。您可以升级到「高级版」或「企业版」，获得更多权限。")),d);case f.a.FAILURE_ENTERPRISE_EXPIRED_MEMBER:case f.a.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:case f.a.FAILURE_TRIAL_EXPIRED:return t===r.Create?u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,p()(i||(i=Object(l.__makeTemplateObject)(["您的","已到期，不能新建文件，您可以续费","后正常使用。"],["您的","已到期，不能新建文件，您可以续费","后正常使用。"])),s,s)),d):u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,p()(a||(a=Object(l.__makeTemplateObject)(["您的","已到期，不能导入或上传文件，您可以续费","后正常使用。"],["您的","已到期，不能导入或上传文件，您可以续费","后正常使用。"])),s,s)),d);case f.a.FAILURE_NOT_ON_SEAT:return h(n)?t===r.Create?u.a.createElement("p",null,p()(o||(o=Object(l.__makeTemplateObject)(["您的","已到期，不能新建文件或文件夹，请联系企业管理员或直接续费。"],["您的","已到期，不能新建文件或文件夹，请联系企业管理员或直接续费。"])),s)):u.a.createElement("p",null,p()(c||(c=Object(l.__makeTemplateObject)(["您的","已到期，不能导入/上传文件或文件夹，请联系企业管理员或直接续费。"],["您的","已到期，不能导入/上传文件或文件夹，请联系企业管理员或直接续费。"])),s)):t===r.Create?u.a.createElement("p",null,p()("非企业席位成员，不能新建文件或文件夹，请联系企业创建者或直接购买席位。")):u.a.createElement("p",null,p()("非企业席位成员，不能导入/上传文件或文件夹，请联系企业创建者或直接购买席位。"));case f.a.FAILURE_ENTERPRISE_DINGTALK:return t===r.Create?u.a.createElement("p",null,p()("协作空间内新建文件仅限付费企业使用")):u.a.createElement("p",null,p()("协作空间内导入或上传文件仅限付费企业使用"))}return null}!function(e){e.Create="Create",e.Upload="Upload"}(r||(r={}))},1117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return h}));var r,i,a=n(2),o=n(11),c=n.n(o),l=n(8),s=n.n(l),u=n(253),d=n(264),p=n(91),f=n(1098),m=u.default.span.withConfig({componentId:"sc-17id2v",displayName:"StyledSubMark"})(i||(i=Object(a.__makeTemplateObject)(["width:45px;height:20px;line-height:19px;text-align:center;color:#fff;display:inline-block;font-size:12px !important;transform:scale(0.75);background-color:#4a90e2;"],[""])));function b(e){var t=e.icon,n=e.name,r=e.blank,i=e.dataTest,a=e.alpha,o=e.beta;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{"data-test":i},o&&s.a.createElement(f.b,null),a&&s.a.createElement(f.a,null),s.a.createElement(f.c,{backgroundUrl:t}),n),!Object(p.isDingtalk)()&&r&&s.a.createElement(f.e,{className:"blank",title:c()("在新标签页打开")}))}function h(){return{newdoc:{type:"newdoc",method:r.File,body:b({icon:Object(d.getCreateIcon)("doc"),name:c()("文档"),blank:!0,dataTest:"create-file-doc"})},modoc:{type:"modoc",method:r.File,body:b({icon:Object(d.getCreateIcon)("modoc"),name:s.a.createElement(s.a.Fragment,null,c()("文档"),s.a.createElement(m,null,c()("传统版"))),blank:!0,dataTest:"create-file-modoc",beta:!0})},mosheet:{type:"mosheet",method:r.File,body:b({icon:Object(d.getCreateIcon)("sheet"),name:c()("表格"),blank:!0,dataTest:"create-file-sheets"})},sheet:{type:"sheet",method:r.File,body:b({icon:Object(d.getCreateIcon)("sheet"),name:c()("表格"),blank:!0,dataTest:"create-file-sheet"})},slide:{type:"slide",method:r.File,body:b({icon:Object(d.getCreateIcon)("slide"),name:c()("幻灯片"),blank:!0,dataTest:"create-file-slide"})},table:{type:"table",method:r.File,body:b({icon:Object(d.getCreateIcon)("table"),name:c()("应用表格"),blank:!0,beta:!0,dataTest:"create-file-table"})},presentation:{type:"presentation",method:r.File,body:b({icon:Object(d.getCreateIcon)("presentation"),name:s.a.createElement(s.a.Fragment,null,c()("幻灯片")),blank:!0,dataTest:"create-file-presentation",beta:!0})},mindmap:{type:"mindmap",method:r.File,body:b({icon:Object(d.getCreateIcon)("mindmap"),name:c()("思维导图"),blank:!0,dataTest:"create-file-mindmap",beta:!0})},form:{type:"form",method:r.File,body:b({icon:Object(d.getCreateIcon)("form"),name:c()("表单"),blank:!0,dataTest:"create-file-form"})},board:{type:"board",method:r.File,body:b({icon:Object(d.getCreateIcon)("board"),name:c()("白板"),blank:!0,dataTest:"create-file-board",beta:!0})},folder:{type:"folder",method:r.Folder,body:b({icon:Object(d.getCreateIcon)("folder"),name:c()("文件夹"),blank:!1,dataTest:"create-file-folder"})}}}!function(e){e[e.File=0]="File",e[e.Folder=1]="Folder",e[e.Template=2]="Template",e[e.Custom=3]="Custom"}(r||(r={}))},1118:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12"},this.props),i.a.createElement("path",{d:"M5.5 7.4l5.1-5.1 1.2 1.2-6.3 6.4-.6-.6L2 6.4l1.2-1.2 2.3 2.2z",fill:"#a0a2a5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1119:function(e,t,n){"use strict";var r=n(91);n.d(t,"a",(function(){return r}))},1125:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m}));var r,i=n(2),a=n(69),o=n(11),c=n.n(o),l=n(91),s="SHARE_RISK_CANT_PUBLIC_SHARE",u="LINKED_SHEET_CANT_SHARE",d={NOT_ALLOWED:c()("根据企业设置，你没有权限修改公开链接，请联系文件管理者或企业管理员"),FILE_LOCKED:c()("文件已被锁定，不可设置分享；请联系文件管理者处理"),NOT_FOUND:c()("你访问的文件不存在或已被删除"),PERSONNER_ACCOUNT:c()("外部协作者无权限进行企业文件分享"),CANT_EDIT:c()("无权限分享文件，请联系文件管理员处理"),CANT_MODIFY_COLLABORATORS:c()("由于空间设置无权限分享，请联系空间管理者处理"),CANT_SHARE_FILE:c()("由于企业设置，无权限进行操作，请联系企业管理员或创建者处理"),ACCOUNT_FORBIDDEN:c()("你的账号存在异常操作，不可开启公开分享"),FILE_FORBINDDEN:c()("由于文件存在敏感信息，现已封禁，不可分享"),WRONG_PARAMS:c()("请求不合法"),MOBILE_FORBIDDEN:c()("由于你的手机号涉嫌违规，不可进行公开分享"),FILE_CONTAINS_FORBIDDEN_WORD:c()("由于你的文件存在敏感信息，现已禁止分享"),LINKED_SHEET_CANT_SHARE:c()("由于你的表格已经关联表单，为了你的信息安全，暂不支持开启分享")},p=function(e,t,n,r){return a.n.isBelongToTheSameEnterprise(e,n)&&t&&t.getIn(["settings","force_team_share"],!1)?"private"===r||r.startsWith("enterprise_")?r:"enterprise_"+r:r},f=function(e,t,n,a){var o,s;if(void 0===n&&(n=!1),void 0===a&&(a=""),"function"==typeof(null===(o=window.shimo.hooks)||void 0===o?void 0:o.getCopyShareDesc))return window.shimo.hooks.getCopyShareDesc(e,t,n?a:void 0);var u=t,d=/《[^《》]+》/g,p=__RUNTIME_ENV__.PRIVATE_DEPLOY?"":c()(r||(r=Object(i.__makeTemplateObject)(["，可复制链接后用石墨文档 App ","打开"],["，可复制链接后用石墨文档 App ","打开"])),Object(l.isDingtalk)()||Object(l.isWework)()?"":c()("或小程序"));return/^《[^《》]+》$/g.test(u)?e+"/ "+u+(n&&a?c()("访问密码")+" "+a:""+p):/[\u4E00-\u9FA5]/.test(u)?d.test(u)?((null!==(s=u.match(d))&&void 0!==s?s:[]).forEach((function(e){var t=e.replace("《","〈").replace("》","〉");u=u.replace(e,t)})),e+"/ 《"+u+"》"+(n&&a?c()("访问密码")+" "+a:""+p)):e+"/ 《"+u+"》"+(n&&a?c()("访问密码")+" "+a:""+p):e+"/ 「"+u+"」"+(n&&a?c()("访问密码")+" "+a:""+p)};function m(e){var t,n=e.code,r=e.defaultMessage;return n&&null!==(t=d[n])&&void 0!==t?t:r}},1126:function(e,t,n){"use strict";n.d(t,"h",(function(){return W})),n.d(t,"g",(function(){return K})),n.d(t,"a",(function(){return mr})),n.d(t,"c",(function(){return cr})),n.d(t,"b",(function(){return br})),n.d(t,"f",(function(){return hr})),n.d(t,"e",(function(){return gr})),n.d(t,"d",(function(){return vr}));var r,i=n(2),a=n(3114),o=function(){function e(e){void 0===e&&(e=5),this.queue=[],this.processingTasks=[],this.limit=e}return e.prototype.setEndBatchTasksHandler=function(e){this.handleEndBatchTasks=e},e.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.queue).push.apply(e,Object(i.__spreadArray)([],Object(i.__read)(t))),this.next()},e.prototype.remove=function(){for(var e,t,n,r,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var c=function(e){var t=void 0,i=l.processingTasks.findIndex((function(t){return t.id===e}));if(i>-1)t=l.processingTasks.splice(i,1)[0],null===(n=t.cancel)||void 0===n||n.call(t);else{var a=l.queue.findIndex((function(t){return t.id===e}));a>-1&&(t=l.queue.splice(a,1)[0],null===(r=t.cancel)||void 0===r||r.call(t))}},l=this;try{for(var s=Object(i.__values)(a),u=s.next();!u.done;u=s.next()){var d=u.value;c(d)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.clear=function(){var e,t,n,r,a,o;try{for(var c=Object(i.__values)(this.queue),l=c.next();!l.done;l=c.next()){null===(a=(d=l.value).cancel)||void 0===a||a.call(d)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}this.queue=[];try{for(var s=Object(i.__values)(this.processingTasks),u=s.next();!u.done;u=s.next()){var d;null===(o=(d=u.value).cancel)||void 0===o||o.call(d)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.processingTasks=[]},e.prototype.next=function(){for(var e=this,t=function(){var t=n.queue.shift();n.processingTasks.push(t),t.handler().finally((function(){var n,r=e.processingTasks.findIndex((function(e){return e.id===t.id}));r>-1&&e.processingTasks.splice(r,1),e.processingTasks.length||e.queue.length?e.next():null===(n=e.handleEndBatchTasks)||void 0===n||n.call(e)}))},n=this;this.processingTasks.length<this.limit&&this.queue.length;)t()},e}();!function(e){e.PENDING="pending",e.PROGRESSING="progressing",e.DONE="done",e.FAILED="failed",e.CANCELED="canceled"}(r||(r={}));var c=n(56),l=n.n(c),s=n(28),u=function(){function e(){}return e.prototype.createFolder=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.post("/files",{folder:e.folderId,name:e.name,type:"folder"})]}))}))},e.prototype.uploadFile=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,a,o,c,l;return Object(i.__generator)(this,(function(i){return n=e.name,r=e.raw,a=e.mime,o=e.parentGuid,c=t.onProgress,l=t.cancelToken,[2,s.s.post("/files/upload?encodedFileName="+encodeURIComponent(n),r,{headers:{"Content-Type":"application/octet-stream","x-file-parent-guid":o,"x-file-type":a,"x-file-size":r.size.toString()},onUploadProgress:function(e){c(e.loaded/e.total)},cancelToken:l,timeout:8e4})]}))}))},e.prototype.uploadMultipart=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.post("/files/upload/multipart",e)]}))}))},e.prototype.uploadMultipartMerge=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.put("/files/upload/multipart/"+e.fileKey+"/merge",void 0,{params:e})]}))}))},e.prototype.uploadMultipartChunks=function(e,t){var n=e.fileKey,r=e.chunkNum;return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,s.s.post("/files/upload/multipart/"+n+"/chunks",t.body,{headers:{"Content-Type":"application/octet-stream","x-chunk-size":String(t.size)},params:{fileKey:n,chunkNum:String(r)},timeout:8e4})]}))}))},e.prototype.getMultipart=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.get("/files/upload/multipart/"+e.fileKey,{params:e})]}))}))},e}(),d={baseURL:"/panda-api"},p=function(){function e(){}return e.prototype.createUnpack=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.post("/drive/unpack",e,d)]}))}))},e.prototype.createBatchDownload=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.post("/drive/batch_downloads",e,d)]}))}))},e.prototype.getTask=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.get("/drive/tasks/"+e,d)]}))}))},e.prototype.getTasks=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,s.s.get("/drive/tasks",d)]}))}))},e.prototype.deleteTask=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,s.s.delete("/drive/tasks/"+e,d)]}))}))},e}(),f={files:new u,drive:new p};function m(){var e,t=this;return{send:function(n,r){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return e=l.a.CancelToken.source(),[2,f.files.uploadFile(n,{onProgress:r.progress,cancelToken:e.token})]}))}))},cancel:function(){e&&e.cancel()}}}var b,h,g,v,_,y=n(11),O=n.n(y),j=n(1286),w=n.n(j),x=n(1264),E={CANT_CREATE_FOLDER:O()("无权限解压到目标位置"),USER_EXPIRED:O()("该功能为付费功能，请升级或续费后使用"),UNSUPPORTED_TYPE:O()("不支持的压缩格式"),FOLDER_NOT_EXIST:O()("解压到的文件夹不存在"),SPACE_NOT_ENOUGH:O()("空间容量不足，解压失败，请扩容后重试"),FOLDER_CANT_WRITE:O()("无权限解压到目标位置"),ErrMaxSizeAfterUnpack:O()("解压后的文件夹超过限制（5G）"),ErrSpaceNotEnough:O()("空间容量不足，解压失败，请扩容后重试"),ErrExceedDayMaxUnpackFiles:O()("当天解压文件已达上限，请明天再试"),TOO_MANY_TASKS:O()("目前已有压缩包正在进行解压，请等待解压完成后再进行操作"),OTHERS_UNPACKING_NOW:O()("此文件正在解压，请勿重复操作"),UNPACK_FILE_LIMIT_EXCEED:O()("当天解压文件已达上限，请明天再试"),UNKNOWN:O()("由于压缩包问题或其他未知错误，解压失败，请重试或联系客服"),UNPACK_FAILED:O()("由于压缩包问题或其他未知错误，解压失败，请重试或联系客服"),FILE_CANT_DOWNLOAD:O()("你目前的版本已过期，暂不支持解压文件，请升级版本"),ErrExceedOnceUnpackFiles:O()("解压失败，目前仅支持不超过 500 个文件的压缩包解压"),FILE_CANT_UNPACK:O()("企业设置已限制解压，请联系企业管理员")},k=function(e,t,n){var r,a,o="";"SIZE_LIMIT"===e&&(o=w()(t));var c={NO_FEATURE:O()("部分文件无权限下载"),FILES_LIMIT:O()(b||(b=Object(i.__makeTemplateObject)(["单次下载文件数不得超过 "," 个。"],["单次下载文件数不得超过 "," 个。"])),t),SIZE_LIMIT:O()(h||(h=Object(i.__makeTemplateObject)(["单次下载文件体积不得超过 ","。"],["单次下载文件体积不得超过 ","。"])),o),MAX_CONN_TASKS:O()(g||(g=Object(i.__makeTemplateObject)(["下载失败，目前仅支持同时下载 "," 个任务。"],["下载失败，目前仅支持同时下载 "," 个任务。"])),t),UNKNOWN:O()("未知错误")};return null!==(a=null!==(r=c[e])&&void 0!==r?r:n)&&void 0!==a?a:c.UNKNOWN};function C(e){var t;if(function(e){if(e instanceof Error)return Boolean(e.isAxiosError);return!1}(e))return function(e){if("Network Error"===e.message||"ECONNABORTED"===e.code)return{errorCode:-1};return{errorCode:-999}}(e);if(function(e){return Object(x.a)(e)}(e)){var n=null!==(t=e.data)&&void 0!==t?t:{};return{error:n.error,errorCode:n.errorCode,requestId:n.requestId,status:e.status,statusText:e.statusText}}return{errorCode:-999}}var T=function(){function e(e){this.file=e}return e.prototype.addEventHandler=function(e,t){switch(e){case"progress":this.handleProgress=t;break;case"canceled":this.handleCanceled=t;break;case"failed":this.handleFailed=t;break;case"done":this.handleSucceeded=t,this.handleUploaded=t}},e}(),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.client=m(),t}return Object(i.__extends)(t,e),t.prototype.run=function(){var e,t,n;return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,a,o=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.client.send(this.file,{progress:function(e){var t;null===(t=o.handleProgress)||void 0===t||t.call(o,e)}})];case 1:return r=i.sent(),null===(e=this.handleUploaded)||void 0===e||e.call(this,r),[3,3];case 2:return(a=i.sent())instanceof l.a.Cancel?(null===(t=this.handleCanceled)||void 0===t||t.call(this),[2]):(null===(n=this.handleFailed)||void 0===n||n.call(this,C(a)),[3,3]);case 3:return[2]}}))}))},t.prototype.retry=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.run()]}))}))},t.prototype.cancel=function(){var e;this.client.cancel(),null===(e=this.handleCanceled)||void 0===e||e.call(this)},t}(T),I=n(1287),N=n.n(I),R=function(e,t,n){return void 0===t&&(t=3),void 0===n&&(n=100),Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:r=t,a.label=1;case 1:if(!(r>1))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,e()];case 3:return[2,a.sent()];case 4:return a.sent(),[4,(o=n,Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){return e()}),o)}))]}))})))];case 5:return a.sent(),r-=1,[3,6];case 6:return[3,1];case 7:return[2,e()]}var o}))}))},P=n(1288),M=n.n(P),A=n(3098),B=new M.a("drive_task_v2"),D=new M.a("upload:md5");function L(e){var t=e.guid,n=e.taskId;return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,r=this;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return n?[3,3]:[4,B.json()];case 1:return e=a.sent(),[4,Promise.all(Object(A.a)(e,(function(e,n){return Object(i.__awaiter)(r,void 0,void 0,(function(){return Object(i.__generator)(this,(function(r){return e.id===t?[2,B.remove(n)]:[2]}))}))})))];case 2:a.sent(),a.label=3;case 3:return[2,Promise.all([B.remove(t),B.remove("task:"+n)])]}}))}))}function z(e){var t=e.guid,n=e.taskId,r=e.file;return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,Promise.all([B.set(t,n),B.set("task:"+n,r)])]}))}))}var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canceled=!1,t.queue=[],t}return Object(i.__extends)(t,e),t.prototype.cancel=function(){var e;this.canceled=!0,null===(e=this.handleCanceled)||void 0===e||e.call(this)},t.prototype.run=function(){var e,t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,this.getJob()];case 1:return i.sent(),this.initJobQueue(),[4,this.uploadQueue()];case 2:return i.sent(),this.canceled?[3,5]:[4,f.files.uploadMultipartMerge({fileKey:this.job.fileKey})];case 3:return n=i.sent(),[4,D.remove(this.job.md5)];case 4:i.sent(),null===(e=this.handleUploaded)||void 0===e||e.call(this,n),i.label=5;case 5:return[3,7];case 6:return r=i.sent(),null===(t=this.handleFailed)||void 0===t||t.call(this,C(r)),[3,7];case 7:return[2]}}))}))},t.prototype.retry=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return this.canceled=!1,[2,this.run()]}))}))},t.prototype.uploadPartJob=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,f.files.uploadMultipartChunks({fileKey:this.job.fileKey,chunkNum:t},{body:e,size:e.size})]}))}))},t.prototype.initJobQueue=function(){for(var e=0,t=this.job,n=t.chunkNums,r=t.chunkSize,i=t.uploaded;e<n;)e+=1,i.includes(e)||this.queue.push({chunk:(e-1)*r,index:e})},t.prototype.uploadQueue=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.uploadJob(),this.uploadJob(),this.uploadJob()])];case 1:return e.sent(),[2]}}))}))},t.prototype.uploadJob=function(){var e,t,n,r;return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,o,c,l,s,u,d=this;return Object(i.__generator)(this,(function(p){switch(p.label){case 0:a=this.job,o=a.chunkNums,c=a.chunkSize,l=function(){var a,l,u,p;return Object(i.__generator)(this,(function(f){switch(f.label){case 0:if(!(a=s.queue.shift()))return[2,{value:void 0}];if(s.canceled)return null===(e=s.handleCanceled)||void 0===e||e.call(s),[2,{value:void 0}];l=s.file.raw.slice(a.chunk,a.chunk+c),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,R((function(){return Object(i.__awaiter)(d,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,this.uploadPartJob(l,a.index)]}))}))}))];case 2:return f.sent(),[3,4];case 3:throw u=f.sent(),null===(t=s.handleFailed)||void 0===t||t.call(s,C(u)),u;case 4:return s.canceled?(null===(n=s.handleCanceled)||void 0===n||n.call(s),[2,{value:void 0}]):(p=(o-s.queue.length)/o,null===(r=s.handleProgress)||void 0===r||r.call(s,p),[2])}}))},s=this,p.label=1;case 1:return[5,l()];case 2:if("object"==typeof(u=p.sent()))return[2,u.value];p.label=3;case 3:if(this.queue.length)return[3,1];p.label=4;case 4:return[2]}}))}))},t.prototype.getJob=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,a,o,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.file,t=e.raw,n=e.id,r=N()(""+String(t.name)+t.size+n),[4,D.get(r)];case 1:if(!(a=i.sent()))return[3,8];i.label=2;case 2:return i.trys.push([2,4,,7]),o=this,[4,f.files.getMultipart({fileKey:a})];case 3:return o.job=i.sent(),[3,7];case 4:return i.sent(),[4,D.remove(r)];case 5:return i.sent(),c=this,[4,this.createMultipartJob()];case 6:return c.job=i.sent(),[3,7];case 7:return[3,10];case 8:return l=this,[4,this.createMultipartJob()];case 9:l.job=i.sent(),i.label=10;case 10:return[4,D.set(r,this.job.fileKey)];case 11:return i.sent(),this.job.md5=r,[2]}}))}))},t.prototype.createMultipartJob=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,a,o,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.file,t=e.name,n=e.raw,r=e.mime,a=void 0===r?"application/octet-stream":r,o=e.parentGuid,c=void 0===o?"":o,[4,f.files.uploadMultipart({parentGuid:c,fileName:t,size:n.size,type:a})];case 1:return[2,i.sent()]}}))}))},t}(T),V=n(973),U=n(988),G={uploadPanelVisible:!1,unpackPanelVisible:!1,downloadPanelVisible:!1,uploadPanelExpend:!0,unpackPanelExpend:!0,downloadPanelExpend:!0},H=new(function(e){function t(t){return void 0===t&&(t=G),e.call(this,t)||this}return Object(i.__extends)(t,e),t=Object(i.__decorate)([Object(V.e)({name:"taskStore",producerFn:U.c}),Object(i.__metadata)("design:paramtypes",[Object])],t)}(V.a)),W=new(function(){function e(e,t){this.taskManager=t,this.store=e,this.uploadInstancePool={},this.eventHandler={}}return e.prototype.addUploadTask=function(e){var t,n=this,r=e.map((function(e){return n.createUploadFile(e)}));this.store.upsertMany(r),(t=this.taskManager).push.apply(t,Object(i.__spreadArray)([],Object(i.__read)(r.map((function(e){return n.createTask(e)})))))},e.prototype.cancelUploadFile=function(e){var t;null===(t=this.uploadInstancePool[e])||void 0===t||t.cancel(),this.taskManager.remove(e)},e.prototype.retryUploadFile=function(e){var t=this.getUploadFile(e);t&&(this.updateUploadFile({id:e,state:r.PENDING}),this.taskManager.push(this.createTask(t)))},e.prototype.addEventHandler=function(e,t){this.eventHandler[e]=t},e.prototype.removeEventHandler=function(e){this.eventHandler[e]=void 0},e.prototype.createUploadFile=function(e){return{id:Object(a.a)(),raw:e.raw,name:e.raw.name,size:e.raw.size,state:r.PENDING,mime:e.raw.type,percentage:0,parentGuid:e.parentGuid,ancestor:e.ancestor,taskType:"upload"}},e.prototype.createTask=function(e){var t=this;return{id:e.id,handler:function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.uploadFile(e)];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},cancel:function(){return t.updateUploadFile({id:e.id,state:r.CANCELED})}}},e.prototype.uploadFile=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return t=e.raw.size<20971520,n=t?new S(e):new F(e),this.addUploadEventHandler(n,{id:e.id,parentGuid:e.parentGuid}),this.uploadInstancePool[e.id]=n,[4,n.run()];case 1:return r.sent(),[2]}}))}))},e.prototype.addUploadEventHandler=function(e,t){var n=this,i=t.id,a=t.parentGuid;e.addEventHandler("progress",(function(e){var t,a;n.updateUploadFile({id:i,state:r.PROGRESSING,percentage:100*e}),null===(a=(t=n.eventHandler).progress)||void 0===a||a.call(t,100*e)})),e.addEventHandler("failed",(function(e){var t,a;n.updateUploadFile({id:i,state:r.FAILED,error:e}),null===(a=(t=n.eventHandler).failed)||void 0===a||a.call(t,e)})),e.addEventHandler("done",(function(e){var t,o,c=e.guid;n.updateUploadFile({id:i,state:r.DONE,guid:c,percentage:100}),null===(o=(t=n.eventHandler).done)||void 0===o||o.call(t,{guid:c,parentGuid:a})})),e.addEventHandler("canceled",(function(){var e,t;n.updateUploadFile({id:i,state:r.CANCELED}),null===(t=(e=n.eventHandler).canceled)||void 0===t||t.call(e)}))},e.prototype.updateUploadFile=function(e){this.store.update(e.id,(function(t){return Object(i.__assign)(Object(i.__assign)({},t),e)}))},e.prototype.getUploadFile=function(e){var t;return null===(t=this.store.getValue().entities)||void 0===t?void 0:t[e]},e}())(H,new o);function K(e){H.update((function(t){t.uploadPanelVisible=e})),q(e)}function Y(e){H.update((function(t){t.unpackPanelVisible=e})),Q(e)}function Z(e){H.update((function(t){t.downloadPanelVisible=e})),X(e)}function q(e){H.update((function(t){t.uploadPanelExpend=e,e&&(t.unpackPanelExpend=!1,t.downloadPanelExpend=!1)}))}function Q(e){H.update((function(t){t.unpackPanelExpend=e,e&&(t.uploadPanelExpend=!1,t.downloadPanelExpend=!1)}))}function X(e){H.update((function(t){t.downloadPanelExpend=e,e&&(t.uploadPanelExpend=!1,t.unpackPanelExpend=!1)}))}var J=n(8),$=n.n(J),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1,error:{name:O()("出错啦"),message:O()("出错啦")}},t}return Object(i.__extends)(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0,error:e}},t.prototype.componentDidCatch=function(e,t){var n=this.props.callback;null==n||n(e)},t.prototype.render=function(){var e=this.props,t=e.fallback,n=e.children,r=this.state,i=r.hasError,a=r.error;return i?null==t?void 0:t(a):n},t.defaultProps={fallback:function(){return $.a.createElement("div",null,O()("出错啦"))}},t}($.a.Component),te=n(3190),ne=n(253),re=n(3110),ie=n(3115),ae=n(1707),oe=n(3108),ce=n(1620),le=n(986),se=Object(le.d)(),ue=$.a.createContext(Object(le.d)());function de(e){return Object(J.useContext)(ue).containers[e].facade}var pe=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"getAll$",{get:function(){var e=this.select("entities").pipe(Object(ae.a)((function(e){return void 0===e&&(e={}),Object.values(e)}))),t=e.pipe(Object(ae.a)((function(e){return e.filter((function(e){return!!e.guid})).map((function(e){return e.guid}))}))),n=Object(ce.a)(se.getContainer("file")).pipe(Object(ae.a)((function(e){return e.query})),Object(oe.a)((function(e){return e.selectFilesByIdsStream(t)})));return Object(V.l)([e,n]).pipe(Object(ae.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return n.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{sosFile:e.guid&&"batch_download"!==e.taskType?r.find((function(t){return t.guid===e.guid})):e.sosFile})}))})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uploadPanelVisible$",{get:function(){return this.select("uploadPanelVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unpackPanelVisible$",{get:function(){return this.select("unpackPanelVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"downloadPanelVisible$",{get:function(){return this.select("downloadPanelVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uploadPanelExpend$",{get:function(){return this.select("uploadPanelExpend")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unpackPanelExpend$",{get:function(){return this.select("unpackPanelExpend")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"downloadPanelExpend$",{get:function(){return this.select("downloadPanelExpend")},enumerable:!1,configurable:!0}),t}(V.c),fe=n(1008),me=n.n(fe),be=n(971),he=n(1278);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var i=we(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(a,e);var t,n,r,i=Oe(a);function a(){return ve(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",xe({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.854 5.854L8 11.707 2.146 5.854l.708-.708L8 10.293l5.146-5.147.708.708z"}))}}])&&_e(t.prototype,n),r&&_e(t,r),a}($.a.Component);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var i=Re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(a,e);var t,n,r,i=Ie(a);function a(){return Ce(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",Pe({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7.53L4.47 4 4 4.47 7.53 8 4 11.53l.47.47L8 8.47 11.53 12l.47-.47L8.47 8 12 4.47 11.53 4 8 7.53z"}))}}])&&Te(t.prototype,n),r&&Te(t,r),a}($.a.Component);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var i=Ve(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(a,e);var t,n,r,i=ze(a);function a(){return Be(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",Ue({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0zm-8.654 4.2l6.641-6.642L11.63 4.2 6.346 9.483 3.944 7.082 2.586 8.44l3.76 3.76z"}))}}])&&De(t.prototype,n),r&&De(t,r),a}($.a.Component);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var i=Qe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe,Je,$e,et,tt,nt,rt,it,at,ot,ct,lt,st,ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(a,e);var t,n,r,i=Ze(a);function a(){return We(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",ut({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0zM7.009 4.124a1 1 0 1 1 1.982 0L8.377 9h-.755L7.01 4.124zM6.8 12a1.2 1.2 0 1 1 2.4 0 1.2 1.2 0 0 1-2.4 0z"}))}}])&&Ke(t.prototype,n),r&&Ke(t,r),a}($.a.Component),pt=n(1282),ft=function(e){var t=e.value,n=e.className;return $.a.createElement(mt,{className:n},$.a.createElement(bt,{value:t,styles:ht,strokeWidth:16}))},mt=ne.default.div.withConfig({componentId:"sc-2YjT-O",displayName:"CircularWrapper"})(Xe||(Xe=Object(i.__makeTemplateObject)(["width:16px;height:16px;"],[""]))),bt=Object(ne.default)(pt.a).withConfig({componentId:"sc-2YjT-O-1",displayName:"StyledProgressBar"})(Je||(Je=Object(i.__makeTemplateObject)(["width:14px;height:14px;"],[""]))),ht={path:{stroke:be.x.blue.blue5,strokeLinecap:"butt",transition:"stroke-dashoffset 0.5s ease 0s"},trail:{stroke:"#d8d8d8"}},gt=function(e,t){var n;void 0===t&&(t={});var i=t.progress,a=void 0===i?0:i,o=t.isTotal,c=void 0!==o&&o,l=t.isWarning;return((n={})[r.PENDING]=$.a.createElement(ft,{value:a}),n[r.PROGRESSING]=$.a.createElement(ft,{value:a}),n[r.DONE]=$.a.createElement(Ge,{width:16,height:16,style:{color:l?be.x.yellow.yellow8:"#66B165"}}),n[r.FAILED]=$.a.createElement(dt,{width:16,height:16,style:{color:"#E0504E"}}),n[r.CANCELED]=c?$.a.createElement(Ge,{width:16,height:16,style:{color:"#66B165"}}):$.a.createElement(dt,{width:16,height:16,style:{color:"#E0504E"}}),n)[e]},vt=ne.default.section.withConfig({componentId:"sc-kuOl2",displayName:"HeaderWrapper"})(et||(et=Object(i.__makeTemplateObject)(["display:flex;padding:16px 24px;justify-content:space-between;align-items:center;"],[""]))),_t=ne.default.div.withConfig({componentId:"sc-kuOl2-1",displayName:"Left"})(tt||(tt=Object(i.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),yt=ne.default.span.withConfig({componentId:"sc-kuOl2-2",displayName:"IconWrapper"})(nt||(nt=Object(i.__makeTemplateObject)(["margin-right:10px;height:16px;width:16px;"],[""]))),Ot=Object(ne.default)(be.e).withConfig({componentId:"sc-kuOl2-3",displayName:"StateDescription"})(rt||(rt=Object(i.__makeTemplateObject)(["margin-right:10px;font-weight:500;color:",";"],["",""])),be.x.transparency.transparency100),jt=Object(ne.default)(be.t).withConfig({componentId:"sc-kuOl2-4",displayName:"Numbers"})(it||(it=Object(i.__makeTemplateObject)(["margin-right:10px;color:",";"],["",""])),be.x.text.secondary),wt=ne.default.div.withConfig({componentId:"sc-kuOl2-5",displayName:"Right"})(at||(at=Object(i.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),xt=Object(ne.default)(be.f).withConfig({componentId:"sc-kuOl2-6",displayName:"ExpendIcon"})(ot||(ot=Object(i.__makeTemplateObject)(["margin-right:8px;&.turned{transform:rotate(180deg);}"],[""]))),Et=Object(ne.default)(be.l).withConfig({componentId:"sc-kuOl2-7",displayName:"StyledButton"})(ct||(ct=Object(i.__makeTemplateObject)(["padding-left:2px;padding-right:2px;font-weight:400;margin-right:8px;.sm-button-text{padding:0 1px;}"],[""]))),kt=Object(ne.default)(Et).withConfig({componentId:"sc-kuOl2-8",displayName:"ErrorInfo"})(lt||(lt=Object(i.__makeTemplateObject)(["margin-right:3px;"],[""]))),Ct=Object(ne.default)(be.l).withConfig({componentId:"sc-kuOl2-9",displayName:"FooterButton"})(st||(st=Object(i.__makeTemplateObject)(["padding-left:24px;padding-right:24px;"],[""]))),Tt=function(e){if(!e.length)return 0;var t=Object(i.__read)(e.reduce((function(e,t){return[e[0]+t.size*t.percentage,e[1]+t.size]}),[0,0]),2);return t[0]/t[1]},St=function(e){return e.length?e.some((function(e){return[r.PROGRESSING,r.PENDING].includes(e.state)}))?r.PROGRESSING:e.some((function(e){return e.state===r.FAILED}))?r.FAILED:e.some((function(e){return e.state===r.CANCELED}))?r.CANCELED:r.DONE:r.PROGRESSING},It=function(e){var t=e.title,n=e.body,r=e.okText,i=e.cancelText,a=e.onCancel;return function(){var e=be.k.open({title:t,body:n,footer:$.a.createElement($.a.Fragment,null,$.a.createElement(Ct,{type:"primary",subType:"normal",size:"l",onClick:function(t){a(),e(t)}},i),$.a.createElement(Ct,{type:"secondary",subType:"normal",size:"l",onClick:function(t){e(t)}},r)),onCancel:function(t){e(t)}}).destroy}},Nt=function(e){var t=e.expend,n=e.onToggleExpend,a=e.items,o=e.onCancelAll,c=e.onHidePanel,l=e.onRetryAll,s=e.onToggleErrorPanel,u=e.errorPanelVisible,d=e.taskType,p=St(a),f=Tt(a),m=function(e){return e.every((function(e){var t;return(null===(t=e.failFiles)||void 0===t?void 0:t.length)&&e.state===r.DONE}))}(a),b=a.filter((function(e){return e.state===r.DONE})).length,h=a.filter((function(e){return e.state===r.CANCELED})).length,g=b>99?"99+":""+b,v=a.length>99?"99+":""+a.length,_=a.filter((function(e){return e.state===r.PROGRESSING||e.state===r.PENDING}));Object(he.b)((function(){if(_.length&&_.every((function(e){return"upload"===e.taskType})))return O()("关闭面板将取消正在上传的文件，已上传成功的文件不受影响。确定要取消上传？")}));var y=It({title:O()("确认取消下载任务？"),body:O()("您有正在下载的任务，关闭列表将导致任务取消，是否确认取消下载？"),okText:O()("继续下载任务"),cancelText:O()("取消下载任务"),onCancel:function(){o(),c()}}),j=It({title:O()("确定取消上传？"),body:O()("关闭面板将取消正在上传的文件，已上传成功的文件不受影响。确定要取消上传？"),okText:O()("继续上传"),cancelText:O()("取消上传"),onCancel:function(){o(),c()}}),w=$.a.useRef(u);return $.a.useEffect((function(){w.current=u}),[u]),$.a.useEffect((function(){!a.length||p!==r.FAILED&&!m||w.current||s(!0)}),[p,m,a]),$.a.createElement(vt,null,$.a.createElement(_t,{"data-test":"upload-result"},$.a.createElement(yt,null,gt(p,{progress:f,isTotal:!0,isWarning:m})),$.a.createElement(Ot,{level:3},function(e,t){var n;void 0===t&&(t={taskType:"upload"});var a=t.canceled,o=void 0===a?0:a,c=t.taskType,l=((n={})[r.PENDING]=O()("正在上传"),n[r.PROGRESSING]=O()("正在上传"),n[r.DONE]=O()("上传完成"),n[r.FAILED]=O()("上传发生错误"),n[r.CANCELED]=O()($e||($e=Object(i.__makeTemplateObject)(["","项已取消"],["","项已取消"])),o),n);switch(c){case"unpack":l[r.PENDING]=O()("正在解压"),l[r.PROGRESSING]=O()("正在解压"),l[r.DONE]=O()("解压完成"),l[r.FAILED]=O()("解压发生错误");break;case"batch_download":l[r.PENDING]=O()("准备下载"),l[r.PROGRESSING]=O()("准备下载"),l[r.DONE]=O()("打包完成"),l[r.FAILED]=O()("打包发生错误")}return l[e]}(p,{canceled:h,taskType:d})),$.a.createElement(jt,{size:"l",fontWeight:400},"("+g+"/"+v+")"),(p===r.FAILED||m)&&$.a.createElement(kt,{type:"minimal",subType:"normal",size:"s",onClick:function(){return s()}},O()("查看详情")),p===r.FAILED&&$.a.createElement(Et,{type:"minimal",subType:"guidance",size:"s",onClick:l},O()("重试"))),$.a.createElement(wt,null,$.a.createElement(xt,{type:"accessory",size:"s",icon:$.a.createElement(Ee,{width:16,height:16}),className:me()({turned:!t}),onClick:function(){return n(!t)}}),$.a.createElement(be.f,{type:"accessory",size:"s",onClick:function(){if(p!==r.PROGRESSING)return c(),void("upload"!==d&&o());"batch_download"!==d?"upload"!==d?c():j():y()},icon:$.a.createElement(Me,{width:16,height:16})})))},Rt=n(1031),Pt=n(36),Mt=n.n(Pt);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var i=Vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,e);var t,n,r,i=zt(a);function a(){return Bt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",Ut({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 2.5H1v11h14V4H6.5L5 2.5zM14 5H5.89l-1.5-1.5H2v9h12V5z"}))}}])&&Dt(t.prototype,n),r&&Dt(t,r),a}($.a.Component);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var i=Qt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(a,e);var t,n,r,i=Zt(a);function a(){return Wt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return $.a.createElement("svg",Xt({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},this.props),$.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.354 12.976A6 6 0 1 1 14 8h-1a5 5 0 1 0-2.31 4.216l.664.76z"}),$.a.createElement("path",{d:"M13.5 10.5l2-2.5h-4l2 2.5z"}))}}])&&Kt(t.prototype,n),r&&Kt(t,r),a}($.a.Component),$t=(n(262),n(1190)),en=n(91);function tn(e){if(e)if(Object(en.isIE)())location.href=e;else{var t=document.createElement("a");t.href=e,$t.a(t,"click")}}var nn=n(1289),rn=n.n(nn),an=n(3),on=le.c.FileSubType;rn.a.define({"application/wpsoffice":["wps"],"application/wps-writter":["wps"],"audio/mpeg":["mp3"]},!0);var cn,ln,sn,un,dn,pn,fn,mn,bn,hn,gn,vn,_n=function(e,t){var n=e.kind,r=e.guid;return"folder"===n&&r?t.filter((function(e){var t;return(null===(t=e.ancestor)||void 0===t?void 0:t.guid)===r})):[]},yn=ne.default.div.withConfig({componentId:"sc-3zopOO",displayName:"StateInfo"})(cn||(cn=Object(i.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),On=ne.default.div.withConfig({componentId:"sc-3zopOO-1",displayName:"OperateButton"})(ln||(ln=Object(i.__makeTemplateObject)(["display:none;"],[""]))),jn=ne.default.li.withConfig({componentId:"sc-3zopOO-2",displayName:"Li"})(sn||(sn=Object(i.__makeTemplateObject)(["display:flex;align-items:center;justify-content:space-between;padding:8px 24px;&.hoverable{&:hover{","{display:none;}","{display:flex;}}}&.clickable{cursor:pointer;&:hover{background-color:",";}}"],["","","",""])),yn,On,be.x.transparency.transparency5),wn=ne.default.div.withConfig({componentId:"sc-3zopOO-3",displayName:"Left"})(un||(un=Object(i.__makeTemplateObject)(["display:flex;align-items:center;overflow:hidden;"],[""]))),xn=ne.default.span.withConfig({componentId:"sc-3zopOO-4",displayName:"FileIconWrapper"})(dn||(dn=Object(i.__makeTemplateObject)(["margin-right:12px;height:24px;"],[""]))),En=ne.default.div.withConfig({componentId:"sc-3zopOO-5",displayName:"FileName"})(pn||(pn=Object(i.__makeTemplateObject)(["color:",";font-size:13px;line-height:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer;&.light{color:",";}"],["","",""])),be.x.transparency.transparency100,be.x.transparency.transparency60),kn=ne.default.div.withConfig({componentId:"sc-3zopOO-6",displayName:"Right"})(fn||(fn=Object(i.__makeTemplateObject)(["flex-shrink:0;display:flex;"],[""]))),Cn=Object(ne.default)(be.t).withConfig({componentId:"sc-3zopOO-7",displayName:"FailedDesc"})(mn||(mn=Object(i.__makeTemplateObject)(["color:",";"],["",""])),be.x.text.alert),Tn=Object(ne.default)(be.t).withConfig({componentId:"sc-3zopOO-8",displayName:"CanceledDesc"})(bn||(bn=Object(i.__makeTemplateObject)(["color:",";"],["",""])),be.x.text.secondary),Sn=ne.default.div.withConfig({componentId:"sc-3zopOO-9",displayName:"StateIcon"})(hn||(hn=Object(i.__makeTemplateObject)(["margin:4px 4px 4px 16px;height:16px;"],[""]))),In=Object(ne.default)(be.f).withConfig({componentId:"sc-3zopOO-10",displayName:"StyledButton"})(gn||(gn=Object(i.__makeTemplateObject)(["margin-left:12px;"],[""]))),Nn=function(e){var t,n=e.item,i=e.onCancelTask,a=e.onRetryTask,o=e.onClick,c=e.onClickParent,l=(0,e.getFileIcon)(function(e){var t,n=e.mime,r=e.kind,i=e.sosFile,a=e.name;if(i)return i.subType;if("folder"===r)return on.folder;var o=n?rn.a.getExtension(n):null,c=null!=o?o:null===(t=/.+\.(\w+)$/.exec(a))||void 0===t?void 0:t[1];if(c){var l=an.fileTypes.findBySubtype(c).id;return l===on.space?on.unknown:l}return on.unknown}(n),{size:24}),s=n.name,u=n.state,d=n.percentage,p=function(e){e.stopPropagation(),i(n)},f=function(e){e.stopPropagation(),a(n)},m=Object(J.useCallback)((function(){if("upload"===n.taskType&&o(n),"unpack"===n.taskType&&n.state===r.DONE&&o(n),"batch_download"===n.taskType&&n.state===r.DONE){if(Mt()(n.expiredAt).isBefore(Mt()()))return i(n),void be.B.error(O()("你的任务已过期，请重新下载"));tn(n.downloadUrl)}}),[n,i,o]),b=$.a.createElement(Sn,null,gt(u,{progress:d})),h="batch_download"!==n.taskType&&(n.state!==r.PROGRESSING||"upload"===n.taskType);return $.a.createElement(jn,{className:me()({clickable:"batch_download"!==n.taskType,hoverable:!0}),onClick:m},$.a.createElement(wn,null,$.a.createElement(xn,null,l),$.a.createElement(En,{className:me()({light:n.state===r.DONE||n.state===r.PENDING}),"data-test":"upload-item"},s)),$.a.createElement(kn,null,$.a.createElement(yn,null,Rn(n,u),b),$.a.createElement(On,null,h&&$.a.createElement(be.u,{key:"open",title:O()("打开所在文件夹")},$.a.createElement(In,{type:"accessory",size:"s",onClick:function(e){e.stopPropagation(),c(n)},icon:$.a.createElement(Gt,{width:16,height:16})})),(t=[],[r.FAILED,r.CANCELED].includes(u)&&t.push($.a.createElement(be.u,{key:"retry",title:"batch_download"===n.taskType?O()("重新下载"):O()("重试")},$.a.createElement("div",null,$.a.createElement(In,{type:"accessory",size:"s",onClick:f,icon:$.a.createElement(Jt,{width:16,height:16})})))),"batch_download"===n.taskType&&t.push($.a.createElement(be.u,{key:"remove",title:O()("删除任务")},$.a.createElement("div",null,$.a.createElement(In,{type:"accessory",size:"s",onClick:p,icon:$.a.createElement(Me,{width:16,height:16})})))),u!==r.DONE||t.length?("upload"===n.taskType&&[r.PENDING,r.PROGRESSING].includes(u)&&t.push($.a.createElement(be.u,{key:"cancel",title:O()("取消上传")},$.a.createElement("div",null,$.a.createElement(In,{type:"accessory",size:"s",onClick:p,icon:$.a.createElement(Me,{width:16,height:16})})))),t):b))))},Rn=function(e,t){return t===r.FAILED?$.a.createElement(Cn,{size:"s",fontWeight:400},O()("发生错误")):t===r.CANCELED?$.a.createElement(Tn,{size:"s",fontWeight:400},O()("已取消")):"batch_download"===e.taskType?e.percentage>=100?null:e.percentage>=90?$.a.createElement(Tn,null,O()("打包中...")):$.a.createElement(Tn,null,e.percentage,"%"):null},Pn=function(e){var t=e.visible,n=e.items,r=e.onCancelTask,i=e.onRetryTask,a=e.onClick,o=e.onClickParent,c=e.getFileIcon;return n.length?$.a.createElement(Rt.a,null,$.a.createElement(Mn,{className:me()({visible:t})},n.map((function(e){return $.a.createElement(Nn,{item:e,key:e.id,onCancelTask:r,onRetryTask:i,onClick:a,onClickParent:o,getFileIcon:c})})))):null},Mn=ne.default.ul.withConfig({componentId:"sc-2Lhukh",displayName:"List"})(vn||(vn=Object(i.__makeTemplateObject)(["max-height:240px;margin-bottom:16px;display:none;&.visible{display:block;}"],[""]))),An={upload:O()("部分文件上传失败，请重新上传或复制以下错误信息提交客服处理："),batch_download:O()("部分文件打包失败，请重新下载或复制以下错误信息提交客服处理："),downloadMissingFile:O()("部分文件类型「白板、表单、应用表格」暂不支持下载，因此压缩包内将不包含以下文件："),unpack:O()("部分文件解压失败，请重新解压或复制以下错误信息提交客服处理：")},Bn=function(e){var t=e.visible,n=e.failedItems,r=void 0===n?[]:n,a=e.warningItems,o=void 0===a?[]:a,c=e.onHideErrorPanel,l=e.taskType,s=r.map((function(e){var t=e.id,n=e.name,r=e.error;return{id:t,name:n,requestId:null==r?void 0:r.requestId,message:Dn(r)}})),u=1!==o.length||r.length?l&&An[l]:An.downloadMissingFile,d=$.a.useMemo((function(){var e;return 1!==o.length||r.length?r.length&&!o.length?s.map((function(e){var t=e.id,n=e.name,r=e.message,i=e.requestId;return $.a.createElement($n,{key:t},$.a.createElement("div",null,"<",n,">"),!!i&&$.a.createElement("div",null,"requestId: ",i),$.a.createElement("div",null,O()("错误信息"),": ",r))})):Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(s.map((function(e){var t=e.id,n=e.name,r=e.message,i=e.requestId;return $.a.createElement($n,{key:t},$.a.createElement("div",null,"<",n,">"),!!i&&$.a.createElement("div",null,"requestId: ",i),$.a.createElement("div",null,O()("错误信息"),": ",r))})))),Object(i.__read)(o.map((function(e){var t;return $.a.createElement($n,{key:e.id},$.a.createElement("div",null,"<",e.name,">"),$.a.createElement("div",null,O()("错误信息"),": ",An.downloadMissingFile),null===(t=e.failFiles)||void 0===t?void 0:t.map((function(e){return $.a.createElement("div",{key:e.guid}," - ",e.name)})))})))):null===(e=o[0].failFiles)||void 0===e?void 0:e.map((function(e){return $.a.createElement($n,{key:e.guid}," - ",e.name)}))}),[s,r.length,o]),p=s.map((function(e){var t=e.name,n=e.requestId;return"<"+t+">: "+(null!=n?n:"")+" "+e.message})).join("\n")+o.map((function(e){var t;return null===(t=e.failFiles)||void 0===t?void 0:t.map((function(e){return"<"+e.name+">: "+O()("不支持下载")})).join("\n")})).join("\n");return t?$.a.createElement(Qn,null,$.a.createElement(tr,{type:"accessory",size:"s",onClick:c,icon:$.a.createElement(Me,{width:16,height:16})}),l?$.a.createElement(Xn,null,u):null,$.a.createElement(Rt.a,null,$.a.createElement(Jn,null,d)),$.a.createElement(er,null,$.a.createElement(be.b,{text:p,onSuccess:function(){be.B.success({content:O()("复制成功")})},onError:function(){be.B.success({content:O()("复制失败")})}},$.a.createElement(be.l,{type:"minimal",subType:"guidance",size:"s"},O()("复制错误信息"))))):null};function Dn(e){return e&&e.errorCode?(t=e.errorCode,[60009,60006,60005].includes(t)?O()(v||(v=Object(i.__makeTemplateObject)(["内部错误：",""],["内部错误：",""])),t):[60015,60016,60018,60019].includes(t)?O()(_||(_=Object(i.__makeTemplateObject)(["内部错误：","，请重试"],["内部错误：","，请重试"])),t):null!==(r=((n={})[-1]=O()("网络错误"),n[-999]=O()("未知错误"),n[40021]=O()("您的账号被禁用，无法上传"),n[60013]=O()("由于权限限制，您无法上传文件"),n[60022]=O()("由于您的空间容量不足，无法上传"),n[60027]=O()("未知错误：60027，请重试"),n[60038]=O()("文件传输错误，请重试"),n[60039]=O()("由于企业安全限制，所以无法上传文件（文件类型存在安全隐患）"),n[60082]=O()("由于权限限制，您无法上传文件"),n)[t])&&void 0!==r?r:O()("未知错误")):O()("未知错误");var t,n,r}var Ln,zn,Fn,Vn,Un,Gn,Hn,Wn,Kn,Yn,Zn,qn,Qn=ne.default.div.withConfig({componentId:"sc-ZfsA5",displayName:"PanelWrapper"})(Ln||(Ln=Object(i.__makeTemplateObject)(["position:relative;background:",";box-shadow:0 3px 5px rgba(0,0,0,0.1),0 6px 10px rgba(0,0,0,0.06),0 1px 16px rgba(0,0,0,0.06);border-radius:2px;margin-bottom:8px;font-size:12px;line-height:20px;font-weight:400;"],["",""])),be.x.gray.gray0),Xn=ne.default.div.withConfig({componentId:"sc-ZfsA5-1",displayName:"Title"})(zn||(zn=Object(i.__makeTemplateObject)(["padding:16px 54px 0 24px;"],[""]))),Jn=ne.default.ul.withConfig({componentId:"sc-ZfsA5-2",displayName:"List"})(Fn||(Fn=Object(i.__makeTemplateObject)(["padding:0 54px 0 24px;max-height:92px;overflow-y:auto;"],[""]))),$n=ne.default.li.withConfig({componentId:"sc-ZfsA5-3",displayName:"ListItem"})(Vn||(Vn=Object(i.__makeTemplateObject)(["list-style:none;word-break:break-all;"],[""]))),er=ne.default.div.withConfig({componentId:"sc-ZfsA5-4",displayName:"Footer"})(Un||(Un=Object(i.__makeTemplateObject)(["padding:8px 24px 8px 24px;display:flex;align-items:center;"],[""]))),tr=Object(ne.default)(be.f).withConfig({componentId:"sc-ZfsA5-5",displayName:"CloseButton"})(Gn||(Gn=Object(i.__makeTemplateObject)(["position:absolute;right:20px;top:12px;"],[""]))),nr=ne.default.div.withConfig({componentId:"sc-O8lK4",displayName:"Panels"})(Hn||(Hn=Object(i.__makeTemplateObject)(["width:400px;display:none;margin-top:12px;&.visible{display:block;}"],[""]))),rr=ne.default.div.withConfig({componentId:"sc-O8lK4-1",displayName:"PanelWrapper"})(Wn||(Wn=Object(i.__makeTemplateObject)(["background:",";box-shadow:0 3px 5px rgba(0,0,0,0.1),0 6px 10px rgba(0,0,0,0.06),0 1px 16px rgba(0,0,0,0.06);border-radius:2px;overflow:hidden;"],["",""])),be.x.gray.gray0),ir=n(1023),ar=function(e){function t(t){var n,r,i=e.call(this,t)||this;return i.canceled=!1,i.packKey="",i.packKey=null!==(r=null===(n=i.file.packGuids)||void 0===n?void 0:n.join(","))&&void 0!==r?r:"",i}return Object(i.__extends)(t,e),t.prototype.cancel=function(){var e,t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return null===(e=this.taskId)||void 0===e?[3,1]:(r=e,[3,3]);case 1:return[4,B.get(this.packKey)];case 2:r=i.sent(),i.label=3;case 3:return n=r,this.canceled=!0,null===(t=this.handleCanceled)||void 0===t||t.call(this),this.file.downloadUrl||f.drive.deleteTask(n).catch(console.error),[4,L({guid:this.packKey,taskId:n})];case 4:return i.sent(),[2]}}))}))},t.prototype.run=function(){var e,t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return this.file.downloadUrl?(null===(e=this.handleSucceeded)||void 0===e||e.call(this,{guid:this.file.guid,downloadUrl:this.file.downloadUrl,expiredAt:this.file.expiredAt}),[2]):[4,this.getJob()];case 1:return a.sent(),[4,this.getProgressTask()];case 2:return n=a.sent(),!this.canceled&&this.taskId&&n?(r=Mt()().add(12,"hours").toISOString(),[4,z({guid:this.packKey,taskId:this.taskId,file:Object(i.__assign)(Object(i.__assign)({},this.file),{expiredAt:r,downloadUrl:n.url})})]):[3,4];case 3:a.sent(),null===(t=this.handleSucceeded)||void 0===t||t.call(this,{guid:this.file.guid,downloadUrl:n.url,expiredAt:r,failFiles:n.fail_files}),setTimeout((function(){return tn(n.url)}),0),a.label=4;case 4:return[2]}}))}))},t.prototype.retry=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return this.canceled=!1,[2,this.run()]}))}))},t.prototype.getProgressTask=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(i.__generator)(this,(function(n){return(e=this.taskId)?[2,R((function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r,a,o,c,l,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,f.drive.getTask(e)];case 1:return t=i.sent(),[3,4];case 2:return n=i.sent(),[4,L({guid:this.packKey,taskId:e})];case 3:return i.sent(),null===(r=this.handleFailed)||void 0===r||r.call(this,null==n?void 0:n.data),[2];case 4:return(null==t?void 0:t.data.completed)?(null===(a=null==t?void 0:t.data.detail)||void 0===a?void 0:a.url)?[2,t.data.detail]:[4,L({guid:this.packKey,taskId:e})]:[3,6];case 5:return i.sent(),null===(o=this.handleFailed)||void 0===o||o.call(this,t),[2];case 6:throw null===(c=this.handleProgress)||void 0===c?void 0:c.call(this,null!==(s=null===(l=null==t?void 0:t.data)||void 0===l?void 0:l.progress)&&void 0!==s?s:0)}}))}))}),6e5,3e3)]:[2]}))}))},t.prototype.getJob=function(){var e,t,n,r;return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,o,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return this.packKey?[4,B.get(this.packKey)]:[2];case 1:if(!(a=i.sent()))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,f.drive.getTask(a)];case 3:return i.sent(),this.taskId=a,[3,6];case 4:return i.sent(),[4,L({guid:this.packKey,taskId:a})];case 5:return i.sent(),[3,6];case 6:if(this.taskId)return[3,12];i.label=7;case 7:return i.trys.push([7,9,,12]),o=this,[4,f.drive.createBatchDownload({guids:null!==(e=this.file.packGuids)&&void 0!==e?e:[]})];case 8:return o.taskId=null===(t=i.sent())||void 0===t?void 0:t.data.id,[3,12];case 9:return c=i.sent(),(null==(l=null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.error)?void 0:l.code)?(be.B.error({content:k(l.code,l.limit,l.reason),closeButton:!0}),[4,L({guid:this.packKey,taskId:a})]):[3,11];case 10:i.sent(),i.label=11;case 11:return[2,null===(r=this.handleFailed)||void 0===r?void 0:r.call(this,null==c?void 0:c.data)];case 12:return this.taskId?[4,z({guid:this.packKey,taskId:this.taskId,file:this.file})]:[3,14];case 13:i.sent(),i.label=14;case 14:return[2]}}))}))},t}(T),or=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canceled=!1,t}return Object(i.__extends)(t,e),t.prototype.cancel=function(){var e;this.canceled=!0,null===(e=this.handleCanceled)||void 0===e||e.call(this)},t.prototype.run=function(){var e;return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getJob()];case 1:return n.sent(),[4,this.getProgressTask()];case 2:return t=n.sent(),!this.canceled&&this.taskId&&t?[4,L({guid:this.file.guid,taskId:this.taskId})]:[3,4];case 3:n.sent(),null===(e=this.handleSucceeded)||void 0===e||e.call(this,{guid:t}),n.label=4;case 4:return[2]}}))}))},t.prototype.retry=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return this.canceled=!1,[2,this.run()]}))}))},t.prototype.getProgressTask=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(i.__generator)(this,(function(n){return(e=this.taskId)?[2,R((function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r,a,o,c,l,s,u,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,f.drive.getTask(e)];case 1:return t=i.sent(),[3,4];case 2:return n=i.sent(),[4,L({taskId:e,guid:this.file.guid})];case 3:return i.sent(),null===(a=this.handleFailed)||void 0===a||a.call(this,null==n?void 0:n.data),[2];case 4:return(null==t?void 0:t.data.completed)?(null===(o=null==t?void 0:t.data.detail)||void 0===o?void 0:o.guid)?[2,t.data.detail.guid]:(t.data.detail.error_code&&(r=null!==(c=E[t.data.detail.error_code])&&void 0!==c?c:E.UNKNOWN,be.B.error(r)),[4,L({taskId:e,guid:this.file.guid})]):[3,6];case 5:return i.sent(),null===(l=this.handleFailed)||void 0===l||l.call(this,t),[2];case 6:throw null===(s=this.handleProgress)||void 0===s?void 0:s.call(this,null!==(d=null===(u=null==t?void 0:t.data)||void 0===u?void 0:u.progress)&&void 0!==d?d:0)}}))}))}),6e5,3e3)]:[2]}))}))},t.prototype.getJob=function(){var e,t,n;return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,a,o,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(r=this.file.guid)?[4,B.get(r)]:[2];case 1:if(!(a=i.sent()))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,f.drive.getTask(a)];case 3:return i.sent(),this.taskId=a,[3,6];case 4:return i.sent(),[4,L({guid:r,taskId:a})];case 5:return i.sent(),[3,6];case 6:if(this.taskId)return[3,12];i.label=7;case 7:return i.trys.push([7,9,,12]),o=this,[4,f.drive.createUnpack({guid:r,toGuid:this.file.parentGuid,folderName:this.file.folderName})];case 8:return o.taskId=null===(e=i.sent())||void 0===e?void 0:e.data.id,[3,12];case 9:return c=i.sent(),(null==(l=null===(t=null==c?void 0:c.data)||void 0===t?void 0:t.error)?void 0:l.code)?(be.B.error(function(e,t){var n,r;return null!==(r=null!==(n=E[e])&&void 0!==n?n:t)&&void 0!==r?r:E.UNKNOWN}(l.code,l.reason)),[4,L({guid:r,taskId:a})]):[3,11];case 10:i.sent(),i.label=11;case 11:return[2,null===(n=this.handleFailed)||void 0===n?void 0:n.call(this,null==c?void 0:c.data)];case 12:return this.taskId?[4,z({guid:r,taskId:this.taskId,file:this.file})]:[3,14];case 13:i.sent(),i.label=14;case 14:return[2]}}))}))},t}(T),cr=new(function(){function e(e,t){this.taskManager=t,this.store=e,this.taskPool={},this.eventHandler={},this.initTaskFiles()}return e.prototype.addUnpackTask=function(e){var t=this,n=e.map((function(e){return t.createTaskFile(e,"unpack")}));n.map((function(e){return t.createTask(e,"unpack")})).forEach((function(e){var i,a=null===(i=t.store.getValue().entities)||void 0===i?void 0:i[e.id];a&&[r.PROGRESSING,r.PENDING].includes(a.state)?be.B.error(E.OTHERS_UNPACKING_NOW):(t.store.upsertMany(n),t.taskManager.push(e))})),Y(!0)},e.prototype.addBatchDownloadTask=function(e){var t,n=this,a=e[0];a.packGuids=e.map((function(e){return Object(ir.b)(e.guid)?Object(ir.a)(e.guid).guid:e.guid})).sort(),e.length>1&&(a.name+=O()(Kn||(Kn=Object(i.__makeTemplateObject)(["等","个文件"],["等","个文件"])),e.length)),a.name+=".zip",a.subType=le.c.FileSubType.zip,a.type=le.c.FileType.CloudFile,a.extType="zip";var o=this.createTaskFile(a,"batch_download"),c=null===(t=this.store.getValue().entities)||void 0===t?void 0:t[o.id];c&&[r.PROGRESSING,r.PENDING].includes(c.state)||L({guid:a.packGuids.join(","),taskId:o.id}).then((function(){n.store.upsertMany([o]),n.taskManager.push(n.createTask(o,"batch_download")),Z(!0)})).catch(console.error)},e.prototype.cancelTask=function(e){var t;null===(t=this.taskPool[e])||void 0===t||t.cancel(),this.taskManager.remove(e),this.store.remove(e)},e.prototype.retryTask=function(e,t){var n=this.getTaskFile(e);n&&(this.updateTaskFile({id:e,state:r.PENDING}),this.taskManager.push(this.createTask(n,t)))},e.prototype.addEventHandler=function(e,t){this.eventHandler[e]=t},e.prototype.removeEventHandler=function(e){this.eventHandler[e]=void 0},e.prototype.createTaskFile=function(e,t){var n,i;return{id:e.packGuids?e.packGuids.join(","):e.guid,guid:e.guid,raw:{},name:e.name,size:null!==(n=e.fileSize)&&void 0!==n?n:1,state:r.PENDING,mime:null!==(i=e.extType)&&void 0!==i?i:"",percentage:0,parentGuid:e.parentGuid,ancestor:e.ancestor,taskType:t,sosFile:e,packGuids:e.packGuids,folderName:e.folderName}},e.prototype.createTask=function(e,t){var n=this;return{id:e.id,handler:function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.runTask(e,t)];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},cancel:function(){return n.updateTaskFile({id:e.id,state:r.CANCELED})}}},e.prototype.runTask=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return n="unpack"===t?new or(e):new ar(e),this.addUploadEventHandler(n,e),this.taskPool[e.id]=n,[4,n.run()];case 1:return r.sent(),[2]}}))}))},e.prototype.addUploadEventHandler=function(e,t){var n=this;e.addEventHandler("progress",(function(e){var a,o;n.updateTaskFile(Object(i.__assign)(Object(i.__assign)({},t),{state:r.PROGRESSING,percentage:e})),null===(o=(a=n.eventHandler).progress)||void 0===o||o.call(a,e)})),e.addEventHandler("failed",(function(e){var a,o;n.updateTaskFile(Object(i.__assign)(Object(i.__assign)({},t),{state:r.FAILED,error:e})),null===(o=(a=n.eventHandler).failed)||void 0===o||o.call(a,e)})),e.addEventHandler("done",(function(e){var a,o,c=e.guid,l=e.downloadUrl,s=e.expiredAt,u=e.failFiles,d=Object(i.__assign)(Object(i.__assign)({},t),{state:r.DONE,guid:c,percentage:100,downloadUrl:l,expiredAt:s,failFiles:u});"unpack"===d.taskType?n.updateTaskFile(function(e){var t=e.name,n=e.guid,r=t.replace(/\.\w+$/,"");return Object(i.__assign)(Object(i.__assign)({},e),{name:r,mime:"",ancestor:{guid:n,name:r},sosFile:Object(i.__assign)(Object(i.__assign)({},e.sosFile),{name:r,guid:n,kind:le.c.Kind.Folder,subType:le.c.FileSubType.folder,type:le.c.FileType.FolderOrSpace})})}(d)):n.updateTaskFile(d),null===(o=(a=n.eventHandler).done)||void 0===o||o.call(a,Object(i.__assign)({guid:c},d))})),e.addEventHandler("canceled",(function(){var e,a;n.updateTaskFile(Object(i.__assign)(Object(i.__assign)({},t),{state:r.CANCELED})),null===(a=(e=n.eventHandler).canceled)||void 0===a||a.call(e)}))},e.prototype.updateTaskFile=function(e){this.store.update(e.id,(function(t){return Object(i.__assign)(Object(i.__assign)({},t),e)}))},e.prototype.getTaskFile=function(e){var t;return null===(t=this.store.getValue().entities)||void 0===t?void 0:t[e]},e.prototype.initTaskFiles=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,f.drive.getTasks()];case 1:return e=a.sent().data,t=[],[4,B.json()];case 2:return n=a.sent(),Object(A.a)(n,(function(e,n){n.startsWith("task:")&&"batch_download"===e.taskType&&t.push(e)})),null==e||e.forEach((function(e){return Object(i.__awaiter)(r,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,B.get("task:"+e.id)];case 1:return(n=r.sent())&&t.push(n),[2]}}))}))})),null==t||t.forEach((function(e){switch(r.store.add(e),e.taskType){case"batch_download":r.taskManager.push(r.createTask(e,"batch_download")),Z(!0);break;case"unpack":r.taskManager.push(r.createTask(e,"unpack")),Y(!0)}})),[2]}}))}))},e}())(H,new o(1/0)),lr=((Yn={})[r.PROGRESSING]=1,Yn[r.PENDING]=2,Yn[r.FAILED]=3,Yn[r.CANCELED]=4,Yn[r.DONE]=5,Yn),sr=new pe(H),ur=function(e){var t=e.visible,n=e.taskType,a=e.expend,o=e.setExpend,c=e.setVisible,l=e.openFile,s=e.openFileParent,u=e.getFileIcon,d=de("tree"),p=de("file"),f=Object(i.__read)(Object(J.useState)(!1),2),m=f[0],b=f[1],h=Object(te.a)((function(){return sr.getAll$}),[]),g=Object(J.useMemo)((function(){return h.filter((function(e){return e.taskType===n})).sort((function(e,t){return lr[e.state]-lr[t.state]}))}),[h,n]),v=function(e){var t=[];return e.forEach((function(n){var r=n.id,i=n.guid,a=n.mime,o=n.name,c=n.state,l=n.percentage,s=n.sosFile,u=n.taskType,d=n.parentGuid,p=n.ancestor,f=n.downloadUrl,m=n.expiredAt;if(p){if(!t.find((function(e){return e.guid===p.guid}))){var b=e.filter((function(e){var t;return(null===(t=e.ancestor)||void 0===t?void 0:t.guid)===p.guid}));t.push({id:r,guid:p.guid,kind:"folder",name:p.name,state:St(b),percentage:Tt(b),taskType:u,parentGuid:d})}}else t.push({id:r,guid:i,kind:"file",mime:a,name:o,state:c,percentage:l,sosFile:s,taskType:u,parentGuid:d,downloadUrl:f,expiredAt:m})})),t}(g),_=g.filter((function(e){return e.state===r.FAILED})),y=g.filter((function(e){var t;return(null===(t=e.failFiles)||void 0===t?void 0:t.length)&&e.state===r.DONE}));Object(J.useEffect)((function(){return W.addEventHandler("done",(function(e){var t=e.guid,n=e.parentGuid;d.addFileByGuid(t,n).catch(console.error)})),cr.addEventHandler("done",(function(e){var t=e.guid,n=e.parentGuid;"unpack"===e.taskType&&(d.addFileByGuid(t,n).catch(console.error),p.addRecentLocation(n))})),function(){W.removeEventHandler("done"),cr.removeEventHandler("done")}}),[d,p]);var O=Object(J.useCallback)((function(e,t){switch(t){case"unpack":case"batch_download":cr.cancelTask(e);break;case"upload":default:W.cancelUploadFile(e)}}),[]),j=function(e){"folder"===e.kind?_n(e,g).filter((function(e){return[r.PROGRESSING,r.PENDING].includes(e.state)})).forEach((function(e){O(e.id,e.taskType)})):(O(e.id,e.taskType),g.length-1<=0&&(null==c||c(!1)))},w=Object(J.useCallback)((function(e,t){switch(t){case"unpack":case"batch_download":cr.retryTask(e,t);break;case"upload":default:W.retryUploadFile(e)}}),[]),x=Object(J.useCallback)((function(){b(!1),_.forEach((function(e){w(e.id,e.taskType)}))}),[_,w]),E=Object(J.useCallback)((function(){null==c||c(!1)}),[c]);return $.a.createElement(nr,{className:me()({visible:t})},$.a.createElement(Bn,{visible:m,onHideErrorPanel:function(){b(!1)},failedItems:_,warningItems:y,taskType:n}),$.a.createElement(rr,null,$.a.createElement(Nt,{onToggleExpend:function(e){null==o||o(e)},expend:a,items:g,onCancelAll:function(){g.forEach((function(e){var t=v.find((function(t){return t.id===e.id}));t&&j(t)}))},onHidePanel:E,onRetryAll:x,onToggleErrorPanel:function(e){void 0===e&&(e=!m),b(e)},taskType:n,errorPanelVisible:m}),$.a.createElement(Pn,{visible:a,items:v,onCancelTask:j,onRetryTask:function(e){(b(!1),"folder"===e.kind)?_n(e,g).filter((function(e){return[r.CANCELED,r.FAILED].includes(e.state)})).forEach((function(e){w(e.id,e.taskType)})):w(e.id,e.taskType)},onClick:l,onClickParent:s,getFileIcon:u})))},dr=new pe(H),pr=function(e){var t=e.openFile,n=e.openFileParent,r=e.getFileIcon,a=e.hiddenDownloadPanel,o=e.hiddenUnpackPanel,c=Object(te.a)((function(){return dr.uploadPanelVisible$})),l=Object(te.a)((function(){return dr.unpackPanelVisible$})),s=Object(te.a)((function(){return dr.downloadPanelVisible$})),u=Object(te.a)((function(){return dr.uploadPanelExpend$})),d=Object(te.a)((function(){return dr.unpackPanelExpend$})),p=Object(te.a)((function(){return dr.downloadPanelExpend$})),f=Object(J.useMemo)((function(){return[{taskType:"upload",visible:!!c},{taskType:"unpack",visible:!!l},{taskType:"batch_download",visible:!!s}]}),[s,l,c]),m=Object(i.__read)(Object(J.useState)([]),2),b=m[0],h=m[1];return Object(J.useEffect)((function(){f.forEach((function(e){e.visible?h((function(t){return Object(re.a)(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(t)),[e]),"taskType")})):h((function(t){return Object(ie.a)(t,[e],"taskType")}))}))}),[f]),$.a.createElement(fr,null,b.map((function(e){var i=e.taskType;return"upload"===i?$.a.createElement(ur,{key:"upload",visible:!!c,taskType:"upload",expend:!!u,setExpend:q,setVisible:K,openFile:t,openFileParent:n,getFileIcon:r}):"batch_download"===i?!a&&$.a.createElement(ur,{key:"download",visible:!!s,taskType:"batch_download",expend:!!p,setExpend:X,setVisible:Z,openFile:t,openFileParent:n,getFileIcon:r}):!o&&$.a.createElement(ur,{key:"unpack",visible:!!l,taskType:"unpack",expend:!!d,setExpend:Q,setVisible:Y,openFile:t,openFileParent:n,getFileIcon:r})})))},fr=ne.default.div.withConfig({componentId:"sc-1wp41f",displayName:"StyledPanelGroup"})(Zn||(Zn=Object(i.__makeTemplateObject)(["position:fixed;bottom:24px;right:24px;z-index:999;"],[""]))),mr=function(e){return $.a.createElement(ee,null,$.a.createElement(pr,Object(i.__assign)({},e)))};function br(e){return 0!==e.length&&(e.length>500?(be.B.error(O()(qn||(qn=Object(i.__makeTemplateObject)(["一次性上传不得超过","个文件。"],["一次性上传不得超过","个文件。"])),500)),!1):(e.some((function(e){return 0===e.size}))&&be.B.error(O()("不能上传内容为空的文件")),!0))}function hr(e){var t;return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n=null!==(t=null==e?void 0:e.isFolder)&&void 0!==t&&t,(r=document.createElement("input")).type="file",r.hidden=!0,r.multiple=!0,r.style.cssText="position: absolute;top: 0; left: 0;",r.onclick=function(e){e.stopPropagation()},n&&r.setAttribute("webkitDirectory",""),document.body.appendChild(r),r.click(),[2,new Promise((function(e){r.onchange=function(t){var n,i=t.target;e(Array.from(null!==(n=null==i?void 0:i.files)&&void 0!==n?n:[])),document.body.removeChild(r)}}))]}))}))}function gr(e,t,n){return Object(i.__awaiter)(this,void 0,Promise,(function(){var r,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_,y,O,j,w,x,E,k;return Object(i.__generator)(this,(function(C){switch(C.label){case 0:r=[],a={},C.label=1;case 1:C.trys.push([1,15,16,17]),o=Object(i.__values)(e),c=o.next(),C.label=2;case 2:if(c.done)return[3,14];l=c.value,s=l.webkitRelativePath,u=t,d=void 0,(p=s.split("/")).pop(),f=p.map((function(e,t,n){return{basename:e,path:n.slice(0,t+1).join("/")}})),C.label=3;case 3:C.trys.push([3,10,11,12]),E=void 0,m=Object(i.__values)(f),b=m.next(),C.label=4;case 4:return b.done?[3,9]:(h=b.value,g=h.basename,v=h.path,(_=a[v])?[3,6]:[4,n({name:g,parentGuid:u})]);case 5:return y=C.sent(),u=y.guid,a[v]=u,[3,7];case 6:u=_,C.label=7;case 7:d||(d={guid:u,name:g}),C.label=8;case 8:return b=m.next(),[3,4];case 9:return[3,12];case 10:return O=C.sent(),E={error:O},[3,12];case 11:try{b&&!b.done&&(k=m.return)&&k.call(m)}finally{if(E)throw E.error}return[7];case 12:r.push({raw:l,ancestor:d,parentGuid:u}),C.label=13;case 13:return c=o.next(),[3,2];case 14:return[3,17];case 15:return j=C.sent(),w={error:j},[3,17];case 16:try{c&&!c.done&&(x=o.return)&&x.call(o)}finally{if(w)throw w.error}return[7];case 17:return[2,r]}}))}))}function vr(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a=this;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all(e.map((function(e){return Object(i.__awaiter)(a,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,_r(e)]}))}))})))];case 1:return t=o.sent(),n=e.filter((function(e,n){return t[n]})),r=e.filter((function(e,n){return!t[n]})),[2,{folders:n,files:r}]}}))}))}function _r(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,new Promise((function(t){var n=new FileReader;n.addEventListener("error",(function(){t(!0)})),n.addEventListener("load",(function(){t(!1)})),n.readAsBinaryString(e.slice(0,Math.min(e.size,320)))}))]}))}))}},1130:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="f3e8a0b2049799f8d6aaec0c8e54316c0_"+this.SVG_COMPONENT_ID++,t="f3e8a0b2049799f8d6aaec0c8e54316c1_"+this.SVG_COMPONENT_ID++,n="f3e8a0b2049799f8d6aaec0c8e54316c2_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({width:"24",height:"9",viewBox:"0 0 24 9",xmlns:"http://www.w3.org/2000/svg"},this.props),i.a.createElement("g",{id:e,fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:t,transform:"translate(-96 -106)",fill:"#D6B184",fillRule:"nonzero"},i.a.createElement("path",{d:"M101.404 109.206l.01.052a.91.91 0 0 0 .175-.027l.282.002a.457.457 0 0 0 .096.016.15.15 0 0 0 .084-.032.373.373 0 0 1 .213-.049c.07 0 .166.032.273.09l.316.056c.012.052.02.091.02.12 0 .11-.057.195-.202.254l-.09-.051-.287.189-.179-.032-.107.05-.253-.032.061.013-.196.013-.008.042.009.182.126.185.009.139.215.326-.032.055.088.089.21.325.162.166.013.05.186.105.043.121.243.144.024.045c-.007.173-.121.295-.368.358l-.32-.157-.13-.01-.087-.08-.187-.024-.087-.161-.111-.065-.11-.198-.176-.205.017-.034-.089-.095-.002-.113-.129-.125-.182-.411-.091-.124-.027-.229-.084-.133-.157-.033-.267.108.017-.038-.216.069.01-.071a.786.786 0 0 1-.145.01.765.765 0 0 1-.144-.009l-.049-.006-.218.105-.2-.027-.012-.006-.187.084-.099-.042a.61.61 0 0 1-.252-.036l-.024-.005-.292.097-.066-.085-.119-.053-.026.017a4.381 4.381 0 0 1-.316.388l-.115.015c-.237.343-.38.52-.46.552l-.01-.008-.327.369.006-.023-.198.296-.356.194a.819.819 0 0 1-.154.019c-.126 0-.245-.046-.369-.198l.103-.203.011-.166.025-.019.062-.225.259-.028.073-.046c.059-.034.092-.084.138-.194.091-.026.144-.073.188-.176.15-.078.245-.198.321-.4l.129-.034.226-.276a.554.554 0 0 1-.1-.32l.171-.114.054-.22.325.031.064-.014c.034-.116.104-.2.178-.207l.045-.21.184-.097c.022-.014.058-.03.077-.003v-.054c0-.062.014-.119.057-.185.113-.08.172-.19.217-.377l.092-.002.082-.106.026.017.234-.347.004.02.044.008.05-.293.026.016c.14-.15.212-.252.23-.32l.03.019-.036-.183c.152-.184.278-.28.357-.276l.238-.141.187.189.278.173.015.208a.522.522 0 0 1 .073.108c.09.11.142.223.154.335l.046.209.142.213.083.304.007.118.166.255h-.046l.09.101-.001.173.017.152-.017.078.026.026zm-.909.037l.107-.014c-.06-.053-.089-.13-.064-.184l-.088-.073-.036-.346-.116-.173-.023-.14.027-.008-.113-.046-.018-.3-.058-.099-.042-.021-.009.015-.21.26-.083.17-.165.135-.065.197-.178.052c-.032.195-.132.338-.272.396l-.075.198-.152.032.097.003a.843.843 0 0 0 .254.051l.014.005a.29.29 0 0 1 .13-.032c.05 0 .104.014.156.038l.016.008c.04-.007.099-.01.18-.01.097 0 .17.003.21.01l.343-.031.165.106a.47.47 0 0 0 .134-.076l-.066-.123zm3.617-3.143v-.1l.019.003c.033.015.033.015.027.077-.018.015-.022.019-.027.02h-.019zm1.931 4.585c0 .08-.03.148-.08.19a.986.986 0 0 1-.247.238l-.079.052-.1.124-.075.032-.148.089-.06-.006-.057.049a.515.515 0 0 0-.264.173.253.253 0 0 1-.146.054c-.029 0-.055-.004-.038-.016a.822.822 0 0 1-.42.097c-.147 0-.244-.013-.295-.042l-.18-.108-.062-.116v-.027c0-.062-.025-.11-.098-.18l-.024-.156-.084-.107-.046-.338-.009-.203.012-.157.02-.016a.31.31 0 0 1-.032-.145c.03-.25.045-.408.05-.449l-.079-.21.074-.115.027-.213-.014-.178.052-.102-.048-.221.073-.105.01-.075.003-.335.023-.042-.009-.382.032-.362-.04-.092-.01-.278.03-.223-.03-.109.092-.584c.126-.03.216-.052.271-.067l.053-.015-.015.014c-.006.06-.006.06.026.075l.01.002v-.1c.115 0 .209.061.283.19l.004.05.147.188-.074.149.023.063c-.013.12-.029.2-.045.215l.016.181.045.2-.06.173a.779.779 0 0 1-.046.279.94.94 0 0 1-.019.152l-.02.014.09.148-.034.07a.52.52 0 0 1 .02.111.26.26 0 0 1-.038.133l.018.101-.053.279-.002.205-.062.163.037.186-.043.365.033.082-.044.2-.02.264-.016.047c0 .103-.003.189-.012.235l.048.15-.023.107.058.148-.026-.003c.043.035.08.089.067.132l.096.002.062.054.089-.092.07-.006a.324.324 0 0 1 .097-.021l.017.001c.048-.01.085-.033.132-.086l.034-.009c.05-.077.13-.13.218-.147.03-.024.086-.071.152-.105 0-.106.065-.186.203-.239a.356.356 0 0 0 .187-.044c.133.02.22.055.263.114.04.056.06.15.06.286zm2.384-2.58l.077.093.195.07.105.134.234.155-.02-.008.205.102-.02.014c.056.042.097.097.105.142l.089.063.01.073.158.05-.015.145.076.084-.02.028.13.063c.011.13.047.238.117.355l-.015.028.105.131-.022.118.076.175-.01.148.064.018.032.067-.108.232.068.227-.03.038-.04.157-.094.146-.008-.022-.062.216-.134.005c-.087.08-.177.146-.303.201l-.03-.01-.145.047-.07.006-.209.062-.205-.094.004-.01-.134-.086.007.113-.233-.037-.27.042-.052-.068-.224.008-.042-.044c-.01.001-.01.001-.022-.041v.054c0 .06-.01.119-.028.154l.017.21-.061.054c.012.134.018.234.018.308l-.027.214.025.378-.063.046.036.162-.053.031.082.072-.002.12c.013.04.02.071.02.096 0 .074-.044.135-.1.121l.03.167-.038.048-.018.36c-.019.444-.122.677-.329.677-.043 0-.148-.024-.365-.127l.028-.258-.049-.427.084-.14.01-.19-.03-.302.069-.073-.078-.25.058-.069-.052-.214.07-.126a.185.185 0 0 0-.053-.078c-.045-.04-.066-.068-.066-.1 0-.045.034-.075.066-.038a.353.353 0 0 1-.012-.106c0-.083.019-.19.061-.28l-.06-.127.037-.075-.063-.144.07-.06-.035-.275.06-.338-.063-.166.108-.11-.12-.152.08-.113-.084-.089.011-.164.052-.175.002-.048.007-.024.002-.111.01-.01-.046-.172.046-.121-.046-.148.049-.087-.05-.078.028-.16-.028-.122.021-.06.04-.037-.366.09h-.008l-.006.004-.015.004h.012l-.124.095-.04-.02-.167.16-.027-.06-.115.111c-.31-.183-.466-.33-.466-.457 0-.086.033-.16.081-.177l.016-.181c.175-.1.341-.154.467-.145l.08-.074.27-.106.103-.078.23.022.015.016.14-.352.248.068.066.225.145-.087.133.108c.085 0 .166.016.269.07l-.019.06.113-.021.042.044c.042 0 .077.003.134.054l.19-.038zm.878 2.307l.01-.008-.053-.198.037-.039-.04-.089-.005-.073-.074-.149-.032-.091-.124-.22-.122-.11-.037-.126-.1-.052-.099-.17-.19-.001-.058-.125-.144-.007-.031-.092-.024-.008-.104-.005-.147.035-.027-.058-.143-.006-.001-.039-.104-.08.009.117-.02.149.022.08.138.174-.095.192.008.146-.045.254c.017.107.05.196.106.313l-.048.047c.018.02.018.02.024.053 0 .04-.03.075-.082.05l.07.131-.043.097-.018.099.028.14-.059.063.167.005a.27.27 0 0 1 .121-.023c.066 0 .126.022.144.054l.036-.009h.027c.023 0 .06.007.077.023a.273.273 0 0 1 .121-.032c.057 0 .11.014.135.036l.093.002.046.018.22-.048.134.085.04.013.129-.117.049-.165.016.046-.018-.123.058-.064.027-.048-.005-.047zm2.585-3.451l-.009.294.008.385.06.283-.041.083.015.176-.042.103.026.234-.05.146.024.06-.019.537.016.169-.042.035-.029.305-.034.115.03.272-.03.053-.072.129c.046-.013.062-.03.077-.095l.063-.06.057-.1.027-.193.092-.13.066-.2.122-.12.08-.21.045.04v-.085l.034-.147.083-.02.04-.121.05.025.018-.132.02-.124.152-.065.027.013.015-.147.05.001.11-.184.081.008.076-.021c0-.047.004-.081.038-.136l.088-.037c.114-.095.224-.153.288-.124l.028-.063c.163-.081.276-.122.346-.122.106 0 .2.049.26.129.081.03.135.087.137.14l.102.086.02.109.143.234v.721l-.013.294.04.101-.001.677-.026.106v.173l.026.215-.037.148a.58.58 0 0 1 .032.203l.114.134-.02.032.054.053a.933.933 0 0 1 .047.23c0 .268-.152.41-.437.41a.349.349 0 0 1-.32-.174c-.065-.092-.118-.256-.162-.506l.007-.152a.124.124 0 0 0 .02-.064c0-.006-.002-.016 0-.017l-.13-.24.086-.139-.034-.214.033-.092v-.125l.02-.09-.034-.192.032-.061v-.298l.01-.376-.061-.323.035-.079.018-.2-.086.071-.178.066-.313.36-.061-.032-.156.247-.055.142-.078.026-.095.147-.043.093-.108.332-.153.18-.053.151-.072.041-.051.245-.164.129-.077.379-.036-.028-.029.057-.169.288-.149.158-.19.198-.129-.043-.157-.02-.116-.16-.1-.336-.018-.47-.027-.17.026-.17.02-.473.034.026.047-.632.035-.095-.004-.239.021.01.04-.3.034-.067-.03-.166.027.009-.026-.06.044-.21-.084-.122.058-.102-.006-.245-.09-.312.062-.035-.065-.256.004-.124-.03-.075-.043-.28-.042-.128-.13-.315.095-.12.133-.178h.081c.148 0 .263.056.328.155l.143.122.039.14.151.165-.028.1.056.211.018.032zm6.593.618l.165.16.149.036.38-.056.092.202.135.054.02.076-.081.071.062.265-.106.114-.051.203h-.023l.021.064c0 .096-.025.172-.071.217l-.01-.001-.004.016c.02.048.031.094.031.137 0 .037-.004.065-.01.05l.007.066-.034.07.013.155-.058.027.016.103.05.133-.065.035-.004.164-.061.11.037.188-.065.001.104.13-.118.191.078.05-.06.192v.036c0 .046-.004.083-.012.083l-.033-.007.18.04.12.23-.112.063.148.019a.432.432 0 0 1 .053.246l-.135.135a.823.823 0 0 1-.192.135l-.211.072.016-.037-.154.044-.29-.357.001-.139a1.214 1.214 0 0 1-.056-.347v-.049l-.053-.545.073-.357.037-.202-.149.242-.106.263-.052.018-.134.208-.216.195-.073.12-.184.152-.065.141-.278.171-.333.358-.15.027-.15.1c-.165-.007-.293-.07-.362-.176-.285-.14-.438-.344-.427-.655l.022.024-.01-.058-.004-.091-.055-.158.05-.11.02-.195.061-.287.005-.014a.13.13 0 0 1-.014-.058c0-.03.007-.065.023-.068a.217.217 0 0 1-.014-.094c0-.05.02-.123.084-.253a.161.161 0 0 1-.02-.08c0-.031.003-.056.01-.038a.249.249 0 0 1-.01-.079c0-.092.046-.163.11-.176.02-.067.055-.132.104-.14l-.042-.13.097-.103v-.036c0-.126.043-.242.117-.312l.006-.2.021-.001.005-.005c-.01-.021-.01-.021-.014-.049 0-.049.017-.092.036-.09l.004-.073c.026-.066.092-.16.197-.283.1-.118.173-.22.298-.318l-.01.034.1-.045.043-.018.32-.139.741.086-.04.014.206.044c.128 0 .224.036.23.121l.083-.072zm-2 3.406l.024-.133.087.011.042-.082.546-.44.024.01.093-.181c.033-.011.082-.034.122-.043l.101-.176.023.059.015-.211.088.009a.875.875 0 0 1 .149-.197l.455-.606.068-.099-.003-.075.056-.08.034-.128.064-.04.01-.099.006.03-.005-.04-.091-.027-.255-.215-.173-.026-.177-.014-.081.017-.057-.039-.194-.08.004.113-.185.056-.06.061h-.01c-.105.088-.177.16-.209.201l-.065.222-.041.032.08.195-.14.055.017.083a.767.767 0 0 0-.103.34l-.06.058-.014.195-.06.059-.04.112-.004-.024-.007.152-.02.019c0 .076-.006.138-.022.152l.017.085-.084.122.035.11-.057.045.055.219-.088.09.018.173c.03-.03.059-.055.073-.03z",id:n}))))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1133:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(1097),a=n.n(i),o=n(193),c=function(e){var t=e.scopes;return e.children.apply(void 0,Object(r.__spreadArray)([],Object(r.__read)(function(e){return Object(o.b)((function(t){return e.map((function(e){return e(t)}))}),a.a)}(t))))}},1139:function(e,t,n){"use strict";t.a=n.p+"static/lizard-one/assets/three-dots.url.fada1043.svg"},1146:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(2),a=n(8),o=n.n(a),c=n(1281),l=n(253).default.canvas.withConfig({componentId:"sc-3UK_qY",displayName:"StyleCanvas"})(r||(r=Object(i.__makeTemplateObject)(["max-width:110px;max-height:110px;"],[""]))),s=function(e){var t=e.url,n=e.className,r=o.a.useRef(null);return o.a.useEffect((function(){r.current&&Object(c.toCanvas)(r.current,t,(function(e){}))}),[t]),o.a.createElement(l,{className:n,ref:r})}},1147:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},this.props),i.a.createElement("path",{fill:"none",stroke:"#aaa",strokeLinecap:"round",d:"M8 3.5l8.5 8.5L8 20.5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1148:function(e,t,n){"use strict";n.d(t,"a",(function(){return rt})),n.d(t,"b",(function(){return r}));var r,i,a,o=n(2),c=n(91),l=n(8),s=n.n(l);function u(e){return!e||!e.id||e.id<0}!function(e){e.DESKTOP="desktop",e.DOC="doc",e.SHEET="sheet",e.SLIDE="slide",e.MINDMAP="mindmap",e.FORM="form",e.HOMEPAGE="homepage",e.TABLE="table"}(r||(r={})),function(e){e.DESKTOP="主站",e.DOC="文档",e.SHEET="表格",e.SLIDE="幻灯片",e.MINDMAP="思维导图"}(i||(i={})),function(e){e[e.QUESTION=1]="QUESTION",e[e.BETA=2]="BETA",e[e.FEATURE=3]="FEATURE"}(a||(a={}));var d,p=n(71),f=n(972),m=n(1123),b=n.n(m),h=n(1069),g=n.n(h),v=n(265),_=n.n(v),y=n(981),O=n(28),j=n(121),w=n(988),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delayTimer=null,t.state={visible:!1},t.onMouseEnter=function(e){t.delaySetPopupVisible(!0,t.props.inDelay)},t.onMouseLeave=function(e){t.delaySetPopupVisible(!1,t.props.outDelay)},t.setPopupVisible=function(e){t.setState({visible:e}),t.props.onVisibleChange(e)},t.delaySetPopupVisible=function(e,n){t.clearDelayTimer(),n?t.delayTimer=window.setTimeout((function(){t.setPopupVisible(e),t.clearDelayTimer()}),n):t.setPopupVisible(e)},t.clearDelayTimer=function(){t.delayTimer&&(clearTimeout(t.delayTimer),t.delayTimer=null)},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return s.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.children,this.state.visible&&this.props.overlay)},t.defaultProps={inDelay:150,outDelay:200},t}(l.Component),E=f.StyleSheet.create({feedbackWrapper:{position:"fixed",zIndex:120,userSelect:"none",right:"20px",bottom:"50px",fontSize:"12px"},menuWrapper:{display:"none",position:"absolute",right:0,bottom:"38px"},menuVisible:{display:"block"}}),k=n.p+"static/lizard-one/assets/close.5fd96269.svg",C=n.p+"static/lizard-one/assets/feedback.fc4d9e0f.svg",T=f.StyleSheet.create({buttonWrapper:{position:"relative",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.15)",width:"30px",height:"30px",borderRadius:"50%",background:"#fff",cursor:"pointer",":hover":{boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.25)"}},icon:{position:"absolute",right:0,top:0,display:"block",backgroundSize:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%",width:"100%",transition:"opacity .08s linear, transform .16s linear"},feedbackIcon:{backgroundImage:"url("+C+")"},closeIcon:{backgroundImage:"url("+k+")",backgroundSize:"16px"},visibleFeedback:{opacity:1,transform:"scale(1)"},hiddenFeedback:{opacity:0,transform:"scale(0)"},visibleClose:{opacity:1,transform:"rotate(0deg)"},hiddenClose:{opacity:0,transform:"rotate(-30deg)"},blueTip:{":before":{position:"absolute",content:'" "',right:"-2px",top:"-2px",border:"2px solid #fff",borderRadius:"50%",width:"6px",height:"6px",background:"#8AB3E9"}},unreadBadge:{position:"absolute",top:"-7px",right:"-7px",background:"#8AB3E9",width:"22px",height:"22px",lineHeight:"22px",borderRadius:"50%",color:"#fff",fontWeight:500,textAlign:"center",textOverflow:"ellipsis",overflow:"hidden"}}),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.unReadMessageCount,n=e.blueTip,r=e.opened,i=e.onClick;return s.a.createElement("div",{className:Object(f.css)(T.buttonWrapper,n&&T.blueTip),onClick:i},s.a.createElement("span",{className:Object(f.css)(T.icon,T.feedbackIcon,r?T.hiddenFeedback:T.visibleFeedback)}),s.a.createElement("span",{className:Object(f.css)(T.icon,T.closeIcon,r?T.visibleClose:T.hiddenClose)}),t>0&&s.a.createElement("span",{className:Object(f.css)(T.unreadBadge)},t))},t.defaultProps={unReadMessageCount:0,blueTip:!1,opened:!1},t}(l.Component),I=f.StyleSheet.create({menu:{listStyle:"none",margin:0,padding:"4px 0",background:"#fff",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.15)",borderRadius:"2px",width:"110px"},menuItem:{display:"flex",alignItems:"center",height:"24px",lineHeight:"24px",padding:"4px 15px",cursor:"pointer",":hover":{background:"#F7F7F7"}},divider:{margin:"4px 15px",borderTop:"1px solid #dedede",padding:"0px",height:"0px"},disabled:{opacity:.3,cursor:"not-allowed"}}),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick(e)},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this,t=s.a.Children.toArray(this.props.children);return s.a.createElement("ul",{className:Object(f.css)(I.menu)},s.a.Children.map(t,(function(t,n){return s.a.cloneElement(t,Object(o.__assign)(Object(o.__assign)({},t.props),{handleItemClick:e.handleClick}))})))},t}(l.Component),R=n.p+"static/lizard-one/assets/advice.11ed6bc3.svg",P=n.p+"static/lizard-one/assets/beta_test.a9ebfb30.svg",M=n.p+"static/lizard-one/assets/help.279606f1.svg",A=n.p+"static/lizard-one/assets/hotkey.0e8bbc96.svg",B=n.p+"static/lizard-one/assets/intercom.bfe15f52.svg",D=n.p+"static/lizard-one/assets/questionnaire.c347bbce.svg",L=n.p+"static/lizard-one/assets/user_guide.5b4f5376.svg",z=n.p+"static/lizard-one/assets/table_help.2dfbf6e9.svg",F=n.p+"static/lizard-one/assets/app_plan.5193bdcb.svg",V=n.p+"static/lizard-one/assets/user_tour.3bfaaaa4.svg",U=new Date("2018-03-01T11:00:00.000Z"),G=new Date("2018-03-01T11:00:00.000Z");!function(e){e.FIRST_HELP_CENTER="first_load_intercom",e.FIRST_VISIT_INTERCOM="first_visit_intercom",e.FIRST_SHEET_HOTKEY="first_sheet_hotkey",e.FIRST_SHEET_GUIDE="first_sheet_guide",e.FIRST_DOC_HOTKEY="first_doc_hotkey",e.FIRST_DOC_GUIDE="first_doc_guide",e.FIRST_MINDMAP_GUIDE="first_mindmap_guide",e.FIRST_MINDMAP_HOTKEY="first_mindmap_hotkey",e.FIRST_TABLE_GUIDE="first_table_guide",e.FIRST_TABLE_HOTKEY="first_table_hotkey"}(d||(d={}));var H,W,K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={firstFeedback:!1,firstIntercom:!1,firstHotKey:!1,firstUserGuide:!1},t.getFlashMessage=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,c,l;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:e=this.getRequestData(),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,O.s.post("/flash_messages/find_or_create",e)];case 2:return t=o.sent(),n=this.props.pageType,r=Z(n),i=b()(t,["name",d.FIRST_HELP_CENTER]),a=b()(t,["name",d.FIRST_VISIT_INTERCOM]),c=r&&b()(t,["name",r.hotkey]),l=r&&b()(t,["name",r.guide]),!i||i.isRead?[3,4]:[4,this.postReadMessage(d.FIRST_VISIT_INTERCOM)];case 3:o.sent(),o.label=4;case 4:return this.setState({firstFeedback:!!i&&!i.isRead,firstIntercom:!!a&&!a.isRead,firstHotKey:!!c&&!c.isRead,firstUserGuide:!!l&&!l.isRead}),[3,6];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))},t.postReadMessage=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,O.s.post("/flash_message/action/mark_as_read",{messageName:e}).catch((function(e){}))]}))}))},t.readMessage=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return u(this.props.user)?[2]:(t=this.messageKeyToStateKey(e),this.state[t]?[4,this.postReadMessage(e)]:[3,2]);case 1:r.sent(),t&&this.setState(((n={})[t]=!1,n)),r.label=2;case 2:return[2]}}))}))},t.messageKeyToStateKey=function(e){return e===d.FIRST_HELP_CENTER?"firstFeedback":e===d.FIRST_VISIT_INTERCOM?"firstIntercom":[d.FIRST_DOC_HOTKEY,d.FIRST_SHEET_HOTKEY,d.FIRST_MINDMAP_HOTKEY].includes(e)?"firstHotKey":[d.FIRST_DOC_GUIDE,d.FIRST_SHEET_GUIDE,d.FIRST_MINDMAP_GUIDE].includes(e)?"firstUserGuide":""},t.getRequestData=function(){var e=[d.FIRST_HELP_CENTER,d.FIRST_VISIT_INTERCOM],n=Z(t.props.pageType),r=n?Object.values(n):[];return{filter:Object(o.__spreadArray)(Object(o.__spreadArray)([],Object(o.__read)(e)),Object(o.__read)(r)).map((function(e){return{name:e}}))}},t}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"isNewUser",{get:function(){var e=this.props,t=e.user,n=e.helpCenterOnlineTime,r=e.newFeatureOnlineTime;if(!t)return!1;var i=new Date;return new Date(t.registerAt)>n&&i>r},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){return Object(o.__awaiter)(this,void 0,Promise,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return u(this.props.user)?[2]:[4,this.getFlashMessage()];case 1:return e.sent(),[2]}}))}))},t.prototype.render=function(){var e=this.props.children;return s.a.createElement("div",null,e(Object(o.__assign)(Object(o.__assign)({},this.state),{isNewUser:this.isNewUser}),this.readMessage))},t.defaultProps={helpCenterOnlineTime:U,newFeatureOnlineTime:G},t}(l.Component);function Y(e){var t;return((t={})[r.DESKTOP]="脑图",t[r.DOC]="文档",t[r.SHEET]="表格",t[r.SLIDE]="幻灯片",t[r.MINDMAP]="脑图",t[r.FORM]="表单",t[r.HOMEPAGE]="官网",t[r.TABLE]="应用表格",t)[e]}function Z(e){var t=null;switch(e){case r.DESKTOP:case r.SLIDE:case r.HOMEPAGE:case r.FORM:break;case r.DOC:t={guide:d.FIRST_DOC_GUIDE,hotkey:d.FIRST_DOC_HOTKEY};break;case r.SHEET:t={guide:d.FIRST_SHEET_GUIDE,hotkey:d.FIRST_SHEET_HOTKEY};break;case r.MINDMAP:t={guide:d.FIRST_MINDMAP_GUIDE,hotkey:d.FIRST_MINDMAP_HOTKEY};break;case r.TABLE:t={guide:d.FIRST_TABLE_GUIDE,hotkey:d.FIRST_TABLE_HOTKEY}}return t}!function(e){e.INTERCOM="INTERCOM",e.FEEDBACK="FEEDBACK",e.HOT_KEY="HOT_KEY",e.GUIDE="GUIDE",e.QUESTIONNAIRE="QUESTIONNAIRE",e.BETA_TEST="BETA_TEST",e.HELP="HELP",e.ZHICHI_SERVICE="ZHICHI_SERVICE",e.ZHICHI_TICKET="ZHICHI_TICKET",e.PLAN="PLAN",e.ON_BOARD="ON_BOARD"}(W||(W={}));var q=f.StyleSheet.create({text:{flex:"1 1 auto",color:"#41464a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:"16px",height:"16px",backgroundSize:"16px 16px",backgroundRepeat:"no-repeat",marginRight:"9px",position:"relative",":after":{content:'" "',padding:"0 8px"}},blueTip:{":before":{position:"absolute",content:'" "',right:"-2px",top:"-2px",border:"2px solid #fff",borderRadius:"50%",width:"6px",height:"6px",background:"#8AB3E9"}}});function Q(e){var t=e.icon,n=e.name,r=e.unRead,i=void 0!==r&&r,a=f.StyleSheet.create({iconBackground:{backgroundImage:"url("+t+")"}});return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:Object(f.css)(q.icon,i&&q.blueTip,a.iconBackground)}),s.a.createElement("span",{className:Object(f.css)(q.text)},n))}var X=[W.BETA_TEST,W.QUESTIONNAIRE,"divider",W.FEEDBACK,W.ZHICHI_SERVICE],J=[W.BETA_TEST,W.QUESTIONNAIRE,"divider",W.GUIDE,W.HOT_KEY,"divider",W.FEEDBACK,W.ZHICHI_SERVICE],$=[W.BETA_TEST,W.QUESTIONNAIRE,"divider",W.GUIDE,W.HOT_KEY,W.HELP,"divider",W.FEEDBACK,W.ZHICHI_SERVICE],ee=[W.BETA_TEST,W.QUESTIONNAIRE,"divider",W.PLAN,W.HELP,W.ON_BOARD,"divider",W.FEEDBACK,W.ZHICHI_SERVICE],te=((H={})[r.DESKTOP]=X,H[r.HOMEPAGE]=X,H[r.FORM]=X,H[r.DOC]=J,H[r.SHEET]=$,H[r.SLIDE]=J,H[r.MINDMAP]=J,H[r.TABLE]=ee,H);function ne(e,t,n){var i=function(e){return te[e]}(e),a=function(e,t){var n,i,a,c,l=Y(e),s=e===r.TABLE;return(n={})[W.ZHICHI_SERVICE]={key:W.ZHICHI_SERVICE,body:Q(Object(o.__assign)({icon:B,name:"客服",unRead:!1},t[W.ZHICHI_SERVICE]))},n[W.ZHICHI_TICKET]={key:W.ZHICHI_TICKET,body:Q(Object(o.__assign)({icon:B,name:"工单",unRead:!1},t[W.ZHICHI_SERVICE]))},n[W.INTERCOM]={key:W.INTERCOM,body:Q(Object(o.__assign)({icon:B,name:"客服",unRead:!1},t[W.INTERCOM]))},n[W.FEEDBACK]={key:W.FEEDBACK,body:Q(Object(o.__assign)({icon:R,name:"意见反馈",unRead:!1},t[W.FEEDBACK]))},n[W.HELP]={key:W.HELP,body:Q(Object(o.__assign)({icon:s?z:M,name:s?"帮助手册":"帮助中心",unRead:!1},t[W.HELP]))},n[W.HOT_KEY]={key:W.HOT_KEY,body:Q(Object(o.__assign)({icon:A,name:"快捷键",unRead:!1},t[W.HOT_KEY]))},n[W.GUIDE]={key:W.GUIDE,body:Q(Object(o.__assign)({icon:L,name:l+"指南",unRead:!1},t[W.GUIDE]))},n[W.QUESTIONNAIRE]={key:W.QUESTIONNAIRE,disabled:null===(i=t[W.QUESTIONNAIRE])||void 0===i?void 0:i.disabled,body:Q(Object(o.__assign)({icon:D,name:"用户问卷",unRead:!1},t[W.QUESTIONNAIRE]))},n[W.BETA_TEST]={key:W.BETA_TEST,disabled:null===(a=t[W.BETA_TEST])||void 0===a?void 0:a.disabled,body:Q(Object(o.__assign)({icon:P,name:"参与内测",unRead:!1},t[W.BETA_TEST]))},n[W.PLAN]={key:W.PLAN,disabled:!1,body:Q(Object(o.__assign)({icon:F,name:"产品规划",unRead:!1},t[W.PLAN]))},n[W.ON_BOARD]={key:W.ON_BOARD,disabled:null===(c=t[W.ON_BOARD])||void 0===c?void 0:c.disabled,body:Q(Object(o.__assign)({icon:V,name:"新手引导",unRead:!1},t[W.ON_BOARD]))},n}(e,t);return i.map((function(e){return"divider"===e?e:n&&e===W.ZHICHI_SERVICE?a[W.ZHICHI_TICKET]:a[e]}))}var re,ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleItemClick=function(){var e=t.props,n=e.id;e.disabled||(0,t.props.handleItemClick)(n)},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.children,r=e.disabled,i=e.dataTest;return"divider"===t?s.a.createElement("li",{className:Object(f.css)(I.menuItem,I.divider)}):s.a.createElement("li",{onClick:this.handleItemClick,"data-test":i||t,className:Object(f.css)(I.menuItem,r&&I.disabled)+(t===W.ZHICHI_SERVICE?" zhiCustomBtn":"")},n)},t.defaultProps={handleItemClick:function(){},disabled:!1,dataTest:""},t}(l.Component),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.menus,n=e.onMenuClick;return s.a.createElement(N,{onClick:n},t.map((function(e,t){if("divider"===e)return s.a.createElement(ie,{id:"divider",key:"divider-"+t});var n=e.key,r=e.body,i=e.dataTest,a=e.disabled;return s.a.createElement(ie,{key:n,id:n,dataTest:i,disabled:a},r)})))},t}(l.Component),oe=n(29),ce=n.n(oe),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.disabled||t.props.onClick()},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.disabled,r=e.className,i=void 0===r?"":r,a=e.style,c=void 0===a?{}:a,l=e.width,u=e.darkStyle,d=e.children,p=ce()({},Object(o.__assign)({width:l&&l+"px"},c)),m="black"===t,b=Object(f.css)(se.button,m&&se.dark,!m&&se.primary,u,n&&m&&se.darkDisabled,n&&!m&&se.primaryDisabled)+" "+i;return s.a.createElement("button",{style:p,className:b,onClick:this.handleClick},d)},t}(l.Component),se=f.StyleSheet.create({button:{height:"34px",cursor:"pointer",borderRadius:"2px",transition:"opacity 0.3s ease 0s, border-color 0.3s ease 0s",fontSize:"12px",fontWeight:500,textAlign:"center",":focus":{outline:0}},primary:{backgroundImage:"linear-gradient(to bottom, #ffffff, #fbfbfb)",border:"1px solid #ccc",color:"#41464b"},primaryDisabled:{border:"solid 1px #c6c7c9",backgroundColor:"#d9dadb",color:"#fff",cursor:"not-allowed",pointerEvents:"none"},dark:{backgroundColor:"#41464b",color:"#fff",border:"none",":hover":{backgroundColor:"#3c4044"}},darkDisabled:{border:"solid 1px #c6c7c9",backgroundColor:"#d9dadb",color:"#fff",cursor:"not-allowed"}}),ue=n.p+"static/lizard-one/assets/desktop-err.685ad36e.svg",de=n.p+"static/lizard-one/assets/desktop-suc.6e015fd4.svg",pe=n.p+"static/lizard-one/assets/desktop.39b6df3d.svg",fe=n.p+"static/lizard-one/assets/doc-err.86990445.svg",me=n.p+"static/lizard-one/assets/doc-suc.bb738f94.svg",be=n.p+"static/lizard-one/assets/doc.e60476d9.svg",he=n.p+"static/lizard-one/assets/mindmap-err.0324b588.svg",ge=n.p+"static/lizard-one/assets/mindmap-suc.6d8ef36a.svg",ve=n.p+"static/lizard-one/assets/mindmap.4b73140f.svg",_e=n.p+"static/lizard-one/assets/sheet-err.bf6d3c27.svg",ye=n.p+"static/lizard-one/assets/sheet-suc.0ef3d415.svg",Oe=n.p+"static/lizard-one/assets/sheet.bf15ed6b.svg",je=n.p+"static/lizard-one/assets/slide-err.a6047058.svg",we=n.p+"static/lizard-one/assets/slide-suc.6a6164b7.svg",xe=n.p+"static/lizard-one/assets/slide.5a8ac2dd.svg",Ee=n.p+"static/lizard-one/assets/star-dark.147558dc.svg",ke=n.p+"static/lizard-one/assets/star-light.7566ad7c.svg",Ce=n.p+"static/lizard-one/assets/star-transparent.0176e292.svg",Te=f.StyleSheet.create({wrapper:{position:"absolute",width:"280px",right:0,borderRadius:"3px",backgroundColor:"#fff",boxShadow:"0 2px 3px 1px rgba(0, 0, 0, 0.1)",transition:"bottom 1000ms ease-in, opacity 1000ms ease-in"},fadeOut:{opacity:0,bottom:"20px"},fadeIn:{opacity:1,bottom:"38px"},main:{minHeight:"142px",padding:"40px 20px 28px 20px",display:"flex",flexDirection:"column",alignItems:"center"},productIcon:{width:"150px",height:"140px",margin:"auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"},title:{fontSize:"18px",fontWeight:"bold",fontStyle:"normal",lineHeight:"1.39",letterSpacing:"0.9px",margin:"40px 0 10px 0"},content:{lineHeight:"1.67",textAlign:"center",wordBreak:"break-all"},questionnaireContent:{padding:"0 10px 30px 10px"},ratesWrapper:{},rates:{},rater:{display:"inline-block",cursor:"pointer",width:"21px",height:"21px",backgroundRepeat:"no-repeat",backgroundSize:"33px 33px",backgroundPosition:"center",padding:"0 6.5px"},checkedRater:{backgroundImage:"url("+ke+")"},rateDesc:{lineHeight:"1.67",textAlign:"center",marginTop:"10px"},footer:{backgroundColor:"#fff",padding:"30px 20px"},feedbackArea:{boxSizing:"border-box",width:"100%",height:"68px",padding:"7px 16px",resize:"none",borderRadius:"2px",boxShadow:"inset 0 1px 3px 1px #e5e5e5",backgroundColor:"#fff",border:"solid 1px #e5e5e5",marginBottom:"20px",fontSize:"12px",lineHeight:"20px",":placeholder":{fontSize:"12px",fontWeight:"300",lineHeight:"1.67",textAlign:"left",color:"#a5a5a5"},":focus":{outline:"0",borderColor:"#a6a6a6",color:"#333"}},buttonWrapper:{display:"flex"}}),Se=f.StyleSheet.create({main:{backgroundImage:"linear-gradient(to top, #767c82, #41464b)",color:"#fff"},productIcon:{backgroundImage:"url("+pe+")"},raterIcon:{backgroundImage:"url("+Ee+")"},submitSuccessIcon:{backgroundImage:"url("+de+")"},submitFailureIcon:{backgroundImage:"url("+ue+")"},darkButton:{backgroundColor:"#41464b",color:"#fff",":hover":{backgroundColor:"#3c4044"}}}),Ie=f.StyleSheet.create({main:{backgroundImage:"linear-gradient(333deg, #b2d0f6, #8ab3e9)",color:"#41464b"},productIcon:{backgroundImage:"url("+be+")"},raterIcon:{backgroundImage:"url("+Ce+")"},submitSuccessIcon:{backgroundImage:"url("+me+")"},submitFailureIcon:{backgroundImage:"url("+fe+")"},darkButton:{backgroundColor:"#b2d0f6",color:"#41464b",":hover":{backgroundColor:"#8ab3e9"}}}),Ne=f.StyleSheet.create({main:{backgroundImage:"linear-gradient(340deg, #90d58f, #66b165)",color:"#41464b"},productIcon:{backgroundImage:"url("+Oe+")"},raterIcon:{backgroundImage:"url("+Ce+")"},submitSuccessIcon:{backgroundImage:"url("+ye+")"},submitFailureIcon:{backgroundImage:"url("+_e+")"},darkButton:{backgroundColor:"#90d58f",color:"#41464b",":hover":{backgroundColor:"#90d58f"}}}),Re=f.StyleSheet.create({main:{backgroundImage:"linear-gradient(340deg, #ffe9ab, #f5d57a)",color:"#41464b"},productIcon:{backgroundImage:"url("+xe+")"},raterIcon:{backgroundImage:"url("+Ce+")"},submitSuccessIcon:{backgroundImage:"url("+we+")"},submitFailureIcon:{backgroundImage:"url("+je+")"},darkButton:{backgroundColor:"#ffe9ab",color:"#41464b",":hover":{backgroundColor:"#f5d57a"}}}),Pe=f.StyleSheet.create({main:{backgroundImage:"linear-gradient(340deg, #566286, #29314d)",color:"#fff"},productIcon:{backgroundImage:"url("+ve+")"},raterIcon:{backgroundImage:"url("+Ee+")"},submitSuccessIcon:{backgroundImage:"url("+ge+")"},submitFailureIcon:{backgroundImage:"url("+he+")"},darkButton:{backgroundColor:"#566286",color:"#fff",":hover":{backgroundColor:"#29314d"}}}),Me=((re={})[i.DOC]=Ie,re[i.SHEET]=Ne,re[i.SLIDE]=Re,re[i.MINDMAP]=Pe,re[i.DESKTOP]=Se,re),Ae=[{name:"left",text:"现在去看",url:""},{name:"right",text:"我知道了",url:""}],Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={status:"initial",hoveredScore:0,score:0,feedbackText:"",activeMode:"out"},t.renderRate=function(){var e=t.state,n=e.hoveredScore,r=e.score,i="轻点评分";return n&&(i=["差到无法忍受","不满意","一般","还行","非常棒"][n-1]),s.a.createElement("div",{className:Object(f.css)(Te.ratesWrapper)},s.a.createElement("div",{className:Object(f.css)(Te.rates),onMouseLeave:function(){return t.setHoveredScore(r)}},Array(5).fill(0).map((function(e,r){return s.a.createElement("span",{key:r,className:Object(f.css)(Te.rater,t.themeStyle.raterIcon,r<n&&Te.checkedRater),onMouseEnter:function(){return t.setHoveredScore(r+1)},onClick:function(){return t.setScore(r+1)}})}))),s.a.createElement("div",{className:Object(f.css)(Te.rateDesc)},i))},t.renderQuestionnaire=function(){var e=t.props.data,n=e.content,r=e.title,i=e.type,o=t.state,c=o.score,l=o.feedbackText,u=i===a.QUESTION;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Object(f.css)(Te.main,t.themeStyle.main)},s.a.createElement("div",{className:Object(f.css)(Te.productIcon,t.themeStyle.productIcon)}),s.a.createElement("div",{className:Object(f.css)(Te.title)},r),s.a.createElement("div",{className:Object(f.css)(Te.content,u&&Te.questionnaireContent)},n),u&&t.renderRate()),s.a.createElement("div",{className:Object(f.css)(Te.footer)},u&&c>0&&s.a.createElement("textarea",{className:Object(f.css)(Te.feedbackArea),placeholder:"您的反馈（非必填）",value:l,onChange:t.handleFeedbackChange}),t.renderFooterButton()))},t.renderFooterButton=function(){var e=t.state,n=e.score,r=e.status,i=t.props.data,c=i.type,l=i.buttonTips,u=void 0===l?Ae:l,d=b()(u,["name","left"]),p=b()(u,["name","right"]);switch(c){case a.QUESTION:return s.a.createElement(le,{type:"black",disabled:0===n||"pending"===r,darkStyle:t.themeStyle.darkButton,onClick:t.handleSubmitQuestionnaire,style:{width:"100%"}},"pending"===r?"提交中":"提交");case a.BETA:return s.a.createElement("div",{className:Object(f.css)(Te.buttonWrapper)},s.a.createElement(le,{type:"black",darkStyle:t.themeStyle.darkButton,style:{marginRight:"8px",flex:"1 1 80px"},onClick:function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.toggleJoinBeta(!0)]}))}))}},"立即参加"),s.a.createElement(le,{type:"primary",style:{flex:"1 1 80px"},onClick:function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.toggleJoinBeta(!1)]}))}))}},"暂不参加"));case a.FEATURE:return s.a.createElement("div",{className:Object(f.css)(Te.buttonWrapper)},s.a.createElement(le,{type:"black",darkStyle:t.themeStyle.darkButton,style:{marginRight:"8px",flex:"1 1 80px"},onClick:function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.toggleJoinFeature(!0)]}))}))}},d.text),s.a.createElement(le,{type:"primary",style:{flex:"1 1 80px"},onClick:function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.toggleJoinFeature(!1)]}))}))}},p.text));default:return null}},t.renderSubmitResult=function(){var e=t.state.status,n=t.props.data,r=t.themeStyle;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Object(f.css)(Te.main,r.main)},s.a.createElement("div",{className:Object(f.css)(Te.productIcon,"resolved"===e?r.submitSuccessIcon:r.submitFailureIcon)}),s.a.createElement("div",{className:Object(f.css)(Te.title)},"resolved"===e?"提交成功":"提交失败"),s.a.createElement("div",{className:Object(f.css)(Te.content)},"resolved"===e?"您的反馈已提交成功，感谢您的参与":"网络出问题了，请稍后再试")),s.a.createElement("div",{className:Object(f.css)(Te.footer)},"resolved"===e?s.a.createElement(le,{type:"black",style:{width:"100%"},darkStyle:r.darkButton,onClick:function(){return t.closeQuestionnairePanel(n)}},"关闭"):s.a.createElement(le,{type:"black",style:{width:"100%"},darkStyle:r.darkButton,onClick:t.handleSubmitAgain},"返回重新提交")))},t.setHoveredScore=function(e){t.setState({hoveredScore:e})},t.setScore=function(e){t.setState({score:e})},t.handleFeedbackChange=function(e){t.setState({feedbackText:e.target.value})},t.handleSubmitQuestionnaire=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:e=this.props.data,t=this.state,n=t.score,r=t.feedbackText,i={id:e.id,result:n,content:r},a.label=1;case 1:return a.trys.push([1,3,,4]),this.setState({status:"pending"}),[4,O.s.post("/questionnaires",i)];case 2:return a.sent(),this.setState({status:"resolved"}),[3,4];case 3:return a.sent(),this.setState({status:"rejected"}),[3,4];case 4:return[2]}}))}))},t.toggleJoinBeta=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:t=this.props.data,n={id:t.id,result:e?1:2},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O.s.post("/questionnaires",n)];case 2:return r.sent(),this.closeQuestionnairePanel(t),[3,4];case 3:return r.sent(),this.closeQuestionnairePanel(),[3,4];case 4:return[2]}}))}))},t.toggleJoinFeature=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:t=this.props.data,n={id:t.id,result:e?1:2},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,O.s.post("/questionnaires",n)];case 2:return a.sent(),this.closeQuestionnairePanel(t),r=b()(t.buttonTips,["name","left"]),i=b()(t.buttonTips,["name","right"]),e&&r&&r.url?window.open(r.url,"_blank"):!e&&i&&i.url&&window.open(i.url,"_blank"),[3,4];case 3:return a.sent(),this.closeQuestionnairePanel(),[3,4];case 4:return[2]}}))}))},t.closeQuestionnairePanel=function(e){var n=t.props.finishQuestionnaire;t.setState({status:"initial",hoveredScore:0,score:0,feedbackText:""}),n(e)},t.handleSubmitAgain=function(){t.setState({status:"initial"})},t}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"themeStyle",{get:function(){var e=this.props.data.product,t=void 0===e?i.DESKTOP:e;return Me[t]},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){e.setState({activeMode:"in"})}),500)},t.prototype.render=function(){var e=this.props.visible,t=this.state,n=t.status,r=t.activeMode;return e?s.a.createElement("div",{className:Object(f.css)(Te.wrapper,"in"===r&&Te.fadeIn,"out"===r&&Te.fadeOut)},["initial","pending"].includes(n)?this.renderQuestionnaire():this.renderSubmitResult()):null},t}(l.Component),De=n(36),Le=n.n(De);function ze(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,new Promise((function(t,n){window.onmessage=function(t){if(null==t?void 0:t.data)try{var n=JSON.parse(t.data),r=n.name,i=n.data;if("zc_post_message"===r)switch(i.action){case"chat_collapse_window":e.setState({zcServiceVisible:!1,buttonOpen:!1})}}catch(t){}},window.zc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window.cbk=window.cbk||[],window.cbk.push(e)};var r=e.props.zhiChiParams,i=r.url,a=r.config,c=document.createElement("script");c.async=!0,c.id="zhichiScript",c.className="zhiCustomBtn",c.src=i,c.onload=function(){return setTimeout(t,1e3)},c.onerror=n,c.oncancel=n,document.body.appendChild(c);var l=e.props.user,s=void 0===l?{}:l,u=s.team,d=s.membership,p="",f=2;if(!s||s.id<0)p="匿名用户",f=3;else if(null==u?void 0:u.id){if(p="企业版",d)p=d.isEnterprisePremium?"企业高级版":"企业标准版",p+=d.isOfficial?" - 正式版":" - 试用版"}else if(p="个人版",d){var m=d.accountType,b=d.accountTypeExpiredAt,h=Le()(b).isSame("2020/6/1 00:00:00");p=m.includes("free")?"个人基础版":"个人高级版",h&&(p="个人高级版（赠送）"),f=m.includes("free")||h?3:2}__RUNTIME_ENV__.PRIVATE_DEPLOY&&(p="私有化用户"),window.zc("config",Object(o.__assign)({custom:!0,color:"41464b",container_style:"right:20px;left:auto;bottom:88px",type:f,leave_msg_flag:!0,feedback_flag:!0,height:"550",partnerid:s.id,face:s.avatar,remark:window.navigator.userAgent,uname:s.name,realname:s.name,params:JSON.stringify({"账户类型":p,"注册时间":s.createdAt,"到期时间":null==d?void 0:d.accountTypeExpiredAt,"浏览器信息":navigator.userAgent,"是否付费":s.isPersonalPremium||s.team&&!s.isTrial?"是":"否"})},a));var g=document.createElement("style");g.type="text/css",g.innerHTML="\n      #zc__bubble__wrap {\n        bottom: 90px!important;\n        right: 0!important;\n      }\n      #zc__bubble__wrap #zc__bubble_container_close {\n        display: none;\n    }",document.body.appendChild(g),window.zc("receive_message",(function(){var t=document.getElementById("zc__bubble__wrap");null==t||t.addEventListener("click",(function(){e.setState({buttonOpen:!0,zcBubbleVisible:!1,zcServiceVisible:!0})})),e.setState({buttonOpen:!0,zcBubbleVisible:!0})}))}))]}))}))}function Fe(e){var t;window.zc&&(window.zc("dynamic_ready"),null===(t=document.querySelector(".zhiCustomBtn"))||void 0===t||t.addEventListener("click",(function(){e.setState({zcServiceVisible:!0,buttonOpen:!0})})))}var Ve,Ue,Ge,He=n(253),We=n(11),Ke=n.n(We),Ye=n(254),Ze=He.default.div.withConfig({componentId:"sc-2_LW-5",displayName:"StyleWrapper"})(Ve||(Ve=Object(o.__makeTemplateObject)(["position:relative;"],[""]))),qe=He.default.div.withConfig({componentId:"sc-2_LW-5-1",displayName:"StyleTooltipContentWrapper"})(Ue||(Ue=Object(o.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;transform:translate(","px,","px);transition:all 0.3s ease-in-out;"],["","",""])),(function(e){return e.x}),(function(e){return e.y})),Qe=He.default.div.withConfig({componentId:"sc-2_LW-5-2",displayName:"StyleTooltipContent"})(Ge||(Ge=Object(o.__makeTemplateObject)(["line-height:26px;background:linear-gradient(0deg,#8ab3e9 0%,#80b3f5 100%);box-shadow:0 2px 4px rgba(135,179,237,0.4);border-radius:2px;font-size:12px;color:#fff;padding:0 7px;margin-left:-10px;white-space:nowrap;position:absolute;transform:translate(-100%,0);&::before{content:' ';display:block;width:8px;height:8px;position:absolute;right:-4px;background:linear-gradient(0deg,#8ab3e9 0%,#80b3f5 100%);top:50%;margin-top:-4px;transform:rotate(45deg);}"],[""]))),Xe=function(e){var t=e.x,n=e.y;return s.a.createElement(qe,{x:t,y:n},s.a.createElement(Qe,null,Ke()("如需客服在线支持请戳这~")))},Je=function(e){var t=e.menuVisible,n=e.children,r=e.firstVisitFeedback,i=e.dispatch,a=s.a.useRef(),c=Object(o.__read)(s.a.useState(!0),2),l=c[0],u=c[1],d=Object(o.__read)(s.a.useState(0),2),p=d[0],f=d[1],m=Object(o.__read)(s.a.useState(0),2),b=m[0],h=m[1],g=s.a.useRef(0);function v(){u(!1),i(Object(Ye.ad)("first_visit_feedback")).catch((function(){}))}return s.a.useEffect((function(){if(t&&l&&!r){var e=document.querySelector(".zhiCustomBtn");if(e&&a.current){var n=e.getBoundingClientRect(),i=n.left,o=n.top,c=a.current.getBoundingClientRect(),s=c.left,u=c.top;f(i-s),h(o-u),g.current=Number(setTimeout(v,5e3))}}!t&&l&&g.current&&(v(),clearTimeout(g.current))}),[t,l]),s.a.createElement(Ze,{ref:a},n,l&&!r&&s.a.createElement(Xe,{x:p,y:b}))},$e=j.i.zhiChiLoader,et=j.i.feedbackUrlLoader,tt=function(e){var t=Object(o.__read)(Object(l.useState)({url:"https://shimo.sobot.com/chat/frame/v2/entrance.js?sysnum=99f41a92d15542b7a884c7e355359961",config:{}}),2),n=t[0],r=t[1],i=Object(o.__read)(Object(l.useState)("https://shimo.im/forms/KrkEVnpoR5fwZnAJ/fill"),2),a=i[0],c=i[1];return Object(l.useEffect)((function(){$e.bindCall((function(e){var t=e.url,n=e.config;r(Object(w.c)((function(e){t&&(e.url=t),n&&(e.config=Object(o.__assign)(Object(o.__assign)({},e.config),n))})))})),et.bindCall((function(e){c(e)}))}),[]),s.a.createElement(nt,Object(o.__assign)({},e,{zhiChiParams:n,feedbackUrl:a}))},nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={buttonOpen:!1,unReadMessageCount:0,zcServiceVisible:!1,zcBubbleVisible:!1,menuVisible:!1,questionnaireVisible:!1,questionnaireData:null,previousQuestionnaireData:[],zcLoaded:!1},t.handleMenuClick=function(e,n){var i=n.handleReadMessage;return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n,c,l,s,u,d;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:switch(t=this.props,n=t.onOpenHotkeyPanel,c=t.onOpenGuidePanel,l=t.pageType,u=l===r.TABLE,e){case W.ZHICHI_TICKET:return[3,1];case W.FEEDBACK:return[3,2];case W.HELP:return[3,3];case W.GUIDE:case W.HOT_KEY:return[3,4];case W.QUESTIONNAIRE:return[3,5];case W.BETA_TEST:return[3,6];case W.ZHICHI_SERVICE:return[3,7];case W.PLAN:return[3,11];case W.ON_BOARD:return[3,12]}return[3,13];case 1:return this.openZhichiTicket(),[3,14];case 2:return this.openFeedback(),[3,14];case 3:return u?this.openTableHelp():this.openSheetHelp(),[3,14];case 4:return s=Z(l),e===W.HOT_KEY&&(s&&i(s.hotkey),n(),Object(p.a)({moduleName:"快捷键",submoduleName:Y(l),actionName:"点击"})),e===W.GUIDE&&(s&&i(s.guide),c(),Object(p.a)({moduleName:"帮助指南",submoduleName:Y(l),actionName:"点击"})),this.setState({menuVisible:!1,buttonOpen:!1}),[3,14];case 5:return this.openPreviousQuestionnaire(a.QUESTION),[3,14];case 6:return this.openPreviousQuestionnaire(a.BETA),[3,14];case 7:return o.trys.push([7,9,,10]),[4,this.initZCScript()];case 8:return o.sent(),Fe(this),null===(d=document.querySelector(".zhiCustomBtn"))||void 0===d||d.dispatchEvent(new Event("click")),[3,10];case 9:return o.sent(),[3,10];case 10:return[3,14];case 11:return this.openTablePlan(),[3,14];case 12:return this.emitTableOnBoardEvent(),[3,14];case 13:return[3,14];case 14:return[2]}}))}))},t.openFeedback=function(){var e=t.props.feedbackUrl;window.open(e,"_blank"),Object(p.a)({moduleName:"帮助中心",submoduleName:"意见反馈",actionName:"点击"})},t.openZhichiTicket=function(){var e=t.props.user;window.open("https://www.sobot.com/ticketclient/index.html?sysNum=99f41a92d15542b7a884c7e355359961&deployId=8546a238c6fd414dadf3fda66578308c&partnerId="+e.id,"_blank")},t.openTablePlan=function(){window.open("/tables/vZ77DgMOnpcf7c9C?table=khu91OeHl7K&view=SAbBrMAwxfd","_blank"),Object(p.a)({moduleName:"帮助中心",submoduleName:"应用表格产品规划",actionName:"点击"})},t.emitEvent=function(e,t){e&&window.dispatchEvent(new CustomEvent(e,t))},t.openSheetHelp=function(){window.open("/sheet-help/","_blank"),Object(p.a)({moduleName:"帮助中心",submoduleName:"帮助中心",actionName:"点击"})},t.openTableHelp=function(){window.open("/docs/zdkyB8N7NEtadEA6","_blank"),Object(p.a)({moduleName:"帮助中心",submoduleName:"应用表格帮助中心",actionName:"点击"})},t.emitTableOnBoardEvent=function(){t.emitEvent("OPEN_TABLE_ON_BOARD"),Object(p.a)({moduleName:"帮助中心",submoduleName:"应用表格用户引导",actionName:"点击"})},t.handleButtonClick=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,c,l=this;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(e=this.state,t=e.buttonOpen,n=e.questionnaireVisible,r=e.zcServiceVisible,i=e.zcBubbleVisible,!t)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.initZCScript()];case 2:return o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return r?null===(c=window.zc)||void 0===c||c.call(window,"frame_status",(function(){l.setState({buttonOpen:!1,zcServiceVisible:!1})})):i?(null==(a=document.getElementById("zc__bubble__wrap"))||a.remove(),this.setState({buttonOpen:!1,zcBubbleVisible:!1})):n&&this.setState({buttonOpen:!1,questionnaireVisible:!1}),[2]}}))}))},t.initQuestionnaire=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:if(u(this.props.user))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O.s.get("/questionnaires_with_previous")];case 2:return e=r.sent(),t=(null==e?void 0:e.questionnaire)||null,n=(null==e?void 0:e.previous)||[],this.setState({questionnaireData:t,previousQuestionnaireData:n}),_()(t)||this.openExistQuestionnaire(),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},t.openExistQuestionnaire=function(){t.setState({menuVisible:!1,questionnaireVisible:!0,buttonOpen:!0})},t.openPreviousQuestionnaire=function(e){var n=t.state.previousQuestionnaireData,r=b()(n,{type:e});r&&t.setState({menuVisible:!1,questionnaireVisible:!0,questionnaireData:r,buttonOpen:!0}),Object(p.a)({moduleName:"帮助中心",submoduleName:e===a.QUESTION?"用户问卷":"参与内测",actionName:"点击"})},t.finishQuestionnaire=function(e){var n=t.state.previousQuestionnaireData;t.setState({buttonOpen:!1,questionnaireVisible:!1,previousQuestionnaireData:n.filter((function(t){return t.id!==(null==e?void 0:e.id)}))})},t.handleMenuVisibleChange=function(e){var n=t.state,r=n.zcServiceVisible,i=n.zcBubbleVisible,a=n.questionnaireVisible;e?r||i||a||t.setState({menuVisible:!0}):t.setState({menuVisible:!1})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){__RUNTIME_ENV__.PRIVATE_DEPLOY||this.initQuestionnaire().catch((function(){}))},t.prototype.render=function(){var e=this,t=this.state,n=t.buttonOpen,r=t.menuVisible,i=t.questionnaireVisible,o=t.questionnaireData,l=t.unReadMessageCount,u=t.previousQuestionnaireData,d=this.props,p=d.pageType,m=d.user,b=d.firstVisitFeedback,h=d.dispatch;return s.a.createElement(K,{pageType:p,user:m},(function(t,d){var v,_,y,O=t.isNewUser,j=t.firstFeedback,w=t.firstHotKey,k=t.firstIntercom,C=t.firstUserGuide,T=O&&j,I=g()(u,["type",a.QUESTION])>-1,N=g()(u,["type",a.BETA])>-1,R=!m||m.id<0,P=((v={})[W.INTERCOM]={unRead:!T&&k},v[W.HOT_KEY]={unRead:!T&&w},v[W.GUIDE]={unRead:!T&&C},v[W.QUESTIONNAIRE]={disabled:!I},v[W.BETA_TEST]={disabled:!N},v[W.ON_BOARD]={disabled:R},v),M=!(null===(_=m.team)||void 0===_?void 0:_.id)&&(null===(y=m.membership)||void 0===y?void 0:y.accountType.includes("free")),A=R||M,B=ne(p,P,A&&!Object(c.isIE)());__RUNTIME_ENV__.PRIVATE_DEPLOY&&(B=B.filter((function(e){return"divider"===e||![W.INTERCOM,W.QUESTIONNAIRE,W.BETA_TEST,W.HELP,W.FEEDBACK].includes(e.key)})).filter((function(e,t){return(0!==t||"divider"!==e)&&(t!==B.length-1||"divider"!==e)})));var D=!T&&(k||w||C),L=s.a.createElement("div",{className:Object(f.css)(E.menuWrapper,r&&E.menuVisible)},s.a.createElement(ae,{menus:B,onMenuClick:function(t){return e.handleMenuClick(t,{handleReadMessage:d})}}));return s.a.createElement("div",{className:Object(f.css)(E.feedbackWrapper),id:"suite-feedback"},s.a.createElement(Je,{menuVisible:r,firstVisitFeedback:b||A,dispatch:h},s.a.createElement(x,{overlay:L,onVisibleChange:e.handleMenuVisibleChange},s.a.createElement(S,{opened:n,unReadMessageCount:l,onClick:e.handleButtonClick,blueTip:D})),o&&s.a.createElement(Be,{visible:i,data:o,finishQuestionnaire:e.finishQuestionnaire})))}))},t.prototype.initZCScript=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:if(this.state.zcLoaded)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ze(this)];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return this.setState({zcLoaded:!0}),[2]}}))}))},t=Object(o.__decorate)([Object(y.a)((function(e){var t;return{firstVisitFeedback:!1!==(null===(t=e.userGuide)||void 0===t?void 0:t.get("first_visit_feedback"))}}))],t)}(l.Component),rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpenGuidePanel=function(){var e=t.props.toggleSideBar;"function"==typeof e&&e("userguide")},t.handleOpenHotkeyPanel=function(){var e=t.props.toggleSideBar;"function"==typeof e&&e("shortkey")},t}return Object(o.__extends)(t,e),t.prototype.render=function(){if(!this.enable)return null;var e=this.props,t=e.user,n=e.pageType,i=e.readOnly,a=e.team,c=Object(o.__assign)(Object(o.__assign)({},t?t.toJS():{}),{team:a?a.toJS():{}}),l=u(c);return s.a.createElement("div",{id:"sm-help-center-container"},s.a.createElement(tt,{user:c,pageType:i||l?r.DESKTOP:n,onOpenGuidePanel:this.handleOpenGuidePanel,onOpenHotkeyPanel:this.handleOpenHotkeyPanel}))},Object.defineProperty(t.prototype,"enable",{get:function(){if(Object(c.isMobile)())return!1;var e=__RUNTIME_ENV__.PRIVATE_DEPLOY,t=__RUNTIME_ENV__.PRIVATE_DEPLOY_FEEDBACK;return!__RUNTIME_ENV__.DISABLE_FEEDBACK&&(!e||!!t)},enumerable:!1,configurable:!0}),t.defaultProps={toggleSideBar:function(){},readOnly:!0},t}(l.Component)},1150:function(e,t){},1151:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 106 25"},this.props),i.a.createElement("path",{d:"M24.9 2.9L23.1.8l-1.7 1.5H2l1 1.2c.1.1.2.1.3.1.2 0 3.3-.1 7.2-.1C8.3 9 5.8 14.1.2 18.6c-.1 0-.1.1-.1.2s.1.2.2.2h.1c5-3.2 7.8-6.8 8.1-7.3v12.8c0 .2.3.3.4.3.9-1.1 1.5-2.1 1.6-3.3 1 0 5.5 0 8-.1.3.3.5.3.7 1.3 0 .2.1.2.3.2h.1c1.7-1 1.9-1.9 1.9-5v-5.6c0-.1 0-.1.1-.2l.5-1.1c.1-.1.1-.2 0-.3l-1.9-1.1c-.1-.1-.3 0-.3.1l-.5 1.1c0 .1-.1.1-.2.1h-8.3l-1.2-.5c1.4-1.8 2-2.9 2.8-4.3.1-.2.1-.3.2-.3.2-.1.2-.3.1-.5l-.1-.1c-.7-.5-1.3-1-1.7-1.7 2.9-.1 13.8-.2 13.8-.2.1 0 .2-.1.1-.4zm-14.3 8.6l.3-.2h8.2c.1 0 .3.1.3.3v7.2c0 .5-.1 1.2-.6 1.7l-.2.1h-8v-9.1zm25.8 1.6c1.4.6 2.4 1.3 2.9 1.7s.5.8 0 1.4c-.1.2-.2.3-.6.6-.6.4-1 .3-1.2-.4-.3-1.6-.8-2.7-1.4-3.3.1.1.1 0 .3 0zm5.8 0c1.5.6 2.4 1.2 3 1.6.5.4.5.8.1 1.4-.1.2-.2.3-.6.7-.6.4-1 .3-1.2-.3-.4-1.6-.9-2.7-1.5-3.2 0-.1.1-.2.2-.2zm-8.5-.1l.1-.1c.1 0 .1 0 .1.1 0 0-.2 2.9-.5 3.5-.2.6-.6.8-1.3.6-.3-.1-1-.4-1-.4-.5-.3-.4-.8 0-1.1 1.5-.9 2.2-1.6 2.6-2.6zm19 9.5v.1c0 .1 0 .1-.1.1H30.3s-.1 0-.2-.1l-.7-.6h10.9v-2.3c-4.1 0-8.1.1-8.3.1 0 0-.1 0-.2-.1l-.7-.7h9.2v-3.6l2.1.5c.1 0 .1.1 0 .2l-.2.3V19h6.1l1.2-1.2 1.5 1.6v.1s0 .1-.1.1h-.1s-4.3 0-8.8.1V22h7l1.5-1.6 2.2 2.1zm-2.1-8.2c.6.3.7.7.3 1.5-.1.2-.1.4-.5.8-.5.5-1 .5-1.3-.1-.7-1.6-1.4-2.7-2.1-3.1-.1-.1 0-.2.1-.2 1.7.3 2.8.7 3.5 1.1zm1.3-1.7l.1.1c0 .1-.1.1-.1.1h-.1c-20.6-.1-20.6 0-20.8 0 0 0-.1 0-.2-.1l-.7-.7 10.2.1v-1.9h-7s-.1 0-.2-.1l-.7-.7 7.9.1V7.7h-6.5c-.4.4-1.1 1-1.4 1.2l-.1.1c-.1 0-.2-.1-.2-.2V1.7l2 .6h14.3l.6-1 1.1.6.7.3c.1 0 .1.1 0 .2l-.4.8v4.1l.1.2c.1.1-.1.3-.2.3h-7.9v1.8h5.1l1.1-1.1 1.5 1.5v.1s0 .1-.1.1h-7.7v1.9h7l1.2-1.1 1.4 1.6zm-9.7-9.8v4.3h1.5c.9-1.3 1.2-2.2 1.6-3.8 0-.1 0-.2.1-.2 0 0 .1 0 .1.1l1.3 1.2c.1.1.2.2 0 .4-.6 1.2-2.5 2.1-3.1 2.3h4.4V2.8h-5.9zm-2 4.3V2.8h-6.3v4.3h6.3zm-1.8-2.5c.4.3.4.7 0 1.3-.1.2-.2.3-.5.6-.5.4-.9.2-1.1-.3-.3-1.5-.7-2.5-1.3-3 0-.1 0-.2.1-.1 1.5.5 2.3 1.1 2.8 1.5zM67 4.5C66.3 2.4 65.6 1 64.7.4c-.1-.1 0-.3.2-.2 2 .6 3.1 1.5 3.9 2 .7.4.7 1 .2 1.9-.1.2-.3.5-.5.7-.6.7-1.2.5-1.5-.3zm11.8 16c.1 0 .2.1.2.3 0 .1-.1.2-.2.2s-.4.1-.6.1c-.8.1-2 .4-2.5 1.6l-.1.1-.1.1h-.2c-2-.9-6.5-3-8.1-4.7l-.1-.1c-2.4 2.2-5.4 3.6-10.6 5h-.1c-.1 0-.2-.1-.2-.2s.1-.2.1-.2c4.4-1.8 7.4-3.8 9.5-6-2.2-2.8-3-5.5-4-10h-4.4c-.1 0-.2 0-.3-.1l-.8-.9h18.8l1.5-1.6L78.3 6c.1.2 0 .3-.2.3 0 0-3.3.1-6.7.2.5.3 1.1.5 1.7.6 0 0 .1 0 .1.1.2.1.1.4-.1.4-.1 0-.4.2-.4.4-.7 2.7-2.3 6.4-4.2 8.5l-.2.2c3.2 2.1 6.6 2.9 10.5 3.8zm-16.1-14c1.2 4 2.7 6.8 4.5 8.7 1.9-2.6 2.9-5.5 3.6-8.8-2.4.1-4.8.1-5.9.1h-2.2zm42.9-3.2c.2.1.1.3-.1.4-.1 0-.3.2-.4.4-1.4 1.7-2.7 3.3-4.8 4.9h-.1c-.1 0-.2-.1-.2-.2s.1-.1.1-.2c1.6-2.7 2.2-4 3-6.4 0-.1.1-.2.2-.2s.2.1.2.1l.1.1c.6.3 1.4.8 2 1.1zM94 7.6c-.1-2.1-1.1-4.7-1.7-5.4 0-.1.1-.2.2-.2 1.6 1.3 2.3 2 3 2.6 1.1 1.1 1 2.5.4 3.2-.2.2-.2.3-.4.4-.9.6-1.4.3-1.5-.6zm-1.4 5.8c-.1.2-.3.3-.4.5-.5.5-1 .3-1.3-.3-.4-1.6-.9-2.6-1.5-3.2v9.8c-.1 1.3-.4 2.3-1.4 3.5-.2.1-.5 0-.5-.3V11.2c-.8 2.5-2.7 4.9-4.6 7 0 .1-.1.1-.1.1-.1.1-.2 0-.3-.1-.1-.1 0-.2 0-.3 3.1-4.4 4-7.9 4.7-11.1h-3.3s-.1 0-.2-.1L83 6l4.2.1h.3v-6l2.1.6c.1.1.1.1 0 .2l-.3.3v4.9h1L91.5 5l1.6 1.5.1.1c0 .1-.1.1-.1.1h-3.7v2.8c1.6.6 2.6 1.4 3.1 2 .4.6.6 1.2.1 1.9zm12.6-3.9c.1.1.1.2 0 .3l-.6 1.1c0 .1-.1.1-.1.2v6.2c0 3.4.1 4.5-1.8 5.7h-.1c-.2 0-.3 0-.3-.2-.3-1.1-.4-1.1-.8-1.4-2.8.1-8 .1-9.1.1l-.6-.8h9.8l.2-.1c.5-.6.7-1.3.7-1.9V16s-.1-.1-.2-.1h-9.4l-.6-.7h10v-4.6c0-.2-.1-.3-.3-.3h-9.4l-.6-.7h5.1V.1l2.2.6c.1.1.1.1 0 .2l-.4.3v8.3h3c.1 0 .2-.1.2-.1l.5-1c.1-.1.3-.2.4-.1l2.2 1.2z",fill:"#a5a5a5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r,i,a,o,c=n(2),l=n(69),s=n(11),u=n.n(s),d=n(987),p=n(8),f=n.n(p),m=n(121),b=m.o.createWindowOpener,h=m.r.openPayment,g=m.r.isNewDing;function v(e,t,n){void 0===t&&(t=u()("新建")),void 0===n&&(n=!1);var s,p=l.n.isExpired(e),m=l.n.isTrial(e),v=l.n.isEnterpriseStandard(e),_=l.n.isEnterprisePremium(e)?u()("企业高级版"):u()("企业版"),y=l.n.isNotOnSeat(e)&&v,O="",j="",w=null;function x(){s.destroy()}function E(){h("/enterprise/billing",e,!0),s.destroy()}var k=g(e),C=f.a.createElement(d.a,{key:"cancel",type:"outline",onClick:x},u()("以后再说"));if(p)if(m){var T=u()(r||(r=Object(c.__makeTemplateObject)(["您的企业版试用已到期，不能继续","文件、文件夹或协作空间，请您付费购买企业版。"],["您的企业版试用已到期，不能继续","文件、文件夹或协作空间，请您付费购买企业版。"])),t);O=u()("亲爱的石墨企业版试用用户:"),j=k?f.a.createElement("div",null,T):f.a.createElement("div",null,T,f.a.createElement("br",null),f.a.createElement("br",null),u()("您也可以到“企业设置”内，移交、退出或删除企业，恢复到试用前版本。\n          无需担忧，石墨为您保留所有文件和共享关系，\n          成员可以继续登录并访问文件。")),w=f.a.createElement(d.a,{key:"confirm",type:"black",onClick:E},u()("立即购买")),C=k?C:f.a.createElement(d.a,{key:"cancel",type:"outline",onClick:function(){b()("/enterprise/settings"),s.destroy()}},u()("企业设置"))}else O=u()(i||(i=Object(c.__makeTemplateObject)(["提示：","已到期"],["提示：","已到期"])),_),j=u()(a||(a=Object(c.__makeTemplateObject)(["","文件、文件夹或协作空间失败，请尽快续约。"],["","文件、文件夹或协作空间失败，请尽快续约。"])),t),w=f.a.createElement(d.a,{key:"confirm",type:"black",onClick:E},u()("马上续约"));else if(y)O=u()("很抱歉：您不是企业席位成员"),j=u()(o||(o=Object(c.__makeTemplateObject)(["非企业席位成员，不能","文件、文件夹或协作空间，请联系企业创建者或直接购买席位。"],["非企业席位成员，不能","文件、文件夹或协作空间，请联系企业创建者或直接购买席位。"])),t),w=f.a.createElement(d.a,{key:"confirm",type:"black",onClick:E},u()("购买席位"));else{if(!n||!l.n.isEnterpriseDingding(e))return!0;O=u()("该功能仅限付费企业使用"),j=""}return s=d.k.open({title:O,body:j,footer:[w,C],onOk:E,onCancel:x}),!1}},1153:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="91fc8a7249be16f438c298a0353d69700_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-922.938",y1:"380.857",x2:"-922.938",y2:"379.857",gradientTransform:"matrix(16 0 0 -28.201 14787 10747.548)"},i.a.createElement("stop",{offset:"0",stopColor:"#6c9fe2"}),i.a.createElement("stop",{offset:"1",stopColor:"#80b3f5"})),i.a.createElement("path",{d:"M28 35.2V7H12v28.2l8-8 8 8z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1154:function(e,t,n){"use strict";n.d(t,"b",(function(){return Me})),n.d(t,"a",(function(){return ut}));var r,i,a,o,c,l,s=n(2),u=n(8),d=n.n(u),p=n(254),f=n(253),m=n(1209),b=n(1210),h=n(971),g=n(1183),v=n(1147),_=n(1153),y=n(1211),O=n.p+"static/lizard-one/assets/folder-blue@2x.6c4f0511.png",j=n.p+"static/lizard-one/assets/folder-disable@2x.2fc8933b.png",w=f.default.div.withConfig({componentId:"sc-1xlfNE",displayName:"StyledTree"})(r||(r=Object(s.__makeTemplateObject)(["font-size:12px;color:#a5a5a5;.rc-tree{padding:0;[role='treeitem']{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;}.rc-tree-switcher,.rc-tree-iconEle{display:none;}.rc-tree-node-content-wrapper{padding:0;height:auto;width:100%;cursor:auto;}.rc-tree-child-tree{padding-left:0;&.collapse{overflow:hidden;}&.collapse-active{transition:height 0.1s ease;}}.rc-tree-treenode-selected{.rc-tree-node-selected{background-color:transparent;border:none;opacity:1;}}}"],[""]))),x=f.default.div.withConfig({componentId:"sc-1xlfNE-1",displayName:"StyledSwitcherIcon"})(i||(i=Object(s.__makeTemplateObject)(["width:14px;height:14px;transform:rotate(","deg);transition:all 0.1s;display:flex;align-items:center;justify-content:center;visibility:",";svg{width:50%;height:50%;path{transition:fill 0.1s;}}"],["","",""])),(function(e){return e.expanded?0:-90}),(function(e){return e.isLeaf?"hidden":"visible"})),E=f.default.div.withConfig({componentId:"sc-1xlfNE-2",displayName:"StyledNodeContent"})(a||(a=Object(s.__makeTemplateObject)(["display:flex;align-items:center;padding:4px;padding-right:10px;padding-left:","px;margin:4px;user-select:none;cursor:",";color:",";","{path{fill:",";}}"],["","","","","",""])),(function(e){return 10*e.level}),(function(e){return e.disabled?"pointer":e.isDumb?"default":"pointer"}),(function(e){return e.disabled?"#c6c7c9":""}),x,(function(e){return e.selected?"#000":e.disabled?"#c6c7c9":"#bbb"})),k=f.default.div.withConfig({componentId:"sc-1xlfNE-3",displayName:"StyledTitle"})(o||(o=Object(s.__makeTemplateObject)(["display:flex;align-items:center;transition:color 0.1s;flex:1;min-width:0;"],[""]))),C=f.default.div.withConfig({componentId:"sc-1xlfNE-4",displayName:"StyledSpaceIcon"})(c||(c=Object(s.__makeTemplateObject)(["width:26px;height:26px;text-align:center;svg{width:18px;height:18px;position:relative;top:4px;opacity:0.6;}"],[""]))),T=f.default.div.withConfig({componentId:"sc-1xlfNE-5",displayName:"StyledTitleIcon"})(l||(l=Object(s.__makeTemplateObject)(["flex-shrink:0;width:26px;height:26px;background-size:22px;background-repeat:no-repeat;background-position:center;svg{height:100%;width:100%;path{transition:fill 0.1s;}}"],[""]))),S=(n(1290),n(1301));function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i=M(a);function a(){return N(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return d.a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),d.a.createElement("g",{fill:"none",fillRule:"evenodd"},d.a.createElement("path",{d:"M0 0h30v30H0z"}),d.a.createElement("path",{fill:"#B2B3B6",d:"M2 4h26v22H2V4zm2 4v16h22V8H4zm4 12h14v2H8v-2z"})))}}])&&R(t.prototype,n),r&&R(t,r),a}(d.a.Component);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,i=G(a);function a(){return F(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return d.a.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),d.a.createElement("g",{fill:"none",fillRule:"evenodd"},d.a.createElement("path",{d:"M0 0h30v30H0z"}),d.a.createElement("path",{fill:"#B2B3B6",fillRule:"nonzero",d:"M3 10v17h24V10H3zm13 7.17a3.001 3.001 0 1 1-2 0V14h2v3.17z"}),d.a.createElement("path",{stroke:"#B2B3B6",strokeWidth:"3",d:"M11 9V7c0-2.28 1.79-4 4-4s4 1.72 4 4v2"})))}}])&&V(t.prototype,n),r&&V(t,r),a}(d.a.Component);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,i=J(a);function a(){return q(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return d.a.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),d.a.createElement("path",{fill:"#B2B3B6",d:"M26 27V9h-4v18h-2V2H4v25H2v1h26v-1h-2zM13 7h4v3h-4V7zm0 6h4v3h-4v-3zm4 6v3h-4v-3h4zM11 7v3H7V7h4zm0 6v3H7v-3h4zm0 6v3H7v-3h4z"}))}}])&&Q(t.prototype,n),r&&Q(t,r),a}(d.a.Component),re=n(1292),ie=n.n(re);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var i=de(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe,fe,me,be,he,ge,ve,_e,ye,Oe,je,we,xe,Ee,ke,Ce,Te,Se,Ie,Ne,Re,Pe,Me,Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,e);var t,n,r,i=se(a);function a(){return oe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return d.a.createElement("svg",Ae({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},this.props),d.a.createElement("defs",null,d.a.createElement("style",null)),d.a.createElement("path",{d:"M1024 256L512 768 0 256z",fill:"#BBB"}))}}])&&ce(t.prototype,n),r&&ce(t,r),a}(d.a.Component),De=f.default.div.withConfig({componentId:"sc-wg_P6",displayName:"StyledEllipsis"})(pe||(pe=Object(s.__makeTemplateObject)(["text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"],[""]))),Le=f.default.div.withConfig({componentId:"sc-wg_P6-1",displayName:"StyledOverlay"})(fe||(fe=Object(s.__makeTemplateObject)(["max-width:145px;text-align:left;word-break:break-word;"],[""]))),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=d.a.createRef(),t.state={visible:!1},t.handleMouseEnter=function(){if(t.elRef.current){var e=t.elRef.current,n=e.scrollWidth>e.clientWidth,r=t.props.forced;t.setState({visible:n||!!r})}},t}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){this.handleMouseEnter()},t.prototype.render=function(){var e=this.props,t=e.title,n=e.placement;return this.state.visible?d.a.createElement(h.u,{title:d.a.createElement(Le,null,t),placement:n},this.renderContent()):this.renderContent()},t.prototype.renderContent=function(){var e=this.props,t=e.className,n=e.style;return d.a.createElement(De,{ref:this.elRef,onMouseMove:this.handleMouseEnter,className:t,style:n},this.props.children)},t}(d.a.PureComponent),Fe="sm-tree-node",Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,r=n.node,i=n.isDumb;r.disabled&&i||t.props.onClick(r)},t.handleDoubleClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.node;n.disabled||t.props.onDoubleClick(n)},t.handleSwitcherClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.node;n.disabled||t.props.onDoubleClick(n)},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.icon,r=t.node.name,i=t.level,a=t.expanded,o=t.selected,c=t.disabled,l=t.disabledReason,s=t.isLeaf,u=t.isRoot,p=t.isDumb;return d.a.createElement(E,{className:ie()(Fe,(e={},e[Fe+"-select"]=o,e[Fe+"-disable"]=c,e)),selected:o,disabled:c,isDumb:p,level:i,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},!p&&d.a.createElement(x,{className:Fe+"-switcher",expanded:a,isLeaf:s,onClick:this.handleSwitcherClick},d.a.createElement(Be,null)),d.a.createElement(k,null,!p&&!n&&d.a.createElement(T,{className:Fe+"-title-icon"}),n&&d.a.createElement(C,null,n),d.a.createElement(ze,{className:Fe+"-title-text",title:l||r,forced:c,placement:"right",style:{marginLeft:(u?15:5)+"px",color:p?"#c8c8c8":"inherits"}},r)))},t}(d.a.PureComponent),Ue=d.a.createElement(L,null),Ge=d.a.createElement(Y,null),He=d.a.createElement(ne,null),We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTreeNodes=function(e,n){void 0===e&&(e={}),void 0===n&&(n=0);var r=[],i=function(e,n){return e.childNodes?d.a.createElement(S.a,{title:t.renderMyNode(e,n),key:e.guid,active:!1},t.renderTreeNodes(e.childNodes,n+1)):d.a.createElement(S.a,{title:t.renderMyNode(e,n),key:e.guid,active:!1})};for(var a in e)e[a]&&e[a].guid&&r.push(i(e[a],n));return r},t.renderMyNode=function(e,n){var r,i=e.guid,a=e.name,o=e.shareMode,c=e.disabled,l=t.props,s=l.expandedKeys,u=l.selectedKeys,p=s.includes(i||a),f=u.includes(i);return 0===n&&(r="0"===e.guid?Ue:"private"===o?Ge:He),d.a.createElement(Ve,{key:e.guid,node:e,icon:r,level:n,expanded:p,selected:f,disabled:c,onSwitcherClick:t.handleSwitcherClick,onClick:t.handleClick,onDoubleClick:t.handleDoubleClick})},t.handleSwitcherClick=function(e){var n,r=t.props.expandedKeys,i=e.guid,a=e.name,o=i||a;r.includes(o)?n=r.filter((function(e){return e!==o})):(n=Object(s.__spreadArray)(Object(s.__spreadArray)([],Object(s.__read)(r)),[o]),t.props.getChildNodes(i)),t.props.onExpand(n)},t.handleClick=function(e){var n=e.guid;t.props.onSelect([n],e),t.handleSwitcherClick(e)},t.handleDoubleClick=function(e){t.handleSwitcherClick(e)},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.expandedKeys,r=e.selectedKeys,i=e.treeData;return d.a.createElement(w,{className:t},d.a.createElement(S.b,{showIcon:!1,expandedKeys:n,selectedKeys:r},this.renderTreeNodes(i)))},t}(d.a.PureComponent),Ke=(Object(f.default)(m.a).withConfig({componentId:"sc--Bv6Z",displayName:"StyledIconBack"})(me||(me=Object(s.__makeTemplateObject)(["float:left;margin-right:18px;cursor:",";path{fill:",";}"],["","",""])),(function(e){return e.disabled?"initial":"pointer"}),(function(e){return e.disabled?"#d2d2d2":"#333"})),f.default.div.withConfig({componentId:"sc--Bv6Z-1",displayName:"StyledModalBody"})(be||(be=Object(s.__makeTemplateObject)(["margin-bottom:-20px;position:relative;"],[""])))),Ye=f.default.div.withConfig({componentId:"sc--Bv6Z-2",displayName:"StyledFolderName"})(he||(he=Object(s.__makeTemplateObject)(["overflow-x:hidden;font-size:16px;line-height:1.5;font-weight:600;color:",";max-width:300px;white-space:nowrap;text-overflow:ellipsis;"],["",""])),b.a),Ze=(Object(f.default)(h.c).withConfig({componentId:"sc--Bv6Z-3",displayName:"StyledDivider"})(ge||(ge=Object(s.__makeTemplateObject)(["width:427px;margin-left:-14px;padding-top:4px;"],[""]))),f.default.div.withConfig({componentId:"sc--Bv6Z-4",displayName:"StyledFooter"})(ve||(ve=Object(s.__makeTemplateObject)(["margin-top:20px;overflow:hidden;"],[""])))),qe=f.default.div.withConfig({componentId:"sc--Bv6Z-5",displayName:"StyledButtonWrapper"})(_e||(_e=Object(s.__makeTemplateObject)(["float:right;&:nth-child(1){margin-right:10px;}"],[""]))),Qe=Object(f.default)(h.a).withConfig({componentId:"sc--Bv6Z-6",displayName:"StyledButton"})(ye||(ye=Object(s.__makeTemplateObject)(["max-width:174px;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;"],[""]))),Xe=Object(f.default)(h.a).withConfig({componentId:"sc--Bv6Z-7",displayName:"StyledCancelButton"})(Oe||(Oe=Object(s.__makeTemplateObject)(["margin-left:10px;max-width:174px;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;"],[""]))),Je=(f.default.div.withConfig({componentId:"sc--Bv6Z-8",displayName:"StyledLoadingWrapper"})(je||(je=Object(s.__makeTemplateObject)(["display:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],["",""])),(function(e){return e.visible?"block":"none"})),f.default.div.withConfig({componentId:"sc--Bv6Z-9",displayName:"StyledNoneFileWrapper"})(we||(we=Object(s.__makeTemplateObject)(["color:#dbdbdb;font-size:14px;line-height:1;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;"],[""]))),f.default.div.withConfig({componentId:"sc--Bv6Z-10",displayName:"StyledNoneFile"})(xe||(xe=Object(s.__makeTemplateObject)(["width:50px;height:50px;margin-bottom:20px;background:url(",") no-repeat;background-size:50px 50px;"],["",""])),g.a),f.default.ul.withConfig({componentId:"sc--Bv6Z-11",displayName:"StyledListWrapper"})(Ee||(Ee=Object(s.__makeTemplateObject)(["margin:-7px -40px 0;height:315px;overflow-y:scroll;"],[""]))),f.default.li.withConfig({componentId:"sc--Bv6Z-12",displayName:"StyledItem"})(ke||(ke=Object(s.__makeTemplateObject)(["height:45px;line-height:45px;padding:0 15px;margin:0 26px;list-style:none;overflow:hidden;cursor:",";opacity:",";&:hover{background-color:#f5f5f5;}"],["","",""])),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?.5:1})),f.default.span.withConfig({componentId:"sc--Bv6Z-13",displayName:"StyledContentWrapper"})(Ce||(Ce=Object(s.__makeTemplateObject)(["overflow:hidden;display:inline-block;"],[""]))),f.default.span.withConfig({componentId:"sc--Bv6Z-14",displayName:"StyledName"})(Te||(Te=Object(s.__makeTemplateObject)(["float:left;width:auto;max-width:240px;overflow-x:hidden;padding-right:5px;white-space:nowrap;text-overflow:ellipsis;color:#333;"],[""]))),Object(f.default)(_.a).withConfig({componentId:"sc--Bv6Z-15",displayName:"StyledIconMoreStared"})(Se||(Se=Object(s.__makeTemplateObject)(["margin:13px 0 0 4px;float:left;"],[""]))),Object(f.default)(y.a).withConfig({componentId:"sc--Bv6Z-16",displayName:"StyledIconFileDocShared"})(Ie||(Ie=Object(s.__makeTemplateObject)(["margin:16px 0 0 4px;float:left;path{fill:#bebebe;}"],[""]))),Object(f.default)(v.a).withConfig({componentId:"sc--Bv6Z-17",displayName:"StyledIconTableBreadcrumb"})(Ne||(Ne=Object(s.__makeTemplateObject)(["float:right;margin-top:15px;"],[""]))),Object(f.default)(We).withConfig({componentId:"sc--Bv6Z-18",displayName:"StyledFileTree"})(Re||(Re=Object(s.__makeTemplateObject)(["height:320px;overflow:auto;.sm-tree-node{margin:0;padding-top:10px;padding-bottom:10px;color:#4a4a4a;font-size:14px;}.sm-tree-node-select{background-color:#f7f7f7;}.sm-tree-node-disable{color:#c6c7c9;.sm-tree-node-switcher{path{fill:#c6c7c9;}}.sm-tree-node-title-icon{background-image:url(",");}}.sm-tree-node-title-icon{background-image:url(",");width:26px;height:26px;background-size:100% 100%;background-repeat:no-repeat;svg{visibility:hidden;}}.sm-tree-node-title-text{margin-left:16px;}"],["","",""])),j,O)),$e=n(11),et=n.n($e),tt=n(981),nt=n(1095),rt=n.n(nt),it=n(69),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,content:""},t.handleVisibleChange=function(e){return Object(s.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,a,o,c,l,u,d,p;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(t=this.props,n=t.disabled,r=t.needConfirm,n||!1===e)return this.setState({visible:!1}),[2];if(i=this.props,a=i.currentFiles,o=i.isFromSameRoot,c=i.targetGuid,l=o(a[0].guid,"0"),u=this.isSameOwner(),d=o(c,"0"),!r)return this.handleConfirm(),[2];if(d){if(u)return this.handleConfirm(),[2]}else if(!l&&(o(c,a[0].guid)||u))return this.handleConfirm(),[2];return[4,this.getConfirmContent()];case 1:return p=s.sent(),this.setState({visible:e,content:p}),[2]}}))}))},t.getConfirmContent=function(){return Object(s.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,c,l;return Object(s.__generator)(this,(function(u){return e=this.props,t=e.currentFiles,n=e.isFromSameRoot,r=e.targetGuid,i=n(t[0].guid,"0"),a=n(r,"0"),o=this.isSameOwner(),c=t[0],l="folder"===c.type?et()("文件夹"):et()("文件"),!a&&i?[2,d.a.createElement("div",null,et()("移动后:")," ",d.a.createElement("br",null),"1."," ","folder"===c.type?et()("文件夹（包括文件夹内所有文件）"):et()("文件"),et()("的当前协作者将失去访问权限")," ",d.a.createElement("br",null),"2. ",et()("协作空间成员将获得访问权限")," ",d.a.createElement("br",null),"3. ",et()("暂时不支持从协作空间移回桌面")," ",d.a.createElement("br",null),!o&&d.a.createElement("div",null,"4.",d.a.createElement("strong",null,"folder"===c.type?et()("文件夹"):et()("文件"),et()("所有权将发生变更"))))]:[2,d.a.createElement("div",null,et()(Pe||(Pe=Object(s.__makeTemplateObject)(["正在将","移动到一个归属于","的位置。移动后，原文件的协作关系将被清空，所有权将归属于","，同时匹配目标位置的权限设置。"],["正在将","移动到一个归属于","的位置。移动后，原文件的协作关系将被清空，所有权将归属于","，同时匹配目标位置的权限设置。"])),l,this.owner,this.owner))]}))}))},t.isSameOwner=function(){var e=t.props,n=e.team,r=e.currentFiles,i=e.targetGuid,a=e.targetFile,o=r[0].teamId,c=a?a.teamId:0;return""===i||"0"===i?o===(n&&n.id)||!n&&!o:o===c||!o&&!c},t.handleConfirm=function(){var e=t.props.onConfirm;t.setState({visible:!1}),e()},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.content,n=e.visible;return d.a.createElement(h.n,{title:et()("确认移动?"),content:t,visible:n,onVisibleChange:this.handleVisibleChange,onConfirm:this.handleConfirm,placement:"bottom",okType:"red",okText:et()("确认移动")},this.props.children)},Object.defineProperty(t.prototype,"owner",{get:function(){var e=this.props,t=e.team,n=e.targetFile;return n&&"0"!==n.guid?et()("个人"):t?et()("其他企业"):et()("个人")},enumerable:!1,configurable:!0}),t}(d.a.PureComponent),ot=function(e){var t=e.submitting,n=e.disabled;return d.a.createElement(d.a.Fragment,null,function(e,t){return t?et()("请选择文件夹"):e?et()("移动中..."):et()("移动")}(t,n))},ct=function(e){var t=e.count;return d.a.createElement(d.a.Fragment,null,et()(lt||(lt=Object(s.__makeTemplateObject)(["将 "," 个文件移动到"],["将 "," 个文件移动到"])),t))};!function(e){e.Desktop="Desktop",e.Space="Space"}(Me||(Me={}));var lt,st,ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={moving:!1,expandedKeys:[],selectedKeys:[],treeData:t.scopes.includes(Me.Desktop)?{0:{guid:"0",name:et()("我的桌面")}}:{}},t.handleMoveFiles=function(){return Object(s.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:if(e=this.state.target,t=this.props,n=t.currentFiles,r=t.dispatch,i=t.onMoveFiles,!e)return[2];if(i)return[2,i(n,e)];this.setState({moving:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.moveFiles()];case 2:return o.sent(),h.B.success({content:et()(st||(st=Object(s.__makeTemplateObject)([""," 个文件已移动至 ",""],[""," 个文件已移动至 ",""])),n.length,e.name)}),r(Object(p.L)(n[0].guid)),[3,4];case 3:return 403===(a=o.sent()).status&&(a.message=et()("移动失败，没有移动到目标位置的权限")),h.B.error({content:a.message||et()("移动失败")}),[3,4];case 4:return this.props.onClose(!0),[2]}}))}))},t.handleCancel=function(){t.props.onClose()},t.handleNodeSelect=function(e,n){t.setState({selectedKeys:e,target:n})},t.handleNodeExpand=function(e){t.setState({expandedKeys:e})},t.moveFiles=function(){return Object(s.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,c;return Object(s.__generator)(this,(function(l){switch(l.label){case 0:return e=this.state.target,t=this.props,n=t.currentFiles,r=t.dispatch,i=t.from,a=n.map((function(e){return e.guid})),[4,this.getFileTreePath(n[0].guid)];case 1:if(o=l.sent(),c=o[o.length-2],e.guid===c||this.isFolderDesktop(e.guid)&&this.isFolderDesktop(c))throw new Error(et()("目标文件夹已经存在该文件"));return[4,r(Object(p.Cb)({guids:a,target:e.guid,from:i}))];case 2:return[2,l.sent()]}}))}))},t.getChildNodes=function(e){return Object(s.__awaiter)(t,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return t=this.props.dispatch,this.insertChildNode(e),"1"!==e?[3,2]:[4,t(Object(p.ab)(e))];case 1:return n.sent(),[3,4];case 2:return[4,t(Object(p.N)(e))];case 3:n.sent(),n.label=4;case 4:return this.insertChildNode(e),[2]}}))}))},t.insertChildNode=function(e){return Object(s.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,a,o,c,l,u;return Object(s.__generator)(this,(function(d){return t=this.state.treeData,n=this.props.selectFileChildIds(e),r=this.getFormatedNodes(n,e),"0"===e?(i=Object(s.__assign)(Object(s.__assign)({},t),((u={})[e]=Object(s.__assign)(Object(s.__assign)({},t[e]),{childNodes:r}),u)),this.setState({treeData:i}),[2]):"1"===e?(a=rt()(Object(s.__assign)({},t),r),this.setState({treeData:a}),[2]):(o=Object(s.__assign)({},t),c=this.getFileTreePath(e),(l=this.getParentNode(c,o)).childNodes=rt()(l.childNodes,r),this.setState({treeData:o}),[2])}))}))},t.getFormatedNodes=function(e,n){var r=t.props.isNodeDisabled,i=void 0===r?t.isNodeDisabled:r,a={};return e.forEach((function(e){var r=t.props.selectFile(e);if(r&&"folder"===r.type){var o=i(e,n,r),c=o.disabled,l=o.disabledReason;a[e]={guid:e,name:r.name,disabled:c,disabledReason:l},it.n.isSpace(r)&&(a[e].shareMode=r.shareMode)}})),a},t.isNodeDisabled=function(e,n,r){var i=t.props,a=i.me,o=i.currentFiles;if(o.map((function(e){return e.guid})).indexOf(e)>=0)return{disabled:!0,disabledReason:et()("不能移动到相同位置")};if("1"===n){if(!Object(it.m)(r))return{disabled:!0,disabledReason:et()("没有权限移动到该协作空间")};var c=o[0];if(!it.n.isSpaceFile(c)&&!Object(it.g)(c))return{disabled:!0,disabledReason:et()("不能将快捷方式移动到协作空间，请联系文件所有者操作")}}else{if(Object(it.b)({me:a,file:o[0],toDir:r}).disabled)return{disabled:!0,disabledReason:et()("没有权限移动到该位置")}}return{disabled:!1,disabledReason:""}},t.getParentNode=function(e,n,r){void 0===r&&(r=0);var i=e[r];return r<e.length-1?t.getParentNode(e,n[i].childNodes||{},r+1):n[i]},t.isFromSameRoot=function(e,n){var r=t.getFileTreePath(e);if("0"===n)return"0"===r[0];var i=t.getFileTreePath(n);return r[0]===i[0]},t.isFolderDesktop=function(e){return"0"===e||!e},t}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){this.getChildNodes("1"),this.scopes.includes(Me.Desktop)&&this.getChildNodes("0")},t.prototype.render=function(){var e=this.props,t=e.currentFiles,n=e.team,r=e.dispatch,i=e.selectFile,a=e.TitleClass,o=void 0===a?ct:a,c=e.OkButton,l=void 0===c?ot:c,s=e.onMoveFiles,u=this.state,p=u.moving,f=u.selectedKeys,m=u.treeData,b=u.expandedKeys,g=u.target;return d.a.createElement(Ke,null,d.a.createElement(Ye,null,d.a.createElement(o,{count:t.length})),d.a.createElement(h.c,null),d.a.createElement(Je,{treeData:m,expandedKeys:b,selectedKeys:f,onSelect:this.handleNodeSelect,onExpand:this.handleNodeExpand,getChildNodes:this.getChildNodes}),d.a.createElement(Ze,null,d.a.createElement(qe,null,d.a.createElement(at,{team:n,isFromSameRoot:this.isFromSameRoot,currentFiles:t,targetFile:g?i(g.guid):null,targetGuid:g?g.guid:"",onConfirm:this.handleMoveFiles,dispatch:r,disabled:!g||g.disabled,needConfirm:!s},d.a.createElement(Qe,{type:"black",size:"s",disabled:!g||g.disabled||p},d.a.createElement(l,{submitting:p,disabled:!g}))),d.a.createElement(Xe,{type:"outline",size:"s",onClick:this.handleCancel},et()("取消")))))},Object.defineProperty(t.prototype,"scopes",{get:function(){var e=this.props,t=e.scopes,n=e.currentFiles;return t||(n[0].isFromSVC?[Me.Space]:[Me.Desktop])},enumerable:!1,configurable:!0}),t.prototype.getFileTreePath=function(e){if(!e)return[];var t=this.props.selectFileAncestors(e).reverse();if(t.push(e),this.props.spaceIds.indexOf(e)<0&&"0"!==e){var n=this.props.selectFile(e);n&&!it.n.isSpaceFile(n)&&t.unshift("0")}return t},t=Object(s.__decorate)([Object(tt.a)((function(e){return{me:Object(p.Yb)(e),team:Object(p.jc)(e),spaceIds:Object(p.rc)(e),desktopIds:Object(p.ac)(e),selectFile:function(t){return Object(p.cc)(e,t)},selectFileChildIds:function(t){return Object(p.ec)(e,t).toJS()},selectFileAncestors:function(t){return Object(p.dc)(e,t)}}}))],t)}(d.a.PureComponent)},1157:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},this.props),i.a.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#e5e5e5"}),i.a.createElement("path",{d:"M12.5 17.2V20h2.8v-2.8h-2.8zm-2.9-5.9h2.6c0-.3 0-.6.1-.9s.2-.5.3-.7.3-.4.6-.5.5-.2.8-.2c.5 0 .9.1 1.1.4.3.3.4.7.4 1.2 0 .3 0 .6-.2.8-.1.2-.3.4-.5.6-.2.2-.4.4-.7.5-.2.2-.5.4-.7.6-.2.2-.4.5-.6.9s-.3.8-.3 1.3v.8h2.4v-.7c0-.4.2-.7.4-.9.2-.2.4-.5.6-.6.2-.2.5-.4.8-.6.3-.2.5-.4.7-.7.2-.3.4-.6.6-1 .1-.4.2-.8.2-1.4 0-.3-.1-.7-.2-1.1-.2-.4-.4-.8-.7-1.1-.3-.3-.8-.6-1.4-.9-.6-.2-1.3-.4-2.1-.4-.7 0-1.3.1-1.8.3-.5.2-1 .5-1.4.9-.2.6-.5 1.1-.7 1.6-.2.5-.3 1.1-.3 1.8z",fill:"#a0a2a5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1158:function(e,t,n){"use strict";n.r(t),n.d(t,"deleteFile",(function(){return r})),n.d(t,"duplicate",(function(){return i})),n.d(t,"fileReport",(function(){return a})),n.d(t,"help",(function(){return o})),n.d(t,"move",(function(){return c})),n.d(t,"saveTemplate",(function(){return l})),n.d(t,"toggleLock",(function(){return s})),n.d(t,"toggleMute",(function(){return u})),n.d(t,"toggleShortcut",(function(){return d})),n.d(t,"toggleStar",(function(){return p})),n.d(t,"divider",(function(){return f})),n.d(t,"fileInfo",(function(){return m})),n.d(t,"createShortcut",(function(){return b})),n.d(t,"composeMenuItems",(function(){return xt})),n.d(t,"composeMenuCallback",(function(){return Et}));var r={};n.r(r),n.d(r,"getMenuItem",(function(){return I})),n.d(r,"keys",(function(){return H})),n.d(r,"callbacks",(function(){return W}));var i={};n.r(i),n.d(i,"getMenuItem",(function(){return Y})),n.d(i,"keys",(function(){return Z})),n.d(i,"callbacks",(function(){return q}));var a={};n.r(a),n.d(a,"getMenuItem",(function(){return J})),n.d(a,"keys",(function(){return $})),n.d(a,"callbacks",(function(){return ee}));var o={};n.r(o),n.d(o,"getMenuItem",(function(){return ne})),n.d(o,"keys",(function(){return re})),n.d(o,"callbacks",(function(){return ie}));var c={};n.r(c),n.d(c,"getMenuItem",(function(){return oe})),n.d(c,"keys",(function(){return ce})),n.d(c,"callbacks",(function(){return le}));var l={};n.r(l),n.d(l,"getMenuItem",(function(){return be})),n.d(l,"keys",(function(){return ge})),n.d(l,"callbacks",(function(){return ve}));var s={};n.r(s),n.d(s,"getMenuItem",(function(){return We})),n.d(s,"keys",(function(){return Ke})),n.d(s,"callbacks",(function(){return Ye}));var u={};n.r(u),n.d(u,"getMenuItem",(function(){return Qe})),n.d(u,"keys",(function(){return Xe})),n.d(u,"callbacks",(function(){return Je}));var d={};n.r(d),n.d(d,"getMenuItem",(function(){return tt})),n.d(d,"callbacks",(function(){return nt})),n.d(d,"keys",(function(){return rt}));var p={};n.r(p),n.d(p,"getMenuItem",(function(){return ot})),n.d(p,"keys",(function(){return ct})),n.d(p,"callbacks",(function(){return lt}));var f={};n.r(f),n.d(f,"getMenuItem",(function(){return st})),n.d(f,"keys",(function(){return ut})),n.d(f,"callbacks",(function(){return dt}));var m={};n.r(m),n.d(m,"getMenuItem",(function(){return ft})),n.d(m,"keys",(function(){return mt})),n.d(m,"callbacks",(function(){return bt}));var b={};n.r(b),n.d(b,"getMenuItem",(function(){return _t})),n.d(b,"keys",(function(){return yt})),n.d(b,"callbacks",(function(){return Ot}));var h=n(2),g=n(8),v=n.n(g),_=n(69),y=n(980),O=n(971),j=n(1001),w=n(11),x=n.n(w),E=n(1012),k=n(254),C=n(121),T=C.g.typeToText,S=C.n.middleTruncateString,I=function(e){var t=e.online;return v.a.createElement(y.c,{key:E.b,disabled:!t},v.a.createElement(j.c,{disabled:!t},v.a.createElement(j.g,null,v.a.createElement(j.a,null,x()(M||(M=Object(h.__makeTemplateObject)(["删除"],["删除"])))))))};function N(e,t){var n=e.file,r=T(n.type);r&&Object(O.y)({title:x()("确认删除"),description:x()(A||(A=Object(h.__makeTemplateObject)(["确认删除","吗？删除后，所有协作者都无法访问此",""],["确认删除","吗？删除后，所有协作者都无法访问此",""])),r,r),confirmFun:function(){return function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:n=e.file,r=e.location,i=n.isFromSVC,a=n.type,o.label=1;case 1:return o.trys.push([1,6,,7]),i?[4,t(Object(k.Ob)([n.guid]))]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,t(Object(k.Mb)(n.guid))];case 4:o.sent(),o.label=5;case 5:return O.B.success(x()("删除成功")),"folder"===a&&r.pathname.indexOf("/favorites")<0&&P(e),r.pathname.indexOf(n.guid)>-1&&P(e,!0),[3,7];case 6:return o.sent(),O.B.error(x()("删除失败")),[3,7];case 7:return[2]}}))}))}(e,t)},okText:x()("确认删除")})}function R(e,t){var n=e.file,r=T(n.type),i=Object(O.y)({title:x()("退出共享"),description:v.a.createElement("div",null,x()("你不是"),r,x()("的创建者"),v.a.createElement("br",null),x()("继续此操作会退出"),r,x()("共享"),v.a.createElement("br",null),x()("但不会删除"),r),footer:[v.a.createElement(O.a,{key:"exit",type:"black",onClick:function(){!function(e,t){Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:n=e.file,r=e.location,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t(Object(k.z)(n.guid))];case 2:return i.sent(),O.B.success(x()(B||(B=Object(h.__makeTemplateObject)(["已从此","的共享中退出"],["已从此","的共享中退出"])),S(n.name,22,4))),r.pathname.indexOf(n.guid)>-1&&P(e,!0),[3,4];case 3:return i.sent(),O.B.error(x()("操作失败")),[3,4];case 4:return[2]}}))}))}(e,t),i()}},x()("退出共享"))]})}function P(e,t){void 0===t&&(t=!1);var n=e.parentFolder,r=e.history,i=n?n.guid:"0";if(i.match(/^[1|0]$/))t?location.href="/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:""):r.push("/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:""));else{var a="/"+(n&&n.isSpace?"space":"folder")+"/"+i;t?location.href=a:r.push(a)}}var M,A,B,D,L,z,F,V,U,G,H=[E.b],W=[function(e,t){return Object(h.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){if((n=t.file).isLocked)return O.B.error(x()("操作失败， 该文件已被锁定，请解锁后重试！")),[2];switch(Object(_.d)({file:n}).reason){case _.a.ONLY_DELETE_FILE:N(t,e);break;case _.a.ONLY_EXIT_SHARE:R(t,e);break;default:return[2]}return[2]}))}))}],K=n(1160),Y=function(e){var t,n=e.file,r=e.online,i=null===(t=n.permissionsAndReasons)||void 0===t?void 0:t.getIn(["canDuplicate","value"]);return v.a.createElement(y.c,{key:E.c,disabled:!r||!i},v.a.createElement(j.c,{disabled:!r||!i},v.a.createElement(j.a,null,x()("创建副本"))))},Z=[E.c],q=[function(e,t){return Object(h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,i,a,o,c,l;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.file,r=t.me,i=t.parentFolder,!Object(K.c)(r))return[2];if(a=null===(l=n.permissions)||void 0===l?void 0:l.exportable,"0"===(o=a&&i?i.guid:"0")&&n.isFromSVC)return O.B.error({content:x()("没有权限访问该文件所在协作空间，无法创建副本")}),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e(Object(k.u)(n.guid,o,x()(D||(D=Object(h.__makeTemplateObject)(["副本 ",""],["副本 ",""])),n.name)))];case 2:return s.sent(),O.B.success({content:"0"===o?x()("副本已保存到「我的桌面」"):x()(L||(L=Object(h.__makeTemplateObject)(["副本已保存到「","」",""],["副本已保存到「","」",""])),i.name,i.isSpace?x()("协作空间"):x()("文件夹"))}),[3,4];case 3:return(c=s.sent())&&403===c.status?O.B.error({content:c.message||x()("没有权限访问，无法创建副本")}):O.B.error({content:x()("创建副本失败，请稍后再试")}),[3,4];case 4:return[2]}}))}))}],Q=n(1216),X=C.g.typeToText,J=function(e){var t=e.online,n=e.file,r=X(n.type);if(r)return v.a.createElement(y.c,{key:E.h,disabled:!t},v.a.createElement(j.c,{disabled:!t},v.a.createElement(j.a,null,x()(z||(z=Object(h.__makeTemplateObject)(["举报",""],["举报",""])),r))))},$=[E.h],ee=[function(e,t){var n=t.file,r=t.me;Object(Q.b)(n,r)}],te=C.g.typeToText,ne=function(e){var t=e.file,n=te(t.type);if(n)return v.a.createElement(y.d,{key:E.e,title:v.a.createElement(j.a,null,x()("帮助"))},v.a.createElement(y.c,{key:E.m},v.a.createElement(j.e,null,x()(F||(F=Object(h.__makeTemplateObject)(["","使用指南"],["","使用指南"])),n))),v.a.createElement(y.c,{key:E.k},v.a.createElement(j.e,null,x()(V||(V=Object(h.__makeTemplateObject)(["","快捷键"],["","快捷键"])),n))))},re=[],ie=[],ae=n(1218),oe=function(e){var t=e.file,n=e.parentFolder,r=e.online,i=!Object(_.i)(t,n);return v.a.createElement(y.c,{key:E.f,disabled:i||!r},v.a.createElement(O.u,{trigger:"hover",title:i?x()("您没有权限操作"):"",placement:"left"},v.a.createElement(j.c,{disabled:i||!r},v.a.createElement(j.a,null,x()("移动")))))},ce=[E.f],le=[function(e,t){var n=t.file;n.isLocked?O.B.error(x()("操作失败，该文件已被锁定，请解锁后重试！")):Object(ae.a)(window.shimo.store,[n])}],se=n(253),ue=n(122),de=n(150),pe=n.n(de),fe=se.default.a.withConfig({componentId:"sc-M36Zx",displayName:"PricingLink"})(U||(U=Object(h.__makeTemplateObject)(["color:#6da0e3;display:block;cursor:pointer;margin-top:4px;text-decoration:none;text-align:left;"],[""]))),me=function(e){var t=e.templateLimit,n=e.me,r=e.children,i=n.getIn(["membership","accountType"]);if(t.valid)return e.children;return v.a.createElement(O.u,{trigger:"hover",theme:"white",title:v.a.createElement(j.f,null,x()(G||(G=Object(h.__makeTemplateObject)(["","仅支持设置 "," 个自定义模板，您可以移除不需要的模板，或升级账户享受保存更多模板。"],["","仅支持设置 "," 个自定义模板，您可以移除不需要的模板，或升级账户享受保存更多模板。"])),"personal_premium"===i?x()("高级版"):x()("基础版"),t.limit),v.a.createElement(fe,{href:"/pricing"},x()("升级账户"))),placement:"left",getTooltipContainer:function(e){return e.parentNode}},r)},be=function(e,t,n){var r,i=e.online,a=e.file,o=e.templateLimit,c=null===(r=null==a?void 0:a.permissions)||void 0===r?void 0:r.exportable;return v.a.createElement(y.c,{key:E.i,disabled:!i||!c||!o.valid},v.a.createElement(he,Object(h.__assign)({dispatch:n},e)))},he=function(e){var t,n=e.online,r=e.file,i=e.templateLimit,a=null===(t=null==r?void 0:r.permissions)||void 0===t?void 0:t.canDuplicate;return v.a.createElement(me,Object(h.__assign)({},e),v.a.createElement(j.c,{disabled:!n||!a||!i.valid},v.a.createElement(j.a,null,x()("保存模板"))))},ge=[E.i],ve=[function(e,t){var n=t.file,r=document.createElement("div");document.body.appendChild(r);Object(ue.render)(v.a.createElement(O.o,{title:x()("保存为模板"),defaultText:n.name,onOk:function(i){return void 0===i&&(i=""),Object(h.__awaiter)(void 0,void 0,void 0,(function(){var a,o,c,l;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:Object(ue.unmountComponentAtNode)(r),a=null===(l=pe.a.find(n.type))||void 0===l?void 0:l.id,s.label=1;case 1:return s.trys.push([1,9,,10]),[4,e(Object(k.Sb)(i.trim(),n.guid,a))];case 2:if(!(o=s.sent()).success)return[3,7];if(O.B.success({content:x()("模板保存成功。在「模板库」-「我的模板」中查看。")}),-1===t.templateLimit.limit)return[3,6];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,e(Object(k.fb)())];case 4:return s.sent(),[3,6];case 5:return s.sent(),[3,6];case 6:return[3,8];case 7:c=o.message||x()("模板保存失败"),O.B.error({content:c}),s.label=8;case 8:return[3,10];case 9:return s.sent(),O.B.error({content:x()("模板保存失败")}),[3,10];case 10:return[2]}}))}))},onCancel:function(){Object(ue.unmountComponentAtNode)(r)},visible:!0,errorText:x()("请输入模板名称")}),r)}];function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var i=Ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,n,r,i=we(a);function a(){return ye(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="da3df0d5691f844232522f83ea0b13cc0_"+this.SVG_COMPONENT_ID++;return v.a.createElement("svg",ke({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 10 12"},this.props),v.a.createElement("defs",null,v.a.createElement("linearGradient",{id:e,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.a.createElement("stop",{offset:"0%",stopColor:"#676B6F"}),v.a.createElement("stop",{offset:"100%",stopColor:"#A0A2A5"}))),v.a.createElement("path",{fill:"url(#".concat(e,")"),fillRule:"evenodd",d:"M8 10V8a3 3 0 1 1 6 0v2h1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5H8zm1 0h4V8a2 2 0 1 0-4 0v2z",transform:"translate(-6 -5)"}))}}])&&Oe(t.prototype,n),r&&Oe(t,r),a}(v.a.Component);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae,Be,De,Le,ze,Fe,Ve,Ue,Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,e);var t,n,r,i=Re(a);function a(){return Se(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="a4350a23840cbe44ae009a76902191780_"+this.SVG_COMPONENT_ID++;return v.a.createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12"},this.props),v.a.createElement("defs",null,v.a.createElement("linearGradient",{id:e,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.a.createElement("stop",{offset:"0%",stopColor:"#676B6F"}),v.a.createElement("stop",{offset:"100%",stopColor:"#A0A2A5"}))),v.a.createElement("path",{fill:"url(#".concat(e,")"),fillRule:"evenodd",d:"M13 10V8a3 3 0 0 1 6 0v2h-1V8a2 2 0 1 0-4 0v2h1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5H13z",transform:"translate(-6 -5)"}))}}])&&Ie(t.prototype,n),r&&Ie(t,r),a}(v.a.Component),We=function(e){var t=e.file,n=e.alphaFeatures,r=e.online;if(!t.isFromSVC||!n.lock_file)return null;var i=t.permissions.lockable||t.permissions.unlockable;return v.a.createElement(y.c,{key:E.l,disabled:!i||!r},v.a.createElement(O.u,{trigger:"hover",title:i?"":x()("您没有权限操作"),placement:"left"},v.a.createElement(j.c,{disabled:!i||!r},t.isLocked?v.a.createElement(He,{width:"11px",height:"11px"}):v.a.createElement(Ce,{width:"11px",height:"11px"}),v.a.createElement("div",{style:{marginLeft:10}},t.isLocked?x()("取消锁定文件"):x()("锁定文件")))))},Ke=[],Ye=[],Ze=n(1184),qe=n(1185),Qe=function(e){var t=e.online,n=e.file.mute;return v.a.createElement(y.c,{key:E.g,disabled:!t},v.a.createElement(j.c,{disabled:!t},n?v.a.createElement(Ze.a,{width:"22px",height:"22px"}):v.a.createElement(qe.a,{width:"22px",height:"22px"}),n?x()("接收消息提醒"):x()("消息免打扰")))},Xe=[E.g],Je=[function(e,t){return Object(h.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:n=t.file,i.label=1;case 1:return i.trys.push([1,6,,7]),n.mute?[4,e(Object(k.Qc)(n.guid))]:[3,3];case 2:return i.sent(),O.B.success({content:x()(Ae||(Ae=Object(h.__makeTemplateObject)(["「","」已设置为接收消息提醒"],["「","」已设置为接收消息提醒"])),n.name)}),[3,5];case 3:return[4,e(Object(k.Db)(n.guid))];case 4:i.sent(),O.B.success({content:x()(Be||(Be=Object(h.__makeTemplateObject)(["「","」已设置为消息免打扰"],["「","」已设置为消息免打扰"])),n.name)}),i.label=5;case 5:return[3,7];case 6:return(r=i.sent())&&r.message&&O.B.error(r.message),[3,7];case 7:return[2]}}))}))}],$e=n(1212),et=n(1213),tt=function(e){var t=e.online,n=e.file,r=e.shortcutIds;return v.a.createElement(y.c,{key:E.a,disabled:!t},v.a.createElement(j.c,{disabled:!t},r.indexOf(n.guid)>=0?v.a.createElement(v.a.Fragment,null,v.a.createElement(et.a,{width:"22px",height:"22px"}),x()("从快速访问移除")):v.a.createElement(v.a.Fragment,null,v.a.createElement($e.a,{width:"22px",height:"22px"}),x()("添加到快速访问"))))},nt=[Object(C.m)((function(e,t){return Object(h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,i,a;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:n=t.shortcutIds,r=t.file,i=r.name,o.label=1;case 1:return o.trys.push([1,6,,7]),n.indexOf(r.guid)>-1?[4,e(Object(k.Pb)(r.guid))]:[3,3];case 2:return o.sent(),O.B.success({content:x()(De||(De=Object(h.__makeTemplateObject)(["「","」已从快速访问移除"],["「","」已从快速访问移除"])),i)}),[3,5];case 3:return a=n[0],[4,e(Object(k.n)(r.guid,a))];case 4:o.sent(),O.B.success({content:x()(Le||(Le=Object(h.__makeTemplateObject)(["「","」已添加到快速访问"],["「","」已添加到快速访问"])),i)}),o.label=5;case 5:return[3,7];case 6:return o.sent(),[3,7];case 7:return[2]}}))}))}))],rt=[E.a],it=n(1153),at=n(1214),ot=function(e){var t=e.file.starred;return v.a.createElement(y.c,{key:E.j},v.a.createElement(j.c,null,t?v.a.createElement(it.a,{width:"22px",height:"22px"}):v.a.createElement(at.a,{width:"22px",height:"22px"}),t?x()("已收藏"):x()("收藏")))},ct=[E.j],lt=[function(e,t){return Object(h.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return n=t.file,(r=t.me)&&r.id<0?(window.location.href="/login?redirect_url="+encodeURIComponent(window.location.href),[2]):n.starred?[4,e(Object(k.Rc)(n.guid))]:[3,2];case 1:return i.sent(),O.B.success({content:x()(ze||(ze=Object(h.__makeTemplateObject)(["「","」已取消收藏"],["「","」已取消收藏"])),n.name)}),[3,4];case 2:return[4,e(Object(k.Lc)(n.guid))];case 3:i.sent(),O.B.success({content:x()(Fe||(Fe=Object(h.__makeTemplateObject)(["「","」已收藏"],["「","」已收藏"])),n.name)}),i.label=4;case 4:return[2]}}))}))}],st=function(e,t){return v.a.createElement(y.a,{key:t})},ut=[],dt=[],pt=C.g.typeToText,ft=function(e){var t=e.online,n=e.file,r=pt(n.type);if(r)return v.a.createElement(y.c,{key:E.d,disabled:!t},v.a.createElement(j.c,{disabled:!t},v.a.createElement(j.a,null,x()(Ve||(Ve=Object(h.__makeTemplateObject)(["","信息"],["","信息"])),r))))},mt=[],bt=[],ht=n(1013),gt=n(192),vt=n(1154),_t=function(e){var t=!e.online;return __RUNTIME_ENV__.FORCE_DESKTOP_LEGACY?v.a.createElement(y.c,{key:"FILE_MENU_CREATE_SHORTCUT",disabled:t},v.a.createElement(j.c,{disabled:t},v.a.createElement(j.a,null,x()("创建快捷方式到")))):null},yt=["FILE_MENU_CREATE_SHORTCUT"],Ot=[function(e,t){var n=t.me,r=t.file,i=function(){a()},a=O.k.open({width:480,footer:null,closable:!0,onCancel:i,body:v.a.createElement(gt.Provider,{store:Object(ht.g)()},v.a.createElement(vt.a,{currentFiles:[r],onClose:i,isNodeDisabled:function(e,t,i){if("1"===t){if(!Object(_.m)(i))return{disabled:!0,disabledReason:x()("没有权限移动到该协作空间")};var a=r;if(!_.n.isSpaceFile(a)&&!Object(_.g)(a))return{disabled:!0,disabledReason:x()("不能将快捷方式移动到协作空间，请联系文件所有者操作")}}else{if(Object(_.b)({me:n,file:r,toDir:i}).disabled)return{disabled:!0,disabledReason:x()("没有权限移动到该位置")}}return{disabled:!1,disabledReason:""}},TitleClass:function(){return v.a.createElement(v.a.Fragment,null,x()(Ue||(Ue=Object(h.__makeTemplateObject)(["创建快捷方式到"],["创建快捷方式到"]))))},OkButton:function(e){var t=e.disabled;return v.a.createElement(v.a.Fragment,null,t?x()("请选择文件夹"):x()("创建"))},onMoveFiles:function(t,n){var r;e(Object(k.m)(t[0].guid,null!==(r=n.guid)&&void 0!==r?r:"0")).finally(a)},scopes:[vt.b.Space,vt.b.Desktop]}))}).destroy}],jt=n(1293),wt=n.n(jt);function xt(e){return e.map((function(e){return e.getMenuItem}))}function Et(e){var t=wt()(e.map((function(e){return e.keys}))),n=wt()(e.map((function(e){return e.callbacks})));return function(e,r,i){var a=t.indexOf(e);if(a>-1)return n[a](r,i)}}},1159:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return E}));var r=n(2),i=n(8),a=n.n(i);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n,r,i=u(o);function o(){return c(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),a.a.createElement("path",{d:"M15.8 14.4l4.2-4.2 1.4 1.4-4 4.2 4.2 4.2-1.4 1.4-4.4-4-4.2 4.2-1.4-1.4 4.2-4.2-4.2-4.4 1.4-1.4 4.2 4.2zM16 32C7.2 32 0 24.8 0 16S7.2 0 16 0s16 7.2 16 16-7.2 16-16 16zm0-2c7.8 0 14-6.2 14-14S23.8 2 16 2 2 8.2 2 16s6.2 14 14 14z"}))}}])&&l(t.prototype,n),r&&l(t,r),o}(a.a.Component),h=n(253),g=n(71),v=n(254),_=n(981);!function(e){e.Link="Link"}(f||(f={}));var y,O,j,w,x,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props,n=e.flashMessages;(0,e.dispatch)(Object(v.i)(n.get("id")))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){(0,this.props.dispatch)(Object(v.E)())},t.prototype.render=function(){var e=this.props,t=e.flashMessages;return(0,e.children)({id:t.get("id"),content:t.get("content"),link:t.get("link"),type:f.Link,onClick:this.handleClose})},t=Object(r.__decorate)([Object(_.a)((function(e){return{flashMessages:e.blueTips}}))],t)}(a.a.PureComponent),k=n(256),C=Object(h.default)((function(e){return e.url.match(/^https?:/)?a.a.createElement("a",{href:e.url,target:e.target,className:e.className},e.children):a.a.createElement(k.Link,{to:e.url,target:e.target,className:e.className,replace:!0},e.children)})).withConfig({componentId:"sc-2v70EF",displayName:"LinkItem"})(y||(y=Object(r.__makeTemplateObject)(["text-decoration:none;color:inherit;"],[""]))),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props.onClick;null==e||e(),Object(g.a)({moduleName:"顶栏",submoduleName:"小蓝条",actionName:"点击"})},t.handleCloseClick=function(){var e=t.props.onClose;null==e||e(),Object(g.a)({moduleName:"顶栏",submoduleName:"小蓝条",actionName:"关闭"})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){Object(g.a)({moduleName:"顶栏",submoduleName:"小蓝条",actionName:"展现"})},t.prototype.render=function(){var e=this.props,t=e.closeable,n=e.className,r=void 0===n?"":n;return a.a.createElement(S,{closeable:t,className:r},a.a.createElement(I,{onClick:this.handleClick},this.renderContent()),a.a.createElement(N,{onClick:this.handleCloseClick}))},t.prototype.renderContent=function(){var e=this.props,t=e.type,n=e.link,r=e.children;switch(t){case f.Link:return a.a.createElement(C,{url:n,target:"blank"},r);default:return null}},t}(a.a.PureComponent),S=h.default.div.withConfig({componentId:"sc-1pzPT",displayName:"StyledContainer"})(j||(j=Object(r.__makeTemplateObject)(["margin-right:30px;line-height:50px;",""],["",""])),(function(e){return e.closeable?Object(h.css)(O||(O=Object(r.__makeTemplateObject)(["&:hover > svg{opacity:1;display:inline-block;}"],[""]))):""})),I=h.default.span.withConfig({componentId:"sc-1pzPT-1",displayName:"StyledMessageLink"})(w||(w=Object(r.__makeTemplateObject)(["color:#6da2d7;font-size:13px;text-decoration:none;vertical-align:middle;cursor:pointer;&:hover{text-decoration:underline;}"],[""]))),N=Object(h.default)(b).withConfig({componentId:"sc-1pzPT-2",displayName:"StyledCloseIcon"})(x||(x=Object(r.__makeTemplateObject)(["opacity:0;width:12px;height:12px;margin-left:10px;cursor:pointer;vertical-align:middle;display:none;> path{fill:#6da2d7;}"],[""])))},1160:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"e",(function(){return i.b})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return m.a})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j}));var r,i=n(1113),a=n(2),o=n(8),c=n.n(o),l=n(11),s=n.n(l),u=n(69);function d(e,t){switch(void 0===t&&(t=""),e){case u.a.OUTSIDER_CANNOT_ADD_USER:return c.a.createElement("p",null,s()("抱歉，您不是该企业的成员，无权限添加协作者。"));case u.a.EXPIRED_CANNOT_ADD_USER:return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,s()("您的企业版已到期，协作者人数上限为 15 人。您可以续费企业版，解锁所有限制。")),c.a.createElement("a",{href:"/enterprise/billing",target:"_blank"},s()("续费企业版")+" >"));case u.a.NOT_ON_SEAT_CANNOT_ADD_USER:return c.a.createElement("p",null,s()("您是非席位成员，协作者人数上限为 15人。您可以让企业创建者将您设置为席位成员，解除所有限制。"));case u.a.NO_ACCESS_ADD_OUTSIDER:return c.a.createElement("p",null,s()("抱歉，根据企业设置，您不能添加非企业成员为协作者。请联系企业管理员"));case u.a.NO_ACCESS_ADD_USER:return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,s()("您当前的版本为「基础版」，协作者人数上限为 15 人。您可以升级到「高级版」或「企业版」，获得更多权限。"),c.a.createElement("a",{href:"/pricing",target:"_blank"},s()("了解更多")+" >")));case u.a.NO_ACCESS_EDIT:return c.a.createElement("p",null,s()("抱歉，只有权限为“可以编辑”的成员能添加协作者"));case u.a.NO_ACCESS_MODIFY:return c.a.createElement("p",null,s()("抱歉，只有权限为“可以编辑”的成员能修改他人权限"));case u.a.OUTSIDER_CANNOT_MODIFY_ROLE:return c.a.createElement("p",null,s()("抱歉，只有企业成员能修改权限"));case u.a.TOO_MANY_COLLABORATORS:return c.a.createElement("p",null,s()("一次最多添加 20 名协作者"));case u.a.FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:return c.a.createElement("p",null,s()(r||(r=Object(a.__makeTemplateObject)(["已通过协作空间获得","权限"],["已通过协作空间获得","权限"])),t))}return null}function p(e){switch(e){case u.a.OUTSIDER_CANNOT_ADD_USER:return"default";case u.a.EXPIRED_CANNOT_ADD_USER:case u.a.NOT_ON_SEAT_CANNOT_ADD_USER:return"white";case u.a.NO_ACCESS_ADD_OUTSIDER:return"default";case u.a.NO_ACCESS_ADD_USER:return"white";case u.a.NO_ACCESS_EDIT:case u.a.NO_ACCESS_MODIFY:case u.a.OUTSIDER_CANNOT_MODIFY_ROLE:case u.a.TOO_MANY_COLLABORATORS:case u.a.FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:return"default"}return"default"}var f,m=n(1152),b=n(253),h=n(975),g=b.default.div.withConfig({componentId:"sc-1ERrwL",displayName:"StyledReasonWrapper"})(f||(f=Object(a.__makeTemplateObject)(["font-size:12px;line-height:1.8;margin:5px;text-align:left;position:relative;width:185px;white-space:normal;& > p{text-align:left;display:inline;}& > a{color:",";float:right;}&:after{clear:both;content:'';display:block;}"],["",""])),h.h),v=n(982),_=n(1024),y=n(977),O=n(121).g.isFolder;function j(e,t,n){switch(e){case u.a.NO_ACCESS_DELETE:S(O(t.type));break;case u.a.FAILURE_PERSONAL_FREE:I(n);break;case u.a.FAILURE_TRIAL_EXPIRED:T();break;case u.a.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:k();break;case u.a.FAILURE_ENTERPRISE_EXPIRED_MEMBER:E();break;case u.a.FAILURE_NOT_ON_SEAT:C();break;case u.a.NO_ACCESS_MOVE_FILE:N();break;case u.a.NO_ACCESS_MOVE_FOLDER:R();break;case u.a.FAILURE_READ_ONLY:P()}}var w,x,E=function(){var e=Object(_.a)({title:s()("操作失败"),description:c.a.createElement("div",null,c.a.createElement("div",null,s()("您的企业版已到期，不能创建／移入文件，续费企业版无此限制")),c.a.createElement("a",{target:"_blank",href:"/pricing"},s()("了解更多企业版特权"))),footer:[c.a.createElement(y.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},s()("续费企业")),c.a.createElement(y.a,{key:"cancel",type:"outline",onClick:function(){e()}},s()("取消"))]})},k=function(){var e=Object(_.a)({title:s()("操作失败"),description:c.a.createElement("div",null,c.a.createElement("div",null,s()("您的企业版已到期，不能创建／移入文件，续费企业版无此限制")),c.a.createElement("a",{target:"_blank",href:"/pricing"},s()("了解更多企业版特权"))),footer:[c.a.createElement(y.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},s()("续费企业")),c.a.createElement(y.a,{key:"cancel",type:"outline",onClick:function(){e()}},s()("取消"))]})},C=function(){var e=Object(_.a)({title:s()("操作失败"),description:s()(w||(w=Object(a.__makeTemplateObject)(["您是非席位成员，不能在超过15人协作的文件夹内创建／移入文件，请联系企业创建者将您设置为席位成员"],["您是非席位成员，不能在超过15人协作的文件夹内创建／移入文件，请联系企业创建者将您设置为席位成员"]))),footer:[c.a.createElement(y.a,{key:"ok",type:"black",onClick:function(){e()}},s()("确定"))]})},T=function(){var e=Object(_.a)({title:s()("操作失败"),description:c.a.createElement("div",null,c.a.createElement("div",null,s()("您的试用已到期，不能创建／移入文件，升级企业版无此限制")),c.a.createElement("a",{target:"_blank",href:"/pricing"},s()("了解更多企业版特权"))),footer:[c.a.createElement(y.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},s()("升级企业版")),c.a.createElement(y.a,{key:"cancel",type:"outline",onClick:function(){e()}},s()("取消"))]})},S=function(e){var t=Object(_.a)({title:s()("没有权限移动"),description:s()(x||(x=Object(a.__makeTemplateObject)(["抱歉，",""],["抱歉，",""])),e?s()("文件夹里有您没有权限移动的文件，您不能移动这个文件夹"):s()("您没有权限移动这个文件。")),footer:[c.a.createElement(y.a,{key:"ok",type:"black",onClick:function(){t()}},s()("确定")),c.a.createElement(y.a,{key:"cancel",type:"outline",onClick:function(){t()}},s()("取消"))]})},I=function(e){var t=Object(_.a)({title:s()("操作失败"),description:c.a.createElement("div",null,c.a.createElement("div",null,s()("基础版帐号不能在超过15人协作的文件夹内创建／移入文件，升级高级版无此限制")),c.a.createElement("a",{href:"#",onClick:function(){t(),e()}},s()("免费升级高级版"))),footer:[c.a.createElement(y.a,{key:"ok",type:"black",href:"/pricing",target:"_blank",onClick:function(){t()}},s()("购买高级版")),c.a.createElement(y.a,{key:"cancel",type:"outline",onClick:function(){t()}},s()("取消"))]})},N=function(){var e=v.a.open({title:s()("没有权限移动"),body:s()("抱歉，您没有权限移动这个文件。"),onOk:function(){return e.destroy()},onCancel:function(){return e.destroy()}})},R=function(){var e=v.a.open({title:s()("没有权限移动"),body:s()("抱歉，文件夹里有您没有权限移动的文件，您不能移动这个文件夹。"),onOk:function(){return e.destroy()},onCancel:function(){return e.destroy()}})},P=function(){var e=v.a.open({title:s()("没有权限移动"),body:s()("抱歉，没有权限移动到目标文件夹"),onOk:function(){return e.destroy()},onCancel:function(){return e.destroy()}})}},1162:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r,i,a,o=n(2),c=n(253),l=n(1151),s=c.default.a.withConfig({componentId:"sc-3R2FV1",displayName:"StyledA"})(r||(r=Object(o.__makeTemplateObject)(["float:left;"],[""]))),u=c.default.img.withConfig({componentId:"sc-3R2FV1-1",displayName:"StyledPrivateLogo"})(i||(i=Object(o.__makeTemplateObject)(["display:block;height:24px;margin:13px 0;"],[""]))),d=Object(c.default)(l.a).withConfig({componentId:"sc-3R2FV1-2",displayName:"StyledLogo"})(a||(a=Object(o.__makeTemplateObject)(["display:block;height:18px;margin:16px 0;> path{fill:",";}"],["",""])),(function(e){var t=e.color;return null!=t?t:"#41464b"}))},1165:function(e,t,n){"use strict";n.d(t,"e",(function(){return $})),n.d(t,"b",(function(){return ge})),n.d(t,"g",(function(){return vt})),n.d(t,"d",(function(){return It})),n.d(t,"a",(function(){return nt})),n.d(t,"f",(function(){return un})),n.d(t,"c",(function(){return fn}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_=n(2),y=n(982),O=n(8),j=n.n(O),w=n(981),x=function(e){return{inviteInfo:e.wechat.inviteInfo}},E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.inviteInfo;return(0,e.children)(n,t)},t=Object(_.__decorate)([Object(w.a)(x)],t)}(j.a.PureComponent),k=n(11),C=n.n(k),T=n(1034),S=n(253),I=S.default.div.withConfig({componentId:"sc-2moGei",displayName:"StyledFooter"})(r||(r=Object(_.__makeTemplateObject)(["color:#fff;font-size:12px;line-height:20px;background:#8ab3e9;position:relative;margin:30px -40px -30px;padding:15px;text-align:center;"],[""]))),N=S.default.a.withConfig({componentId:"sc-2moGei-1",displayName:"StyledLink"})(i||(i=Object(_.__makeTemplateObject)(["font-weight:bold;color:inherit;text-decoration:none;"],[""]))),R=S.default.div.withConfig({componentId:"sc-2moGei-2",displayName:"StyledBodyWrapper"})(a||(a=Object(_.__makeTemplateObject)(["font-size:12px;line-height:20px;color:#7d7d7d;"],[""]))),P=S.default.div.withConfig({componentId:"sc-2moGei-3",displayName:"StyledInviteFriendSection"})(o||(o=Object(_.__makeTemplateObject)(["position:relative;"],[""]))),M=S.default.div.withConfig({componentId:"sc-2moGei-4",displayName:"StyledInviteFriendsTitle"})(c||(c=Object(_.__makeTemplateObject)(["font-size:14px;font-weight:bold;color:#8ab3e9;margin-bottom:10px;"],[""]))),A=S.default.div.withConfig({componentId:"sc-2moGei-5",displayName:"StyledInviteFriendsDesc"})(l||(l=Object(_.__makeTemplateObject)(["position:relative;margin-bottom:15px;"],[""]))),B=Object(S.default)(T.a).withConfig({componentId:"sc-2moGei-6",displayName:"StyledQRCode"})(s||(s=Object(_.__makeTemplateObject)(["display:inline-block;position:absolute;right:0;bottom:0;",""],["",""])),(function(e){return"top"===e.position?"top: 0;":""})),D=S.default.span.withConfig({componentId:"sc-2moGei-7",displayName:"StyledExchangeLink"})(u||(u=Object(_.__makeTemplateObject)(["position:absolute;left:100%;margin-left:10px;width:100px;color:",";cursor:",";"],["","",""])),(function(e){return e.disabled?"#CCCCCC":"#8AB3E9"}),(function(e){return e.disabled?"not-allowed;":"pointer"})),L=S.default.div.withConfig({componentId:"sc-2moGei-8",displayName:"StyledInviteFriendsText"})(d||(d=Object(_.__makeTemplateObject)(["position:relative;margin-right:110px;",""],["",""])),(function(e){return e.success?"margin-bottom: 5px;":""})),z=S.default.div.withConfig({componentId:"sc-2moGei-9",displayName:"StyledParagraph"})(p||(p=Object(_.__makeTemplateObject)(["margin-bottom:10px;"],[""]))),F=S.default.div.withConfig({componentId:"sc-2moGei-10",displayName:"StyledSummary"})(f||(f=Object(_.__makeTemplateObject)(["position:relative;border:1px solid #e5e5e5;background:#f7f7f7;padding:15px 25px;&::before,&::after{content:'';display:block;width:0;height:0;position:absolute;bottom:100%;}&::before{left:24px;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #e5e5e5;}&::after{left:26px;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #f7f7f7;}"],[""]))),V=S.default.div.withConfig({componentId:"sc-2moGei-11",displayName:"StyledRightText"})(m||(m=Object(_.__makeTemplateObject)(["float:right;"],[""]))),U=S.default.hr.withConfig({componentId:"sc-2moGei-12",displayName:"StyledHr"})(b||(b=Object(_.__makeTemplateObject)(["display:block;margin:25px 0;height:1px;border:0;border-top:1px solid #ccc;"],[""]))),G=S.default.div.withConfig({componentId:"sc-2moGei-13",displayName:"StyledSectionLeft"})(h||(h=Object(_.__makeTemplateObject)(["width:76%;height:60px;padding-top:16px;"],[""]))),H=S.default.div.withConfig({componentId:"sc-2moGei-14",displayName:"StyledLineThrough"})(g||(g=Object(_.__makeTemplateObject)(["",""],["",""])),(function(e){return e.enable?"text-decoration: line-through;":""})),W=S.default.div.withConfig({componentId:"sc-2moGei-15",displayName:"StyledBindSuccess"})(v||(v=Object(_.__makeTemplateObject)(["color:#7a9880;margin-left:10px;"],[""]))),K=n(254),Y=n(978),Z=n(121),q=Z.o.redirectTo,Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={qrCodeUrl:"",ticket:""},t.handleExchangeProVersion=function(){return Object(_.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(_.__generator)(this,(function(r){switch(r.label){case 0:if(e=this.props,t=e.inviteInfo,n=e.dispatch,!t||!t.bonus)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n(Object(K.dd)())];case 2:return r.sent(),Y.a.success(C()("兑换成功！")),[3,4];case 3:return r.sent(),Y.a.error(C()("兑换失败！")),[3,4];case 4:return[2]}}))}))},t.renderBindWechatQrcode=function(){var e=t.props.inviteInfo,n=t.state,r=n.ticket,i=n.qrCodeUrl,a=e&&e.isBound;return!r||a?null:j.a.createElement(B,{position:"top",size:80,url:i,isWechat:!0,wechatTicket:r})},t}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(_.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(_.__generator)(this,(function(i){switch(i.label){case 0:e=this.props.dispatch,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e(Object(K.ob)())];case 2:return t=i.sent(),n=t.ticket,(r=t.url)&&n&&this.setState({qrCodeUrl:r,ticket:n}),[3,4];case 3:return i.sent(),[3,4];case 4:return e(Object(K.rb)()),[2]}}))}))},t.prototype.render=function(){var e=this.props.inviteInfo;e&&e.needRefresh&&this.reloadSession();var t=e||{},n=t.count,r=void 0===n?0:n,i=t.bonus,a=void 0===i?0:i,o=t.isBound,c=void 0!==o&&o,l=t.isObtained,s=void 0!==l&&l;return j.a.createElement(R,null,j.a.createElement(P,null,j.a.createElement(M,null,C()("方式一：邀请好友注册并绑定微信（活动已结束）")),j.a.createElement(A,null,j.a.createElement(L,null,j.a.createElement(z,null,C()("如有未兑换的高级版使用期，请及时兑换。")))),j.a.createElement(F,null,j.a.createElement(L,{success:!0},C()("已成功邀请并绑定微信的好友"),j.a.createElement(V,null,r,C()("人"))),j.a.createElement(L,null,C()("可兑换高级版使用期"),j.a.createElement(V,null,a,C()("天")),j.a.createElement(D,{disabled:0===a,onClick:this.handleExchangeProVersion},C()("立即兑换高级版"))))),j.a.createElement(U,null),j.a.createElement(P,null,j.a.createElement(G,null,j.a.createElement(M,null,C()("方式二：绑定你的微信号")),j.a.createElement("div",null,j.a.createElement(H,{enable:c},C()("用微信扫码，绑定帐号，立即获得 15 天高级版。")),s?j.a.createElement(W,null,C()("已获得")+" ✓"):null)),this.renderBindWechatQrcode()))},t.prototype.reloadSession=function(){q("/login?redirect_url="+encodeURIComponent(window.location.href))},t.displayName="InviteFriendModalBody",t}(j.a.PureComponent),X=function(){return j.a.createElement("div",null,C()("免费获得石墨文档高级版！"))},J=function(){return j.a.createElement(I,null,C()("每人每月不到一杯咖啡的价格，即可获得更多企业管理功能。"),j.a.createElement(N,{href:"/pricing",target:"_blank"},C()("了解更多")+" >"))};function $(e){y.a.open({width:506,title:j.a.createElement(X,null),body:j.a.createElement(E,{store:e},(function(e,t){return j.a.createElement(Q,{inviteInfo:e,dispatch:t})})),footer:j.a.createElement(J,null)})}var ee,te,ne,re,ie,ae,oe,ce,le,se,ue,de,pe,fe,me,be,he,ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.inviteInfo,n=e.dispatch,r=e.visible,i=e.onClose;return j.a.createElement(y.a,{width:506,title:j.a.createElement(X,null),footer:j.a.createElement(J,null),visible:r,onCancel:i},j.a.createElement(Q,{inviteInfo:t,dispatch:n}))},t}(j.a.PureComponent),ve=n(192),_e=n(71),ye=n(28),Oe=n(82),je=n(980),we=n(1028),xe=n(1062),Ee=function(e){var t={};return e.map((function(e){var n=e.name,r=e.value;t[n]=r})),t},ke=function(e){var t=[];return e.map((function(e){var n=e.name;t.push(n)})),t},Ce=n(1006),Te=S.default.div.withConfig({componentId:"sc-2BT4a",displayName:"StyledInputWrapper"})(ee||(ee=Object(_.__makeTemplateObject)(["margin-bottom:16px;"],[""]))),Se=S.default.div.withConfig({componentId:"sc-2BT4a-1",displayName:"StyledLabel"})(te||(te=Object(_.__makeTemplateObject)(["font-size:14px;color:#a5a5a5;line-height:14px;margin-bottom:8px;display:flex;justify-content:space-between;"],[""]))),Ie=S.default.span.withConfig({componentId:"sc-2BT4a-2",displayName:"StyledRequired"})(ne||(ne=Object(_.__makeTemplateObject)(["color:#cd4747;margin-right:4px;margin-left:-10px;"],[""]))),Ne=S.default.div.withConfig({componentId:"sc-2BT4a-3",displayName:"StyledInputContainer"})(re||(re=Object(_.__makeTemplateObject)(["width:100%;height:40px;border-radius:2px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);border-width:1px;border-style:solid;border-color:",";color:#333333;background:#ffffff;box-sizing:border-box;transition:border-color 0.3s ease 0s;position:relative;&:hover{border-color:#a5a5a5;}"],["",""])),(function(e){return e.error?"#cd4747!important":"#e5e5e5"})),Re=S.default.input.withConfig({componentId:"sc-2BT4a-4",displayName:"StyledInput"})(ie||(ie=Object(_.__makeTemplateObject)(["border:none;width:100%;padding:10px 15px;box-sizing:border-box;font-size:14px;line-height:20px;background:transparent;&::placeholder{color:#cccccc;font-size:14px;text-align:right;}&::-webkit-outer-spin-button,::-webkit-inner-spin-button{-webkit-appearance:none;}&[type='number']{-moz-appearance:textfield;}"],[""]))),Pe=S.default.div.withConfig({componentId:"sc-2BT4a-5",displayName:"StyledDropDownButton"})(ae||(ae=Object(_.__makeTemplateObject)(["position:absolute;width:0;height:0;right:10px;top:50%;margin-top:-2.5px;border-left:4.8px solid transparent;border-right:4.8px solid transparent;border-top:5px solid rgba(65,70,75,0.3);cursor:pointer;"],[""]))),Me=S.default.div.withConfig({componentId:"sc-2BT4a-6",displayName:"StyledDropDownInput"})(oe||(oe=Object(_.__makeTemplateObject)(["border:none;width:100%;padding:10px 15px;box-sizing:border-box;font-size:14px;line-height:20px;background:transparent;"],[""]))),Ae=S.default.div.withConfig({componentId:"sc-2BT4a-7",displayName:"StyledDropDownPlaceHolder"})(ce||(ce=Object(_.__makeTemplateObject)(["color:#cccccc;"],[""]))),Be=S.default.div.withConfig({componentId:"sc-2BT4a-8",displayName:"StyledError"})(le||(le=Object(_.__makeTemplateObject)(["margin-top:6px;color:#cd4747;line-height:12px;background:initial;"],[""]))),De=S.default.textarea.withConfig({componentId:"sc-2BT4a-9",displayName:"StyledTextarea"})(se||(se=Object(_.__makeTemplateObject)(["width:100%;height:100%;border:none;resize:none;padding:8px 15px;box-sizing:border-box;font-size:12px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);&::placeholder{color:#cccccc;}"],[""]))),Le=S.default.div.withConfig({componentId:"sc-2BT4a-10",displayName:"StyledSwitchVerify"})(ue||(ue=Object(_.__makeTemplateObject)(["color:#6da0e3;font-size:12px;cursor:pointer;"],[""]))),ze=Object(S.default)(Ne).withConfig({componentId:"sc-2BT4a-11",displayName:"StyledInputContainerVerifyCode"})(de||(de=Object(_.__makeTemplateObject)(["display:flex;align-items:center;justify-content:space-between;"],[""]))),Fe=Object(S.default)(Ce.a).withConfig({componentId:"sc-2BT4a-12",displayName:"StyledVerifyButton"})(pe||(pe=Object(_.__makeTemplateObject)(["width:100px;margin-right:3px;padding:0 11px;font-size:12px;"],[""]))),Ve=(S.default.div.withConfig({componentId:"sc-2BT4a-13",displayName:"StyledCheckboxContainer"})(fe||(fe=Object(_.__makeTemplateObject)(["> div{margin-right:20px;display:inline-block;line-height:1em;font-size:13px;> div{margin-right:5px;}}"],[""]))),S.default.div.withConfig({componentId:"sc-2BT4a-14",displayName:"StyledCheckboxWrapper"})(me||(me=Object(_.__makeTemplateObject)(["margin-bottom:30px;label{color:#333333;font-weight:bold;}"],[""]))),n(1035));function Ue(e){return/^((\+86)|(86))?1[0-9]{10}$/.test(e)}!function(e){e.SMS="sms",e.VOICE="voice"}(be||(be={})),function(e){e.Initial="initial",e.Sending="sending",e.Counting="counting"}(he||(he={}));var Ge,He,We,Ke,Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={verifyAction:be.SMS,smsStatus:he.Initial,voiceStatus:he.Initial,smsCount:0,voiceCount:0},t.smsTimer=0,t.voiceTimer=0,t.captchaRef=j.a.createRef(),t.handleSwitchVerifyType=function(){var e=t.state.verifyAction===be.SMS?be.VOICE:be.SMS;t.setState({verifyAction:e})},t.handleChange=function(e){t.props.onChange(Ke.verifyCode,e.target.value)},t.handleSendVerifyCode=function(){return Object(_.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i=this;return Object(_.__generator)(this,(function(a){if(e=this.state.verifyAction,t=this.props.mobile,this.currentCount>0||!t||!Ue(t))return[2];e===be.SMS?this.setState({smsStatus:he.Sending,smsCount:59}):e===be.VOICE&&this.setState({voiceStatus:he.Sending,voiceCount:59}),n={type:e,mobile:t,countryCode:"+86"};try{Object(Ve.c)(this.createMobileCaptchaRequest(n),this.captchaRef.current,(function(){return i.props.dispatch(Object(K.Q)("web","3.0"))}))}catch(t){r=t&&t.message?t.message:"验证码发送失败,请稍后再试",Y.a.error({content:r}),e===be.SMS?this.setState({smsStatus:he.Initial}):e===be.VOICE&&this.setState({voiceStatus:he.Initial})}return e===be.SMS?this.setState({smsStatus:he.Counting},this.startTimer):e===be.VOICE&&this.setState({voiceStatus:he.Counting},this.startTimer),[2]}))}))},t.startTimer=function(){var e=t.state.verifyAction,n=window.setInterval((function(){var e=t.state.verifyAction;0===t.currentCount?e===be.SMS?(t.smsTimer&&clearInterval(t.smsTimer),t.setState({smsStatus:he.Initial})):e===be.VOICE&&(t.voiceTimer&&clearInterval(t.voiceTimer),t.setState({voiceStatus:he.Initial})):e===be.SMS?t.setState({smsCount:t.state.smsCount-1}):e===be.VOICE&&t.setState({voiceCount:t.state.voiceCount-1})}),1e3);e===be.SMS?t.smsTimer=n:e===be.VOICE&&(t.voiceTimer=n)},t.createMobileCaptchaRequest=function(e){return function(n){return Object(_.__awaiter)(t,void 0,void 0,(function(){return Object(_.__generator)(this,(function(t){return[2,(0,this.props.dispatch)(Object(K.Cc)(e,n,"bind","4"))]}))}))}},t}return Object(_.__extends)(t,e),t.prototype.componentWillUnmount=function(){clearInterval(this.smsTimer),clearInterval(this.voiceTimer)},t.prototype.render=function(){var e=this.props,t=e.error,n=e.value,r=e.mobile,i=this.state.verifyAction,a=!r||!Ue(r)||this.currentStatus!==he.Initial;return j.a.createElement(Te,null,j.a.createElement(Ze,{name:Ke.verifyCode,label:C()("输入验证码"),required:!0},j.a.createElement(Le,{onClick:this.handleSwitchVerifyType},i===be.SMS?C()("收不到验证码？语音验证"):C()("不方便接电话？切换回短信验证码"))),j.a.createElement(ze,{error:!!t},j.a.createElement(Re,{id:Ke.verifyCode,type:"number",onChange:this.handleChange,value:n}),j.a.createElement(Fe,{type:"blue",disabled:a,onClick:this.handleSendVerifyCode},this.getSendCodeMessage())),j.a.createElement(Be,null,t),j.a.createElement("div",{ref:this.captchaRef}))},t.prototype.getSendCodeMessage=function(){return this.currentStatus===he.Initial?C()("获取验证码"):this.currentStatus===he.Sending?C()("发送中..."):C()(Ge||(Ge=Object(_.__makeTemplateObject)(["(",")重新发送"],["(",")重新发送"])),this.currentCount)},Object.defineProperty(t.prototype,"currentStatus",{get:function(){var e=this.state.verifyAction;return e===be.SMS?this.state.smsStatus:e===be.VOICE?this.state.voiceStatus:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentCount",{get:function(){var e=this.state.verifyAction;return e===be.SMS?this.state.smsCount:e===be.VOICE?this.state.voiceCount:0},enumerable:!1,configurable:!0}),t}(j.a.PureComponent),Ze=function(e){var t=e.name,n=e.label,r=e.required,i=e.children;return j.a.createElement(Se,null,j.a.createElement("label",{htmlFor:t},r&&j.a.createElement(Ie,null,"*"),n),i)},qe=[{name:"1-15人",value:1},{name:"16-50人",value:5},{name:"51-100人",value:2},{name:"101-200人",value:6},{name:"201-300人",value:9},{name:"301-500人",value:7},{name:"501-1000人",value:3},{name:"1001-3000人",value:8},{name:"3000人以上",value:4}],Qe=[{name:"软件和信息技术服务",value:1},{name:"在线教育/培训",value:2},{name:"公立教育/学校",value:3},{name:"创新/高端制造业",value:4},{name:"传统制造业",value:5},{name:"金融业",value:6},{name:"房地产业及建筑",value:7},{name:"农林牧渔业",value:8},{name:"政府机关/事业单位",value:9},{name:"医疗机构",value:10},{name:"生物/制药",value:11},{name:"文化/体育和娱乐业",value:12},{name:"公益组织",value:13},{name:"交通运输/仓储和物流业",value:14},{name:"能源及采矿业",value:15},{name:"游戏行业",value:16},{name:"工程/基建",value:17},{name:"零售/电商",value:18},{name:"餐饮/住宿",value:19},{name:"广告/公关/营销",value:20},{name:"国际/国内贸易",value:21},{name:"其他",value:22}],Xe=ke(qe),Je=ke(Qe),$e=Ee(qe),et=Ee(Qe),tt=Object(S.default)(we.a).withConfig({componentId:"sc-2MZcQN",displayName:"StyledMenu"})(He||(He=Object(_.__makeTemplateObject)(["@media (max-width:768px){height:100vh;overflow-y:auto;}"],[""])));!function(e){e.mobile="mobile",e.verifyCode="verifyCode",e.companyName="companyName",e.companySize="companySize",e.companyType="companyType",e.question="question"}(Ke||(Ke={}));var nt,rt=((We={})[Ke.mobile]={component:function(e){var t=e.value,n=e.onChange,r=e.error;return j.a.createElement(Te,null,j.a.createElement(Ze,{name:Ke.mobile,label:C()("验证手机号码"),required:!0}),j.a.createElement(Ne,{error:!!r},j.a.createElement(Re,{id:Ke.mobile,type:"number",onChange:function(e){var r=e.target.value;r!==t&&n(Ke.mobile,r)},value:t,placeholder:C()("暂不支持非中国大陆地区手机号")})),j.a.createElement(Be,null,r))},valid:function(e){return e?(Ue(e)||C()("手机号格式不正确，请重新输入"),""):C()("请填写手机号码")}},We[Ke.verifyCode]={component:function(e){return j.a.createElement(Ye,Object(_.__assign)({},e))},valid:function(e){return e?(/^\d{4}$/.test(e)||C()("验证码格式不正确，请重新输入"),""):C()("请填写验证码")}},We[Ke.companyName]={component:function(e){var t=e.value,n=e.onChange,r=e.error;return j.a.createElement(Te,null,j.a.createElement(Ze,{name:Ke.companyName,label:C()("企业或团队名称"),required:!0}),j.a.createElement(Ne,{error:!!r},j.a.createElement(Re,{id:Ke.companyName,type:"text",onChange:function(e){var r=e.target.value;r!==t&&n(Ke.companyName,r)},value:t})),j.a.createElement(Be,null,r))},valid:function(e){return e?"":C()("请填写企业或团队名称")}},We[Ke.companySize]={component:function(e){var t=e.value,n=e.onChange,r=e.error,i=j.a.createElement(we.a,{defaultSelectedKeys:["0"],onClick:function(e){var r=e.key;t!==r&&n(Ke.companySize,""+Xe[r])}},Xe.map((function(e,t){return j.a.createElement(je.c,{key:t,"data-test":"position-select-options"+t},e)})));return j.a.createElement(Te,null,j.a.createElement(Ze,{name:Ke.companySize,label:"团队规模",required:!0}),j.a.createElement(xe.a,{overlay:i,className:"sm-activity-dropdown"},j.a.createElement(Ne,{error:!!r},j.a.createElement(Pe,null),j.a.createElement(Me,{"data-test":"teamScale-select"},t||j.a.createElement(Ae,null,"请选择团队规模")))),j.a.createElement(Be,null,r))},valid:function(e){return e?(function(e){return/^[0-9]{1,}$/.test(e)}(e)||C()("团队使用人数格式不正确，请重新填写"),""):C()("请填写团队使用人数")}},We[Ke.companyType]={component:function(e){var t=e.value,n=e.onChange,r=e.error,i=j.a.createElement(tt,{defaultSelectedKeys:["0"],onClick:function(e){var r=e.key;t!==r&&n(Ke.companyType,""+Je[r])}},Je.map((function(e,t){return j.a.createElement(je.c,{key:t},e)})));return j.a.createElement(Te,{style:{marginBottom:"30px"}},j.a.createElement(Ze,{name:Ke.companyType,label:C()("您的行业"),required:!0}),j.a.createElement(xe.a,{overlay:i},j.a.createElement(Ne,{error:!!r},j.a.createElement(Pe,null),j.a.createElement(Me,null,t||j.a.createElement(Ae,null,C()("请选择行业"))))),j.a.createElement(Be,null,r))},valid:function(e){return e?"":C()("请选择行业")}},We[Ke.question]={component:function(e){var t=e.value,n=e.onChange,r=e.error;return j.a.createElement(Te,{style:{marginBottom:"30px"}},j.a.createElement(Ze,{name:Ke.question,label:C()("您想用石墨解决什么问题？")}),j.a.createElement(Ne,{error:!!r,style:{height:"60px"}},j.a.createElement(De,{id:Ke.question,onChange:function(e){var r=e.target.value;r!==t&&n(Ke.question,r)},value:t,placeholder:C()("请告诉我们更多信息")})))}},We);!function(e){e.PERSONAL_WITH_MOBILE="PERSONAL_WITH_MOBILE",e.PERSONAL_WITHOUT_MOBILE="PERSONAL_WITHOUT_MOBILE"}(nt||(nt={}));var it,at,ot,ct,lt,st,ut={PERSONAL_WITH_MOBILE:[Ke.companyName,Ke.companySize,Ke.companyType,Ke.question],PERSONAL_WITHOUT_MOBILE:[Ke.mobile,Ke.verifyCode,Ke.companyName,Ke.companySize,Ke.companyType,Ke.question]},dt=S.default.div.withConfig({componentId:"sc-3_p0AD",displayName:"StyledModalHeader"})(it||(it=Object(_.__makeTemplateObject)(["margin-bottom:-16px;padding:5px 20px 0 20px;& > span{font-weight:normal;}"],[""]))),pt=S.default.h3.withConfig({componentId:"sc-3_p0AD-1",displayName:"StyledModalH3"})(at||(at=Object(_.__makeTemplateObject)(["font-size:24px;line-height:36px;text-align:center;letter-spacing:1px;font-family:'Songti SC',serif;font-weight:900;"],[""]))),ft=(S.default.p.withConfig({componentId:"sc-3_p0AD-2",displayName:"StyledTeamModalHeader"})(ot||(ot=Object(_.__makeTemplateObject)(["margin-bottom:-16px;padding:5px 20px 0 20px;& > span{font-weight:normal;display:block;img{width:240px;margin-top:10px;}}"],[""]))),S.default.div.withConfig({componentId:"sc-3_p0AD-3",displayName:"StyledModalBody"})(ct||(ct=Object(_.__makeTemplateObject)(["padding:0 20px;"],[""])))),mt=S.default.div.withConfig({componentId:"sc-3_p0AD-4",displayName:"StyledHint"})(lt||(lt=Object(_.__makeTemplateObject)(["color:#41464b;font-size:12px;line-height:17px;margin-bottom:28px;"],[""]))),bt=Object(S.default)(Ce.a).withConfig({componentId:"sc-3_p0AD-5",displayName:"StyledSubmitButton"})(st||(st=Object(_.__makeTemplateObject)(["margin:0 auto;display:block;height:40px;width:200px;"],[""]))),ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={submitting:!1,form:{},formError:{}},t.renderInput=function(e){var n,r=t.state,i=r.form,a=r.formError,o=t.props.dispatch,c=rt[e].component;return j.a.createElement(c,{dispatch:o,value:null!==(n=i[e])&&void 0!==n?n:"",onChange:t.handleChange,key:e,error:a[e],mobile:i[Ke.mobile]})},t.handleChange=function(e,n){var r,i,a=t.state,o=a.form,c=a.formError,l=Object(_.__assign)(Object(_.__assign)({},o),((r={})[e]=n,r)),s=Object(_.__assign)(Object(_.__assign)({},c),((i={})[e]="",i));t.setState({form:l,formError:s})},t.handleSubmit=function(){return Object(_.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(_.__generator)(this,(function(o){switch(o.label){case 0:if(!this.validate())return[2];e=this.props.showInviteMemberModal,this.setState({submitting:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createTeam()];case 2:return o.sent(),Object(_e.a)("110054"),e(),[3,4];case 3:return t=o.sent(),n=t.data,r=t.body,i=null!==(a=null==n?void 0:n.message)&&void 0!==a?a:null==r?void 0:r.error,Y.a.error(i||C()("提交失败")),this.setState({submitting:!1}),[3,4];case 4:return[2]}}))}))},t}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){Object(_e.a)("110053")},t.prototype.render=function(){var e=this.props,t=e.type,n=e.opener,r=void 0===n?"":n,i=this.state.submitting,a=ut[t];if(!t)return null;var o="homepage"===r;return j.a.createElement(ft,null,!o&&j.a.createElement(mt,null,C()("只需完善以下几项信息，让我们更好地为您服务！")),a.map(this.renderInput),j.a.createElement(bt,{type:"black",onClick:this.handleSubmit,disabled:i},o?C()("提交信息"):C()("开始免费试用")))},t.prototype.validate=function(){var e=this.props.type,t=this.state,n=t.formError,r=t.form,i=ut[e],a=!0,o=Object(_.__assign)({},n);return i.forEach((function(e){var t,n=rt[e].valid;if(n){var i=n(null!==(t=r[e])&&void 0!==t?t:"");a=a&&!i,o[e]=i}})),this.setState({formError:o}),a},t.prototype.createTeam=function(){return Object(_.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,c,l,s,u;return Object(_.__generator)(this,(function(d){switch(d.label){case 0:return e=this.props,t=e.opener,n=e.type,r=e.userId,i=e.me,a=e.dispatch,o=this.state.form,c=et[o.companyType],l=$e[o.companySize],s=o[Ke.companyName],u={name:s,type:c,scaleNum:l,info:o[Ke.question]},n===nt.PERSONAL_WITHOUT_MOBILE&&(u.mobile=o[Ke.mobile],u.code=o[Ke.verifyCode]),[4,a(Object(K.q)(Object(_.__assign)(Object(_.__assign)({},u),{type:void 0}))).then((function(e){if("homepage"!==t)ye.s.post("/sales-leads-server-api/leads",{creatorId:null!=r?r:null==i?void 0:i.id,teamId:null==e?void 0:e.id,teamName:s,teamType:c,teamScale:l,creatorName:i.name,creatorMobile:i.mobile||u.mobile,creatorEmail:i.email,extra:JSON.stringify({primarySource:2,secondarySource:9})},{baseURL:""}).then((function(){}),(function(){}));else{var n=Object(Oe.b)(location.search.substr(1)),a=n.origin,o=n.freeDays;if("celebration"===a&&o){var d={30:"wssdwspa",60:"jdep"}[o];d&&(null==e?void 0:e.id)&&ye.s.post("/billing/v2/trials",{activity:d,teamId:e.id,type:"team"}).then((function(){}),(function(){}))}}}))];case 1:return d.sent(),[2]}}))}))},t}(j.a.PureComponent),gt=function(e){return"homepage"===e.opener?j.a.createElement(pt,null,C()("提交企业信息开始试用")):j.a.createElement(dt,null,j.a.createElement("span",null,C()("欢迎使用")," "),C()("石墨文档企业高级版"))};function vt(e){var t=e.store,n=e.type,r=e.callback,i=e.closeable,a=e.userId,o=e.teamId,c=e.me,l=y.a.open({width:506,title:j.a.createElement(gt,{type:n}),closable:i,maskClosable:!1,body:j.a.createElement(ve.Provider,{store:t},j.a.createElement(ht,{type:n,showInviteMemberModal:function(){l.destroy(),un(t,r)},dispatch:t.dispatch,userId:a,teamId:o,me:c})),footer:null,onCancel:function(){null==r||r(!0)}})}var _t,yt,Ot,jt,wt,xt,Et,kt,Ct,Tt,St,It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inviteMemberVisible:!1},t.onInviteMemberModalOpen=function(){var e=t.props,n="homepage"===e.opener;(0,e.onClose)(!1,!0),!n&&t.setState({inviteMemberVisible:!0})},t.handleInviteMemberModalClose=function(){t.setState({inviteMemberVisible:!1})},t.handleClose=function(){(0,t.props.onClose)(!0)},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.visible,r=e.closable,i=e.dispatch,a=e.opener,o=e.me,c=this.state.inviteMemberVisible,l="homepage"===a;return j.a.createElement(j.a.Fragment,null,j.a.createElement(y.a,{visible:n,width:l?560:506,closable:r,maskClosable:!1,className:l?"homepage-team-modal":"",title:j.a.createElement(gt,{type:t,opener:a}),footer:null,onCancel:this.handleClose},j.a.createElement(ht,{type:t,showInviteMemberModal:this.onInviteMemberModalOpen,dispatch:i,opener:a,me:o})),j.a.createElement(fn,{dispatch:i,visible:c,onClose:this.handleInviteMemberModalClose}))},t}(j.a.PureComponent),Nt=n(1066),Rt=Object(S.default)(Nt.a).withConfig({componentId:"sc-19uuvG",displayName:"StyledTab"})(_t||(_t=Object(_.__makeTemplateObject)(["margin-bottom:-10px;.sm-tab-navtabs{margin-bottom:12px;border-bottom:1px solid #eeeeee;}"],[""]))),Pt=n(1005),Mt=n(1063),At=n(1064),Bt=S.default.div.withConfig({componentId:"sc-idkw5",displayName:"StyledInviteLinkWrapper"})(yt||(yt=Object(_.__makeTemplateObject)(["display:flex;align-items:center;border:1px solid #e5e5e5;border-radius:2px;"],[""]))),Dt=Object(S.default)(At.a).withConfig({componentId:"sc-idkw5-1",displayName:"StyledInviteLinkInput"})(Ot||(Ot=Object(_.__makeTemplateObject)(["flex:1 1 auto;.sm-input-wrapper{height:40px;border:none;border-radius:0;}"],[""]))),Lt=Object(S.default)(Mt.a).withConfig({componentId:"sc-idkw5-2",displayName:"StyledClipboard"})(jt||(jt=Object(_.__makeTemplateObject)(["box-sizing:border-box;width:104px;height:40px;display:inline-block;line-height:40px;text-align:center;border-left:1px solid #e5e5e5;background:#fff;cursor:pointer;"],[""]))),zt=function(e){var t=e.link;return t?j.a.createElement(Bt,null,j.a.createElement(Dt,{value:t,type:"text",ref:function(e){return setTimeout((function(){return e&&e.focus()}),0)}}),j.a.createElement("div",{onClick:function(){return Object(_e.a)("110057")}},j.a.createElement(Lt,{text:t},C()("复制链接")))):null},Ft=n(1027),Vt=S.default.div.withConfig({componentId:"sc-35IKDt",displayName:"StyledTip"})(wt||(wt=Object(_.__makeTemplateObject)(["font-size:12px;color:#666666;margin-bottom:20px;"],[""]))),Ut=S.default.div.withConfig({componentId:"sc-35IKDt-1",displayName:"StyledEmailArea"})(xt||(xt=Object(_.__makeTemplateObject)(["height:auto;padding:10px 15px;border-radius:2px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);background-color:#ffffff;border:1px solid #e5e5e5;font-size:12px;"],[""]))),Gt=S.default.input.withConfig({componentId:"sc-35IKDt-2",displayName:"StyledEmailInput"})(Et||(Et=Object(_.__makeTemplateObject)(["border-width:initial;border-style:none;border-color:initial;border-image:initial;outline:none;height:20px;color:#666666;width:100%;"],[""]))),Ht=S.default.div.withConfig({componentId:"sc-35IKDt-3",displayName:"StyledEmailTag"})(kt||(kt=Object(_.__makeTemplateObject)(["height:18px;line-height:18px;font-size:14px;color:#333333;padding:1px 6px;display:inline-block;border-radius:2px;background-color:#daeaff;margin-right:8px;margin-bottom:9px;"],[""]))),Wt=Object(S.default)(Ft.a).withConfig({componentId:"sc-35IKDt-4",displayName:"StyledCancelIcon"})(Ct||(Ct=Object(_.__makeTemplateObject)(["margin-left:3px;width:9px;height:9px;cursor:pointer;&:hover{> path{fill:#6b6969;}}"],[""]))),Kt=S.default.div.withConfig({componentId:"sc-35IKDt-5",displayName:"StyledError"})(Tt||(Tt=Object(_.__makeTemplateObject)(["color:#cd4747;font-size:12px;"],[""]))),Yt=Object(S.default)(Ce.a).withConfig({componentId:"sc-35IKDt-6",displayName:"StyledSubmitButton"})(St||(St=Object(_.__makeTemplateObject)(["display:block;margin:40px auto 0;"],[""]))),Zt=n(1265),qt=n.n(Zt),Qt=n(1171),Xt=n.n(Qt);function Jt(e){return/^((\+86)|(86))?1[0-9]{10}$/.test(e)}var $t=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$');function en(e){return(e=e.trim()).length<=255&&$t.test(e)}var tn,nn,rn,an=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputEmailOrMobile:"",emailOrMobileList:[],failedLists:[],sending:!1,inputingEmailOrMobileReady:!1},t.handleChange=function(e){var n=e.target.value;t.setState({inputEmailOrMobile:n,inputingEmailOrMobileReady:Jt(n)||en(n)})},t.handleEnter=function(e){if(13===e.keyCode){var n=t.state,r=n.inputEmailOrMobile,i=n.emailOrMobileList;(Jt(r)||en(r))&&t.setState({inputEmailOrMobile:"",inputingEmailOrMobileReady:!1,emailOrMobileList:i.concat(r)})}},t.handleSubmit=function(){return Object(_.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,c,l;return Object(_.__generator)(this,(function(s){switch(s.label){case 0:e=this.state,t=e.inputEmailOrMobile,n=e.emailOrMobileList,r=(r=n.concat(t)).filter((function(e){return Jt(e)||en(e)})).map((function(e){return e.replace(/\s\n\t/g,"")})),r=qt()(r),s.label=1;case 1:return s.trys.push([1,3,,4]),this.setState({sending:!0}),[4,this.props.inviteTeamMembers(r)];case 2:return i=s.sent().invitedAccounts,o=(a=void 0===i?[]:i).length,Object(_e.a)("110058",{actionName:C()(tn||(tn=Object(_.__makeTemplateObject)(["成功邀请","人"],["成功邀请","人"])),o)}),o&&Y.a.success(C()(nn||(nn=Object(_.__makeTemplateObject)(["成功添加 "," 人"],["成功添加 "," 人"])),o)),o<r.length&&(c=r.filter((function(e){return!Xt()(a,e)})),this.setState({failedLists:c})),[3,4];case 3:return l=s.sent(),Y.a.error(l&&l.message),[3,4];case 4:return this.setState({sending:!1}),[2]}}))}))},t.handleCancelEmailOrMobile=function(e){var n=t.state.emailOrMobileList.filter((function(t,n){return n!==e}));t.setState({emailOrMobileList:n})},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.sending,r=t.emailOrMobileList,i=t.inputEmailOrMobile,a=t.failedLists,o=t.inputingEmailOrMobileReady;return j.a.createElement("div",null,j.a.createElement(Vt,null,C()("请输入成员邮箱或手机号码，添加后成员将受到邀请邮件。")),j.a.createElement(Ut,null,j.a.createElement("div",null,r.map((function(t,n){return j.a.createElement(Ht,{key:n},j.a.createElement("span",null,t),j.a.createElement(Wt,{onClick:function(){return e.handleCancelEmailOrMobile(n)}}))}))),j.a.createElement(Gt,{type:"text",value:i,onChange:this.handleChange,onKeyDown:this.handleEnter,placeholder:C()("输入回车添加更多")})),a.length>0&&j.a.createElement(Kt,null,C()(rn||(rn=Object(_.__makeTemplateObject)([""," 邀请失败"],[""," 邀请失败"])),a.join(", "))),j.a.createElement(Yt,{style:{width:"200px",height:"40px"},type:"black",disabled:!o&&r.length<1||n,onClick:this.handleSubmit},n?C()("正在添加..."):C()("添加到企业")))},t}(j.a.PureComponent),on=Z.f.getHost,cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inviteLink:""},t.inviteTeamMembers=function(e){return t.props.dispatch(Object(K.tb)(e))},t}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(_.__awaiter)(this,void 0,void 0,(function(){var e;return Object(_.__generator)(this,(function(t){switch(t.label){case 0:return Object(_e.a)("110055"),[4,this.props.dispatch(Object(K.B)())];case 1:return e=t.sent(),this.setState({inviteLink:on()+"/joinCompany/"+e}),[2]}}))}))},t.prototype.render=function(){var e=this.state.inviteLink;return j.a.createElement(Rt,{defaultActiveKey:"1"},j.a.createElement(Pt.a,{key:"1",tab:C()("邀请链接")},j.a.createElement(zt,{link:e})),j.a.createElement(Pt.a,{key:"2",tab:C()("通过手机/邮箱邀请")},j.a.createElement(an,{inviteTeamMembers:this.inviteTeamMembers})))},t}(j.a.PureComponent),ln=S.default.div.withConfig({componentId:"sc-WFFRM",displayName:"StyledCancelButton"})(dn||(dn=Object(_.__makeTemplateObject)(["cursor:pointer;font-size:14px;color:#666;"],[""]))),sn=S.default.div.withConfig({componentId:"sc-WFFRM-1",displayName:"StyledTitle"})(pn||(pn=Object(_.__makeTemplateObject)(["margin-bottom:-8px;"],[""])));function un(e,t){var n=y.a.open({width:520,title:j.a.createElement(sn,null,C()("现在就邀请团队成员吧")),maskClosable:!1,footer:j.a.createElement(ln,{onClick:function(){n&&n(),t&&t()}},C()("暂不邀请")),body:j.a.createElement(ve.Provider,{store:e},j.a.createElement(cn,{dispatch:e.dispatch})),onCancel:function(){t&&t()}}).destroy}var dn,pn,fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.visible,r=e.onClose;return j.a.createElement(y.a,{visible:n,width:520,title:j.a.createElement(sn,null,C()("现在就邀请团队成员吧")),footer:j.a.createElement(ln,{onClick:r},C()("暂不邀请")),maskClosable:!1,onCancel:r},j.a.createElement(cn,{dispatch:t}))},t}(j.a.PureComponent)},1166:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("path",{d:"M18 12c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm0 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm0 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z",fill:"#41464b"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1176:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(8),a=n.n(i),o=n(253),c=n(11),l=n.n(c),s=n(1177),u=n(972),d=n(985),p=n(1e3),f=n(1054),m=n(28);function b(e,t){return void 0===t&&(t={collaboratorCount:!0,contentUrl:!0,updateViews:!0}),Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,m.s.get("/files/"+e,{params:t})]}))}))}var h=n(1022),g=a.a.createContext({all:{collabs:[],admins:[]},file:null,refresh:function(){},zIndex:0,noAccessDisabled:!0,isDesktopVersion:!1,isEnterpriseVersion:!1,isEnterpriseAdmin:!1,parentFileGuid:void 0,myTeamId:void 0,isLoading:!0}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={all:{collabs:[],admins:[]},file:null,zIndex:0,refresh:function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,o,c;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:e=this.props,t=e.guid,n=e.onError,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([Object(h.e)(t),b(t,{collaboratorCount:!0})])];case 2:return i=r.__read.apply(void 0,[l.sent(),2]),a=i[0],o=i[1],this.setState({all:a,file:o,isLoading:!1}),[3,4];case 3:return c=l.sent(),null==n||n(c),[3,4];case 4:return[2]}}))}))},noAccessDisabled:!1,isDesktopVersion:!1,isEnterpriseAdmin:!1,isEnterpriseVersion:!1,myTeamId:void 0,isLoading:!0},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e;return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o,c,l,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=this.props,n=t.zIndex,i=t.isEnterpriseVersion,a=t.isDesktopVersion,o=t.isEnterpriseAdmin,c=t.parentFileGuid,l=t.me,s=t.teamId,(0,this.state.refresh)(),u=this.state.zIndex,n>u&&this.setState({zIndex:n}),this.setState({isDesktopVersion:a,isEnterpriseAdmin:o,isEnterpriseVersion:i,parentFileGuid:c,noAccessDisabled:!(null===(e=null==l?void 0:l.accountMetadata)||void 0===e?void 0:e.isEnterprisePremium),myTeamId:s}),i?[4,Object(h.j)()]:[3,2];case 1:r.sent()&&this.setState({noAccessDisabled:!1}),r.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){var e=this.props.children;return a.a.createElement(g.Provider,{value:this.state},e)},t}(a.a.Component);Object(u.minify)(!1);var _=u.StyleSheet.create({details_tooltip:{color:"#333",textAlign:"left",maxHeight:"200px",fontSize:"12px",margin:"8px",minWidth:"140px"},details_tooltip_part_profile:{alignItems:"center",display:"flex"},details_tooltip_avatar:{width:"28px",height:"28px",borderRadius:"50%",verticalAlign:"middle",marginRight:"15px"},details_tooltip_divider:{border:"none",borderBottom:"1px solid #e5e5e5",width:"104%",display:"block",margin:"12px 0 12px -2%"},details_tooltip_name:{fontSize:"16px"},details_tooltip_part:{display:"flex",marginBottom:"5px",lineHeight:"1.5",":last-child":{marginBottom:"0"}},details_tooltip_part_label:{width:"40px",color:"#999"},details_tooltip_part_deps:{paddingRight:"20px"},details_tooltip_part_deps_value:{margin:"0 0 -4px",padding:0,listStyle:"none"},details_tooltip_part_deps_li:{marginBottom:"4px"}}),y=function(e){var t=e.children,n=e.userId,o=e.avatar,c=e.name,s=e.email,m=e.teamId,b=Object(r.__read)(Object(i.useState)(!0),2),h=b[0],v=b[1],y=Object(r.__read)(Object(i.useState)([]),2),O=y[0],j=y[1],w=Object(r.__read)(Object(i.useState)(!1),2),x=w[0],E=w[1],k=Object(i.useContext)(g).myTeamId,C=function(){return a.a.createElement("main",{className:Object(u.css)(_.details_tooltip)},a.a.createElement("section",{className:Object(u.css)(_.details_tooltip_part_profile)},a.a.createElement("img",{className:Object(u.css)(_.details_tooltip_avatar),src:o,alt:c}),a.a.createElement("span",{className:Object(u.css)(_.details_tooltip_name)},c)),a.a.createElement("hr",{className:Object(u.css)(_.details_tooltip_divider)}),a.a.createElement("section",{className:Object(u.css)(_.details_tooltip_part)},a.a.createElement("label",{className:Object(u.css)(_.details_tooltip_part_label)},l()("ID")),a.a.createElement("span",null,n)),a.a.createElement("section",{className:Object(u.css)(_.details_tooltip_part)},a.a.createElement("label",{className:Object(u.css)(_.details_tooltip_part_label)},l()("邮箱")),a.a.createElement("span",null,s||l()("未绑定邮箱"))),a.a.createElement("section",{className:Object(u.css)(_.details_tooltip_part,_.details_tooltip_part_deps)},a.a.createElement("label",{className:Object(u.css)(_.details_tooltip_part_label)},l()("部门")),h?a.a.createElement(p.a,null):O.length?a.a.createElement("ul",{className:Object(u.css)(_.details_tooltip_part_deps_value)},O.map((function(e,t){return a.a.createElement("li",{className:Object(u.css)(_.details_tooltip_part_deps_li),key:t},e.departments.map((function(e){return e.name})).join(" - "))}))):l()("暂无")))};return m&&k&&m!==k?t:a.a.createElement(d.a,{placement:"rightTop",trigger:["hover"],theme:"white",title:function(){return C()||null},visible:x,onVisibleChange:function(e){e&&h?Object(f.c)(n).then((function(e){j(e.paths),v(!1),E(!0)}),(function(){j([]),v(!1),E(!0)})):E(e)}},t)},O=n(91);function j(e){return"inherited"===e?l()("继承权限"):"none"===e?l()("没有权限"):"reader"===e?l()("只能阅读"):"commentator"===e?l()("只能评论"):"editor"===e?l()("可以编辑"):l()("继承权限")}function w(e){return"edit"===e?l()("可以编辑"):"comment"===e?l()("只能评论"):"read"===e?l()("只能阅读"):"none"===e?l()("禁止访问"):"admin"===e?l()("管理者"):l()("添加权限")}var x=Object(O.isMobile)(),E=[{id:1,key:"name",value:l()("姓名")},{id:2,key:"alias",value:l()("别名")},{id:3,key:"id",value:l()("ID")},{id:4,key:"email",value:l()("邮箱")},{id:5,key:"department",value:l()("部门")},{id:6,key:"mobileAccount",value:l()("手机号")}];function k(e){var t=this,n=e.userId,o=e.isOutsider,c=e.avatar,s=e.children,u=Object(r.__read)(Object(i.useState)({}),2),p=u[0],f=u[1],b=Object(r.__read)(Object(i.useState)([]),2),h=b[0],g=b[1],v=Object(r.__read)(Object(i.useState)(!1),2),_=v[0],y=v[1],O=function(){var e=p.names,t=p.labels,n=p.infos;return a.a.createElement(A,null,a.a.createElement(B,null,a.a.createElement("img",{src:c,alt:"",className:"avatar"}),a.a.createElement(D,null,a.a.createElement("div",{className:"names"},a.a.createElement("span",{className:"name"},null==e?void 0:e.name),(null==e?void 0:e.alias)&&a.a.createElement("span",{className:"alias"},"(",e.alias,")")),a.a.createElement("div",{className:"labels"},null==t?void 0:t.map((function(e){return e.value?a.a.createElement(L,null,e.value):null}))))),a.a.createElement(z,null,null==n?void 0:n.map((function(e){return a.a.createElement("tr",null,a.a.createElement("td",{className:"field-name"},function(e){var t,n;return"builtin"===e.type&&null!==(n=null===(t=E.find((function(t){return t.key===e.key})))||void 0===t?void 0:t.value)&&void 0!==n?n:e.key}(e)),a.a.createElement("td",{className:"field-value"},"builtin"===e.type&&"department"===e.key?function(e){return o?l()("无权限查看"):h.length?a.a.createElement(a.a.Fragment,null,h.map((function(e,t){return a.a.createElement("div",{key:t},e.departments.map((function(e){return e.name})).join(" - "))}))):e.value||"-"}(e):e.value||"-"))}))))};return a.a.createElement(d.a,{placement:"rightTop",trigger:["hover"],theme:"white",title:function(){return O()},visible:_,onVisibleChange:function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return y(!1),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,m.s.get("/user/users/"+n+"/info")];case 1:return e=r.sent(),t=e.data,f(t),g(t.paths),[2]}}))}))];case 2:return i.sent(),y(e),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))}},s)}var C,T,S,I,N,R,P,M,A=o.default.div.withConfig({componentId:"sc-2eSsa7",displayName:"StyledUserCard"})(C||(C=Object(r.__makeTemplateObject)(["min-width:200px;padding:14px 8px 12px;min-height:100px;"],[""]))),B=o.default.div.withConfig({componentId:"sc-2eSsa7-1",displayName:"BasicInfo"})(T||(T=Object(r.__makeTemplateObject)(["display:flex;align-items:center;border-bottom:1px solid rgba(65,70,75,0.2);padding-bottom:12px;.avatar{width:32px;height:32px;border-radius:16px;margin-right:12px;}"],[""]))),D=o.default.div.withConfig({componentId:"sc-2eSsa7-2",displayName:"NameLabel"})(S||(S=Object(r.__makeTemplateObject)([".names{font-weight:500;color:rgba(65,70,75,0.9);text-align:left;.name{font-size:16px;line-height:16px;vertical-align:bottom;display:inline-block;max-width:20em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.alias{font-size:12px;line-height:12px;vertical-align:bottom;display:inline-block;max-width:20em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.labels{display:flex;}"],[""]))),L=o.default.div.withConfig({componentId:"sc-2eSsa7-3",displayName:"Label"})(I||(I=Object(r.__makeTemplateObject)(["height:18px;line-height:18px;padding:0 8px;max-width:7em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border:1px solid #4583d4;border-radius:2px;margin-right:2px;font-size:12px;font-weight:bold;color:#508cd7;transform:scale(0.833);transform-origin:left;"],[""]))),z=o.default.table.withConfig({componentId:"sc-2eSsa7-4",displayName:"FieldsInfo"})(N||(N=Object(r.__makeTemplateObject)(["padding:8px 0;margin:0;min-width:100%;.field-name{margin-right:16px;max-width:6em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgba(65,70,75,0.6);text-align:left;font-size:12px;font-weight:500;line-height:20px;margin-bottom:4px;vertical-align:top;}.field-value{max-width:15em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgba(65,70,75,0.9);text-align:left;font-size:12px;font-weight:500;line-height:20px;margin-bottom:4px;vertical-align:top;}"],[""]))),F=o.default.div.withConfig({componentId:"sc-1-Mebf",displayName:"AvatarWrapper"})(R||(R=Object(r.__makeTemplateObject)(["display:inline-block;width:28px;height:28px;border-radius:14px;overflow:hidden;min-width:",";vertical-align:middle;"],["",""])),(function(e){return e.isMobile?"28px":"initial"})),V=Object(o.default)(F).withConfig({componentId:"sc-1-Mebf-1",displayName:"NewAvatarWrapper"})(P||(P=Object(r.__makeTemplateObject)(["width:32px;height:32px;border-radius:16px;"],[""]))),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.userId,r=e.name,i=e.email,o=e.teamId,c=e.width,l=void 0===c?28:c,s=e.height,u=void 0===s?28:s,d=e.isOutsider,p=void 0!==d&&d,f=e.newSearchList,m=!!__RUNTIME_ENV__.FIELD_MANAGEMENT,b=m&&f?V:F;return m?a.a.createElement(k,{userId:n,isOutsider:p,avatar:t},a.a.createElement(b,{isMobile:x,"data-test":"avatar_user"},a.a.createElement("img",{src:t,width:f?l:28,height:f?u:28}))):a.a.createElement(y,{avatar:t,userId:n,name:r,email:i,teamId:o},a.a.createElement(b,{isMobile:x,"data-test":"avatar_user"},a.a.createElement("img",{src:t,width:28,height:28})))},t}(a.a.Component),G=n.p+"static/lizard-one/assets/add_admin.4bc3a2db.png";Object(u.minify)(!1);var H=u.StyleSheet.create(((M={}).icon_add_admin={display:"inline-block",verticalAlign:"middle"},M));function W(){return a.a.createElement("img",{src:G,height:"28",width:"28",className:Object(u.css)(H.icon_add_admin)})}var K,Y=n.p+"static/lizard-one/assets/add_collab.37c0a9dc.png";Object(u.minify)(!1);var Z=u.StyleSheet.create(((K={}).icon_add_collab={display:"inline-block",verticalAlign:"middle"},K));function q(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:Y,height:"14",width:"14",className:Object(u.css)(Z.icon_add_collab),style:n})}var Q,X=n.p+"static/lizard-one/assets/back_arrow.3a02d078.png";Object(u.minify)(!1);var J=u.StyleSheet.create(((Q={}).icon_back_arrow={display:"inline-block",verticalAlign:"middle"},Q));function $(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:X,height:"16",width:"16",className:Object(u.css)(J.icon_back_arrow),style:n})}var ee,te=n.p+"static/lizard-one/assets/checker.4ec03c88.png";Object(u.minify)(!1);var ne=u.StyleSheet.create(((ee={}).icon_checker={display:"inline-block",verticalAlign:"middle"},ee));function re(){return a.a.createElement("img",{src:te,height:"12",width:"16",className:Object(u.css)(ne.icon_checker)})}var ie,ae=n.p+"static/lizard-one/assets/department.7eb6a1e4.png",oe=n.p+"static/lizard-one/assets/group.url.0b07bf1f.svg";Object(u.minify)(!1);var ce=u.StyleSheet.create(((ie={}).icon_department={display:"inline-block",verticalAlign:"middle"},ie));function le(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:ae,height:"28",width:"28",className:Object(u.css)(ce.icon_department),style:n})}function se(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:oe,height:"28",width:"28",className:Object(u.css)(ce.icon_department),style:n})}var ue,de=n.p+"static/lizard-one/assets/enterprise.4715d2a1.png";Object(u.minify)(!1);var pe=u.StyleSheet.create(((ue={}).icon_enterprise={display:"inline-block",verticalAlign:"middle"},ue));function fe(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:de,height:"28",width:"28",className:Object(u.css)(pe.icon_enterprise),style:n})}var me,be=n.p+"static/lizard-one/assets/gray_exclamation.c26747a3.png";Object(u.minify)(!1);var he=u.StyleSheet.create(((me={}).icon_gray_exclamation={display:"inline-block",verticalAlign:"middle"},me));function ge(){return a.a.createElement("img",{src:be,height:"16",width:"16",className:Object(u.css)(he.icon_gray_exclamation)})}var ve,_e=n.p+"static/lizard-one/assets/green_exlamation.6bdc06d3.png";Object(u.minify)(!1);var ye=u.StyleSheet.create(((ve={}).icon_green_exlamation={display:"inline-block",verticalAlign:"middle"},ve));function Oe(){return a.a.createElement("img",{src:_e,height:"22",width:"22",className:Object(u.css)(ye.icon_green_exlamation)})}var je;n.p;Object(u.minify)(!1);u.StyleSheet.create(((je={}).icon_no_collabs={display:"inline-block",verticalAlign:"middle"},je));var we,xe=n.p+"static/lizard-one/assets/panel_x.36871216.png";Object(u.minify)(!1);var Ee=u.StyleSheet.create(((we={}).icon_panel_x={display:"inline-block",verticalAlign:"middle"},we));function ke(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:xe,height:"12",width:"12",className:Object(u.css)(Ee.icon_panel_x),style:n})}var Ce,Te=n.p+"static/lizard-one/assets/panel_x_hover.99a9e5a7.png";Object(u.minify)(!1);var Se=u.StyleSheet.create(((Ce={}).icon_panel_x_hover={display:"inline-block",verticalAlign:"middle"},Ce));function Ie(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:Te,height:"12",width:"12",className:Object(u.css)(Se.icon_panel_x_hover),style:n})}var Ne,Re=n.p+"static/lizard-one/assets/parent_folder.0e8623f9.png";Object(u.minify)(!1);var Pe=u.StyleSheet.create(((Ne={}).icon_parent_folder={display:"inline-block",verticalAlign:"middle"},Ne));function Me(){return a.a.createElement("img",{src:Re,height:"28",width:"28",className:Object(u.css)(Pe.icon_parent_folder)})}var Ae,Be=n.p+"static/lizard-one/assets/plus.e8176fb3.png";Object(u.minify)(!1);var De=u.StyleSheet.create(((Ae={}).icon_plus={display:"block",verticalAlign:"middle",marginRight:"5px"},Ae));function Le(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:Be,height:"12",width:"12",className:Object(u.css)(De.icon_plus),style:n})}var ze,Fe=n.p+"static/lizard-one/assets/search_x.af197b11.png";Object(u.minify)(!1);var Ve=u.StyleSheet.create(((ze={}).icon_search_x={display:"inline-block",verticalAlign:"middle"},ze));function Ue(){return a.a.createElement("img",{src:Fe,height:"12",width:"12",className:Object(u.css)(Ve.icon_search_x)})}var Ge,He=n.p+"static/lizard-one/assets/search_x_hover.061e0562.png";Object(u.minify)(!1);var We=u.StyleSheet.create(((Ge={}).icon_search_x_hover={display:"inline-block",verticalAlign:"middle"},Ge));function Ke(){return a.a.createElement("img",{src:He,height:"12",width:"12",className:Object(u.css)(We.icon_search_x_hover)})}var Ye,Ze=n.p+"static/lizard-one/assets/search.852acc51.png";Object(u.minify)(!1);var qe=u.StyleSheet.create(((Ye={}).icon_search={display:"inline-block",verticalAlign:"middle"},Ye));function Qe(){return a.a.createElement("img",{src:Ze,height:"14",width:"14",className:Object(u.css)(qe.icon_search)})}var Xe,Je=n.p+"static/lizard-one/assets/setting.4b4bfc25.png";Object(u.minify)(!1);var $e=u.StyleSheet.create(((Xe={}).icon_setting={display:"inline-block",verticalAlign:"middle"},Xe));function et(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:Je,height:"12",width:"12",className:Object(u.css)($e.icon_setting),style:n})}var tt,nt=n.p+"static/lizard-one/assets/warning.d17ed20c.png";Object(u.minify)(!1);var rt=u.StyleSheet.create(((tt={}).icon_warning={display:"inline-block",verticalAlign:"middle"},tt));function it(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:nt,height:"12",width:"12",className:Object(u.css)(rt.icon_warning),style:n})}var at,ot=n.p+"static/lizard-one/assets/reminder.48e0ebad.png";Object(u.minify)(!1);var ct=u.StyleSheet.create(((at={}).icon_reminder={display:"inline-block",verticalAlign:"middle",marginRight:"5px"},at));function lt(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:ot,height:"12",width:"12",className:Object(u.css)(ct.icon_reminder),style:n})}var st,ut=n.p+"static/lizard-one/assets/wechat.37a320c9.png";Object(u.minify)(!1);var dt=u.StyleSheet.create(((st={}).icon_wechat={display:"inline-block",verticalAlign:"middle",marginRight:"8px"},st));function pt(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:ut,height:"16",width:"16",className:Object(u.css)(dt.icon_wechat),style:n})}var ft,mt=n.p+"static/lizard-one/assets/question_mark.728f647e.png";Object(u.minify)(!1);var bt=u.StyleSheet.create(((ft={}).icon_question={display:"block",verticalAlign:"middle"},ft));function ht(e){var t=e.style,n=void 0===t?{}:t;return a.a.createElement("img",{src:mt,height:"14",width:"14",className:Object(u.css)(bt.icon_question),style:n})}var gt,vt,_t=o.default.div.withConfig({componentId:"sc-uFWo5",displayName:"AvatarUser"})(gt||(gt=Object(r.__makeTemplateObject)(["display:inline-block;width:28px;height:28px;border-radius:14px;overflow:hidden;min-width:",";vertical-align:middle;"],["",""])),(function(e){return e.isMobile?"28px":"initial"})),yt=function(){return a.a.createElement(_t,{isMobile:x,"data-test":"avatar_department"},a.a.createElement(le,null))},Ot=function(){return a.a.createElement(_t,{isMobile:x,"data-test":"avatar_group"},a.a.createElement(se,null))},jt=o.default.div.withConfig({componentId:"sc-3Lvdt",displayName:"AvatarUser"})(vt||(vt=Object(r.__makeTemplateObject)(["display:inline-block;width:28px;height:28px;border-radius:14px;overflow:hidden;min-width:",";vertical-align:middle;"],["",""])),(function(e){return e.isMobile?"28px":"initial"}));!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement(jt,{isMobile:x},a.a.createElement(fe,null))}}(a.a.Component);Object(u.minify)(!1);var wt=u.StyleSheet.create({back_button:{lineHeight:"18px",cursor:"pointer"},back_button_text:{fontSize:"16px",marginLeft:"29px"}}),xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;n&&n()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(wt.back_button),onClick:this.handleClick},a.a.createElement($,{style:{position:"absolute",left:"0",top:"1px"}}),a.a.createElement("span",{className:Object(u.css)(wt.back_button_text)},l()("返回")))},t}(a.a.Component);Object(u.minify)(!1);var Et,kt,Ct,Tt=u.StyleSheet.create({cancel_button:{display:"inline-block",width:"100px",height:"44px",lineHeight:"44px",textAlign:"center",border:"1px solid grey"}}),St=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(Tt.cancel_button)},l()("确定"))}}(a.a.Component),o.default.div.withConfig({componentId:"sc-lLYNV",displayName:"CollabButtonWrapper"})(Et||(Et=Object(r.__makeTemplateObject)(["text-align:center;background-image:linear-gradient(-180deg,#41464b 0%,#2c3033 100%);border-width:1px;border-style:solid;border-color:",";border-radius:2px;font-size:14px;color:#fff;cursor:pointer;position:relative;height:32px;line-height:32px;background-color:",";min-width:150px;max-width:185px;"],["","",""])),(function(e){return e.disabled?"#c6c7c9":"#41464b"}),(function(e){return e.disabled?"#d9dadb":"black"}))),It=o.default.div.withConfig({componentId:"sc-lLYNV-1",displayName:"CollabBtn"})(kt||(kt=Object(r.__makeTemplateObject)(["white-space:nowrap;padding:0 20px;height:32px;background-image:",";background-color:",";border-color:",";cursor:",";"],["","","","",""])),(function(e){return e.disabled?"none":"inherit"}),(function(e){return e.disabled?"#ccc":"inherit"}),(function(e){return e.disabled?"#ccc":"inherit"}),(function(e){return e.disabled?"not-allowed":"pointer"})),Nt=o.default.span.withConfig({componentId:"sc-lLYNV-2",displayName:"CollabButtonText"})(Ct||(Ct=Object(r.__makeTemplateObject)(["display:inline-block;vertical-align:baseline;margin-left:15px;"],[""]))),Rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=a.a.createRef(),t.state={hover:!1},t.handleClick=function(e){var n=t.props,r=n.onClick,i=n.disabled;void 0!==i&&i||r&&r()},t.handleMouseEnter=function(){t.state.hover||t.setState({hover:!0})},t.handleMouseLeave=function(){t.state.hover&&t.setState({hover:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.disabled,n=void 0===t||t,r=this.state.hover;return a.a.createElement(St,{disabled:n,"data-test":"collab_button_wrapper","data-disabled":n},a.a.createElement(It,{"data-test":"collab_button","data-disabled":n,disabled:n,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:function(t){return e.wrapperRef={current:t}}},a.a.createElement(q,{style:{marginTop:"-5px"}}),a.a.createElement(Nt,null,l()("添加协作者"))),r&&n&&a.a.createElement(Ea,{innerRef:this.wrapperRef},(function(e){return e&&a.a.createElement(zr,{style:{position:"absolute",left:e.left+23+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:48},l()("无权添加协作者"))})))},t}(a.a.Component);Object(u.minify)(!1);var Pt,Mt,At,Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._style=u.StyleSheet.create({confirm_dialog:{display:"inline-block",width:"230px",boxSizing:"border-box",padding:"0 0 20px",position:"relative",backgroundColor:"white",backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #FAFAFA 100%)",boxShadow:"0 4px 12px 1px rgba(0,0,0,0.20), inset 0 0 20px 0 rgba(255,255,255,0.36)",borderRadius:"2px",zIndex:t.context.zIndex},confirm_dialog_title:{fontSize:"14px",fontWeight:"bold",lineHeight:"20px",padding:"15px 20px 10px",borderBottom:"1px solid rgb(232, 232, 232)",position:"relative",zIndex:1,backgroundColor:"white"},confirm_dialog_description:{color:"#666",lineHeight:"21px",fontSize:"12px",padding:"0 20px",margin:"15px 0"},confirm_dialog_buttons:{textAlign:"center"},confirm_dialog_buttons_ok:{display:"inline-block",width:"85px",height:"30px",lineHeight:"30px",textAlign:"center",color:"white",marginRight:"5px",cursor:"pointer",backgroundImage:"linear-gradient(#e95555, #cd4747)",border:"1px solid #cd4747",borderRadius:"2px",fontSize:"12px",fontWeight:"bold",":hover":{backgroundImage:"none",backgroundColor:"#cd4747"}},confirm_dialog_buttons_cancel:{display:"inline-block",width:"85px",height:"30px",lineHeight:"30px",textAlign:"center",color:"#676B6F",marginRight:"5px",cursor:"pointer",backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #FBFBFB 100%)",border:"1px solid #CCCCCC",borderRadius:"2px",fontSize:"12px",marginLeft:"10px",":hover":{backgroundImage:"none",borderColor:"#a5a5a5",backgroundColor:"white"}},arrow_up:{position:"absolute",top:"-3px",width:"6px",height:"6px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 4px 12px 1px, rgba(255, 255, 255, 0.36) 0px 0px 20px 0px inset",transform:"rotate(45deg)",backgroundColor:"white"},arrow_down:{position:"absolute",top:"191px",borderTop:"4px solid white",boxShadow:"none",left:"186px",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",borderBottom:"4px solid transparent",width:"0px",height:"0px"}}),t.stopPropagation=function(e){e.nativeEvent.stopImmediatePropagation()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.description,r=e.style,i=e.okText,o=void 0===i?l()("确定"):i,c=e.cancelText,s=void 0===c?l()("取消"):c,d=e.onConfirm,p=e.onClose,f=e.arrowLeftPosition,m=void 0===f?20:f,b=e.arrowDirection,h=void 0===b?"up":b,g=this._style;return a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog),onMouseDown:this.stopPropagation,style:r},a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog_title)},t),a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog_description)},n),a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog_buttons)},a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog_buttons_ok),onClick:d},o),a.a.createElement("div",{className:Object(u.css)(g.confirm_dialog_buttons_cancel),onClick:p},s)),"up"===h?a.a.createElement("div",{className:Object(u.css)(g.arrow_up),style:{left:m}}):a.a.createElement("div",{className:Object(u.css)(g.arrow_down),style:{left:m}}))},t.contextType=g,t}(a.a.Component),Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.onConfirm,i=e.onClose,o=e.arrowDirection,c=void 0===o?"up":o;return a.a.createElement(Bt,{title:l()("确定移除管理者权限？"),description:l()(Pt||(Pt=Object(r.__makeTemplateObject)(["移除管理者权限后，"," 将变为「有编辑权限的协作者」，并出现在协作者列表里"],["移除管理者权限后，"," 将变为「有编辑权限的协作者」，并出现在协作者列表里"])),t),okText:l()("确定移除"),style:{width:"230px"},arrowLeftPosition:186,arrowDirection:c,onConfirm:n,onClose:i})},t}(a.a.Component),Lt=function(e){var t=e.name,n=e.departmentName,i=e.fileType,o=e.onConfirm,c=e.onClose,s=e.arrowDirection,u=void 0===s?"up":s;return a.a.createElement(Bt,{title:l()(Mt||(Mt=Object(r.__makeTemplateObject)(["确认添加",""],["确认添加",""])),t),description:l()(At||(At=Object(r.__makeTemplateObject)(["添加后，","内所有成员均可访问该","，并会收到消息提醒"],["添加后，","内所有成员均可访问该","，并会收到消息提醒"])),n,i),okText:l()("确认添加"),style:{width:"230px"},arrowLeftPosition:186,arrowDirection:u,onConfirm:o,onClose:c})},zt=n(1069),Ft=n.n(zt);Object(u.minify)(!1);var Vt,Ut,Gt,Ht,Wt,Kt=u.StyleSheet.create({expanded_button:{display:"inline-block",width:"12px",height:"12px",lineHeight:"12px",overflow:"hidden",verticalAlign:"middle",transform:"rotate(90deg)"}}),Yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(Kt.expanded_button)},a.a.createElement(Rn,null))},t}(a.a.Component),Zt=o.default.div.withConfig({componentId:"sc-19g8oD",displayName:"DepartmentWrapper"})(Vt||(Vt=Object(r.__makeTemplateObject)(["display:flex;"],[""]))),qt=o.default.span.withConfig({componentId:"sc-19g8oD-1",displayName:"DepartmentText"})(Ut||(Ut=Object(r.__makeTemplateObject)(["margin-left:8px;flex:1 1 auto;width:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],[""]))),Qt=o.default.div.withConfig({componentId:"sc-19g8oD-2",displayName:"LeftPart"})(Gt||(Gt=Object(r.__makeTemplateObject)(["display:flex;height:44px;line-height:44px;width:361px;"],[""]))),Xt=o.default.div.withConfig({componentId:"sc-19g8oD-3",displayName:"LeftClickableArea"})(Ht||(Ht=Object(r.__makeTemplateObject)(["display:flex;cursor:pointer;align-items:center;flex:1 1 auto;"],[""]))),Jt=o.default.div.withConfig({componentId:"sc-19g8oD-4",displayName:"RightPart"})(Wt||(Wt=Object(r.__makeTemplateObject)(["display:inline-block;height:44px;line-height:44px;width:100px;"],[""]))),$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;null==n||n()},t.handleAddAdmin=function(){var e=t.props.onAddAdmin;null==e||e()},t.handleRemoveAdmin=function(){var e=t.props.onRemoveAdmin;null==e||e()},t.handleChangeCollab=function(e){var n=t.props.onChangeCollab;null==n||n(e)},t.handleRemoveCollab=function(){var e=t.props.onRemoveCollab;null==e||e()},t.renderItem=function(){var e=t.props,n=e.permission,r=e.admin,i=void 0!==r&&r,o=e.title,c=e.disabled,l=void 0!==c&&c,s=e.isInherited,u=void 0!==s&&s,d=e.isAdmin;return i?a.a.createElement(Ar,{name:o,disabled:l,isInherited:u,isAdmin:d,isDepartment:!0,permission:"admin"!==n?null:n,onAdd:t.handleAddAdmin,onRemove:t.handleRemoveAdmin}):"admin"===n?a.a.createElement(Ar,{name:o,disabled:!0,isInherited:u,isAdmin:d,isDepartment:!0,permission:"admin"!==n?null:n}):a.a.createElement(Br,{disabled:l,permission:n,onChange:t.handleChangeCollab,onRemove:t.handleRemoveCollab,isDepartment:!0,name:o})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.level,n=e.title,i=e.expanded,o=void 0!==i&&i;return a.a.createElement(Zt,{"data-test":"department"},a.a.createElement(Qt,{"data-test":"left-part"},Object(r.__spreadArray)([],Object(r.__read)(new Array(t))).map((function(e,t){return a.a.createElement(Mn,{key:t})})),a.a.createElement(Xt,{onClick:this.handleClick,"data-test":"left-clickable-area"},o?a.a.createElement(Yt,null):a.a.createElement(Rn,null),a.a.createElement(le,{style:{marginLeft:"3px"}}),a.a.createElement(qt,{title:n,"data-test":"department-text"},n))),a.a.createElement(Jt,{"data-test":"right-part"},this.renderItem()))},t}(a.a.Component);Object(u.minify)(!1);var en,tn,nn,rn,an,on=u.StyleSheet.create({empty:{display:"inline-block",height:"44px",lineHeight:"44px",width:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",marginLeft:"7px"},empty_text:{color:"grey"}}),cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.parentLevel;return a.a.createElement("div",{className:Object(u.css)(on.empty)},Array.apply(null,{length:e}).map(Function.call,Number).map((function(e){return a.a.createElement(Mn,{key:e})})),a.a.createElement("span",{className:Object(u.css)(on.empty_text)},l()("（无下级部门）")))},t}(a.a.Component),ln=o.default.div.withConfig({componentId:"sc-mLP59",displayName:"EnterpriseWrapper"})(en||(en=Object(r.__makeTemplateObject)(["display:flex;"],[""]))),sn=o.default.span.withConfig({componentId:"sc-mLP59-1",displayName:"EnterpriseText"})(tn||(tn=Object(r.__makeTemplateObject)(["margin-left:8px;flex:1 1 auto;width:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],[""]))),un=o.default.div.withConfig({componentId:"sc-mLP59-2",displayName:"EnterpriseLeft"})(nn||(nn=Object(r.__makeTemplateObject)(["display:flex;height:44px;line-height:44px;width:361px;"],[""]))),dn=o.default.div.withConfig({componentId:"sc-mLP59-3",displayName:"EnterpriseLeftClickableArea"})(rn||(rn=Object(r.__makeTemplateObject)(["display:flex;cursor:pointer;align-items:center;flex:1 1 auto;"],[""]))),pn=o.default.div.withConfig({componentId:"sc-mLP59-4",displayName:"EnterpriseRight"})(an||(an=Object(r.__makeTemplateObject)(["display:inline-block;height:44px;line-height:44px;width:100px;"],[""]))),fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;null==n||n()},t.handleAddAdmin=function(){var e=t.props.onAddAdmin;null==e||e()},t.handleRemoveAdmin=function(){var e=t.props.onRemoveAdmin;null==e||e()},t.handleChangeCollab=function(e){var n=t.props.onChangeCollab;null==n||n(e)},t.handleRemoveCollab=function(){var e=t.props.onRemoveCollab;null==e||e()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.permission,n=e.admin,r=void 0!==n&&n,i=e.expanded,o=e.disabled,c=void 0!==o&&o,s=e.isInherited,u=void 0!==s&&s,d=e.isAdmin;return a.a.createElement(ln,{"data-test":"enterprise"},a.a.createElement(un,{"data-test":"enterprise-left-part"},a.a.createElement(dn,{onClick:this.handleClick},i?a.a.createElement(Yt,null):a.a.createElement(Rn,null),a.a.createElement(fe,{style:{marginLeft:"3px"}}),a.a.createElement(sn,{"data-test":"enterprise-text"},l()("企业全员")))),a.a.createElement(pn,{"data-test":"enterprise-right-part"},r?a.a.createElement(Ar,{name:l()("企业全员"),disabled:c,isInherited:u,isAdmin:d,isDepartment:!0,isEnterprise:!0,permission:"admin"!==t?null:"admin",onAdd:this.handleAddAdmin,onRemove:this.handleRemoveAdmin}):a.a.createElement(Br,{disabled:c,permission:t,isDepartment:!0,onChange:this.handleChangeCollab,onRemove:this.handleRemoveCollab,name:l()("企业全员"),isEnterprise:!0})))},t}(a.a.Component);Object(u.minify)(!1);var mn,bn,hn,gn,vn,_n,yn,On,jn,wn,xn,En,kn,Cn,Tn,Sn,In,Nn=u.StyleSheet.create({collapsed_button_wrapper:{display:"inline-block",width:"12px",height:"12px",lineHeight:"12px",overflow:"hidden",verticalAlign:"middle"},collapsed_button:{display:"inline-block",width:"0px",height:"0px",borderTop:"5px solid transparent",borderLeft:"5px solid rgba(85, 85, 85, 0.7)",borderBottom:"5px solid transparent",borderRight:"5px solid transparent",verticalAlign:"middle",transform:"scaleX(1.4) translate(3px, -1px)"}}),Rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(Nn.collapsed_button_wrapper)},a.a.createElement("div",{className:Object(u.css)(Nn.collapsed_button)}))},t}(a.a.Component),Pn=o.default.div.withConfig({componentId:"sc-bVuoy",displayName:"SpaceItem"})(mn||(mn=Object(r.__makeTemplateObject)(["display:inline-block;width:10px;height:100%;vertical-align:middle;flex-shrink:0;"],[""]))),Mn=function(){return a.a.createElement(Pn,null)},An=n(971);function Bn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,e.then((function(e){return An.B.success(t.doneMessage),e})).catch((function(e){var n,r;throw"Network Error"===e.message?An.B.error(l()("网络错误")):An.B.error(null!==(r=null===(n=e.data)||void 0===n?void 0:n.error)&&void 0!==r?r:t.errorMessage),e}))]}))}))}function Dn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(bn||(bn=Object(r.__makeTemplateObject)([""," 的权限已设置为管理者"],[""," 的权限已设置为管理者"])),t),errorMessage:l()(hn||(hn=Object(r.__makeTemplateObject)([""," 的权限设置失败"],[""," 的权限设置失败"])),t)})]}))}))}function Ln(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(gn||(gn=Object(r.__makeTemplateObject)([""," 的权限已移除"],[""," 的权限已移除"])),t),errorMessage:l()(vn||(vn=Object(r.__makeTemplateObject)([""," 的权限移除失败"],[""," 的权限移除失败"])),t)})]}))}))}function zn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(_n||(_n=Object(r.__makeTemplateObject)([""," 的权限已修改为「可以编辑」"],[""," 的权限已修改为「可以编辑」"])),t),errorMessage:l()(yn||(yn=Object(r.__makeTemplateObject)([""," 的权限调整失败"],[""," 的权限调整失败"])),t)})]}))}))}function Fn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(On||(On=Object(r.__makeTemplateObject)([""," 的权限已修改为「只能阅读」"],[""," 的权限已修改为「只能阅读」"])),t),errorMessage:l()(jn||(jn=Object(r.__makeTemplateObject)([""," 的权限调整失败"],[""," 的权限调整失败"])),t)})]}))}))}function Vn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(wn||(wn=Object(r.__makeTemplateObject)([""," 的权限已修改为「只能评论」"],[""," 的权限已修改为「只能评论」"])),t),errorMessage:l()(xn||(xn=Object(r.__makeTemplateObject)([""," 的权限调整失败"],[""," 的权限调整失败"])),t)})]}))}))}function Un(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(En||(En=Object(r.__makeTemplateObject)([""," 的权限已修改为「禁止访问」"],[""," 的权限已修改为「禁止访问」"])),t),errorMessage:l()(kn||(kn=Object(r.__makeTemplateObject)([""," 的权限调整失败"],[""," 的权限调整失败"])),t)})]}))}))}function Gn(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,Bn(e,{doneMessage:l()(Cn||(Cn=Object(r.__makeTemplateObject)([""," 的权限已移除"],[""," 的权限已移除"])),t),errorMessage:l()(Tn||(Tn=Object(r.__makeTemplateObject)([""," 的权限移除失败"],[""," 的权限移除失败"])),t)})]}))}))}function Hn(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(i){return n=function(){switch(t){case"commentator":return l()("只能评论");case"editor":return l()("可以编辑");case"inherited":return l()("继承权限");case"none":return l()("没有权限");case"reader":return l()("只能阅读");default:return""}}(),[2,Bn(e,{doneMessage:l()(Sn||(Sn=Object(r.__makeTemplateObject)(["上级目录协作者 的权限调整为「","」"],["上级目录协作者 的权限调整为「","」"])),n),errorMessage:l()(In||(In=Object(r.__makeTemplateObject)(["上级目录协作者 的权限调整失败"],["上级目录协作者 的权限调整失败"])))})]}))}))}function Wn(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,Bn(e,{doneMessage:l()("邀请邮件已发送"),errorMessage:l()("邀请失败")})]}))}))}function Kn(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,Bn(e,{doneMessage:l()("邀请短信已发送"),errorMessage:l()("邀请失败")})]}))}))}var Yn=o.default.div.withConfig({componentId:"sc-2aDDNL",displayName:"TreeWrapper"})($n||($n=Object(r.__makeTemplateObject)(["margin-top:9px;"],[""]))),Zn=o.default.div.withConfig({componentId:"sc-2aDDNL-1",displayName:"TreeRow"})(er||(er=Object(r.__makeTemplateObject)(["padding-left:",";padding-right:",";&:hover{background-color:#f7f7f7;}"],["","",""])),(function(e){return e.isMobile?"10px":"45px"}),(function(e){return e.isMobile?"10px":"0"}));function qn(e,t,n,i,a,o){return Object(r.__spreadArray)(Object(r.__spreadArray)(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.slice(0,a))),[Object(r.__assign)(Object(r.__assign)({},e[a]),{expanded:!n})]),Object(r.__read)(t.length>0?t.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{level:i+1})})):[{id:-1*Date.now(),name:"",role:null,level:i,expanded:!1,isInherited:!1,parentId:o}])),Object(r.__read)(e.slice(a+1)))}function Qn(e,t){var n=e[t];return Object(r.__spreadArray)(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.slice(0,t))),[Object(r.__assign)(Object(r.__assign)({},n),{expanded:!1})]),Object(r.__read)(e.slice(t+1)))}function Xn(e,t){var n=e[t];return Object(r.__spreadArray)(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.slice(0,t))),[Object(r.__assign)(Object(r.__assign)({},n),{expanded:!0})]),Object(r.__read)(e.slice(t+1)))}function Jn(e,t){if(t){var n=function(t){var n=Ft()(e,(function(e){return e.id===t}));return e[n]?e[n]:{expanded:!0}}(t);return!n.expanded||Jn(e,n.parentId)}return!1}var $n,er,tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={departments:[]},t.expandedCache={1:!0},t.handleDepartmentClick=function(e,n,r){return function(){var i=t.state.departments,a=Ft()(i,(function(t){return t.id===e}));r&&t.setState({departments:Qn(i,a)}),!r&&t.expandedCache[e]&&t.setState({departments:Xn(i,a)}),r||t.expandedCache[e]||Object(h.f)(e).then((function(o){t.expandedCache[e]=!0,t.setState({departments:qn(i,o,r,n,a,e)})}))}},t.handleAddAdmin=function(e,n){return function(){var r=t.props.getNotification,i=t.context.file;if(i){var a=i.guid;Dn(Object(h.s)(a,e,r()),n).then(t.refreshList())}}},t.handleRemoveAdmin=function(e,n){return function(){var r=t.context.file;if(r){var i=r.guid;Ln(Object(h.l)(i,e),n).then(t.refreshList())}}},t.handleChangeCollab=function(e,n){return function(r){var i=t.context.file,a=t.props.getNotification;if(i){var o=i.guid;"edit"===r?zn(Object(h.w)(o,e,a()),n).then(t.refreshList()):"comment"===r?Vn(Object(h.v)(o,e,a()),n).then(t.refreshList()):"none"===r?Un(Object(h.x)(o,e),n).then(t.refreshList()):"read"===r&&Fn(Object(h.y)(o,e,a()),n).then(t.refreshList())}}},t.handleRemoveCollab=function(e,n){return function(){var r=t.context.file;if(r){var i=r.guid;Gn(Object(h.o)(i,e),n).then(t.refreshList())}}},t.refreshList=function(){return function(){(0,t.context.refresh)()}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(h.g)().then((function(t){e.setState({departments:t.map((function(e){return 1===e.id?Object(r.__assign)(Object(r.__assign)({},e),{expanded:!0}):Object(r.__assign)(Object(r.__assign)({},e),{level:1,expanded:!1})}))})}))},t.prototype.render=function(){var e=this,t=this.props.admin,n=void 0!==t&&t,r=this.state.departments,i=this.context,o=i.all,c=i.file,l=n?o.admins:o.admins.concat(o.collabs),s=r.map((function(e){var t=l[Ft()(l,(function(t){return t.id===e.id&&t.isDepartment}))];return{expanded:e.expanded,id:e.id,isInherited:!!t&&t.isInherited,level:e.level,name:e.name,role:t?t.role:null,parentId:e.parentId}}));return c&&a.a.createElement(Yn,null,s.map((function(t){var r,i,o,l;return t.id<0?Jn(s,t.parentId)?null:a.a.createElement(Zn,{isMobile:x,key:t.id},a.a.createElement(cn,{parentLevel:t.level})):1===t.id?a.a.createElement(Zn,{isMobile:x,key:t.id},a.a.createElement(fn,{permission:t.role,admin:n,expanded:t.expanded,disabled:t.isInherited||!(null===(r=c.permissionsAndReasons)||void 0===r?void 0:r.canManageCollaborator.value),isInherited:t.isInherited,isAdmin:!!(null===(i=c.permissionsAndReasons)||void 0===i?void 0:i.canManageAdmin.value),onClick:e.handleDepartmentClick(t.id,t.level,t.expanded),onAddAdmin:e.handleAddAdmin(t.id,t.name),onRemoveAdmin:e.handleRemoveAdmin(t.id,t.name),onChangeCollab:e.handleChangeCollab(t.id,t.name),onRemoveCollab:e.handleRemoveCollab(t.id,t.name)})):Jn(s,t.parentId)?null:a.a.createElement(Zn,{isMobile:x,key:t.id},a.a.createElement($t,{level:t.level,admin:n,permission:t.role,expanded:t.expanded,disabled:t.isInherited||!(null===(o=c.permissionsAndReasons)||void 0===o?void 0:o.canManageCollaborator.value),isInherited:t.isInherited,isAdmin:!!(null===(l=c.permissionsAndReasons)||void 0===l?void 0:l.canManageAdmin.value),title:t.name,onClick:e.handleDepartmentClick(t.id,t.level,t.expanded),onAddAdmin:e.handleAddAdmin(t.id,t.name),onRemoveAdmin:e.handleRemoveAdmin(t.id,t.name),onChangeCollab:e.handleChangeCollab(t.id,t.name),onRemoveCollab:e.handleRemoveCollab(t.id,t.name)}))})).filter(Boolean))},t.contextType=g,t}(a.a.Component),nr=n(77);Object(u.minify)(!1);var rr=u.StyleSheet.create({divider_wrapper:{height:"1px",padding:"5px 15px"},divider:{backgroundColor:"#D8D8D8",height:"1px"}});function ir(){return a.a.createElement("div",{className:Object(u.css)(rr.divider_wrapper)},a.a.createElement("div",{className:Object(u.css)(rr.divider)}))}Object(u.minify)(!1);var ar=u.StyleSheet.create({tip_board_permission_override_rule:{display:"inline-block",position:"relative",width:"100px",padding:"10px",border:"1px solid black",backgroundColor:"white",zIndex:1},tip_board_permission_override_rule_text:{},tip_board_permission_override_rule_rule:{color:"blue",position:"absolute",bottom:"10px",right:"10px"}}),or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(ar.tip_board_permission_override_rule)},a.a.createElement("span",{className:Object(u.css)(ar.tip_board_permission_override_rule_text)},l()("由于所属部门已具备一定权限，主动设置的权限可能会被覆盖，系统会自动计算出当前实际权限。")),a.a.createElement("a",{href:"/",className:Object(u.css)(ar.tip_board_permission_override_rule_rule)},l()("了解规则")))},t}(a.a.Component);Object(u.minify)(!1);var cr=u.StyleSheet.create({highlight_item:{padding:"10px 10px 0 10px",position:"relative"},highlight_item_title:{marginBottom:"10px",color:"green"},highlight_item_subtitle:{marginBottom:"10px"},highlight_item_exlamation_wrapper:{position:"absolute",top:"16px",right:"16px"},highlight_item_tip_board_wrapper:{position:"absolute",top:"22px",left:"0"}}),lr=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cardVisible:!1},t.handleMouseEnterExlamation=function(){t.setState({cardVisible:!0})},t.handleMouseLeaveExlamation=function(){t.setState({cardVisible:!1})},t}Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.title,t=this.state.cardVisible;return a.a.createElement("div",{className:Object(u.css)(cr.highlight_item)},a.a.createElement("div",{className:Object(u.css)(cr.highlight_item_title)},e),a.a.createElement("div",{className:Object(u.css)(cr.highlight_item_subtitle)},l()("当前实际权限")),a.a.createElement("div",{className:Object(u.css)(cr.highlight_item_exlamation_wrapper),onMouseEnter:this.handleMouseEnterExlamation},a.a.createElement(Oe,null),t&&a.a.createElement("div",{className:Object(u.css)(cr.highlight_item_tip_board_wrapper),onMouseLeave:this.handleMouseLeaveExlamation},a.a.createElement(or,null))))}}(a.a.Component),n(150)),sr=n.n(lr);function ur(){var e;try{e=new MouseEvent("mousedown")}catch(t){(e=document.createEvent("MouseEvent")).initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}document.dispatchEvent(e)}function dr(e){var t=sr.a.find(e.type);return t?t.display:null}Object(u.minify)(!1);var pr=u.StyleSheet.create({normal_item:{padding:"12px 20px",position:"relative",cursor:"pointer",":hover":{backgroundColor:"#E6E7E8"}},normal_item_disabled:{cursor:"not-allowed",":hover":{backgroundColor:"inherit"}},normal_item_title:{color:"#666666",fontSize:"12px",minHeight:"12px",lineHeight:"12px",width:"144px"},normal_item_title_disabled:{color:"#ccc"},normal_item_subtitle:{color:"#A5A5A5",fontSize:"12px",height:"12px",lineHeight:"12px",width:"170px"},normal_item_subtitle_disabled:{color:"#ccc"},normal_item_checker:{position:"absolute",top:"8px",right:"15px"}}),fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props,r=n.onClick,i=n.disabled;void 0!==i&&i||(ur(),r&&r())},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.checked,r=e.disabled,i=void 0!==r&&r;return a.a.createElement("div",{className:Object(u.css)(pr.normal_item,i&&pr.normal_item_disabled),onClick:this.handleClick},a.a.createElement("div",{className:Object(u.css)(pr.normal_item_title,i&&pr.normal_item_title_disabled)},t),n&&a.a.createElement("div",{className:Object(u.css)(pr.normal_item_checker)},a.a.createElement(re,null)))},t}(a.a.Component);Object(u.minify)(!1);var mr=u.StyleSheet.create({remove_admin_item:{textAlign:"left",position:"relative",padding:"12px 20px",fontSize:"12px",":hover":{backgroundColor:"#E6E7E8"}},remove_admin_item_button:{color:"#CD4747",cursor:"pointer"},remove_admin_item_button_disabled:{color:"#ccc",cursor:"not-allowed"}}),br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRemoveButtonClick=function(e){ur(),setTimeout((function(){var e=t.props.onClick;e&&e()}),0)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.disabled,t=void 0!==e&&e;return a.a.createElement("div",{className:Object(u.css)(mr.remove_admin_item)},a.a.createElement("div",{className:Object(u.css)(mr.remove_admin_item_button,t&&mr.remove_admin_item_button_disabled),onClick:this.handleRemoveButtonClick},l()("移除管理者权限")))},t}(a.a.Component);Object(u.minify)(!1);var hr=u.StyleSheet.create({remove_item:{textAlign:"left",position:"relative",padding:"12px 20px",fontSize:"12px",":hover":{backgroundColor:"#E6E7E8"}},remove_item_button:{color:"#CD4747",cursor:"pointer"},remove_item_button_disabled:{color:"#ccc",cursor:"not-allowed"}}),gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRemoveButtonClick=function(e){var n=t.props,r=n.disabled,i=void 0!==r&&r,a=n.onClick;i||a&&a()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=void 0!==t&&t,r=e.isSelf,i=void 0!==r&&r;return a.a.createElement("div",{className:Object(u.css)(hr.remove_item)},a.a.createElement("div",{className:Object(u.css)(hr.remove_item_button,n&&hr.remove_item_button_disabled),onClick:this.handleRemoveButtonClick},i?l()("移除当前权限"):l()("移除已选权限")))},t}(a.a.Component);Object(u.minify)(!1);var vr,_r,yr,Or,jr,wr=u.StyleSheet.create({upgrade_wrapper:{height:"14px",position:"relative"},upgrade:{display:"inline-block",marginLeft:"6px",textAlign:"center",verticalAlign:"middle",textDecoration:"none",fontSize:"12px",padding:"4px 8px",backgroundImage:"linear-gradient(-180deg,#6c9fe2 0%,#80b3f5 100%)",borderRadius:"2px",color:"white",transform:"scale(0.8)",transformOrigin:"0 0",position:"absolute",right:0,top:"-2px"}}),xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return a.a.createElement("div",{className:Object(u.css)(wr.upgrade_wrapper)},e,a.a.createElement("a",{className:Object(u.css)(wr.upgrade),href:"/pricing",target:"_blank"},l()("升级到企业版")))},t}(a.a.Component),Er=o.default.div.withConfig({componentId:"sc-9oi7Q",displayName:"DropdownWrapper"})(vr||(vr=Object(r.__makeTemplateObject)(["position:relative;display:inline-block;vertical-align:middle;width:82px;height:26px;"],[""]))),kr=o.default.div.withConfig({componentId:"sc-9oi7Q-1",displayName:"DropdownButton"})(_r||(_r=Object(r.__makeTemplateObject)(["position:absolute;top:0;left:0;border:1px solid #e5e5e5;width:70px;padding-left:10px;height:24px;line-height:24px;color:",";cursor:",";background-color:",";border-radius:1px;&::after{content:' ';position:absolute;top:10px;right:13px;width:0;height:0;border-width:2px;border-style:solid;border-color:#a5a5a5 transparent transparent transparent;}"],["","","",""])),(function(e){return e.disabled?"#ccc":"#6da0e3"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?"#f7f7f7":"white"})),Cr=o.default.div.withConfig({componentId:"sc-9oi7Q-2",displayName:"RemoveButton"})(yr||(yr=Object(r.__makeTemplateObject)(["width:80px;text-align:center;color:",";cursor:",";background-color:",";border-radius:1px;border:1px solid #e5e5e5;height:24px;line-height:24px;"],["","","",""])),(function(e){return e.disabled?"#ccc":"#cd4747"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?"#f7f7f7":"white"})),Tr=o.default.span.withConfig({componentId:"sc-9oi7Q-3",displayName:"DropdownButtonText"})(Or||(Or=Object(r.__makeTemplateObject)(["position:absolute;width:68px;height:24px;line-height:24px;text-align:center;left:0;top:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],[""]))),Sr=o.default.div.withConfig({componentId:"sc-9oi7Q-4",displayName:"DropdownList"})(jr||(jr=Object(r.__makeTemplateObject)(["position:absolute;width:210px;background-color:white;padding:5px 0;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);border-radius:2px;z-index:",";"],["",""])),(function(e){return e.zIndex})),Ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={collapsed:!1,hover:!1},t.dropdownButtonRef=a.a.createRef(),t.handleButtonClick=function(e){var n=t.props.disabled;void 0!==n&&n||(setTimeout((function(){t.setState({collapsed:!0})}),300),setTimeout((function(){document.addEventListener("mousedown",t.handleDocumentMouseDown)}),0))},t.handleDocumentMouseDown=function(e){t.state.collapsed&&(document.removeEventListener("mousedown",t.handleDocumentMouseDown),t.setState({collapsed:!1}))},t.handleMouseEnter=function(e){t.state.hover||t.setState({hover:!0})},t.handleMouseLeave=function(e){t.state.hover&&t.setState({hover:!1})},t.stopPropagation=function(e){e.nativeEvent.stopImmediatePropagation()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownButtonRef,t=this.props.getInnerRef;(null==e?void 0:e.current)&&(null==t||t(e))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.prototype.render=function(){var e=this,t=this.props,n=t.buttonText,r=t.buttonTextColor,i=void 0===r?"inherit":r,o=t.children,c=t.disabled,s=void 0!==c&&c,u=t.isRemove,d=void 0!==u&&u,p=t.renderHover,f=void 0===p?function(){}:p,m=t.childrenHeight,b=t.onRemove,h=this.state,g=h.collapsed,v=h.hover,_=document.documentElement.getBoundingClientRect(),y=_.right,O=_.top,j=_.height;return a.a.createElement(Er,{"data-test":"dropdown_wrapper","data-disabled":s},d&&a.a.createElement(Cr,{"data-test":"dropdown_button","data-disabled":s,disabled:s,onClick:b},l()("删除")),!d&&a.a.createElement(kr,{"data-test":"dropdown_button","data-disabled":s,disabled:s,onClick:this.handleButtonClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:function(t){return e.dropdownButtonRef={current:t}}},a.a.createElement(a.a.Fragment,null,a.a.createElement(Tr,{"data-text":"dropdown_button_text",style:{color:i}},n),v&&this.dropdownButtonRef&&f(this.dropdownButtonRef))),!d&&g&&this.dropdownButtonRef&&a.a.createElement(Ea,{innerRef:this.dropdownButtonRef},(function(t){return t?t.top-O+t.height+5+m>j?a.a.createElement(Sr,{zIndex:e.context.zIndex,"data-text":"dropdown_list",style:{bottom:j-(t.top-O)+5+"px",right:y-t.right+"px"},onMouseDown:e.stopPropagation},o):a.a.createElement(Sr,{zIndex:e.context.zIndex,"data-test":"dropdown_list",style:{top:t.top-O+t.height+5+"px",right:y-t.right+"px"},onMouseDown:e.stopPropagation},o):null})))},t.contextType=g,t}(i.Component),Nr=o.default.div.withConfig({componentId:"sc-38R3Xs",displayName:"SetAdmin"})(Pr||(Pr=Object(r.__makeTemplateObject)(["position:relative;display:inline-block;vertical-align:middle;width:80px;height:24px;line-height:24px;background-color:",";color:",";cursor:",";border:1px solid #e5e5e5;border-radius:1px;text-align:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],["","","",""])),(function(e){return e.disabled?"#f7f7f7":"#fff"}),(function(e){return e.disabled?"#ccc":"#666"}),(function(e){return e.disabled?"not-allowed":"pointer"}));function Rr(e){return"admin"===e?l()("管理者"):l()("设为管理者")}var Pr,Mr,Ar=function(e){function t(t){var n=e.call(this,t)||this;n.wrapperRef=null,n.setAdminButtonRef=a.a.createRef(),n.handleSetAdminButtonClick=function(e){var t=n.props,r=t.disabled,i=void 0!==r&&r,a=t.isDepartment,o=t.onAdd,c=n.context.file;a&&(null==c?void 0:c.isSpace)&&!c.teamId?Co.warning(l()("此空间归属个人所有，添加部门管理前请先移交给企业。")):i||(a?n.handleShowSetAdminDialog():null==o||o())},n.handleNormalItemClick=function(e){return function(){n.setState({permission:e})}},n.handleShowConfirmDialog=function(){if(!n.state.showConfirmDialog){n.setState({showConfirmDialog:!0});var e=function(t){var r=document.getElementById("confirm-dialog-remove-user-permission");r&&!r.contains(t.target)&&(n.setState({showConfirmDialog:!1}),document.removeEventListener("click",e))};document.addEventListener("click",e)}},n.handleHideConfirmDialog=function(){n.state.showConfirmDialog&&n.setState({showConfirmDialog:!1})},n.handleShowSetAdminDialog=function(){n.state.showConfirmDialog||n.setState({showConfirmDialog:!0})},n.handleRemoveAdmin=function(){var e=n.props.onRemove;null==e||e()},n.onRenderHover=function(e){var t=n.props,i=t.disabled,o=void 0!==i&&i,c=t.isInherited,s=void 0!==c&&c,u=t.isAdmin,d=t.isSelf,p=void 0!==d&&d,f=t.isDesktopVersion,m=void 0!==f&&f,b=n.context.file,h=document.documentElement.getBoundingClientRect().width;return a.a.createElement(Ea,{innerRef:e},(function(e){if(e&&o){if(s){var t=p&&m,n=t?l()(Mr||(Mr=Object(r.__makeTemplateObject)(["你是","所在目录的管理者，无法直接退出协作。如希望转交管理权，可添加其他人为管理者，并让对方将该文件移动到他/她的桌面上"],["你是","所在目录的管理者，无法直接退出协作。如希望转交管理权，可添加其他人为管理者，并让对方将该文件移动到他/她的桌面上"])),(null==b?void 0:b.isFolder)?l()("文件夹"):l()("文件")):l()("上级目录管理者，不可移除"),i=t?153:118;return a.a.createElement(zr,{style:{position:"absolute",right:h-e.right+"px",top:e.top+e.height+10+"px",width:t?"175px":void 0},arrowLeftPosition:i},n)}return u?a.a.createElement(zr,{style:{position:"absolute",right:h-e.right+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:129},l()("可在管理者页面移除该管理者")):a.a.createElement(zr,{style:{position:"absolute",right:h-e.right+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:94},l()("无权更改管理者的权限"))}return null}))},n.handleSetAdminButtonMouseEnter=function(e){n.state.showOutsiderTooltip||n.setState({showOutsiderTooltip:!0})},n.handleSetAdminButtonMouseLeave=function(e){n.state.showOutsiderTooltip&&n.setState({showOutsiderTooltip:!1})},n.onSetAdminRef=function(e){n.setAdminButtonRef={current:e}},n.onWrapperRef=function(e){n.wrapperRef=e};var i=t.permission;return n.state={permission:null!=i?i:null,showConfirmDialog:!1,showOutsiderTooltip:!1},n}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.permission;t!==e.permission&&this.setState({permission:t,showConfirmDialog:!1})},t.prototype.render=function(){var e,t=this,n=this.props,r=n.disabled,i=void 0!==r&&r,o=n.name,c=n.isOutsider,s=void 0!==c&&c,u=n.isInviteOutdated,d=void 0!==u&&u,p=n.isEnterprise,f=n.onAdd,m=this.state,b=m.permission,h=m.showConfirmDialog,g=m.showOutsiderTooltip,v=null!==(e=dr(this.context.file))&&void 0!==e?e:"",_=p?l()("企业"):o,y=document.documentElement.getBoundingClientRect(),O=y.width,j=y.height;return"admin"!==b?a.a.createElement(a.a.Fragment,null,a.a.createElement(Nr,{disabled:i,"data-test":"set_admin","data-disabled":i,onClick:this.handleSetAdminButtonClick,onMouseEnter:this.handleSetAdminButtonMouseEnter,onMouseLeave:this.handleSetAdminButtonMouseLeave,ref:this.onSetAdminRef},Rr(b),g&&this.setAdminButtonRef.current&&a.a.createElement(Ea,{innerRef:this.setAdminButtonRef},(function(e){if(e&&i&&s){var t=Object(nr.isSelfHosted)()?l()("私有化环境不能添加外部协作者"):l()("外部协作者不可成为管理者");return a.a.createElement(zr,{style:{position:"absolute",right:O-e.right+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:119},t)}return null}))),h&&this.setAdminButtonRef&&a.a.createElement(Ea,{innerRef:this.setAdminButtonRef},(function(e){return e?e.top+e.height+10+191>j?a.a.createElement("div",{id:"confirm-dialog-add-department",style:{position:"absolute",right:O-e.right+"px",bottom:j-e.top+10+"px"}},a.a.createElement(Lt,{name:o,departmentName:_,fileType:v,onConfirm:f,onClose:t.handleHideConfirmDialog,arrowDirection:"down"})):a.a.createElement("div",{id:"confirm-dialog-add-department",style:{position:"absolute",right:O-e.right+"px",top:e.top+e.height+10+"px"}},a.a.createElement(Lt,{name:o,departmentName:_,fileType:v,onConfirm:f,onClose:t.handleHideConfirmDialog})):null}))):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ir,{buttonText:Rr(b),disabled:i,renderHover:this.onRenderHover,getInnerRef:this.onWrapperRef,childrenHeight:111,isRemove:d,onRemove:this.handleRemoveAdmin},a.a.createElement(fr,{onClick:this.handleNormalItemClick("admin"),title:l()("管理者"),checked:"admin"===b,disabled:!1}),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ir,null),a.a.createElement(br,{onClick:this.handleShowConfirmDialog}))),h&&this.wrapperRef&&a.a.createElement(Ea,{innerRef:this.wrapperRef},(function(e){return e?e.top+e.height+10+191>j?a.a.createElement("div",{id:"confirm-dialog-remove-user-permission",style:{position:"absolute",right:O-e.right+"px",bottom:j-e.top+10+"px"}},a.a.createElement(Dt,{name:o,onConfirm:t.handleRemoveAdmin,onClose:t.handleHideConfirmDialog,arrowDirection:"down"})):a.a.createElement("div",{id:"confirm-dialog-remove-user-permission",style:{position:"absolute",right:O-e.right+"px",top:e.top+e.height+10+"px"}},a.a.createElement(Dt,{name:o,onConfirm:t.handleRemoveAdmin,onClose:t.handleHideConfirmDialog})):null})))},t.contextType=g,t}(a.a.Component),Br=function(e){function t(t){var n=e.call(this,t)||this;n.noneAccessRef=a.a.createRef(),n.wrapperRef=null,n.targetPermission=null,n.handleNormalClick=function(e,t){return function(){var r=n.props,i=r.onChange,a=r.isDepartment,o=n.context,c=o.file,s=o.isEnterpriseVersion;c&&(a&&c.isSpace&&!c.teamId&&s?Co.warning(l()("此空间归属个人所有，添加部门协作前请先移交给企业。")):(n.setState({permission:t}),!e&&a?(n.targetPermission=t,n.handleShowConfirmDialog()):null==i||i(t,e)))}},n.handleRemoveItemClick=function(){var e=n.props.onRemove;null==e||e(),ur()},n.handleNormalEnter=function(){n.state.hover||n.setState({hover:!0})},n.handleNormalLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onHover=function(e){var t=n.props,r=t.disabled,i=void 0!==r&&r,o=t.isSelf,c=t.isOutsider,s=i&&!o,u=Object(nr.isSelfHosted)()&&c?l()("私有化环境不能添加外部协作者"):l()("无权更改协作者的权限"),d=document.documentElement.getBoundingClientRect().width;return a.a.createElement(Ea,{innerRef:e},(function(e){return e&&s?a.a.createElement(zr,{style:{position:"absolute",right:d-e.right+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:94},u):null}))},n.onRef=function(e){n.wrapperRef=e},n.handleShowConfirmDialog=function(){n.state.showConfirmDialog||n.setState({showConfirmDialog:!0})},n.handleHideConfirmDialog=function(){n.state.showConfirmDialog&&n.setState({showConfirmDialog:!1})},n.handleAddDepartment=function(){var e=n.props.onChange;null==e||e(n.targetPermission,null),n.handleHideConfirmDialog()},n.renderOptions=function(){var e=n.props.isSelf,t=void 0!==e&&e,r=n.state.permission,i=n.context.isEnterpriseVersion,o=!t||!r;return a.a.createElement(a.a.Fragment,null,(o||"read"===r)&&a.a.createElement(fr,{onClick:n.handleNormalClick(r,"read"),title:i?l()("只能阅读"):a.a.createElement(xr,null,l()("只能阅读")),checked:"read"===r,disabled:!i}),(o||"comment"===r)&&a.a.createElement(fr,{onClick:n.handleNormalClick(r,"comment"),title:i?l()("只能评论"):a.a.createElement(xr,null,l()("只能评论")),checked:"comment"===r,disabled:!i}),(o||"edit"===r)&&a.a.createElement(fr,{onClick:n.handleNormalClick(r,"edit"),title:l()("可以编辑"),checked:"edit"===r,disabled:!1}))};var r=t.permission;return n.state={permission:null!=r?r:null,hover:!1,showConfirmDialog:!1},n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.permission!==e.permission?{permission:e.permission}:null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.isSelf,i=void 0!==r&&r,o=n.isInviteOutdated,c=n.disabled,s=n.name,u=void 0===s?"":s,d=n.isEnterprise,p=this.state,f=p.permission,m=p.hover,b=p.showConfirmDialog,h=this.context,g=h.noAccessDisabled,v=h.isDesktopVersion,_="admin"===f||!!c&&!i,y=!i||!f,O="inherit";_?O="#ccc":f||(O="#666");var j=null!==(e=dr(h.file))&&void 0!==e?e:"",x=d?l()("企业"):u,E=document.documentElement.getBoundingClientRect(),k=E.width,C=E.height;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ir,{buttonText:w(f),buttonTextColor:O,disabled:_,renderHover:this.onHover,getInnerRef:this.onRef,childrenHeight:270,isRemove:o,onRemove:this.handleRemoveItemClick},this.renderOptions(),!v&&(y||"none"===f)&&a.a.createElement("div",{onMouseEnter:this.handleNormalEnter,onMouseLeave:this.handleNormalLeave,ref:this.noneAccessRef},a.a.createElement(fr,{onClick:this.handleNormalClick(f,"none"),title:l()("禁止访问"),checked:"none"===f,disabled:g}),m&&this.noneAccessRef.current&&g&&a.a.createElement(Ea,{innerRef:this.noneAccessRef},(function(e){return e&&a.a.createElement(zr,{style:{position:"absolute",left:e.left+19+"px",top:e.top+e.height+"px"},arrowLeftPosition:22},l()("企业高级版功能"))}))),f&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ir,null),a.a.createElement(gr,{isSelf:i,onClick:this.handleRemoveItemClick}))),b&&this.wrapperRef&&a.a.createElement(Ea,{innerRef:this.wrapperRef},(function(e){return e?e.top+e.height+10+191>C?a.a.createElement("div",{id:"confirm-dialog-add-department",style:{position:"absolute",right:k-e.right+"px",bottom:C-e.top+10+"px"}},a.a.createElement(Lt,{name:u,departmentName:x,fileType:j,onConfirm:t.handleAddDepartment,onClose:t.handleHideConfirmDialog,arrowDirection:"down"})):a.a.createElement("div",{id:"confirm-dialog-add-department",style:{position:"absolute",right:k-e.right+"px",top:e.top+e.height+10+"px"}},a.a.createElement(Lt,{name:u,departmentName:x,fileType:j,onConfirm:t.handleAddDepartment,onClose:t.handleHideConfirmDialog})):null})))},t.contextType=g,t}(a.a.Component),Dr=function(e){function t(){var t,n=e.apply(this,Object(r.__spreadArray)([],Object(r.__read)(arguments)))||this;return n.state={permission:null!==(t=n.props.permission)&&void 0!==t?t:"inherited",hover:!1},n.noneAccessRef=a.a.createRef(),n.handleClick=function(e){return function(){var t=n.props.onChange;n.setState({permission:e}),null==t||t(e)}},n.handleNormalEnter=function(){n.state.hover||n.setState({hover:!0})},n.handleNormalLeave=function(){n.state.hover&&n.setState({hover:!1})},n.handleRenderHover=function(e){var t=n.props.isDesktopVersion;if(!(void 0!==t&&t))return null;var r=document.documentElement.getBoundingClientRect().width;return a.a.createElement(Ea,{innerRef:e},(function(e){return e?a.a.createElement(zr,{style:{position:"absolute",right:r-e.right+"px",top:e.top+e.height+10+"px"},arrowLeftPosition:216},l()("桌面文件暂时不支持修改上级目录协作者权限")):null}))},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.disabled,t=void 0!==e&&e,n=this.state,r=n.permission,i=n.hover,o=this.context,c=o.noAccessDisabled,s=o.isEnterpriseVersion;return a.a.createElement(Ir,{buttonText:j(r),disabled:t,childrenHeight:275,renderHover:this.handleRenderHover},a.a.createElement(fr,{onClick:this.handleClick("inherited"),title:l()("继承权限"),checked:"inherited"===r,disabled:!1}),a.a.createElement(fr,{onClick:this.handleClick("reader"),title:s?l()("只能阅读"):a.a.createElement(xr,null,l()("只能阅读")),checked:"reader"===r,disabled:!s}),a.a.createElement(fr,{onClick:this.handleClick("commentator"),title:s?l()("只能评论"):a.a.createElement(xr,null,l()("只能评论")),checked:"commentator"===r,disabled:!s}),a.a.createElement(fr,{onClick:this.handleClick("editor"),title:l()("可以编辑"),checked:"editor"===r,disabled:!1}),a.a.createElement("div",{onMouseEnter:this.handleNormalEnter,onMouseLeave:this.handleNormalLeave,ref:this.noneAccessRef},a.a.createElement(fr,{onClick:this.handleClick("none"),title:l()("没有权限"),checked:"none"===r,disabled:c}),i&&this.noneAccessRef.current&&c&&a.a.createElement(Ea,{innerRef:this.noneAccessRef},(function(e){return e&&a.a.createElement(zr,{style:{position:"absolute",left:e.left+19+"px",top:e.top+e.height+"px"},arrowLeftPosition:22},l()("企业高级版功能"))}))))},t.contextType=g,t}(a.a.Component);Object(u.minify)(!1);var Lr,zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._style=u.StyleSheet.create({flag:{display:"inline-block",padding:"6px 10px",color:"white",position:"relative",backgroundColor:"#41464C",boxShadow:"0 2px 4px 0 rgba(65,70,76,0.20)",borderRadius:"2px",fontSize:"12px",zIndex:t.context.zIndex,pointerEvents:"none"},arrow:{position:"absolute",top:"-8px",width:"0",height:"0",borderTop:"4px solid transparent",borderRight:"4px solid transparent",borderBottom:"4px solid #41464C",borderLeft:"4px solid transparent"}}),t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.style,r=void 0===n?{}:n,i=e.arrowLeftPosition,o=void 0===i?2:i,c=this._style;return a.a.createElement("div",{className:Object(u.css)(c.flag),style:r},t,a.a.createElement("div",{className:Object(u.css)(c.arrow),style:{left:o+"px"}}))},t.contextType=g,t}(a.a.Component),Fr=o.default.div.withConfig({componentId:"sc-2Yo-N",displayName:"ListWrapper"})(Lr||(Lr=Object(r.__makeTemplateObject)(["margin-top:9px;padding-bottom:",";"],["",""])),(function(e){return e.isMobile?"15px":"auto"})),Vr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={list:[]},t.handleAddAdminButtonClick=function(){var e=t.props.onClick;e&&e()},t.handleRemoveAdmin=function(e,n,r,i){return function(){var a=t.context.file;if(a){var o=a.guid;r?Ln(Object(h.l)(o,e),n).then(t.refreshList):i?Ln(Object(h.m)(o,e),n).then(t.refreshList):Ln(Object(h.n)(o,e),n).then(t.refreshList)}}},t.refreshList=function(){(0,t.context.refresh)()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.me,n=this.context,r=n.all.admins,i=n.file,o=n.isEnterpriseAdmin,c=n.isDesktopVersion;return i&&a.a.createElement(Fr,{isMobile:x},r.map((function(n){var r,l,s;return a.a.createElement(ta,{key:e.computeItemKey(n),isDepartment:n.isDepartment,isGroup:n.isGroup,name:n.name,description:n.description,avatar:n.avatar,permission:"admin",isSelf:n.id===t.id&&!n.isDepartment,onRemove:e.handleRemoveAdmin(n.id,n.name,n.isDepartment,n.isGroup),disabled:!(null===(r=i.permissionsAndReasons)||void 0===r?void 0:r.canManageAdmin.value)&&!o||n.isInherited,isInherited:null!==(l=n.isInherited)&&void 0!==l&&l,isDisabled:n.disabled||!1,isAdmin:!!(null===(s=i.permissionsAndReasons)||void 0===s?void 0:s.canManageAdmin.value),isDesktopVersion:c,id:n.id,email:n.email,teamId:n.teamId,status:n.status})})))},t.prototype.computeItemKey=function(e){return e.isDepartment?"department_"+e.id:e.isGroup?"group_"+e.id:"user_"+e.id},t.contextType=g,t}(a.a.Component);Object(u.minify)(!1);var Ur=u.StyleSheet.create({collab_list:{marginTop:"9px"}}),Gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={list:[],superiorList:[],superiorPermissionsShown:!1,superiorListLoading:!0},t.handlePermissionChange=function(e,n,r,i){return function(a,o){var c=t.context.file;if(c){var l=c.guid,s=o?"patch":"post";r?"edit"===a?zn(Object(h.w)(l,e,!0),n).then(t.refreshList):"comment"===a?Vn(Object(h.v)(l,e,!0),n).then(t.refreshList):"read"===a?Fn(Object(h.y)(l,e,!0),n).then(t.refreshList):"none"===a&&Un(Object(h.x)(l,e),n).then(t.refreshList):i?"edit"===a?zn(Object(h.A)(l,e),n).then(t.refreshList):"comment"===a?Vn(Object(h.z)(l,e),n).then(t.refreshList):"read"===a?Fn(Object(h.C)(l,e),n).then(t.refreshList):"none"===a&&Un(Object(h.B)(l,e,!0),n).then(t.refreshList):"edit"===a?zn(Object(h.E)(l,e,s,!0),n).then(t.refreshList):"comment"===a?Vn(Object(h.D)(l,e,s,!0),n).then(t.refreshList):"read"===a?Fn(Object(h.G)(l,e,s,!0),n).then(t.refreshList):"none"===a&&Un(Object(h.F)(l,e,s,!0),n).then(t.refreshList)}}},t.handlePermissionRemove=function(e,n,r,i){return function(){var a=t.context.file;if(a){var o=a.guid;r?Gn(Object(h.o)(o,e),n).then(t.refreshList):i?Gn(Object(h.p)(o,e),n).then(t.refreshList):Gn(Object(h.q)(o,e),n).then(t.refreshList)}}},t.handleParentPermissionChange=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(t=this.context.file)?(n=t.guid,[4,Hn(Object(h.H)(n,e),e)]):[2];case 1:return r.sent(),this.refreshList(),this.state.superiorPermissionsShown&&this.refreshSuperiorList(),[2]}}))}))},t.handleToggleButtonClick=function(){t.state.superiorPermissionsShown?t.setState({superiorPermissionsShown:!1,superiorListLoading:!1}):(t.setState({superiorPermissionsShown:!0}),t.refreshSuperiorList())},t.refreshList=function(){t.context.refresh()},t.refreshSuperiorList=function(){var e=t.context.file;e&&t.setState({superiorListLoading:!0},(function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Object(h.h)(e.guid)];case 1:return t=r.sent(),this.setState({superiorList:t,superiorListLoading:!1}),[3,3];case 2:return n=r.sent(),i=this.props.onError,(void 0===i?function(){}:i)(n),this.setState({superiorListLoading:!1}),[3,3];case 3:return[2]}}))}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this,n=this.props.me,r=this.context,i=r.all.collabs,o=r.file,c=r.isDesktopVersion,l=r.parentFileGuid;if(!o)return null;var s=this.state,d=s.superiorPermissionsShown,p=s.superiorList,f=s.superiorListLoading,m=o.isFromSVC?!o.isSpace&&o.parentRole:"0"!==l||!l;return o&&a.a.createElement("div",{className:Object(u.css)(Ur.collab_list)},m&&a.a.createElement(ka,{permission:o.parentRole,disabled:!(null===(e=o.permissionsAndReasons)||void 0===e?void 0:e.canManageCollaborator.value),onChange:this.handleParentPermissionChange,superiorPermissionsShown:d,onClick:this.handleToggleButtonClick,isDesktopVersion:c}),d&&a.a.createElement(Oa,{parentRole:o.parentRole,isLoading:f,list:p,me:n}),i.map((function(e){var r;return a.a.createElement(qi,{key:t.computeItemKey(e),isDepartment:e.isDepartment,isGroup:e.isGroup,avatar:e.avatar,name:e.name,email:e.email,id:e.id,teamId:e.teamId,description:e.description,permission:e.role,disabled:!(null===(r=o.permissionsAndReasons)||void 0===r?void 0:r.canManageCollaborator.value),isOutsider:e.isOutsider,isSelf:e.id===n.id&&!e.isDepartment,isDisabled:e.disabled,status:e.status,onChange:t.handlePermissionChange(e.id,e.name,e.isDepartment,e.isGroup),onRemove:t.handlePermissionRemove(e.id,e.name,e.isDepartment,e.isGroup)})})))},t.prototype.computeItemKey=function(e){return e.isDepartment?"department_"+e.id:e.isGroup?"group_"+e.id:"user_"+e.id},t.contextType=g,t}(a.a.Component);Object(u.minify)(!1);var Hr,Wr=u.StyleSheet.create({member_list:{marginTop:"9px"}}),Kr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={members:[]},t.memberListRef=a.a.createRef(),t.currentPage=2,t.handleAddAdmin=function(e,n,r){return function(){var i=t.context.file,a=t.props.getNotification;i&&(r?Dn(Object(h.s)(i.guid,e,a()),n).then(t.refreshList):Dn(Object(h.u)(i.guid,e,a()),n).then(t.refreshList))}},t.handleRemoveAdmin=function(e,n,r){return function(){var i=t.context.file;i&&(r?Ln(Object(h.l)(i.guid,e),n).then(t.refreshList):Ln(Object(h.n)(i.guid,e),n).then(t.refreshList))}},t.handleChangeCollab=function(e,n,r){return function(i,a){var o=t.context.file,c=(0,t.props.getNotification)();if(o){var l=o.guid,s=a?"patch":"post";r?"edit"===i?zn(Object(h.w)(l,e,c),n).then(t.refreshList):"comment"===i?Vn(Object(h.v)(l,e,c),n).then(t.refreshList):"read"===i?Fn(Object(h.y)(l,e,c),n).then(t.refreshList):"none"===i&&Un(Object(h.x)(l,e),n).then(t.refreshList):"edit"===i?zn(Object(h.E)(l,e,s,c),n).then(t.refreshList):"comment"===i?Vn(Object(h.D)(l,e,s,c),n).then(t.refreshList):"read"===i?Fn(Object(h.G)(l,e,s,c),n).then(t.refreshList):"none"===i&&Un(Object(h.F)(l,e,s,c),n).then(t.refreshList)}}},t.handleRemoveCollab=function(e,n,r){return function(){var i=t.context.file;if(i){var a=i.guid;r?Gn(Object(h.o)(a,e),n).then(t.refreshList):Gn(Object(h.q)(a,e),n).then(t.refreshList)}}},t.refreshList=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return(0,this.context.refresh)(),[2]}))}))},t.watchNextPage=function(){-1!==t.currentPage&&setTimeout((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i=this;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return(e=this.memberListRef.current)&&e.parentElement?(t=e.parentElement,n=function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(h.i)(this.currentPage)];case 1:return e=n.sent(),[3,3];case 2:return n.sent(),e=[],[3,3];case 3:return t=this.state.members,e.length<=0?this.currentPage=-1:(this.setState({members:t.concat(e)}),this.currentPage++),[2]}}))}))},e.clientHeight<t.clientHeight?[4,n()]:[3,2]):[3,4];case 1:return a.sent(),[3,4];case 2:return t.scrollTop+t.clientHeight>.5*t.scrollHeight?[4,n()]:[3,4];case 3:a.sent(),a.label=4;case 4:return setTimeout(this.watchNextPage,100),[2]}}))}))}),0)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(h.i)().then((function(t){e.setState({members:t})})),this.watchNextPage()},t.prototype.render=function(){var e=this,t=this.props,n=t.admin,r=void 0!==n&&n,i=t.me,o=this.state.members,c=this.context,l=c.all,s=c.file,d=c.isEnterpriseAdmin,p=r?l.admins:l.collabs.concat(l.admins),f=o.map((function(e){var t=p[Ft()(p,(function(t){return t.id===e.id}))];return{id:e.id,name:e.name,description:t?t.description:e.email||e.mobileAccount||e.mobile,role:t?t.role:null,isDepartment:!1,isOutsider:!1,isInherited:!!t&&t.isInherited,avatar:e.avatar,disabled:"disabled"===e.teamRole||!!t&&t.disabled,email:e.email,teamId:e.teamId}}));return s&&a.a.createElement("div",{className:Object(u.css)(Wr.member_list),ref:this.memberListRef},f.map((function(t){var n,o,c,l;return r?a.a.createElement(ta,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,id:t.id,email:t.email,teamId:t.teamId,avatar:t.avatar,description:t.description,permission:t.role,disabled:!(null===(n=s.permissionsAndReasons)||void 0===n?void 0:n.canManageAdmin.value)&&!d||t.isInherited,status:t.status,isInherited:t.isInherited||!1,isSelf:i.id===t.id&&!t.isDepartment,isDisabled:t.disabled,isAdmin:!!(null===(o=s.permissionsAndReasons)||void 0===o?void 0:o.canManageAdmin.value),onAdd:e.handleAddAdmin(t.id,t.name,t.isDepartment),onRemove:e.handleRemoveAdmin(t.id,t.name,t.isDepartment)}):"admin"===t.role?a.a.createElement(ta,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,id:t.id,email:t.email,teamId:t.teamId,avatar:t.avatar,description:t.description,permission:t.role,disabled:!0,status:t.status,isInherited:t.isInherited||!1,isDisabled:t.disabled,isSelf:i.id===t.id&&!t.isDepartment,isAdmin:!!(null===(c=s.permissionsAndReasons)||void 0===c?void 0:c.canManageAdmin.value)}):a.a.createElement(qi,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,id:t.id,email:t.email,teamId:t.teamId,avatar:t.avatar,description:t.description,permission:t.role,isSelf:i.id===t.id&&!t.isDepartment,disabled:!(null===(l=s.permissionsAndReasons)||void 0===l?void 0:l.canManageCollaborator.value),status:t.status,isDisabled:t.disabled,onChange:e.handleChangeCollab(t.id,t.name,t.isDepartment),onRemove:e.handleRemoveCollab(t.id,t.name,t.isDepartment)})})))},t.contextType=g,t}(a.a.Component),Yr=o.default.div.withConfig({componentId:"sc-1F3iXD",displayName:"ListWrapper"})(Hr||(Hr=Object(r.__makeTemplateObject)(["margin-top:9px;height:",";overflow:unset;"],["",""])),(function(e){return e.isMobile?"calc(100% - 9px)":"auto"})),Zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recents:[]},t.handleAddAdmin=function(e,n,r){return function(){var i=t.context.file,a=t.props.getNotification;i&&(r?Dn(Object(h.s)(i.guid,e,a()),n).then(t.refreshList):Dn(Object(h.u)(i.guid,e,a()),n).then(t.refreshList))}},t.handleRemoveAdmin=function(e,n,r){return function(){var i=t.context.file;i&&(r?Ln(Object(h.l)(i.guid,e),n).then(t.refreshList):Ln(Object(h.n)(i.guid,e),n).then(t.refreshList))}},t.handleChangeCollab=function(e,n,r){return function(i,a){var o=t.context.file,c=a?"patch":"post",l=(0,t.props.getNotification)();if(o){var s=o.guid;r?"edit"===i?zn(Object(h.w)(s,e,l),n).then(t.refreshList):"comment"===i?Vn(Object(h.v)(s,e,l),n).then(t.refreshList):"read"===i?Fn(Object(h.y)(s,e,l),n).then(t.refreshList):"none"===i&&Un(Object(h.x)(s,e),n).then(t.refreshList):"edit"===i?zn(Object(h.E)(s,e,c,l),n).then(t.refreshList):"comment"===i?Vn(Object(h.D)(s,e,c,l),n).then(t.refreshList):"read"===i?Fn(Object(h.G)(s,e,c,l),n).then(t.refreshList):"none"===i&&Un(Object(h.F)(s,e,c,l),n).then(t.refreshList)}}},t.handleRemoveCollab=function(e,n,r){return function(){var i=t.context.file;if(i){var a=i.guid;r?Gn(Object(h.o)(a,e),n).then(t.refreshList):Gn(Object(h.q)(a,e),n).then(t.refreshList)}}},t.refreshList=function(){(0,t.context.refresh)()},t.handleRecentRemove=function(e){Object(h.r)(e).then((function(){t.refreshRecents()}),(function(e){}))},t.refreshRecents=function(){var e=t.props.teamId;Object(h.k)(e).then((function(e){t.setState({recents:e})})).catch((function(e){var t,n,r,i;"Network Error"===e.message?An.B.error(l()("网络错误")):An.B.error(null!==(r=null!==(n=null===(t=e.data)||void 0===t?void 0:t.error)&&void 0!==n?n:e.error)&&void 0!==r?r:null===(i=e.toString)||void 0===i?void 0:i.call(e))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.refreshRecents()},t.prototype.render=function(){var e=this,t=this.props,n=t.admin,r=void 0!==n&&n,i=t.me,o=this.state.recents,c=this.context,l=c.all,s=c.file,u=c.isEnterpriseAdmin,d=r?l.admins:l.admins.concat(l.collabs),p=o.map((function(e){var t=d[Ft()(d,(function(t){return t.id===e.id}))];return{id:e.id,name:e.name,description:e.email||e.mobileAccount||e.mobile,role:t?t.role:null,isDepartment:!1,isOutsider:e.isOutsider,isInherited:!!t&&t.isInherited,avatar:e.avatar,disabled:"disabled"===e.teamRole||!!t&&t.disabled,email:e.email,teamId:e.teamId}}));return s&&a.a.createElement(Yr,{isMobile:x},p.map((function(t){var n,o,c,l;return r?a.a.createElement(ta,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,avatar:t.avatar,id:t.id,email:t.email,teamId:t.teamId,description:t.description,permission:t.role,disabled:!(null===(n=s.permissionsAndReasons)||void 0===n?void 0:n.canManageAdmin.value)&&!u||t.isInherited||t.isOutsider,status:t.status,isInherited:t.isInherited||!1,isOutsider:t.isOutsider,isDisabled:t.disabled,isAdmin:!!(null===(o=s.permissionsAndReasons)||void 0===o?void 0:o.canManageAdmin.value),onAdd:e.handleAddAdmin(t.id,t.name,t.isDepartment),onRemove:e.handleRemoveAdmin(t.id,t.name,t.isDepartment),withRemoveButton:!0,onRecentRemove:function(){return e.handleRecentRemove(t.id)}}):"admin"===t.role?a.a.createElement(ta,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,avatar:t.avatar,id:t.id,email:t.email,teamId:t.teamId,description:t.description,permission:t.role,disabled:!0,status:t.status,isDisabled:t.disabled,isInherited:t.isInherited||!1,isAdmin:!!(null===(c=s.permissionsAndReasons)||void 0===c?void 0:c.canManageAdmin.value),withRemoveButton:!0,onRecentRemove:function(){return e.handleRecentRemove(t.id)}}):a.a.createElement(qi,{key:(t.isDepartment?"department_":"person_")+t.id,isDepartment:t.isDepartment,name:t.name,avatar:t.avatar,id:t.id,email:t.email,teamId:t.teamId,description:t.description,permission:t.role,disabled:!(null===(l=s.permissionsAndReasons)||void 0===l?void 0:l.canManageCollaborator.value),status:t.status,isSelf:t.id===i.id&&!t.isDepartment,isOutsider:t.isOutsider,isDisabled:t.disabled,onChange:e.handleChangeCollab(t.id,t.name,t.isDepartment),onRemove:e.handleRemoveCollab(t.id,t.name,t.isDepartment),withRemoveButton:!0,onRecentRemove:function(){return e.handleRecentRemove(t.id)}})})))},t.contextType=g,t}(a.a.Component);Object(u.minify)(!1);var qr,Qr,Xr,Jr,$r,ei,ti,ni,ri,ii,ai,oi=u.StyleSheet.create({x_button:{position:"relative",display:"inline-block",width:"12px",height:"12px",cursor:"pointer"},x_button_visible:{position:"absolute",top:"0",left:"0",width:"12px",height:"12px",visibility:"visible"},x_button_hidden:{position:"absolute",top:"0",left:"0",visibility:"hidden"}}),ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.XButtonRef=a.a.createRef(),t.state={hover:!1},t.handleClick=function(e){var n=t.props.onClick;n&&n(e)},t.handleMouseEnter=function(e){t.setState({hover:!0})},t.handleMouseLeave=function(e){t.setState({hover:!1})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.getInnerRef,t=this.XButtonRef;e&&t&&e(t)},t.prototype.render=function(){var e=this.state.hover,t=this.XButtonRef,n=this.props.style,r=void 0===n?{}:n;return a.a.createElement("div",{className:Object(u.css)(oi.x_button),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:t,style:r},a.a.createElement("div",{className:Object(u.css)(e?oi.x_button_visible:oi.x_button_hidden)},a.a.createElement(Ie,{style:{position:"absolute",left:"0",top:"0"}})),a.a.createElement("div",{className:Object(u.css)(e?oi.x_button_hidden:oi.x_button_visible)},a.a.createElement(ke,{style:{position:"absolute",left:"0",top:"0"}})))},t}(a.a.Component),li=o.default.div.withConfig({componentId:"sc-2tmNHG",displayName:"RowWrapper"})(qr||(qr=Object(r.__makeTemplateObject)(["padding:",";display:",";align-items:",";position:relative;&:hover{background-color:#f7f7f7;}&.department-row + .new-collab-row + .group-row{.row-inner{border-top:1px solid rgba(65,70,75,0.2);}}"],["","","",""])),(function(e){return e.isMobile?"7px 10px":"7px 0 7px 44px"}),(function(e){return e.isMobile?"flex":"block"}),(function(e){return e.isMobile?"center":"unset"})),si=o.default.div.withConfig({componentId:"sc-2tmNHG-1",displayName:"RowHead"})(Qr||(Qr=Object(r.__makeTemplateObject)(["display:",";width:325px;"],["",""])),(function(e){return e.isMobile?"flex":"inline-block"})),ui=o.default.div.withConfig({componentId:"sc-2tmNHG-2",displayName:"RowDropdownWrapper"})(Xr||(Xr=Object(r.__makeTemplateObject)(["margin-left:10px;display:inline-block;vertical-align:middle;"],[""]))),di=o.default.span.withConfig({componentId:"sc-2tmNHG-3",displayName:"RowButtonWrapper"})(Jr||(Jr=Object(r.__makeTemplateObject)(["color:#6da0e3;margin-left:10px;cursor:pointer;vertical-align:middle;"],[""]))),pi=n(1182),fi=n.n(pi),mi=o.default.div.withConfig({componentId:"sc-HFXdV",displayName:"DescriptionText"})($r||($r=Object(r.__makeTemplateObject)(["display:inline-block;width:150px;vertical-align:middle;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:#808080;"],[""]))),bi=o.default.div.withConfig({componentId:"sc-HFXdV-1",displayName:"TooltipContent"})(ei||(ei=Object(r.__makeTemplateObject)(["max-width:180px;line-height:1.7;text-align:left;padding:0 2px;"],[""]))),hi=function(e){var t=e.children;return a.a.createElement(d.a,{title:a.a.createElement(bi,null,t),trigger:"hover",placement:"top",mouseEnterDelay:.6},a.a.createElement(mi,{"data-test":"description"},t))},gi=o.default.span.withConfig({componentId:"sc-1HFtu0",displayName:"StyleWrapper"})(ti||(ti=Object(r.__makeTemplateObject)(["display:inline-block;border:1px solid ",";color:",";width:50px;margin-right:-25px;height:28px;line-height:28px;text-align:center;transform:scale(0.5) translate(-50%,0);font-size:16px;vertical-align:middle;overflow:hidden;"],["","",""])),(function(e){return e.color}),(function(e){return e.color})),vi=function(e){var t=e.style,n=e.dataTest;return a.a.createElement(gi,{color:"#4583d4",style:t,"data-test":n},l()("外部"))},_i=function(e){var t=e.style,n=e.dataTest;return a.a.createElement(gi,{color:"rgba(65, 70, 75, 0.4)",style:t,"data-test":n},l()("禁用"))},yi=o.default.div.withConfig({componentId:"sc-1OaQdY",displayName:"NameWrapper"})(ni||(ni=Object(r.__makeTemplateObject)(["display:",";align-items:",";padding-right:",";width:160px;vertical-align:middle;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:15px;"],["","","",""])),(function(e){return e.isMobile?"flex":"inline-block"}),(function(e){return e.isMobile?"center":"unset"}),(function(e){return e.isMobile?"2px":"0"})),Oi=o.default.span.withConfig({componentId:"sc-1OaQdY-1",displayName:"NameText"})(ri||(ri=Object(r.__makeTemplateObject)(["display:inline-block;overflow:",";max-width:120px;white-space:nowrap;text-overflow:ellipsis;vertical-align:middle;color:",";&:only-child{max-width:",";}"],["","","",""])),(function(e){return e.noclip?"visible":"hidden"}),(function(e){return e.disabled?"#ccc":"inherit"}),(function(e){return e.isShort?"140px":"150px"})),ji=o.default.span.withConfig({componentId:"sc-1OaQdY-2",displayName:"IconWrapper"})(ii||(ii=Object(r.__makeTemplateObject)(["cursor:pointer;"],[""]))),wi=o.default.div.withConfig({componentId:"sc-1OaQdY-3",displayName:"TooltipContent"})(ai||(ai=Object(r.__makeTemplateObject)(["width:210px;line-height:1.67;margin:10px 15px;text-align:left;color:#666;"],[""]))),xi=function(e){var t=e.children,n=e.isOutsider,r=void 0!==n&&n,i=e.isDisabled,o=void 0!==i&&i,c=e.isSelf,s=void 0!==c&&c,u=e.noclip,p=void 0!==u&&u,f=e.styles,m=e.isInviteOutdated,b=void 0!==m&&m,h=x?{marginLeft:"2px"}:{marginLeft:"5px"};return a.a.createElement(yi,{isMobile:x,style:f,"data-test":"row_name"},a.a.createElement(Oi,{noclip:p,disabled:o||b,isShort:f&&"auto"!==f.width,title:(s?l()("(我) "):"")+t,"data-test":"row_name_text"},s&&l()("(我) "),t),r&&a.a.createElement(vi,{style:h,dataTest:"row_name_outsider"}),o&&a.a.createElement(_i,{style:h,"data-test":"row_name_disabled"}),b&&a.a.createElement(d.a,{title:a.a.createElement(wi,null,l()("该邮箱号已被关联至新账号下，请删除后重新邀请该邮箱/手机号加入企业")),trigger:"hover",placement:"right",theme:"white"},a.a.createElement(ji,null,a.a.createElement(it,{style:h,"data-test":"row_name_outdated"}))))};Object(u.minify)(!1);!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=u.StyleSheet.create({remove_button_wrapper:{display:"inline-block",position:"relative"},remove_button_dialog_wrapper:{position:"absolute",zIndex:t.context.zIndex}}),t.XButtonRef=null,t.state={confirmDialogVisible:!1},t.handleXButtonClick=function(e){var n=t.props.disabled;void 0!==n&&n||t.setState({confirmDialogVisible:!0})},t.handleConfirmEvent=function(){t.setState({confirmDialogVisible:!1})},t.handleCloseEvent=function(){t.setState({confirmDialogVisible:!1})},t}Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.confirmDialogVisible,n=this.props.name,r=this.style,i=document.documentElement.getBoundingClientRect().width;return a.a.createElement("div",{className:Object(u.css)(r.remove_button_wrapper)},a.a.createElement(ci,{onClick:this.handleXButtonClick,getInnerRef:function(t){e.XButtonRef=t}}),t&&this.XButtonRef&&a.a.createElement(Ea,{innerRef:this.XButtonRef},(function(t){return t&&a.a.createElement("div",{className:Object(u.css)(r.remove_button_dialog_wrapper),style:{top:t.top+t.height+10+"px",right:i-t.right+"px"}},a.a.createElement(Dt,{name:n,onConfirm:e.handleConfirmEvent,onClose:e.handleCloseEvent}))})))},t.contextType=g}(a.a.Component);Object(u.minify)(!1);!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=u.StyleSheet.create({tip_wrapper:{display:"inline-block",position:"relative",width:"16px",height:"16px"},tip_board_wrapper:{position:"absolute",zIndex:t.context.zIndex}}),t.tipWrapperRef=a.a.createRef(),t.state={tipBoardVisible:!1},t.handleMouseEnter=function(e){t.setState({tipBoardVisible:!0})},t.handleMouseLeave=function(e){t.setState({tipBoardVisible:!1})},t}Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.tipBoardVisible,n=this.tipWrapperRef,r=this.style,i=document.documentElement.getBoundingClientRect().width;return a.a.createElement("div",{className:Object(u.css)(r.tip_wrapper),onMouseEnter:this.handleMouseEnter,ref:n},a.a.createElement(ge,null),t&&n&&a.a.createElement(Ea,{innerRef:n},(function(t){return t&&a.a.createElement("div",{className:Object(u.css)(r.tip_board_wrapper),onMouseLeave:e.handleMouseLeave,style:{top:t.top+t.height+10+"px",right:i-t.right+"px"}},a.a.createElement(or,null))})))},t.contextType=g}(a.a.Component);var Ei=n.p+"static/lizard-one/assets/more.url.c9c90660.svg",ki=o.default.div.withConfig({componentId:"sc-14Ff8C",displayName:"StyledGroupOverlay"})(Ai||(Ai=Object(r.__makeTemplateObject)(["display:flex;width:328px;max-height:182px;flex-direction:column;box-sizing:border-box;padding:6px 10px;"],[""]))),Ci=o.default.div.withConfig({componentId:"sc-14Ff8C-1",displayName:"StyledTitleWrapper"})(Bi||(Bi=Object(r.__makeTemplateObject)(["display:flex;align-items:center;height:24px;padding-bottom:12px;border-bottom:1px solid rgba(65,70,75,0.2);color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;"],[""]))),Ti=o.default.div.withConfig({componentId:"sc-14Ff8C-2",displayName:"StyledTitle"})(Di||(Di=Object(r.__makeTemplateObject)(["max-width:144px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;"],[""]))),Si=o.default.div.withConfig({componentId:"sc-14Ff8C-3",displayName:"StyledMembersWrapper"})(Li||(Li=Object(r.__makeTemplateObject)(["display:flex;flex-wrap:wrap;gap:8px;padding-top:4px;overflow:auto;"],[""]))),Ii=o.default.div.withConfig({componentId:"sc-14Ff8C-4",displayName:"StyledMember"})(zi||(zi=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;width:52px;margin-top:8px;font-size:12px;"],[""]))),Ni=o.default.img.withConfig({componentId:"sc-14Ff8C-5",displayName:"StyledAvatar"})(Fi||(Fi=Object(r.__makeTemplateObject)(["width:32px;height:32px;border-radius:50%;overflow:hidden;"],[""]))),Ri=o.default.div.withConfig({componentId:"sc-14Ff8C-6",displayName:"StyledName"})(Vi||(Vi=Object(r.__makeTemplateObject)(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;color:rgba(65,70,75,0.6);line-height:20px;"],[""]))),Pi=o.default.div.withConfig({componentId:"sc-14Ff8C-7",displayName:"StyledWrapper"})(Ui||(Ui=Object(r.__makeTemplateObject)(["display:inline-flex;flex-wrap:nowrap;"],[""]))),Mi=function(e){var t=e.total,n=e.members,r=e.onLoadMore,i=t>n.length,o=i?n.slice(0,n.length-1):n;return a.a.createElement(ki,null,a.a.createElement(Ci,null,a.a.createElement(Ti,null,n.map((function(e){return e.name})).join("、")),"("+t+")"),a.a.createElement(Si,null,o.map((function(e){return a.a.createElement(Ii,{key:e.id},a.a.createElement(Ni,{src:e.avatar}),a.a.createElement(Ri,null,e.name))})),i&&a.a.createElement(Ii,{onClick:r},a.a.createElement(Ni,{src:Ei}),a.a.createElement(Ri,null,l()("更多")))))};Mi.displayName="GroupOverlay";var Ai,Bi,Di,Li,zi,Fi,Vi,Ui,Gi=function(e){var t=e.isGroup,n=e.groupId,i=e.children,o=Object(r.__read)(a.a.useState(!1),2),c=o[0],l=o[1],s=Object(r.__read)(a.a.useState(!1),2),u=s[0],p=s[1],f=Object(r.__read)(a.a.useState(!1),2),b=f[0],h=f[1],g=Object(r.__read)(a.a.useState(0),2),v=g[0],_=g[1],y=Object(r.__read)(a.a.useState([]),2),O=y[0],j=y[1];function w(){var e,t;if(!c){l(!0);var i=O.length>0?50:10;m.s.get("/org/groups/"+n+"/members",{params:{limit:i,max_sort:null!==(t=null===(e=O[O.length-1])||void 0===e?void 0:e.sort)&&void 0!==t?t:""}}).then((function(e){var t=e.data,n=t.total,i=t.members;p(!0),l(!1),_(n),j(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(O)),Object(r.__read)(i)))})).catch((function(){l(!1)}))}}return t?a.a.createElement(d.a,{theme:"white",placement:"right",overlay:a.a.createElement(Mi,{total:v,members:O,onLoadMore:function(){w()}}),visible:b&&u,onVisibleChange:function(e){e&&!u&&w(),h(e)}},a.a.createElement(Pi,null,i)):i};Gi.displayName="GroupWrapper";var Hi,Wi,Ki,Yi,Zi,qi=function(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],c=e.isOutsider,l=void 0!==c&&c,s=e.permission,u=void 0===s?"edit":s,d=e.name,p=void 0===d?"":d,f=e.id,m=e.email,b=e.teamId,h=e.description,g=void 0===h?"":h,v=e.isDepartment,_=void 0!==v&&v,y=e.isGroup,O=void 0!==y&&y,j=e.avatar,w=e.disabled,E=void 0!==w&&w,k=e.isSelf,C=void 0!==k&&k,T=e.isDisabled,S=void 0!==T&&T,I=e.withRemoveButton,N=void 0!==I&&I,R=e.status,P=e.onRecentRemove,M=-1===R&&!g;return a.a.createElement(li,{isMobile:x,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},"data-test":"row_collab",className:fi()({"department-row":_,"group-row":O})},N&&n&&a.a.createElement(ci,{onClick:P,style:{position:"absolute",left:"20px",top:"15px"}}),a.a.createElement(Gi,{isGroup:O,groupId:f},_?a.a.createElement(yt,null):O?a.a.createElement(Ot,null):a.a.createElement(U,{src:null!=j?j:"",name:p,userId:f,email:m,teamId:b})),a.a.createElement(xi,{isSelf:C,isOutsider:l,isDisabled:S,isInviteOutdated:M},p),a.a.createElement(hi,null,g),a.a.createElement(ui,{"data-test":"row_collab_dropdown_wrapper"},a.a.createElement(Br,{permission:u,disabled:E,isSelf:C,isOutsider:l,onChange:function(t,n){e.onChange&&e.onChange(t,n)},onRemove:function(){e.onRemove&&e.onRemove()},"data-test":"row_collab_dropdown","data-disabled":E,isInviteOutdated:M,isDepartment:_})))},Qi=o.default.div.withConfig({componentId:"sc-ENKT7",displayName:"NewRowWrapper"})(Hi||(Hi=Object(r.__makeTemplateObject)(["padding:0 "," 0;&:hover{background:#f7f7f7;}"],["",""])),(function(e){return e.isMobile?"10px":"40px"})),Xi=o.default.div.withConfig({componentId:"sc-ENKT7-1",displayName:"RowInner"})(Wi||(Wi=Object(r.__makeTemplateObject)(["display:flex;align-items:center;border-bottom:1px solid rgba(65,70,75,0.2);padding:8px 0;"],[""]))),Ji=o.default.div.withConfig({componentId:"sc-ENKT7-2",displayName:"SectionLeft"})(Ki||(Ki=Object(r.__makeTemplateObject)(["width:32px;margin-right:12px;"],[""]))),$i=o.default.div.withConfig({componentId:"sc-ENKT7-3",displayName:"SectionMiddle"})(Yi||(Yi=Object(r.__makeTemplateObject)(["width:100%;overflow:hidden;display:flex;flex-direction:column;.name-label{display:flex;align-items:center;.name{font-size:12px;font-weight:500;line-height:20px;color:rgba(65,70,75,0.9);margin-right:12px;}.labels{display:flex;transform:scale(0.8333);transform-origin:left;}.label{font-size:12px;font-weight:bold;line-height:22px;padding:0 8px;border:1px solid #4583d4;border-radius:2px;margin-right:4px;color:#508cd7;max-width:6em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.department{font-size:12px;line-height:20px;height:20px;color:rgba(65,70,75,0.6);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;span{display:inline-block;margin-right:1em;}}.email{font-size:12px;line-height:20px;color:rgba(65,70,75,0.6);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"],[""]))),ea=o.default.div.withConfig({componentId:"sc-ENKT7-4",displayName:"SectionRight"})(Zi||(Zi=Object(r.__makeTemplateObject)([""],[""]))),ta=function(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],c=e.permission,l=void 0===c?null:c,s=e.name,u=void 0===s?"":s,d=e.id,p=e.email,f=e.teamId,m=e.description,b=void 0===m?"":m,h=e.isDepartment,g=void 0!==h&&h,v=e.isGroup,_=void 0!==v&&v,y=e.avatar,O=e.disabled,j=void 0!==O&&O,w=e.isSelf,E=void 0!==w&&w,k=e.isDesktopVersion,C=void 0!==k&&k,T=e.isInherited,S=void 0!==T&&T,I=e.isOutsider,N=void 0!==I&&I,R=e.isDisabled,P=void 0!==R&&R,M=e.isAdmin,A=e.withRemoveButton,B=void 0!==A&&A,D=e.status,L=e.onRecentRemove,z=-1===D&&!b;return a.a.createElement(li,{isMobile:x,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},"data-test":"row_admin",className:fi()({"department-row":g,"group-row":_})},B&&n&&a.a.createElement(ci,{onClick:L,style:{position:"absolute",left:"20px",top:"15px"}}),a.a.createElement(Gi,{isGroup:_,groupId:d},g?a.a.createElement(yt,null):_?a.a.createElement(Ot,null):a.a.createElement(U,{src:null!=y?y:"",name:u,userId:d,email:p,teamId:f})),a.a.createElement(xi,{isSelf:E,isOutsider:N,isDisabled:P,isInviteOutdated:z},u),a.a.createElement(hi,null,b),a.a.createElement(ui,{"data-disabled":j,"data-test":"row_admin_dropdown_wrapper"},a.a.createElement(Ar,{name:u,permission:l,disabled:j,isInherited:S,isOutsider:N,isAdmin:M,isDepartment:g,onAdd:function(){var t=e.onAdd;null==t||t()},onRemove:function(){var t=e.onRemove;null==t||t()},isSelf:E,isDesktopVersion:C,"data-disabled":j,"data-test":"row_admin_dropdown",isInviteOutdated:z})))},na=function(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],c=e.permission,l=void 0===c?null:c,s=e.name,u=void 0===s?"":s,d=e.id,p=e.email,f=e.teamId,m=e.description,b=void 0===m?"":m,h=e.isDepartment,g=void 0!==h&&h,v=e.isGroup,_=void 0!==v&&v,y=e.avatar,O=e.disabled,j=void 0!==O&&O,w=e.isSelf,E=void 0!==w&&w,k=e.isDesktopVersion,C=void 0!==k&&k,T=e.isInherited,S=void 0!==T&&T,I=e.isOutsider,N=void 0!==I&&I,R=e.isAdmin,P=e.withRemoveButton,M=void 0!==P&&P,A=e.status,B=e.searchResult,D=e.onRecentRemove,L=-1===A&&!b;if(g||_)return a.a.createElement(ta,Object(r.__assign)({},e));var z=B.alias,F=B.departmentNames,V=void 0===F?[]:F,G=B.hitAttribute,H=B.labels,W=void 0===H?[]:H;return a.a.createElement(Qi,{isMobile:x,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},"data-test":"row_admin",className:"new-collab-row"},a.a.createElement(Xi,{className:"row-inner"},M&&n&&a.a.createElement(ci,{onClick:D,style:{position:"absolute",left:"20px",top:"15px"}}),a.a.createElement(Ji,null,a.a.createElement(U,{src:null!=y?y:"",name:u,userId:d,email:p,teamId:f,width:32,height:32,isOutsider:N,newSearchList:!0})),a.a.createElement($i,null,a.a.createElement("div",{className:"name-label"},a.a.createElement("div",{className:"name"},u,z?"("+z+")":""),a.a.createElement("div",{className:"labels"},W.map((function(e){return(null==e?void 0:e.value)&&a.a.createElement("div",{className:"label"},e.value)})))),a.a.createElement("div",{className:"department"},(null==V?void 0:V.length)?V.map((function(e){return a.a.createElement("span",null,e)})):"-"),a.a.createElement("div",{className:"email"},G?a.a.createElement("span",null,ra(G),": ",G.value):p||"-")),a.a.createElement(ea,null,a.a.createElement(ui,{"data-disabled":j,"data-test":"row_admin_dropdown_wrapper"},a.a.createElement(Ar,{name:u,permission:l,disabled:j,isInherited:S,isOutsider:N,isAdmin:R,isDepartment:g,onAdd:function(){var t=e.onAdd;null==t||t()},onRemove:function(){var t=e.onRemove;null==t||t()},isSelf:E,isDesktopVersion:C,"data-disabled":j,"data-test":"row_admin_dropdown",isInviteOutdated:L})))))};function ra(e){var t,n;return 1===e.type&&null!==(n=null===(t=E.find((function(t){return t.key===e.key})))||void 0===t?void 0:t.value)&&void 0!==n?n:e.key}var ia,aa,oa,ca,la,sa,ua=function(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],c=e.isOutsider,l=void 0!==c&&c,s=e.name,u=void 0===s?"":s,d=e.id,p=e.email,f=e.teamId,m=e.description,b=void 0===m?"":m,h=e.isDepartment,g=void 0!==h&&h,v=e.isGroup,_=void 0!==v&&v,y=e.avatar,O=e.disabled,j=void 0!==O&&O,w=e.isSelf,E=void 0!==w&&w,k=e.withRemoveButton,C=void 0!==k&&k,T=e.status,S=e.onRecentRemove,I=e.searchResult,N=I.alias,R=I.departmentNames,P=void 0===R?[]:R,M=I.hitAttribute,A=I.labels,B=void 0===A?[]:A,D=I.role,L=-1===T&&!b;return g||_?a.a.createElement(qi,Object(r.__assign)({},e)):a.a.createElement(Qi,{isMobile:x,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},"data-test":"row_collab",className:"new-collab-row"},a.a.createElement(Xi,{className:"row-inner"},C&&n&&a.a.createElement(ci,{onClick:S,style:{position:"absolute",left:"20px",top:"15px"}}),a.a.createElement(Ji,null,a.a.createElement(U,{src:null!=y?y:"",name:u,userId:d,email:p,teamId:f,isOutsider:l,width:32,height:32,newSearchList:!0})),a.a.createElement($i,null,a.a.createElement("div",{className:"name-label"},a.a.createElement("div",{className:"name"},u,N?"("+N+")":""),a.a.createElement("div",{className:"labels"},B.map((function(e){return(null==e?void 0:e.value)&&a.a.createElement("div",{className:"label"},e.value)})))),a.a.createElement("div",{className:"department"},(null==P?void 0:P.length)?P.map((function(e){return a.a.createElement("span",null,e)})):"-"),a.a.createElement("div",{className:"email"},M?a.a.createElement("span",null,ra(M),": ",M.value):p||"-")),a.a.createElement(ea,null,a.a.createElement(ui,{"data-test":"row_collab_dropdown_wrapper"},a.a.createElement(Br,{permission:D,disabled:j,isSelf:E,isOutsider:l,onChange:function(t,n){e.onChange&&e.onChange(t,n)},onRemove:function(){e.onRemove&&e.onRemove()},"data-test":"row_collab_dropdown","data-disabled":j,isInviteOutdated:L,isDepartment:g})))))},da=o.default.div.withConfig({componentId:"sc-3bixiQ",displayName:"ListWrapper"})(ia||(ia=Object(r.__makeTemplateObject)(["margin-top:9px;height:",";overflow:",";"],["","",""])),(function(e){return e.isMobile?"calc(100% - 9px)":"auto"}),(function(e){return e.isMobile?"hidden":"unset"})),pa=o.default.div.withConfig({componentId:"sc-3bixiQ-1",displayName:"Empty"})(aa||(aa=Object(r.__makeTemplateObject)(["height:",";"],["",""])),(function(e){return e.height})),fa=function(e){return"edit"===e?"editor":"comment"===e?"commentator":"read"===e?"reader":"none"===e?"none":"editor"},ma=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ba=/1[3-9][0-9]{9}$/,ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={searchResults:[]},t.prevKeyword="",t.cachedInviter={keyword:"",permission:null},t.getNewSearchResult=Object(h.c)(),t.handleAddAdmin=function(e,n,r,i){return function(){var a=t.context.file,o=t.props.getNotification;a&&(r?Dn(Object(h.s)(a.guid,e,o()),n).then(t.refreshList):i?Dn(Object(h.t)(a.guid,e,o()),n).then(t.refreshList):Dn(Object(h.u)(a.guid,e,o()),n).then(t.refreshList))}},t.handleRemoveAdmin=function(e,n,r,i){return function(){var a=t.context.file;a&&(r?Ln(Object(h.l)(a.guid,e),n).then(t.refreshList):i?Ln(Object(h.m)(a.guid,e),n).then(t.refreshList):Ln(Object(h.n)(a.guid,e),n).then(t.refreshList))}},t.handleInvite=function(e,n){return function(r){var i=t.context.file;if(i){var a=i.guid,o=fa(r);t.cachedInviter={keyword:n,permission:r},"email"===e?Wn(Object(h.a)(a,n,o)).then(t.refreshList):"mobile"===e&&Kn(Object(h.b)(a,n,o)).then(t.refreshList)}}},t.handleChangeCollab=function(e,n,r,i){return function(a,o){var c=t.context.file,l=(0,t.props.getNotification)();if(c){var s=c.guid,u=o?"patch":"post";r?"edit"===a?zn(Object(h.w)(s,e,l),n).then(t.refreshList):"comment"===a?Vn(Object(h.v)(s,e,l),n).then(t.refreshList):"read"===a?Fn(Object(h.y)(s,e,l),n).then(t.refreshList):"none"===a&&Un(Object(h.x)(s,e),n).then(t.refreshList):i?"edit"===a?zn(Object(h.A)(s,e),n).then(t.refreshList):"comment"===a?Vn(Object(h.z)(s,e),n).then(t.refreshList):"read"===a?Fn(Object(h.C)(s,e),n).then(t.refreshList):"none"===a&&Un(Object(h.B)(s,e,l),n).then(t.refreshList):"edit"===a?zn(Object(h.E)(s,e,u,l),n).then(t.refreshList):"comment"===a?Vn(Object(h.D)(s,e,u,l),n).then(t.refreshList):"read"===a?Fn(Object(h.G)(s,e,u,l),n).then(t.refreshList):"none"===a&&Un(Object(h.F)(s,e,u,l),n).then(t.refreshList)}}},t.handleRemoveCollab=function(e,n,r,i){return function(){var a=t.context.file;if(a){var o=a.guid;r?Gn(Object(h.o)(o,e),n).then(t.refreshList):i?Gn(Object(h.p)(o,e),n).then(t.refreshList):Gn(Object(h.q)(o,e),n).then(t.refreshList)}}},t.refreshList=function(){(0,t.context.refresh)()},t.renderSearchList=function(e){var n;if(e.length<=0)t.setState({searchResults:[]});else{var r=t.context.file;if(!r)return;var i=r.guid,a=!t.context.isDesktopVersion;null===(n=t.getNewSearchResult(i,e,a,a))||void 0===n||n.then((function(e){return t.setState({searchResults:e})})).catch((function(e){var t,n,r,i;"Network Error"===e.message?An.B.error(l()("网络错误")):An.B.error(null!==(r=null!==(n=null===(t=e.data)||void 0===t?void 0:t.error)&&void 0!==n?n:e.error)&&void 0!==r?r:null===(i=e.toString)||void 0===i?void 0:i.call(e))}))}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.keyword;this.renderSearchList(e),this.prevKeyword=e},t.prototype.componentWillUpdate=function(e){var t=e.keyword;this.prevKeyword!==t&&(this.renderSearchList(t),this.prevKeyword=t)},t.prototype.renderItem=function(e,t,n,r,i){var o,c,l,s,u,d=__RUNTIME_ENV__.FIELD_MANAGEMENT,p=d?ua:qi,f=d?na:ta;return r?a.a.createElement(p,{searchResult:i,key:"person_"+i.id,isDepartment:!1,isGroup:!1,name:i.name,avatar:i.avatar,id:i.id,email:i.email,teamId:i.teamId,description:i.description,permission:i.role,disabled:!(null===(u=t.permissionsAndReasons)||void 0===u?void 0:u.canManageCollaborator.value)||Object(nr.isSelfHosted)()&&i.isOutsider,isOutsider:!0,isSelf:!1,isDisabled:!1,status:i.status,onChange:this.handleInvite(r,i.description)}):e?a.a.createElement(f,{key:(i.isDepartment?"department_":"person_")+i.id,isDepartment:i.isDepartment,isGroup:i.isGroup,name:i.name,avatar:i.avatar,id:i.id,email:i.email,teamId:i.teamId,description:i.description,permission:i.role,disabled:!(null===(o=t.permissionsAndReasons)||void 0===o?void 0:o.canManageAdmin.value)&&!this.context.isEnterpriseAdmin||i.isInherited||i.isOutsider,isSelf:n.id===i.id&&!i.isDepartment,isInherited:i.isInherited||!1,isOutsider:i.isOutsider,isDisabled:i.disabled,status:i.status,isAdmin:!!(null===(c=t.permissionsAndReasons)||void 0===c?void 0:c.canManageAdmin.value),onAdd:this.handleAddAdmin(i.id,i.name,i.isDepartment,i.isGroup),onRemove:this.handleRemoveAdmin(i.id,i.name,i.isDepartment,i.isGroup),searchResult:i}):"admin"===i.role?a.a.createElement(f,{key:(i.isDepartment?"department_":"person_")+i.id,isDepartment:i.isDepartment,isGroup:i.isGroup,name:i.name,avatar:i.avatar,id:i.id,email:i.email,teamId:i.teamId,description:i.description,permission:i.role,disabled:!0,status:i.status,isSelf:n.id===i.id&&!i.isDepartment,isInherited:i.isInherited||!1,isOutsider:i.isOutsider,isDisabled:i.disabled,isAdmin:!!(null===(l=t.permissionsAndReasons)||void 0===l?void 0:l.canManageAdmin.value),searchResult:i}):a.a.createElement(p,{searchResult:i,key:(i.isDepartment?"department_":"person_")+i.id,isDepartment:i.isDepartment,isGroup:i.isGroup,name:i.name,avatar:i.avatar,id:i.id,email:i.email,teamId:i.teamId,description:i.description,permission:i.role,disabled:!(null===(s=t.permissionsAndReasons)||void 0===s?void 0:s.canManageCollaborator.value)||Object(nr.isSelfHosted)()&&i.isOutsider,isOutsider:i.isOutsider,isSelf:n.id===i.id&&!i.isDepartment,isDisabled:i.disabled,status:i.status,onChange:this.handleChangeCollab(i.id,i.name,i.isDepartment,i.isGroup),onRemove:this.handleRemoveCollab(i.id,i.name,i.isDepartment,i.isGroup)})},t.prototype.render=function(){var e,t,n,i=this,o=this.props,c=o.width,s=o.height,u=o.admin,d=void 0!==u&&u,p=o.me,f=o.keyword,m=this.state.searchResults,b=this.context,h=b.all,g=b.file,v=d?h.admins:h.admins.concat(h.collabs),_=m.map((function(e){var t=v[Ft()(v,(function(t){return t.id===e.id&&!!t.isDepartment==!!e.isDepartment}))];return __RUNTIME_ENV__.FIELD_MANAGEMENT?Object(r.__assign)(Object(r.__assign)({isInherited:!!t&&t.isInherited,email:e.email,teamId:e.teamId},e),{role:t?t.role:null}):{id:e.id,name:e.name,description:e.description,role:t?t.role:null,isDepartment:e.isDepartment,isGroup:e.isGroup,isOutsider:e.isOutsider,isInherited:!!t&&t.isInherited,avatar:e.avatar,disabled:e.disabled||!!t&&t.disabled,email:e.email,teamId:e.teamId}}));if(_.length>0&&g){if(ma.test(f)&&_.every((function(e){return e.email!==f}))){var y=this.cachedInviter.keyword===f?this.cachedInviter.permission:null;_.unshift({id:-1,name:l()("待接受邀请"),description:f,role:y,isDepartment:!1,isGroup:!1,isOutsider:!0,isInherited:!1,avatar:"https://assets.shimonote.com/assets/images/invited-f41924e412.png",disabled:!(null===(e=g.permissionsAndReasons)||void 0===e?void 0:e.canManageCollaborator.value),email:f,status:-1})}return a.a.createElement(da,{isMobile:x},a.a.createElement(Da,{width:c,height:s,wrapperHeight:x?"100%":""},_.map((function(e){return i.renderItem(d,g,p,null,e)}))))}if(_.length<=0&&g){var O=this.props.keyword;y=this.cachedInviter.keyword===O?this.cachedInviter.permission:null;if(ma.test(O))return a.a.createElement(da,{isMobile:x},a.a.createElement(Da,{width:c,height:s,wrapperHeight:x?"100%":""},this.renderItem(!1,g,p,"email",{id:-1,name:l()("待接受邀请"),description:O,role:y,isDepartment:!1,isGroup:!1,isOutsider:!0,isInherited:!1,avatar:"https://assets.shimonote.com/assets/images/invited-f41924e412.png",disabled:!!(null===(t=g.permissionsAndReasons)||void 0===t?void 0:t.canManageCollaborator.value),email:O,status:-1})));if(ba.test(O))return a.a.createElement(da,{isMobile:x},a.a.createElement(Da,{width:c,height:s,wrapperHeight:x?"100%":""},this.renderItem(!1,g,p,"mobile",{id:-1,name:l()("待接受邀请"),description:O,role:y,isDepartment:!1,isGroup:!1,isOutsider:!0,isInherited:!1,avatar:"https://assets.shimonote.com/assets/images/invited-f41924e412.png",disabled:!!(null===(n=g.permissionsAndReasons)||void 0===n?void 0:n.canManageCollaborator.value),status:-1})))}return a.a.createElement(pa,{height:s})},t.contextType=g,t}(a.a.Component),ga=o.default.div.withConfig({componentId:"sc-3jxuRP",displayName:"ListWrapper"})(oa||(oa=Object(r.__makeTemplateObject)(["max-height:210px;margin:",";padding:5px 0;background-color:",";"],["","",""])),(function(e){return e.isMobile?"0":"0 40px"}),(function(e){return e.isMobile?"#f7f7f7":"inherit"})),va=o.default.div.withConfig({componentId:"sc-3jxuRP-1",displayName:"LoadingWrapper"})(ca||(ca=Object(r.__makeTemplateObject)(["display:flex;justify-content:center;align-items:center;height:35px;padding-top:5px;margin-bottom:-5px;"],[""]))),_a=o.default.div.withConfig({componentId:"sc-3jxuRP-2",displayName:"ListContent"})(la||(la=Object(r.__makeTemplateObject)(["position:relative;&::before{content:'';height:90%;width:",";position:absolute;top:5%;left:16px;background-color:#ddd;}"],["",""])),(function(e){return e.isMobile?"0":"1px"})),ya=o.default.span.withConfig({componentId:"sc-3jxuRP-3",displayName:"RowText"})(sa||(sa=Object(r.__makeTemplateObject)(["color:#a5a5a5;display:block;padding:7px 0 7px 30px;"],[""]))),Oa=function(e){var t=e.isLoading,n=e.list,r=e.parentRole,i=e.me;return a.a.createElement(ga,{isMobile:x},t&&a.a.createElement(va,null,a.a.createElement(p.a,null)),!t&&(n.length?a.a.createElement(_a,{isMobile:x},a.a.createElement(Da,{maxHeight:"210px",width:"100%",wrapperHeight:x?"100%":""},n.map((function(e){return a.a.createElement(Ra,{key:e.id,isOutsider:e.isOutsider,name:e.name,id:e.id,email:e.email,teamId:e.teamId,description:e.description,avatar:e.avatar,isDepartment:e.isDepartment,isGroup:e.isGroup,disabled:e.disabled,status:e.status,isDisabled:e.disabled,isSelf:e.id===i.id&&!e.isDepartment,permission:"inherited"===r?e.role:(t=r,{none:"none",editor:"edit",reader:"read",commentator:"comment"}[t])});var t})))):a.a.createElement(ya,null,l()("没有上级目录协作者"))))};Object(u.minify)(!1);var ja=u.StyleSheet.create({loader:{display:"inline-block",width:"20px",height:"20px"},loader_circle:{fill:"transparent",stroke:"#ddd",strokeWidth:3,strokeDasharray:38,strokeDashoffset:48,strokeLinecap:"round",transformOrigin:"10px 10px",animationName:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"linear"}});!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.style;return a.a.createElement("svg",{className:Object(u.css)(ja.loader),style:e},a.a.createElement("circle",{cx:"10",cy:"10",r:"8",className:Object(u.css)(ja.loader_circle)}))}}(a.a.Component);Object(u.minify)(!1);var wa=u.StyleSheet.create({ok_button:{display:"inline-block",width:"100px",height:"44px",lineHeight:"44px",backgroundColor:"black",textAlign:"center",color:"white",border:"1px solid grey"}}),xa=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(wa.ok_button)},l()("确定"))}}(a.a.Component),n(122)),Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={refPosition:null},t.portalWrapper=null,t.setPosition=function(){var e=t.props.innerRef;e&&e.current&&t.setState({refPosition:e.current.getBoundingClientRect()})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.portalWrapper=document.createElement("div"),document.body.appendChild(this.portalWrapper),this.setPosition(),window.addEventListener("resize",this.setPosition)},t.prototype.componentWillUnmount=function(){this.portalWrapper&&document.body.removeChild(this.portalWrapper),window.removeEventListener("resize",this.setPosition)},t.prototype.render=function(){var e=this.props.children,t=this.portalWrapper,n=this.state.refPosition;return t?n?Object(xa.createPortal)(e(n),t):Object(xa.createPortal)(e(),t):null},t}(a.a.Component),ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePermissionChange=function(e){var n=t.props.onChange;n&&n(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.permission,n=void 0===t?"inherited":t,r=e.disabled,i=void 0!==r&&r,o=e.superiorPermissionsShown,c=e.isDesktopVersion,s=void 0!==c&&c,u=o?l()("收起"):l()("查看");return a.a.createElement(li,{isMobile:x,"data-test":"row_parent"},a.a.createElement(Me,null),a.a.createElement(si,{isMobile:x},a.a.createElement(xi,{noclip:!0,styles:{overflow:"initial",width:"auto"}},l()("上级目录协作者")),a.a.createElement(di,{"data-test":"row_parent_button",onClick:this.props.onClick},u)),a.a.createElement(ui,{"data-test":"row_parent_dropdown_wrapper"},a.a.createElement(Dr,{permission:s?"inherited":n,disabled:!!s||i,onChange:this.handlePermissionChange,isDesktopVersion:s,"data-test":"row_parent_dropdown","data-disabled":i})))},t}(a.a.Component);Object(u.minify)(!1);var Ca,Ta,Sa=u.StyleSheet.create({row_add_admin:{cursor:"pointer",padding:"7px 0 7px 44px",":hover":{backgroundColor:"#F7F7F7"}},row_add_admin_button:{marginLeft:"14px",display:"inline-block",verticalAlign:"middle"}}),Ia=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;n&&n()},t}Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:Object(u.css)(Sa.row_add_admin),onClick:this.handleClick},a.a.createElement(W,null),a.a.createElement("div",{className:Object(u.css)(Sa.row_add_admin_button)},l()("添加管理者")))}}(a.a.Component),o.default.div.withConfig({componentId:"sc-1pPJu9",displayName:"RowWrapper"})(Ca||(Ca=Object(r.__makeTemplateObject)(["padding:",";display:",";align-items:",";position:relative;"],["","","",""])),(function(e){return e.isMobile?"7px 10px":"7px 0 7px 30px"}),(function(e){return e.isMobile?"flex":"block"}),(function(e){return e.isMobile?"center":"initial"}))),Na=o.default.div.withConfig({componentId:"sc-1pPJu9-1",displayName:"CollabPermission"})(Ta||(Ta=Object(r.__makeTemplateObject)(["margin-left:10px;display:inline-block;color:#929292;width:",";text-align:",";"],["","",""])),(function(e){return e.isMobile?"90px":"60px"}),(function(e){return e.isMobile?"left":"center"})),Ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isOutsider,n=void 0!==t&&t,r=e.permission,i=void 0===r?"edit":r,o=e.name,c=void 0===o?"":o,l=e.id,s=e.email,u=e.teamId,d=e.description,p=void 0===d?"":d,f=e.isDepartment,m=void 0!==f&&f,b=e.isGroup,h=void 0!==b&&b,g=e.avatar,v=e.isSelf,_=void 0!==v&&v,y=e.isDisabled,O=void 0!==y&&y,j=-1===e.status&&!p;return a.a.createElement(Ia,{isMobile:x},m?a.a.createElement(yt,null):h?a.a.createElement(Ot,null):a.a.createElement(U,{src:g||"",name:c,email:s,userId:l,teamId:u}),a.a.createElement(xi,{isSelf:_,isOutsider:n,isDisabled:O,styles:{width:"140px"},isInviteOutdated:j},c),a.a.createElement(hi,null,p),a.a.createElement(Na,{"data-test":"row_superior_permission",isMobile:x},w(i)))},t}(a.a.Component);Object(u.minify)(!1);var Pa,Ma,Aa=u.StyleSheet.create({scroll_list_wrapper:{position:"relative",display:"inline-block",userSelect:"none"},scroll_list:{overflow:"hidden"},scroll_button_wrapper:{position:"absolute",width:"6px",height:"100%",top:"0",right:"0",transitionProperty:"width, background-color",transitionDuration:"200ms",backgroundColor:"rgba(0, 0, 0, 0)",pointer:"cursor"},scroll_button_wrapper_hover:{width:"10px",backgroundColor:"rgba(0, 0, 0, 0.1)"},scroll_button_wrapper_hidden:{visibility:"hidden"},scroll_button:{position:"absolute",width:"6px",height:"20px",backgroundColor:"#333",top:"0",right:"0",borderRadius:"3px",opacity:.7,transitionProperty:"width, border-radius",transitionDuration:"200ms"},scroll_button_hover:{width:"10px",borderRadius:"5px"}}),Ba=0,Da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollButtonWrapperRef=a.a.createRef(),t.scrollButtonRef=a.a.createRef(),t.listRef=a.a.createRef(),t.listPosition=null,t.scrollButtonHeight=0,t.scrollButtonMinHeight=20,t.touchStartPoint=0,t.touchStartScrollTop=0,t.listPrevScrollTop=0,t.state={scrollButtonPressed:!1,scrollButtonWrapperExpanded:!1,scrollButtonWrapperVisible:!1},t.handleWheel=function(e){var n=t.listRef.current;n&&(e.preventDefault(),n.scrollTop+=e.deltaY,n.scrollTop!==t.listPrevScrollTop&&(t.listPrevScrollTop=n.scrollTop,e.stopPropagation()),setTimeout(t.setScrollButtonPosition,0))},t.initListPosition=function(){var e=t.scrollButtonWrapperRef.current;if(e){var n=e.getBoundingClientRect();t.listPosition={top:n.top,height:n.height}}},t.setScrollBarButtonHeight=function(){var e=t.listRef.current,n=t.scrollButtonRef.current,r=t.scrollButtonWrapperRef.current;if(e&&n&&r){var i=e.clientHeight,a=e.scrollHeight;t.scrollButtonHeight=i*(i/a),t.scrollButtonHeight<t.scrollButtonMinHeight&&(t.scrollButtonHeight=t.scrollButtonMinHeight),n.style.height=t.scrollButtonHeight+"px"}},t.setScrollBarWrapperVisible=function(){var e=t.listRef.current;e&&(e.scrollHeight>e.clientHeight?t.setState({scrollButtonWrapperVisible:!0}):t.setState({scrollButtonWrapperVisible:!1}))},t.setScrollBarTo=function(e,n){var r=t.scrollButtonRef.current,i=t.listRef.current;if(t.listPosition&&r&&i){var a=e-t.listPosition.top-t.scrollButtonHeight/2;a<=0&&(a=0),a>=t.listPosition.height-t.scrollButtonHeight&&(a=t.listPosition.height-t.scrollButtonHeight),r.style.transform="translateY("+a+"px)",i.scrollTop=i.scrollHeight*(a/(t.listPosition.height-t.scrollButtonHeight)),n&&n()}},t.setScrollButtonPosition=function(){var e=t.listRef.current;if(e){var n=t.scrollButtonRef.current;if(t.listPosition&&n){var r=e.scrollTop/(e.scrollHeight-e.clientHeight)*(t.listPosition.height-t.scrollButtonHeight);r>=t.listPosition.height-t.scrollButtonHeight&&(r=t.listPosition.height-t.scrollButtonHeight),n.style.transform="translateY("+r+"px)"}}},t.watchScrollAreaChange=function(){var e=t.listRef.current;e&&e.offsetParent&&Ba!==e.scrollHeight?setTimeout((function(){t.setScrollBarWrapperVisible(),setTimeout((function(){t.setScrollBarButtonHeight(),setTimeout((function(){t.setScrollButtonPosition(),Ba=e.scrollHeight,setTimeout(t.watchScrollAreaChange,100)}),0)}),0)}),0):setTimeout(t.watchScrollAreaChange,100)},t.handleScrollButtonMouseDown=function(e){t.state.scrollButtonPressed||t.setState({scrollButtonPressed:!0})},t.handleScrollButtonMouseMove=function(e){t.state.scrollButtonPressed&&t.setScrollBarTo(e.clientY)},t.handleScrollButtonMouseUp=function(e){t.state.scrollButtonPressed&&t.setState({scrollButtonPressed:!1,scrollButtonWrapperExpanded:e.target===t.scrollButtonRef.current})},t.handleScrollButtonWrapperMouseEnter=function(e){t.setState({scrollButtonWrapperExpanded:!0})},t.handleScrollButtonWrapperMouseLeave=function(e){t.state.scrollButtonPressed||t.setState({scrollButtonWrapperExpanded:!1})},t.handleScrollButtonWrapperMouseDown=function(e){var n=t.state.scrollButtonWrapperExpanded;e.target!==t.scrollButtonRef.current&&n&&t.setScrollBarTo(e.clientY,(function(){t.handleScrollButtonMouseDown(e)}))},t.handleTouchStart=function(e){t.touchStartPoint=e.touches[0].pageY;var n=t.listRef.current;n&&(t.touchStartScrollTop=n.scrollTop)},t.handleTouchMove=function(e){e.preventDefault();var n=t.listRef.current;n&&(n.scrollTop=t.touchStartScrollTop+2*(t.touchStartPoint-e.touches[0].pageY),setTimeout(t.setScrollButtonPosition,0))},t.handleTouchEnd=function(){t.touchStartPoint=0,t.touchStartScrollTop=0},t.mountHandleWheel=function(){t.listRef.current&&(t.listRef.current.addEventListener("wheel",t.handleWheel),t.listRef.current.addEventListener("touchstart",t.handleTouchStart),t.listRef.current.addEventListener("touchmove",t.handleTouchMove),t.listRef.current.addEventListener("touchend",t.handleTouchEnd))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout((function(){e.setScrollBarWrapperVisible(),setTimeout((function(){e.setScrollBarButtonHeight(),e.initListPosition(),e.watchScrollAreaChange()})),e.mountHandleWheel()}),0),document.addEventListener("mouseup",this.handleScrollButtonMouseUp),document.addEventListener("mousemove",this.handleScrollButtonMouseMove)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.handleScrollButtonMouseUp),document.removeEventListener("mousemove",this.handleScrollButtonMouseMove),this.listRef.current&&(this.listRef.current.removeEventListener("touchstart",this.handleTouchStart),this.listRef.current.removeEventListener("touchmove",this.handleTouchMove),this.listRef.current.removeEventListener("touchend",this.handleTouchEnd))},t.prototype.render=function(){var e=this.state,t=e.scrollButtonWrapperExpanded,n=e.scrollButtonWrapperVisible,r=this.props,i=r.children,o=r.height,c=r.width,l=void 0===c?"100px":c,s=r.wrapperHeight,d=void 0===s?"auto":s,p=r.maxHeight;return a.a.createElement("div",{className:Object(u.css)(Aa.scroll_list_wrapper),style:{width:l,height:d}},a.a.createElement("div",{className:Object(u.css)(Aa.scroll_list),ref:this.listRef,style:{height:o,maxHeight:p}},i),a.a.createElement("div",{className:Object(u.css)(Aa.scroll_button_wrapper,t&&Aa.scroll_button_wrapper_hover,!n&&Aa.scroll_button_wrapper_hidden),ref:this.scrollButtonWrapperRef,onMouseEnter:this.handleScrollButtonWrapperMouseEnter,onMouseLeave:this.handleScrollButtonWrapperMouseLeave,onMouseDown:this.handleScrollButtonWrapperMouseDown},a.a.createElement("div",{className:Object(u.css)(Aa.scroll_button,t&&Aa.scroll_button_hover),ref:this.scrollButtonRef,onMouseDown:this.handleScrollButtonMouseDown})))},t}(a.a.Component),La=o.default.div.withConfig({componentId:"sc-1JyaR8",displayName:"InputWrapper"})(Pa||(Pa=Object(r.__makeTemplateObject)(["display:inline-block;width:",";height:14px;line-height:14px;vertical-align:middle;position:relative;background-color:#fff;margin-left:7px;"],["",""])),(function(e){return e.isMobile?"250px":"335px"})),za=o.default.input.withConfig({componentId:"sc-1JyaR8-1",displayName:"Input"})(Ma||(Ma=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;border:none;width:100%;height:14px;line-height:14px;color:#000;outline:none;&::placeholder{line-height:14px;color:#ccc;}"],[""]))),Fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=a.a.createRef(),t.state={focused:!1,text:"",composition:!1},t.handleClickOnPlaceholder=function(e){},t.handleKeyUp=function(e){t.state.composition||t.setText(e)},t.handleInputBlur=function(e){},t.handleCompositionStart=function(){t.setState({composition:!0})},t.handleCompositionEnd=function(e){t.setState({composition:!1}),t.setText(e)},t.setText=function(e){var n=e.target,r=t.props.onInput,i=n.value.trim();t.setState({text:i});var a=t.inputRef.current;a&&a.setAttribute("value",i),null==r||r(i)},t.getPlaceholderText=function(){var e=t.props,n=e.isEnterpriseVersion,r=e.isDesktopVersion;return Object(nr.isSelfHosted)()?n&&!r?l()("输入 姓名 / 邮箱 / 部门 添加协作权限"):l()("输入 姓名 / 邮箱 添加协作权限"):n&&!r?l()("输入 姓名 / 邮箱 / 手机号 / 部门 添加协作权限"):l()("输入 姓名 / 邮箱 / 手机号 添加协作权限")},t.onRef=function(e){t.inputRef={current:e}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.getPlaceholderText();return a.a.createElement(La,{isMobile:x,"data-test":"search_input_wrapper"},a.a.createElement(za,{ref:this.onRef,onKeyUp:this.handleKeyUp,onBlur:this.handleInputBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,"data-test":"search_input",placeholder:e}))},t}(a.a.Component);Object(u.minify)(!1);var Va=u.StyleSheet.create({searchbox_x_button_wrapper:{display:"inline-block",width:"14px",height:"14px",verticalAlign:"middle",cursor:"pointer",position:"absolute",top:"8px",right:"5px"},searchbox_x_button:{width:"12px",height:"12px",position:"absolute",left:"0",top:"0",visibility:"hidden"},searchbox_x_button_visible:{visibility:"visible"}}),Ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hover:!1},t.handleMouseEnter=function(e){t.setState({hover:!0})},t.handleMouseLeave=function(e){t.setState({hover:!1})},t.handleClick=function(e){var n=t.props.onClick;n&&n()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state.hover;return a.a.createElement("div",{className:Object(u.css)(Va.searchbox_x_button_wrapper),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},a.a.createElement("div",{className:Object(u.css)(Va.searchbox_x_button,!e&&Va.searchbox_x_button_visible)},a.a.createElement(Ue,null)),a.a.createElement("div",{className:Object(u.css)(Va.searchbox_x_button,e&&Va.searchbox_x_button_visible)},a.a.createElement(Ke,null)))},t}(a.a.Component);Object(u.minify)(!1);var Ga,Ha,Wa=u.StyleSheet.create({searchbox:{height:"16px",padding:"8px 0 8px 11px",background:"#FFFFFF",border:"1px solid #A5A5A5",boxShadow:"inset 0 1px 4px 0 #E5E5E5",position:"relative",lineHeight:"14px"}}),Ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputVersion:1,showXButton:!1},t.handleXButtonClick=function(){var e=t.state.inputVersion,n=t.props.onInput;t.setState({inputVersion:e+1,showXButton:!1}),null==n||n("")},t.handleInput=function(e){var n=t.props.onInput,r=t.state.showXButton;null==n||n(e),e.length>0&&!r&&t.setState({showXButton:!0}),e.length<=0&&r&&t.setState({showXButton:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.inputVersion,n=e.showXButton,r=this.props,i=r.isEnterpriseVersion,o=r.isDesktopVersion;return a.a.createElement("div",{className:Object(u.css)(Wa.searchbox)},a.a.createElement(Qe,null),a.a.createElement(Fa,{key:t,isEnterpriseVersion:i,isDesktopVersion:o,onInput:this.handleInput}),n?a.a.createElement(Ua,{onClick:this.handleXButtonClick}):null)},t}(a.a.Component),Ya=o.default.div.withConfig({componentId:"sc-1oWAhQ",displayName:"ButtonWrapper"})(Ga||(Ga=Object(r.__makeTemplateObject)(["display:inline-block;height:12px;line-height:12px;position:relative;cursor:pointer;"],[""]))),Za=o.default.span.withConfig({componentId:"sc-1oWAhQ-1",displayName:"ButtonText"})(Ha||(Ha=Object(r.__makeTemplateObject)(["margin-left:17px;"],[""]))),qa=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;n&&n()},t}Object(r.__extends)(t,e),t.prototype.render=function(){return a.a.createElement(Ya,{onClick:this.handleClick},a.a.createElement(et,{style:{position:"absolute",top:"0",left:"0"}}),a.a.createElement(Za,null,l()("设置")))}}(a.a.Component),n(1081));Object(u.minify)(!1);var Qa,Xa,Ja,$a,eo,to,no,ro,io=u.StyleSheet.create({wrapper:{width:"450px",height:"40px",borderRadius:"2px",border:"solid 1px #e5e5e5",backgroundColor:" #f7f7f7",color:"#a5a5a5",fontSize:"12px",lineHeight:"40px",bottom:"-39px",left:"40px",position:"absolute",textAlign:"center"},dropdownWrapper:{bottom:"-43px"},link:{color:"#6da0e3"}}),ao=function(e){var t=e.dropdownMode?Object(u.css)(io.wrapper,io.dropdownWrapper):Object(u.css)(io.wrapper);return i.createElement("div",{className:t},i.createElement(lt,null),l()("您的企业存在「钉钉外部成员」，全员协作不包括此类成员。"),i.createElement("a",{className:Object(u.css)(io.link),href:"https://shimo.im/docs/DyYzE9pmdokopM39",target:"_blank",rel:"noreferrer noopener"},l()("> 了解更多")))},oo=o.default.div.withConfig({componentId:"sc-1DTFRh",displayName:"TabWrapper"})(Qa||(Qa=Object(r.__makeTemplateObject)(["display:block;position:relative;height:",";"],["",""])),(function(e){return e.isMobile?"100%":"auto"})),co=o.default.div.withConfig({componentId:"sc-1DTFRh-1",displayName:"Tabs"})(Xa||(Xa=Object(r.__makeTemplateObject)(["position:relative;padding:",";"],["",""])),(function(e){return e.isMobile?"0 10px":"0 40px"})),lo=o.default.div.withConfig({componentId:"sc-1DTFRh-2",displayName:"TabItem"})(Ja||(Ja=Object(r.__makeTemplateObject)(["display:inline-block;position:relative;z-index:1;padding:6px 5px;border-bottom:",";color:",";cursor:pointer;"],["","",""])),(function(e){return e.selected?"1px solid #555":"1px solid #ddd"}),(function(e){return e.selected?"#333":"#a5a5a5"})),so=o.default.span.withConfig({componentId:"sc-1DTFRh-3",displayName:"TabSpace"})($a||($a=Object(r.__makeTemplateObject)(["display:inline-block;width:4px;height:100%;"],[""]))),uo=o.default.div.withConfig({componentId:"sc-1DTFRh-4",displayName:"Divider"})(eo||(eo=Object(r.__makeTemplateObject)(["position:absolute;left:",";right:",";bottom:0;height:1px;background-color:#ddd;"],["","",""])),(function(e){return e.isMobile?"0":"40px"}),(function(e){return e.isMobile?"0":"40px"})),po=o.default.div.withConfig({componentId:"sc-1DTFRh-5",displayName:"Panes"})(to||(to=Object(r.__makeTemplateObject)(["height:",";"],["",""])),(function(e){return e.isMobile?"calc(100% - 38px)":"auto"})),fo=o.default.div.withConfig({componentId:"sc-1DTFRh-6",displayName:"Pane"})(no||(no=Object(r.__makeTemplateObject)(["height:",";display:",";"],["","",""])),(function(e){return e.isMobile?"100%":"auto"}),(function(e){return e.selected?"block":"none"})),mo=function(e){function t(t){var n=e.call(this,t)||this;return n.paneRef=a.a.createRef(),n.cache={},n.handleTabClick=function(e){return function(){n.setState({selectedIndex:e})}},n.notRendered=function(e){return!n.cache[e]},n.renderCache=function(e){var t=n.cache[e];return null!=t?t:null},n.setCache=function(e,t){n.cache[e]=t},n.state={hasDingOuters:!1,selectedIndex:0},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.teamId;t&&Object(h.d)(t).then((function(t){t&&t.length>0?e.setState({hasDingOuters:!0}):e.setState({hasDingOuters:!1})})).catch((function(){e.setState({hasDingOuters:!1})}))},t.prototype.render=function(){var e=this,t=this.props,n=t.width,r=void 0===n?"100px":n,i=t.height,o=void 0===i?"200px":i,c=t.dropdownMode,l=t.items,s=this.state,u=s.hasDingOuters,d=s.selectedIndex,p=this.context.file;return a.a.createElement(oo,{isMobile:x},a.a.createElement(co,{isMobile:x},l.map((function(t,n){return t?a.a.createElement(a.a.Fragment,{key:n},a.a.createElement(lo,{selected:n===d,onClick:e.handleTabClick(n),"data-test":t.dataTestName},t.title),a.a.createElement(so,null)):null})),a.a.createElement(qa.a,{path:"shimo.collabPanelAddTabHook",data:{guid:null==p?void 0:p.guid,getPaneEl:function(){return e.paneRef.current},changeTabIndex:function(t){return e.handleTabClick(t)()}}}),a.a.createElement(uo,{isMobile:x})),a.a.createElement(po,{isMobile:x,ref:this.paneRef},l.map((function(t,n){if(!t)return null;if(!e.notRendered(n)&&!t.reload){var i=e.renderCache(n);return a.a.createElement(fo,{isMobile:x,selected:n===d,key:n},i)}var l=!Object(nr.isSelfHosted)()&&u&&"departments"===t.type;if(n===d){var s=a.a.createElement(a.a.Fragment,null,a.a.createElement(Da,{width:r,height:l?"310px":o,wrapperHeight:x?"100%":""},t.content),l&&a.a.createElement(ao,{dropdownMode:c}));return e.setCache(n,s),a.a.createElement(fo,{isMobile:x,selected:!0,key:n},s)}return null}))))},t.contextType=g,t}(a.a.Component),bo=o.default.div.withConfig({componentId:"sc-KzkP3",displayName:"TitleWrapper"})(ro||(ro=Object(r.__makeTemplateObject)(["height:36px;width:100%;display:inline-block;line-height:18px;position:relative;font-size:16px;font-weight:",";color:",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],["","",""])),(function(e){return e.isMobile?"500":"bold"}),(function(e){return e.isMobile?"#494949":"inherit"})),ho=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=a.a.createRef(),t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.styles;return a.a.createElement(bo,{isMobile:x,style:n,ref:this.ref},t)},t}(a.a.Component);function go(){var e=document.getElementById("toast-container");if(e)return e;var t=document.createElement("div");return t.setAttribute("id","toast-container"),t.className=Object(u.css)(u.StyleSheet.create({toast_container:{position:"fixed",zIndex:9999,left:0,right:0,top:"30px",textAlign:"center",fontSize:"12px",pointerEvents:"none"}}).toast_container),document.body.appendChild(t),t}function vo(e){var t=document.createElement("div");return t.className=Object(u.css)(u.StyleSheet.create({toast_subcontainer:{display:"block",marginBottom:"10px",pointerEvents:"none"}}).toast_subcontainer),e.appendChild(t),t}function _o(e,t){e.removeChild(t)}Object(u.minify)(!1);var yo,Oo,jo,wo,xo,Eo=u.StyleSheet.create({toast:{display:"inline-block",padding:"8px 25px",lineHeight:"18px",textAlign:"center",color:"rgb(102, 102, 102)",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 6px 0px",border:"1px solid rgb(229, 229, 229)",backgroundColor:"white",verticalAlign:"baseline"},toastMsg:{display:"inline-block",maxWidth:"80vw"}}),ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.type;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Object(u.css)(Eo.toast)},"warning"===n&&a.a.createElement(it,{style:{display:"inline-block",width:"12px",height:"12px",marginRight:"5px",marginTop:"2px",float:"left"}}),a.a.createElement("div",{className:Object(u.css)(Eo.toastMsg)},t)),a.a.createElement("br",null))},t}(a.a.Component),Co={success:function(e){var t=go(),n=vo(t);Object(xa.render)(a.a.createElement(ko,{message:e,type:"success"}),n),setTimeout((function(){Object(xa.unmountComponentAtNode)(n),_o(t,n)}),3e3)},warning:function(e){var t=go(),n=vo(t);Object(xa.render)(a.a.createElement(ko,{message:e,type:"warning"}),n),setTimeout((function(){Object(xa.unmountComponentAtNode)(n),_o(t,n)}),3e3)}},To=n(1030),So=o.default.div.withConfig({componentId:"sc-3ds0Of",displayName:"HeadWrapper"})(yo||(yo=Object(r.__makeTemplateObject)(["background-color:#fff;padding-top:6px;padding-bottom:0;padding-left:",";padding-right:",";z-index:999;width:",";"],["","","",""])),(function(e){return e.isMobile?"0":"30px"}),(function(e){return e.isMobile?"0":"30px"}),(function(e){return e.isMobile?"100%":"auto"})),Io=o.default.div.withConfig({componentId:"sc-3ds0Of-1",displayName:"Head"})(Oo||(Oo=Object(r.__makeTemplateObject)(["color:#8a8a8a;border-bottom:1px solid #ddd;padding:0 10px 4px;position:relative;height:17px;width:",";"],["",""])),(function(e){return e.isMobile?"auto":"450px"})),No=o.default.div.withConfig({componentId:"sc-3ds0Of-2",displayName:"HeadTail"})(jo||(jo=Object(r.__makeTemplateObject)(["color:#6da0e3;float:right;position:relative;cursor:pointer;display:flex;align-items:center;margin-right:5px;"],[""]))),Ro=o.default.span.withConfig({componentId:"sc-3ds0Of-3",displayName:"AddButton"})(wo||(wo=Object(r.__makeTemplateObject)(["float:left;"],[""]))),Po=o.default.div.withConfig({componentId:"sc-3ds0Of-4",displayName:"QuestionIconWrapper"})(xo||(xo=Object(r.__makeTemplateObject)(["width:13px;height:13px;cursor:pointer;display:inline-block;margin-left:5px;margin-bottom:-2px;circle{fill:#eee;&:hover{fill:#d9dadb;}}"],[""]))),Mo=function(e){var t=e.title,n=e.showButton,r=e.handleButtonClick,i=e.buttonText,o=e.styles,c=e.popConfirmTitle,l=e.popConfirmContent;return a.a.createElement(So,{isMobile:x,style:o,ref:function(t){e.headRef;return t}},a.a.createElement(Io,{isMobile:x},a.a.createElement("span",null,t),a.a.createElement(To.a,{title:c,content:l,trigger:"hover",placement:"right",withButton:!1},a.a.createElement(Po,null,a.a.createElement(ht,null))),n&&a.a.createElement(No,{onClick:r,"data-test":"list_head_tail"},a.a.createElement(Ro,{"data-test":"list_head_add_button"},a.a.createElement(Le,null)),a.a.createElement("span",null,i))))},Ao=n(71),Bo=n(977),Do=n(92),Lo=n(69);Object(u.minify)(!1);var zo,Fo=u.StyleSheet.create({reason_node_wrapper:{fontSize:"12px",lineHeight:"1.8",color:"#666",margin:"5px 10px",textAlign:"left",position:"relative"},reason_node_link:{color:"#6da0e3",position:"absolute",right:0,bottom:0},reason_node_message:{textAlign:"left"},reason_node_plain_message:{textAlign:"left",margin:"0 2px",lineLeight:1.375,minWidth:"140px"},reason_node_p:{margin:"0"}}),Vo=function(e){var t=e.children;return a.a.createElement("div",{className:Object(u.css)(Fo.reason_node_wrapper)},t)},Uo=function(e){var t=e.children;return a.a.createElement("div",{className:Object(u.css)(Fo.reason_node_link)},t)},Go=function(e){var t=e.children;return a.a.createElement("p",{className:Object(u.css)(Fo.reason_node_message)},t)},Ho=function(e){var t=e.children;return a.a.createElement("p",{className:Object(u.css)(Fo.reason_node_plain_message)},t)};var Wo=o.default.span.withConfig({componentId:"sc-3Y4n9F",displayName:"Wrapper"})($o||($o=Object(r.__makeTemplateObject)(["white-space:nowrap;display:inline-block;margin-left:10px;button{pointer-events:",";}"],["",""])),(function(e){return e.disabled?"none":"initial"})),Ko=o.default.img.withConfig({componentId:"sc-3Y4n9F-1",displayName:"FlyingIcon"})(ec||(ec=Object(r.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:35px;height:35px;background-color:#fff;border-radius:5px;padding:7px;"],[""]))),Yo=o.default.div.withConfig({componentId:"sc-3Y4n9F-2",displayName:"QrcodeInnerWrapper"})(tc||(tc=Object(r.__makeTemplateObject)(["height:205px;position:relative;"],[""]))),Zo=Object(o.default)(Bo.a).withConfig({componentId:"sc-3Y4n9F-3",displayName:"StyledButton"})(nc||(nc=Object(r.__makeTemplateObject)(["min-width:148px;position:relative;display:",";"],["",""])),(function(e){return e.isMobile?"none":"block"})),qo=o.default.div.withConfig({componentId:"sc-3Y4n9F-4",displayName:"QrcodeWrapper"})(rc||(rc=Object(r.__makeTemplateObject)(["width:237px;background-color:#fff;border:1px solid #ddd;box-shadow:0 -4px 12px rgba(0,0,0,0.1);text-align:center;border-radius:2px;position:absolute;bottom:38px;left:-40px;padding:26px 15px 23px;box-sizing:border-box;"],[""]))),Qo=o.default.p.withConfig({componentId:"sc-3Y4n9F-5",displayName:"QrcodeTitle"})(ic||(ic=Object(r.__makeTemplateObject)(["font-size:13px;line-height:16px;color:#666;margin:0 0 14px;word-break:break-all;white-space:pre-wrap;font-weight:normal;"],[""]))),Xo=o.default.img.withConfig({componentId:"sc-3Y4n9F-6",displayName:"QrcodeImg"})(ac||(ac=Object(r.__makeTemplateObject)(["width:100%;display:block;margin:0 auto;"],[""])));function Jo(e){var t=e.me,n=e.file,o=Object(r.__read)(Object(i.useState)(!0),2),c=o[0],s=o[1],p=Object(r.__read)(Object(i.useState)(""),2),m=p[0],b=p[1],h=function(){var e,t=parseInt(null!==(e=localStorage.getItem("collabWechatQrCodeHoverTimes"))&&void 0!==e?e:"0",10),n=Object(r.__read)(Object(i.useState)(t<5),2),a=n[0],o=n[1],c=Object(r.__read)(Object(i.useState)(t),2),l=c[0],s=c[1];return{hover:a,setHover:o,hoverTimes:l,addLocalHoverTimes:function(){s(t+1),localStorage.setItem("collabWechatQrCodeHoverTimes",""+(t+1))}}}(),g=h.hover,v=h.setHover,_=h.addLocalHoverTimes,y=Object(r.__read)(Object(i.useState)({theme:"default",node:null}),2),O=y[0],j=y[1],w=Object(i.useCallback)((function(){v(!0)}),[]),E=Object(i.useCallback)((function(){v(!1),_()}),[]),k=Object(i.useCallback)((function(){c||g&&Object(Ao.a)({moduleName:"add_collaborator",submoduleName:"wechat_invite",actionName:"click_wechat_type"})}),[g]);if(Object(i.useEffect)((function(){if(n.permissionsAndReasons){var e=n.permissionsAndReasons.canManageCollaborator,t=e.value,i=e.reason;if(t)Object(f.e)(n.guid).then((function(e){var t=e.wechatQRLink,n=114*window.devicePixelRatio;b(Object(Do.getHost)()+"/qrcode?size="+n+"&margin=0&url="+t)}),(function(){s(!0),j({theme:"default",node:null}),b("")})),s(!1),j({theme:"default",node:null});else{var o=function(e,t){switch(e){case Lo.a.OUTSIDER_CANNOT_ADD_USER:return{theme:"default",node:a.a.createElement(Ho,null,l()("抱歉，您不是该企业的成"),a.a.createElement("br",null),l()("员，无权限添加协作者。"))};case Lo.a.EXPIRED_CANNOT_ADD_USER:return{theme:"white",node:a.a.createElement(Vo,null,a.a.createElement(Go,null,l()("您的企业版已到期，协作者人数上限为"),a.a.createElement("br",null),l()("15 人。您可以续费企业版，解锁所有限"),a.a.createElement("br",null),l()("制。")),a.a.createElement(Uo,{href:"/enterprise/billing",target:"_blank"},l()("续费企业版 >")))};case Lo.a.NOT_ON_SEAT_CANNOT_ADD_USER:return{theme:"white",node:a.a.createElement(Vo,null,a.a.createElement(Go,null,l()("您是非席位成员，协作者人数上限为 15"),a.a.createElement("br",null),l()("人。您可以让企业创建者将您设置为席"),a.a.createElement("br",null),l()("位成员，解除所有限制。")))};case Lo.a.NO_ACCESS_ADD_OUTSIDER:return{theme:"default",node:a.a.createElement(Ho,null,l()("抱歉，根据企业设置，您不能添加非企"),a.a.createElement("br",null),l()("业成员为协作者。请联系企业管理员。"))};case Lo.a.NO_ACCESS_ADD_USER:return{theme:"white",node:a.a.createElement(Vo,null,a.a.createElement(Go,null,l()("您当前的版本为「基础版」，协作"),a.a.createElement("br",null),l()("者人数上限为 15 人。您可以升级"),a.a.createElement("br",null),l()("到「高级版」或「企业版」，获得"),a.a.createElement("br",null),l()("更多权限。")),a.a.createElement(Uo,{href:"/pricing",target:"_blank"},l()("了解更多 >")))};case Lo.a.NO_ACCESS_EDIT:return{theme:"default",node:a.a.createElement(Ho,null,l()("抱歉，只有权限为“可以编"),a.a.createElement("br",null),l()("辑”的成员能添加协作者"))};case Lo.a.NO_ACCESS_MODIFY:return{theme:"default",node:a.a.createElement(Ho,null,l()("抱歉，只有权限为“可以编"),a.a.createElement("br",null),l()("辑”的成员能修改他人权限"))};case Lo.a.OUTSIDER_CANNOT_MODIFY_ROLE:return{theme:"default",node:a.a.createElement(Ho,null,l()("抱歉，只有企业成员能修"),a.a.createElement("br",null),l()("改权限"))};case Lo.a.TOO_MANY_COLLABORATORS:return{theme:"default",node:a.a.createElement(Ho,null,l()("一次最多添加 20 名协作者"))};case Lo.a.FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:return{theme:"default",node:a.a.createElement(Ho,null,l()(zo||(zo=Object(r.__makeTemplateObject)(["已通过团队空间获得","权限"],["已通过团队空间获得","权限"])),t||""))};case"abandon":return{theme:"default",node:a.a.createElement("p",{className:Object(u.css)(Fo.reason_node_p)},l()("功能正在修复中"))};default:return{theme:"default",node:a.a.createElement("p",{className:Object(u.css)(Fo.reason_node_p)},l()("无权添加协作者"))}}}(i),c=o.theme,d=o.node;j({theme:c,node:d})}}g&&k()}),[g,t,n]),Object(nr.isSelfHosted)())return null;var C=c?{opacity:.3}:{opacity:1};return a.a.createElement(d.a,{trigger:"hover",theme:O.theme,title:O.node,onVisibleChange:k},a.a.createElement(Wo,{disabled:c,"data-test":"wechat_button_wrapper","data-disabled":c},a.a.createElement(Zo,{isMobile:x,type:"outline",size:"m",disabled:c,onMouseEnter:function(){w()},onMouseLeave:E,"data-disabled":c,"data-test":"wechat_button"},a.a.createElement(pt,{style:C}),l()("通过微信添加协作"),!c&&a.a.createElement(qo,{style:{display:m&&g?"block":"none"}},a.a.createElement(Qo,null,l()("扫码发送到微信聊天或群聊"),a.a.createElement("br",null),l()("对方加入后便可协同编辑"),a.a.createElement("br",null),l()("（链接有效期为 6 小时）")),a.a.createElement(Yo,null,m&&a.a.createElement(Ko,{src:ut}),a.a.createElement(Xo,{src:m}))))))}var $o,ec,tc,nc,rc,ic,ac,oc,cc,lc,sc,uc,dc,pc,fc,mc=o.default.div.withConfig({componentId:"sc-3yVXST",displayName:"Wrapper"})(oc||(oc=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;width:100%;height:100%;position:relative;"],[""]))),bc=o.default.div.withConfig({componentId:"sc-3yVXST-1",displayName:"TitleWrapper"})(cc||(cc=Object(r.__makeTemplateObject)(["height:40px;line-height:18px;padding:",";text-align:center;font-size:16px;"],["",""])),(function(e){return e.isMobile?"7px 10px 0":"7px 40px 0 44px"})),hc=o.default.div.withConfig({componentId:"sc-3yVXST-2",displayName:"BackButtonWrapper"})(lc||(lc=Object(r.__makeTemplateObject)(["position:absolute;top:8px;left:",";"],["",""])),(function(e){return e.isMobile?"15px":"50px"})),gc=o.default.div.withConfig({componentId:"sc-3yVXST-3",displayName:"XButtonWrapper"})(sc||(sc=Object(r.__makeTemplateObject)(["position:absolute;right:48px;top:5px;display:",";"],["",""])),(function(e){return e.isMobile?"none":"block"})),vc=o.default.div.withConfig({componentId:"sc-3yVXST-4",displayName:"SearchBoxWrapper"})(uc||(uc=Object(r.__makeTemplateObject)(["height:35px;margin-bottom:12px;padding:",";"],["",""])),(function(e){return e.isMobile?"0 10px":"0 40px"})),_c=o.default.div.withConfig({componentId:"sc-3yVXST-5",displayName:"TabWrapper"})(dc||(dc=Object(r.__makeTemplateObject)(["height:",";overflow:",";"],["","",""])),(function(e){return e.isMobile?"100%":"400px"}),(function(e){return e.isMobile?"hidden":"unset"})),yc=o.default.div.withConfig({componentId:"sc-3yVXST-6",displayName:"SearchingBackButton"})(pc||(pc=Object(r.__makeTemplateObject)(["position:absolute;top:8px;left:",";"],["",""])),(function(e){return e.isMobile?"15px":"50px"})),Oc=o.default.div.withConfig({componentId:"sc-3yVXST-7",displayName:"NotificationControl"})(fc||(fc=Object(r.__makeTemplateObject)(["cursor:pointer;padding-left:","px;height:",";align-items:center;color:#666;display:flex;gap:8px;"],["","",""])),(function(e){return e.isMobile?10:30}),(function(e){return e.isMobile?"30px":"auto"})),jc=n(1007),wc=o.default.div.withConfig({componentId:"sc-22Pk8",displayName:"LayoutMain"})(Ac||(Ac=Object(r.__makeTemplateObject)(["display:inline-block;width:100%;height:100%;position:relative;"],[""]))),xc=o.default.div.withConfig({componentId:"sc-22Pk8-1",displayName:"LayoutTitle"})(Bc||(Bc=Object(r.__makeTemplateObject)(["height:36px;line-height:18px;padding:",";margin-bottom:4px;overflow:hidden;margin-left:",";"],["","",""])),(function(e){return e.isMobile?"0 15px":"6px 80px 1px 44px"}),(function(e){return e.isMobile?"80px":"0"})),Ec=o.default.div.withConfig({componentId:"sc-22Pk8-2",displayName:"LayoutX"})(Dc||(Dc=Object(r.__makeTemplateObject)(["position:absolute;right:48px;top:5px;display:",";"],["",""])),(function(e){return e.isMobile?"none":"block"})),kc=o.default.div.withConfig({componentId:"sc-22Pk8-3",displayName:"LayoutSearch"})(Lc||(Lc=Object(r.__makeTemplateObject)(["height:35px;margin-bottom:12px;padding:",";"],["",""])),(function(e){return e.isMobile?"0 10px":"0 40px"})),Cc=o.default.div.withConfig({componentId:"sc-22Pk8-4",displayName:"LayoutTab"})(zc||(zc=Object(r.__makeTemplateObject)(["margin-bottom:",";height:",";"],["","",""])),(function(e){return e.isMobile?"0":"10px"}),(function(e){return e.isMobile?"calc(100% - 87px)":"340px"})),Tc=o.default.div.withConfig({componentId:"sc-22Pk8-5",displayName:"LayoutButtons"})(Fc||(Fc=Object(r.__makeTemplateObject)(["position:relative;margin:0 40px;display:",";"],["",""])),(function(e){return e.isMobile?"none":"block"})),Sc=o.default.div.withConfig({componentId:"sc-22Pk8-6",displayName:"CollabButtonWrapper"})(Vc||(Vc=Object(r.__makeTemplateObject)(["margin-left:5px;float:left;"],[""]))),Ic=o.default.div.withConfig({componentId:"sc-22Pk8-7",displayName:"SearchingTitle"})(Uc||(Uc=Object(r.__makeTemplateObject)(["height:40px;text-align:center;position:relative;padding:",";"],["",""])),(function(e){return e.isMobile?"7px 10px 0":"7px 40px 0px 44px"})),Nc=o.default.div.withConfig({componentId:"sc-22Pk8-8",displayName:"SearchingBackButton"})(Gc||(Gc=Object(r.__makeTemplateObject)(["position:absolute;top:8px;left:",";"],["",""])),(function(e){return e.isMobile?"15px":"50px"})),Rc=o.default.span.withConfig({componentId:"sc-22Pk8-9",displayName:"NoPerson"})(Hc||(Hc=Object(r.__makeTemplateObject)(["color:#ccc;line-height:2;display:block;padding:15px 40px 10px;"],[""]))),Pc=o.default.div.withConfig({componentId:"sc-22Pk8-10",displayName:"Wrapper"})(Wc||(Wc=Object(r.__makeTemplateObject)(["height:calc(100% - 94px);display:flex;flex-direction:column;overflow:hidden;"],[""]))),Mc=Object(o.default)(s.a).withConfig({componentId:"sc-22Pk8-11",displayName:"StyledEntryButton"})(Kc||(Kc=Object(r.__makeTemplateObject)(["position:absolute;bottom:6px;right:40px;color:#6da0e3;font-size:12px;"],[""])));var Ac,Bc,Dc,Lc,zc,Fc,Vc,Uc,Gc,Hc,Wc,Kc,Yc=function(){return a.a.createElement("div",{style:{marginTop:"20px"}},a.a.createElement(p.a,null))},Zc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapper=a.a.createRef(),t.content=a.a.createRef(),t.head=a.a.createRef(),t.state={searching:!1,searchingVersion:1,keyword:""},t.handleAddCollabButtonClick=function(){var e=t.props.onAddCollabButtonClick;e&&e()},t.handleAddAdminButtonClick=function(){var e=t.props.onAddAdminButtonClick;e&&e()},t.handleBackButtonClick=function(){var e=t.state.searchingVersion;t.setState({searching:!1,searchingVersion:e+1,keyword:""})},t.handleCollabBackButtonClick=function(){history.back()},t.handleInput=function(e){var n=t.state.searching;e.length>0?t.setState({searching:!0,keyword:e}):n&&t.setState({searching:!1,keyword:""})},t.handleSettingButtonClick=function(){var e=t.props.onSettingButtonClick;e&&e()},t.handleXButtonClick=function(){var e=t.props.onXButtonClick;e&&e()},t.handleScroll=function(){var e=t.wrapper.current,n=t.content.current;if(t.head){var r=t.head.current;if(e&&n&&r){var i=e.getBoundingClientRect(),a=n.getBoundingClientRect().top-i.top;!r.style.position&&a<=40?(r.style.position="fixed",r.style.top=i.top+"px",r.style.marginTop="0"):"fixed"===r.style.position&&a>=40&&(r.style.position="",r.style.top="0",r.style.marginTop="15px")}}},t.handleToggleNotification=function(){var e=t.props;(0,e.setNotification)(!e.notification)},t.getNotification=function(){return t.props.notification},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n,r=this.state,i=r.searching,o=r.searchingVersion,c=r.keyword,s=this.props,u=s.me,d=s.teamId,p=s.hideCloseButton,f=void 0!==p&&p,m=s.onError,b=void 0===m?function(){}:m,h=s.notification,g=this.props,v=g.file,_=g.features,y=this.context,j=y.all,w=y.isLoading,E=y.file,k=y.isEnterpriseAdmin,C=y.isEnterpriseVersion,T=y.isDesktopVersion,S=y.parentFileGuid,I=k||E&&(null===(e=E.permissionsAndReasons)||void 0===e?void 0:e.canManageAdmin.value),N=E&&(null===(t=E.permissionsAndReasons)||void 0===t?void 0:t.canManageCollaborator.value),R=j.collabs.length||"0"!==S&&!(null==E?void 0:E.isSpace)&&(null==E?void 0:E.parentRole),P=x?{paddingTop:"8px"}:{},M=!E||!(null===(n=E.permissionsAndReasons)||void 0===n?void 0:n.canManageCollaborator.value);return a.a.createElement(wc,null,i?a.a.createElement(Ic,{isMobile:x},a.a.createElement(ho,{key:"title-search"},l()("搜索")),a.a.createElement(Nc,{isMobile:x},a.a.createElement(xt,{onClick:this.handleBackButtonClick}))):a.a.createElement(xc,{isMobile:x},v.isSpace?a.a.createElement(ho,{key:"title-space",styles:P},l()("协作空间")," ",v.name):v.isFolder?a.a.createElement(ho,{key:"title-folder",styles:P},l()("文件夹")," ",v.name):a.a.createElement(ho,{key:"title-file",styles:P},function(e){var t=sr.a.find(e.type);return t?t.display:null}(v)," ",v.name),x&&a.a.createElement(Nc,{isMobile:!0},a.a.createElement(xt,{onClick:this.handleCollabBackButtonClick}))),!f&&a.a.createElement(Ec,{isMobile:x},a.a.createElement(ci,{onClick:this.handleXButtonClick})),a.a.createElement(kc,{isMobile:x},a.a.createElement(Ka,{key:o,isEnterpriseVersion:C,isDesktopVersion:T,onInput:this.handleInput})),i?a.a.createElement(Pc,null,a.a.createElement(ha,{key:o,width:"100%",height:x?"100%":"400px",teamId:d,me:u,keyword:c,getNotification:this.getNotification}),__RUNTIME_ENV__.COLLAB_NOTIFICATION_CONTROL&&a.a.createElement(Oc,{isMobile:x,onClick:this.handleToggleNotification},a.a.createElement(jc.a,{type:"check",checked:h,size:"s"}),l()("添加协作者时，向对方发送通知"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(Cc,{isMobile:x,ref:this.wrapper,onScroll:this.handleScroll},a.a.createElement(Mo,{"data-test":"list_head_add_collab",title:l()("协作者"),buttonText:l()("添加协作者"),showButton:!!N,handleButtonClick:this.handleAddCollabButtonClick,popConfirmTitle:l()("协作者"),popConfirmContent:l()("参与文件协作的成员列表，协作者不能进行移动和删除操作。")}),a.a.createElement(Da,{width:"100%",height:x?"100%":"310px",wrapperHeight:x?"calc(100% - 28px)":""},a.a.createElement("div",null,a.a.createElement("div",null,w&&a.a.createElement(Yc,null),!w&&(R?a.a.createElement(Gr,{me:u,onError:b}):a.a.createElement(Rc,null,l()("没有协作者")))),a.a.createElement(Mo,{"data-test":"list_head_add_admin",styles:{marginTop:"15px"},title:l()("管理者"),buttonText:l()("添加管理者"),showButton:!!I,handleButtonClick:this.handleAddAdminButtonClick,headRef:this.head,popConfirmTitle:l()("管理者"),popConfirmContent:l()("参与文件管理的成员列表，管理者可以进行移动和删除操作。上级继承的管理者不可被移除。")}),a.a.createElement("div",{ref:this.content},w&&a.a.createElement(Yc,null),!w&&(j.admins.length?a.a.createElement(Vr,{onClick:this.handleAddAdminButtonClick,me:u}):a.a.createElement(Rc,null,l()("没有管理者"))))))),a.a.createElement(Tc,{isMobile:x},a.a.createElement(Sc,{"data-disabled":M},a.a.createElement(Rt,{onClick:this.handleAddCollabButtonClick,disabled:M,"data-test":"collab_button","data-disabled":M})),E&&!Object(O.isDingtalk)()&&!x&&a.a.createElement(Jo,{"data-test":"wechat_button",file:E,me:u}),E&&a.a.createElement(qa.a,{path:"shimo.collabPanelFooterHook",data:{refresh:this.context.refresh,file:E,guid:E.guid}})),E&&a.a.createElement(Mc,{file:E,me:{teamId:u.team},features:_},l()("高级权限设置"))))},t.contextType=g,t}(a.a.Component),qc=n(987),Qc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={searching:!1,searchingVersion:1,keyword:""},t.handleBackButtonClick=function(e){return function(){if(e){var n=t.state.searchingVersion;t.setState({searching:!1,searchingVersion:n+1,keyword:""})}else{var r=t.props.onBackButtonClick;null==r||r()}}},t.handleInput=function(e){var n=t.state.searching;e.length>0?t.setState({searching:!0,keyword:e}):n&&t.setState({searching:!1,keyword:""})},t.handleXButtonClick=function(){var e=t.props.onXButtonClick;null==e||e()},t.handleToggleNotification=function(){var e=t.props,n=e.notification;(0,e.setNotification)(!n)},t.getNotification=function(){return t.props.notification},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.searching,n=e.searchingVersion,r=e.keyword,i=this.props,o=i.teamId,c=i.me,s=i.hideCloseButton,u=void 0!==s&&s,d=i.allStaffVisible,p=i.notification,f=this.context,m=f.file,b=f.isEnterpriseVersion,h=f.isDesktopVersion;return m&&a.a.createElement(mc,null,a.a.createElement(bc,{isMobile:x},t?a.a.createElement(ho,null,l()("搜索")):a.a.createElement(ho,null,l()("添加管理者"))),t?a.a.createElement(yc,{isMobile:x},a.a.createElement(xt,{onClick:this.handleBackButtonClick(!0)})):a.a.createElement(hc,{isMobile:x},a.a.createElement(xt,{onClick:this.handleBackButtonClick(!1)})),!u&&a.a.createElement(gc,{isMobile:x},a.a.createElement(ci,{onClick:this.handleXButtonClick})),a.a.createElement(vc,{isMobile:x},a.a.createElement(Ka,{isEnterpriseVersion:b,isDesktopVersion:h,key:n,onInput:this.handleInput})),t?a.a.createElement(ha,{key:n,width:"100%",height:x?"100%":"400px",admin:!0,teamId:o,me:c,keyword:r,getNotification:this.getNotification}):a.a.createElement(_c,{isMobile:x},a.a.createElement(mo,{teamId:o,dropdownMode:u,items:[{title:l()("最近"),content:a.a.createElement(Zr,{admin:!0,teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"admin_tab_recent"},b&&d?{title:l()("企业全员"),content:a.a.createElement(Kr,{admin:!0,teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"admin_tab_members"}:null,b&&!h?{title:l()("组织"),type:"departments",content:a.a.createElement(tr,{admin:!0,teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"admin_tab_departments"}:null],width:"100%",height:x?"100%":"354px"})),__RUNTIME_ENV__.COLLAB_NOTIFICATION_CONTROL&&a.a.createElement(Oc,{isMobile:x,onClick:this.handleToggleNotification},a.a.createElement(qc.p,{type:"check",checked:p,size:"s"}),l()("添加管理者时，向对方发送通知")))},t.contextType=g,t}(a.a.Component),Xc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={searching:!1,searchingVersion:1,keyword:""},t.handleBackButtonClick=function(e){return function(){if(e){var n=t.state.searchingVersion;t.setState({searching:!1,searchingVersion:n+1,keyword:""})}else{var r=t.props.onBackButtonClick;null==r||r()}}},t.handleInput=function(e){var n=t.state.searching;e.length>0?t.setState({searching:!0,keyword:e}):n&&t.setState({searching:!1,keyword:""})},t.handleXButtonClick=function(){var e=t.props.onXButtonClick;null==e||e()},t.handleToggleNotification=function(){var e=t.props,n=e.notification;(0,e.setNotification)(!n)},t.getNotification=function(){return t.props.notification},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.searching,n=e.searchingVersion,r=e.keyword,i=this.props,o=i.teamId,c=i.me,s=i.hideCloseButton,u=void 0!==s&&s,d=i.isEnterpriseVersion,p=i.isDesktopVersion,f=i.allStaffVisible,m=i.notification;return a.a.createElement(mc,null,a.a.createElement(bc,{isMobile:x},t?a.a.createElement(ho,null,l()("搜索")):a.a.createElement(ho,null,l()("添加协作者"))),t?a.a.createElement(yc,{isMobile:x},a.a.createElement(xt,{onClick:this.handleBackButtonClick(!0)})):a.a.createElement(hc,{isMobile:x},a.a.createElement(xt,{onClick:this.handleBackButtonClick(!1)})),!u&&a.a.createElement(gc,{isMobile:x},a.a.createElement(ci,{onClick:this.handleXButtonClick})),a.a.createElement(vc,{isMobile:x},a.a.createElement(Ka,{key:n,isEnterpriseVersion:d,isDesktopVersion:p,onInput:this.handleInput})),t?a.a.createElement(ha,{key:n,width:"100%",height:x?"100%":"400px",teamId:o,me:c,keyword:r,getNotification:this.getNotification}):a.a.createElement(_c,{isMobile:x},a.a.createElement(mo,{teamId:o,dropdownMode:u,items:[{title:l()("最近"),content:a.a.createElement(Zr,{teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"collab_tab_recent"},d&&f?{title:l()("企业全员"),content:a.a.createElement(Kr,{teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"collab_tab_members"}:null,d&&!p?{title:l()("组织"),type:"departments",content:a.a.createElement(tr,{teamId:o,me:c,getNotification:this.getNotification}),dataTestName:"collab_tab_departments"}:null],width:"100%",height:x?"100%":"354px"})),__RUNTIME_ENV__.COLLAB_NOTIFICATION_CONTROL&&a.a.createElement(Oc,{isMobile:x,onClick:this.handleToggleNotification},a.a.createElement(jc.a,{type:"check",checked:m,size:"s"}),l()("添加协作者时，向对方发送通知")))},t.contextType=g,t}(a.a.Component);Object(u.minify)(!1);var Jc,$c=u.StyleSheet.create({tip_bar:{textAlign:"center",backgroundColor:"#e2ecf9",color:"#666",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",fontSize:"12px"},tip_bar_link:{textDecoration:"underline",cursor:"pointer"}}),el=function(){var e=Object(r.__read)(Object(i.useState)((function(){return"hidden"===localStorage.getItem("collabPanelTipState")||!1})),2),t=e[0],n=e[1];return t?null:a.a.createElement("div",{className:Object(u.css)($c.tip_bar),style:{display:t?"none":"flex"}},l()("「我的桌面」功能升级中，"),a.a.createElement("span",{className:Object(u.css)($c.tip_bar_link),onClick:function(){window.open("https://shimo.im/docs/r4ArzoRNwWUYFgAV/ ")}},l()("点击查看详情")),l()("或"),a.a.createElement("span",{className:Object(u.css)($c.tip_bar_link),onClick:function(){localStorage.setItem("collabPanelTipState","hidden"),n(!0)}},l()("不再提示")))},tl=o.default.div.withConfig({componentId:"sc-jwdg8",displayName:"Wrapper"})(Jc||(Jc=Object(r.__makeTemplateObject)(["display:inline-block;width:",";height:",";min-height:",";padding:",";background-color:#fff;font-size:12px;-webkit-tap-highlight-color:transparent;box-sizing:",";"],["","","","","",""])),(function(e){return e.isMobile?"100%":"530px"}),(function(e){return e.isMobile?"100%":"auto"}),(function(e){return e.isMobile?"unset":"480px"}),(function(e){return e.isMobile?"15px 0 0":"30px 0"}),(function(e){return e.isMobile?"border-box":"initial"})),nl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentPage:t.props.showAddCollab?"collab":"main",firstTimeLoaded:!0,allStaffVisible:!1,notification:!0},t.handleAddCollabButtonClick=function(){t.setState({currentPage:"collab"})},t.handleAddAdminButtonClick=function(){t.setState({currentPage:"admin"})},t.handleBackButtonClick=function(){t.setState({currentPage:"main"})},t.handleSettingButtonClick=function(){var e=t.props.onSettingButtonClick;e&&e()},t.handleXButtonClick=function(){var e=t.props.onClose;e&&e()},t.handleMouseEnter=function(e){t.state.firstTimeLoaded&&t.setState({firstTimeLoaded:!1})},t.handleSetNotification=function(e){t.setState({notification:e})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(f.a)().then((function(t){var n=t.data.visible;e.setState({allStaffVisible:n})})).catch((function(){}))},t.prototype.render=function(){var e=this.state,t=e.currentPage,n=e.allStaffVisible,r=e.notification,i=this.props,o=i.isEnterpriseAdmin,c=void 0!==o&&o,l=i.isEnterpriseVersion,s=void 0===l||l,u=i.parentFileGuid,d=i.file,p=i.me,f=i.teamId,m=i.hideCloseButton,b=void 0!==m&&m,h=i.zIndex,g=i.features,_=i.onError,y=void 0===_?function(e){}:_,O=this.props.isDesktopVersion&&!__RUNTIME_ENV__.PRIVATE_DEPLOY;return a.a.createElement(v,{guid:d.guid,isEnterpriseVersion:s,isDesktopVersion:O,isEnterpriseAdmin:c,parentFileGuid:u,zIndex:h,onError:y,me:p,teamId:f},!x&&O&&!Object(nr.isSelfHosted)()&&a.a.createElement(el,null),a.a.createElement("div",{onMouseEnter:this.handleMouseEnter},"admin"===t&&a.a.createElement(tl,{isMobile:x},a.a.createElement(Qc,{onBackButtonClick:this.handleBackButtonClick,allStaffVisible:n,teamId:f,me:p,onXButtonClick:this.handleXButtonClick,hideCloseButton:b,notification:r,setNotification:this.handleSetNotification})),"collab"===t&&a.a.createElement(tl,{isMobile:x},a.a.createElement(Xc,{allStaffVisible:n,onBackButtonClick:this.handleBackButtonClick,teamId:f,me:p,onXButtonClick:this.handleXButtonClick,hideCloseButton:b,isEnterpriseVersion:s,isDesktopVersion:O,notification:r,setNotification:this.handleSetNotification})),"main"===t&&a.a.createElement(tl,{isMobile:x},a.a.createElement(Zc,{onAddCollabButtonClick:this.handleAddCollabButtonClick,onAddAdminButtonClick:this.handleAddAdminButtonClick,me:p,file:d,teamId:f,onSettingButtonClick:this.handleSettingButtonClick,onXButtonClick:this.handleXButtonClick,hideCloseButton:b,onError:y,notification:r,setNotification:this.handleSetNotification,features:g}))))},t}(a.a.Component);t.default=nl},1177:function(e,t,n){"use strict";n.d(t,"a",(function(){return po}));var r,i=n(2),a=n(8),o=n.n(a),c=n(253),l=n(971),s=Object(c.default)(l.k).withConfig({componentId:"sc-2KRvAq",displayName:"StyledModal"})(r||(r=Object(i.__makeTemplateObject)([".sm-modal-body{height:100%;font-size:12px;}.sm-modal-close{top:26px;right:34px;display:none;}.sm-modal-content{width:530px;height:650px;box-sizing:border-box;padding:24px 32px;}"],[""]))),u=function(e){var t=e.visible,n=e.children;return o.a.createElement(s,{visible:t,footer:null,width:530,height:650,wrapStyle:{overflow:"hidden"}},n)};u.displayName="FileAccessControlModal";var d,p,f=n(11),m=n.n(f),b=n.p+"static/lizard-one/assets/right-arrow.url.d665ceb0.svg",h=c.default.div.withConfig({componentId:"sc-7v9MT",displayName:"StyledTabPanel"})(d||(d=Object(i.__makeTemplateObject)(["height:24px;line-height:24px;display:flex;flex-direction:row;border-bottom:1px solid rgba(65,70,75,0.1);align-items:center;color:rgba(65,70,75,0.6);font-size:14px;position:relative;padding:0 24px;user-select:none;"],[""]))),g=c.default.div.withConfig({componentId:"sc-7v9MT-1",displayName:"StyledTabItem"})(p||(p=Object(i.__makeTemplateObject)(["box-sizing:border-box;cursor:pointer;height:24px;margin-bottom:-1px;display:inline-flex;align-items:center;font-weight:",";color:",";border-bottom:2px solid ",";margin-right:32px;"],["","","",""])),(function(e){return e.active?500:"normal"}),(function(e){return e.active?"rgba(65, 70, 75, 0.9)":"inherit"}),(function(e){return e.active?"rgba(65, 70, 75, 0.9)":"transparent"})),v=function(e){var t=e.tabs,n=e.active,r=e.onChange,i=e.className;return o.a.createElement(h,{className:i},t.map((function(e){return o.a.createElement(g,{key:e.id,active:e.id===n,onClick:function(){return r(e.id)}},e.name)})))};v.displayName="TabPanel";var _,y,O,j,w,x=n(1031),E=c.default.div.withConfig({componentId:"sc-1p_t94",displayName:"FormTitle"})(_||(_=Object(i.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:500;font-size:12px;height:24px;margin-bottom:8px;display:flex;flex-direction:row;align-items:center;"],[""]))),k=c.default.div.withConfig({componentId:"sc-1p_t94-1",displayName:"FormRow"})(y||(y=Object(i.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:8px;height:24px;font-size:12px;user-select:none;cursor:",";color:",";& > *{margin-left:10px;&:first-child{margin-left:0;}}"],["","",""])),(function(e){return e.disabled?"not-allowed":"default"}),(function(e){return e.disabled?"rgba(65, 70, 75, 0.3)":"rgba(65, 70, 75, 0.9)"})),C=c.default.span.withConfig({componentId:"sc-1p_t94-2",displayName:"StrongText"})(O||(O=Object(i.__makeTemplateObject)(["padding:0 3px;font-weight:500;text-indent:0;"],[""]))),T=[[1,{name:m()(j||(j=Object(i.__makeTemplateObject)(["企业创建者"],["企业创建者"])))}],[2,{name:m()(w||(w=Object(i.__makeTemplateObject)(["企业管理员"],["企业管理员"])))}]],S=n.p+"static/lizard-one/assets/ticket.url.78511f04.svg",I=n.p+"static/lizard-one/assets/ticket-disable.url.84e511bb.svg",N=n.p+"static/lizard-one/assets/minus.url.b70aee0c.svg",R=n.p+"static/lizard-one/assets/minus-disable.url.c264caa9.svg",P=c.default.label.withConfig({componentId:"sc-3LccgL",displayName:"CheckboxWrapper"})(M||(M=Object(i.__makeTemplateObject)(["display:flex;align-items:center;flex-direction:row;cursor:",";"],["",""])),(function(e){return e.disabled?"not-allowed":"pointer"}));var M,A,B=c.default.div.withConfig({componentId:"sc-3LccgL-1",displayName:"StyledCheckbox"})(A||(A=Object(i.__makeTemplateObject)(["width:12px;height:12px;margin-right:10px;overflow:hidden;position:relative;border:",";box-sizing:border-box;box-shadow:",";background-image:url(",");background-color:",";background-position:center;background-repeat:no-repeat;border-radius:2px;&:hover{border:1px solid rgba(65,70,75,0.3);box-shadow:inset 0 1px 4px rgba(0,0,0,0.2);}> input{visibility:hidden;position:absolute;}"],["","","","",""])),(function(e){return e.disabled?"1px solid rgba(65, 70, 75, 0.1)!important":"1px solid rgba(65, 70, 75, 0.1)"}),(function(e){return e.disabled?"none!important":"inset 0 1px 4px rgba(0, 0, 0, 0.1)"}),(function(e){var t=e.checked,n=e.half,r=e.disabled;return t?n?r?R:N:r?I:S:"none"}),(function(e){var t=e.checked,n=e.disabled;return t?n?"#f6f6f6":"#676B6F":"#fff"})),D=function(e){var t=e.checked,n=e.onChange,r=e.className,i=e.disabled,a=e.half,c=e.children;return o.a.createElement(P,{disabled:i},o.a.createElement(B,{checked:t,disabled:i,half:a,className:r},o.a.createElement("input",{type:"checkbox",checked:t,onChange:function(e){null==n||n(e.target.checked)},disabled:i})),c)},L=function(e){var t=e.tooltipProps,n=e.enable,r=e.children,a=Object(i.__read)(o.a.useState(!!t.visible),2),c=a[0],s=a[1];return o.a.createElement(l.u,Object(i.__assign)({},t,{visible:c,onVisibleChange:function(e){s(e&&!!n)}}),r)};L.displayName="ConditionTooltip";var z,F,V,U,G,H,W,K,Y,Z,q,Q,X,J,$,ee,te,ne,re={getNoPermissionChangeExpandModePermissionTip:function(){return m()(z||(z=Object(i.__makeTemplateObject)(["根据企业设置，您没有权限调整当前开关。请联系企业管理员"],["根据企业设置，您没有权限调整当前开关。请联系企业管理员"])))},getExpandLabel:function(e){return"enterprise"===e.extendSource?m()("继承企业权限设置"):m()("继承上级目录权限设置")},getExpandExplainTip:function(e){return"enterprise"===e.extendSource?m()(F||(F=Object(i.__makeTemplateObject)(["当前空间的权限默认继承自企业设置，如果希望扩大权限范围或重新自定义权限，请取消勾选此项。取消勾选后，这个空间不再受企业设置变更的影响"],["当前空间的权限默认继承自企业设置，如果希望扩大权限范围或重新自定义权限，请取消勾选此项。取消勾选后，这个空间不再受企业设置变更的影响"]))):m()(V||(V=Object(i.__makeTemplateObject)(["当前","的权限继承自上级目录，如果希望扩大权限范围或重新自定义权限，请取消勾选此项。取消勾选后，这个","不再受上级目录权限变更的影响"],["当前","的权限继承自上级目录，如果希望扩大权限范围或重新自定义权限，请取消勾选此项。取消勾选后，这个","不再受上级目录权限变更的影响"])),e.type.name,e.type.name)},getNoPermissionModifyTip:function(e,t){return t.allowModify?t.allowExpand||t.allowChangeExpandMode?!t.allowExpand&&t.allowChangeExpandMode?m()(W||(W=Object(i.__makeTemplateObject)(["想要修改此项，请先取消勾选「","」"],["想要修改此项，请先取消勾选「","」"])),this.getExpandLabel(e)):"":"enterprise"===e.extendSource?m()(G||(G=Object(i.__makeTemplateObject)(["当前可选范围默认继承自企业设置，你没有权限扩大此范围。请联系拥有该权限的用户处理（通常是企业创建者或企业管理员）"],["当前可选范围默认继承自企业设置，你没有权限扩大此范围。请联系拥有该权限的用户处理（通常是企业创建者或企业管理员）"]))):m()(H||(H=Object(i.__makeTemplateObject)(["当前可选范围默认继承自上级目录，你没有权限扩大此范围。请联系拥有该权限的用户处理（通常是企业创建者或企业管理员）"],["当前可选范围默认继承自上级目录，你没有权限扩大此范围。请联系拥有该权限的用户处理（通常是企业创建者或企业管理员）"]))):m()(U||(U=Object(i.__makeTemplateObject)(["你没有权限修改此项，请联系这个","的管理者"],["你没有权限修改此项，请联系这个","的管理者"])),e.type.name)},getSaveConfirmTipContent:function(e){return e.type.isEnterprise?m()(K||(K=Object(i.__makeTemplateObject)(["保存修改后，将影响企业内所有继承自企业权限的空间、文件夹和文件"],["保存修改后，将影响企业内所有继承自企业权限的空间、文件夹和文件"]))):e.type.isSpace?m()(Y||(Y=Object(i.__makeTemplateObject)(["保存修改后，将影响空间内所有继承自该空间权限的文件夹或文件"],["保存修改后，将影响空间内所有继承自该空间权限的文件夹或文件"]))):m()(Z||(Z=Object(i.__makeTemplateObject)(["保存修改后，将影响文件夹内所有继承自该文件夹权限的文件"],["保存修改后，将影响文件夹内所有继承自该文件夹权限的文件"])))},getAddExtraUserTip:function(e){return e.type.isEnterprise?m()(q||(q=Object(i.__makeTemplateObject)(["包含为企业全局添加的成员"],["包含为企业全局添加的成员"]))):e.type.isSpace?m()(Q||(Q=Object(i.__makeTemplateObject)(["包含继承自企业设置的成员，以及单独为此空间添加的成员"],["包含继承自企业设置的成员，以及单独为此空间添加的成员"]))):m()(X||(X=Object(i.__makeTemplateObject)(["包含继承自上级目录权限设置的成员，以及单独为此","添加的成员"],["包含继承自上级目录权限设置的成员，以及单独为此","添加的成员"])),e.type.name)},getTeamRoleTip:function(e){return e.type.isEnterprise?m()(J||(J=Object(i.__makeTemplateObject)(["需具备对应空间、文件夹或文件的访问权限"],["需具备对应空间、文件夹或文件的访问权限"]))):e.type.isSpace?m()($||($=Object(i.__makeTemplateObject)(["需具备该空间的访问权限"],["需具备该空间的访问权限"]))):e.type.isFolder?m()(ee||(ee=Object(i.__makeTemplateObject)(["需具备该文件夹的访问权限"],["需具备该文件夹的访问权限"]))):m()(te||(te=Object(i.__makeTemplateObject)(["需具备该文件的访问权限"],["需具备该文件的访问权限"])))}},ie=c.default.div.withConfig({componentId:"sc-e8D-J",displayName:"TooltipWrapper"})(ne||(ne=Object(i.__makeTemplateObject)(["max-width:200px;text-align:left;"],[""]))),ae=function(e){var t=e.configPermission,n=e.entity,r=e.children,i=e.disabled,a=o.a.useMemo((function(){return i?re.getNoPermissionModifyTip(n,t):""}),[t,n,i]);return o.a.createElement(L,{enable:!!a,tooltipProps:{placement:"right",getTooltipContainer:function(){return document.body},overlay:o.a.createElement(ie,null,a)}},r)};ae.displayName="NoPermissionTip";var oe,ce=c.default.div.withConfig({componentId:"sc-3pitaz",displayName:"TooltipWrapper"})(oe||(oe=Object(i.__makeTemplateObject)(["max-width:200px;text-align:left;"],[""]))),le=function(e){var t=e.id,n=e.title,r=e.checked,i=e.disabled,a=e.onChange,c=e.configPermission,l=e.entity;return o.a.createElement(ae,{id:t,configPermission:c,entity:l,disabled:i},o.a.createElement("span",null,o.a.createElement(k,{disabled:i},o.a.createElement(L,{enable:!i,tooltipProps:{overlay:o.a.createElement(ce,null,re.getTeamRoleTip(l)),placement:"right"}},o.a.createElement("span",null,o.a.createElement(D,{checked:r,disabled:i,onChange:a},n))))))};le.displayName="TeamRoleForm";var se,ue,de,pe,fe,me,be,he=n(980),ge=n.p+"static/lizard-one/assets/triangle.url.fe27e811.svg",ve=n.p+"static/lizard-one/assets/select-ticket.url.022bb72a.svg",_e=c.default.div.withConfig({componentId:"sc-1hpw9V",displayName:"SelectWrapper"})(se||(se=Object(i.__makeTemplateObject)(["min-width:200px;height:24px;display:flex;flex-direction:row;align-items:center;border:1px solid ",";border-radius:2px;background:#fff;position:relative;font-size:13px;text-indent:8px;white-space:nowrap;color:",";cursor:",";&:hover{border-color:#a5a5a5;}&::after{content:'';width:6px;height:4px;opacity:",";margin-left:auto;margin-right:10px;background:url(",") no-repeat;}"],["","","","","",""])),(function(e){var t=e.expand;return e.disabled?"#f7f7f7!important":t?"#8D9093!important":"#D9DADB"}),(function(e){return e.disabled?"rgba(65, 70, 75, 0.3)":"rgba(65, 70, 75, 0.9);"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){var t=e.expand;return e.disabled?"0.3":t?"0.9":"0.6"}),ge),ye=Object(c.default)(he.e).withConfig({componentId:"sc-1hpw9V-1",displayName:"StyledMenu"})(ue||(ue=Object(i.__makeTemplateObject)(["min-width:200px;font-size:13px;margin-top:-4px;"],[""]))),Oe=Object(c.default)(he.c).withConfig({componentId:"sc-1hpw9V-2",displayName:"StyledMenuItem"})(de||(de=Object(i.__makeTemplateObject)(["padding:6px 35px 6px 20px;&.sm-menu-item-selected::after{right:10px;background-image:url(",");}"],["",""])),ve),je=function(e){var t=e.selectedId,n=e.options,r=e.onSelect;return o.a.createElement(ye,{selectedKeys:t?[String(t)]:[],onClick:function(e){var t=e.key;return null==r?void 0:r(String(t))}},n.map((function(e){var t=e.id,n=e.text,r=e.disabled,i=e.tips;return o.a.createElement(Oe,{key:t,disabled:r},o.a.createElement(L,{enable:!!i,tooltipProps:{placement:"right",overlay:i}},o.a.createElement("span",null,n)))})))},we=function(e){var t,n,r,a=e.options,c=e.selectedId,s=e.onSelect,u=e.defaultText,d=e.disabled,p=Object(i.__read)(o.a.useState(!1),2),f=p[0],m=p[1];return o.a.createElement(l.d,{visible:f,onVisibleChange:function(e){m(e&&!d)},overlay:o.a.createElement(je,{options:a,selectedId:c,onSelect:function(e){null==s||s(e),m(!1)}})},o.a.createElement(_e,{expand:f,disabled:d},null!==(r=null!==(n=null===(t=a.find((function(e){return e.id===c})))||void 0===t?void 0:t.text)&&void 0!==n?n:u)&&void 0!==r?r:a[0].text))},xe=c.default.div.withConfig({componentId:"sc-3PsqTI",displayName:"TooltipWrapper"})(pe||(pe=Object(i.__makeTemplateObject)(["max-width:200px;text-align:left;"],[""]))),Ee=function(e){var t=e.id,n=e.title,r=e.checked,a=e.selectedId,c=e.disabled,l=e.options,s=e.onChange,u=e.configPermission,d=e.entity,p=e.cancelAble,f=e.specialTip,m=e.allowedOptions,b=Object(i.__read)(o.a.useState(a),2),h=b[0],g=b[1];return o.a.useEffect((function(){void 0!==a&&g(a)}),[a]),o.a.createElement(ae,{id:t,configPermission:u,entity:d,disabled:c},o.a.createElement("span",null,o.a.createElement(k,{disabled:c},o.a.createElement(L,{enable:!c&&!!f,tooltipProps:{overlay:o.a.createElement(xe,null,f),placement:"left"}},o.a.createElement("span",null,o.a.createElement(D,{checked:r,disabled:c||!p,onChange:function(e){var t;return s(e,null!=h?h:null===(t=l[0])||void 0===t?void 0:t.id)}},n))),o.a.createElement(we,{selectedId:h,options:l.filter((function(e){return m.includes(e.id)})),disabled:c||!r,onSelect:function(e){return s(r,Number(e))}}))))};Ee.displayName="FileRoleForm",function(e){e.Collaborator="Collaborator",e.Viewer="Viewer"}(fe||(fe={}));var ke,Ce,Te,Se,Ie,Ne,Re,Pe,Me,Ae=[["fileRole",{name:m()("企业内部")}],["fileRoleOutsider",{name:m()("企业外部")}]],Be=((me={})[fe.Collaborator]=m()("协作者"),me[fe.Viewer]=m()("访问者"),me),De=((be={})[fe.Collaborator]=m()("协作者"),be[fe.Viewer]=m()("协作者和公开链接访问者"),be),Le={99:{getName:function(){return m.a.x(ke||(ke=Object(i.__makeTemplateObject)(["文件",""],["文件",""])),o.a.createElement(C,null,m()("管理者")))},getTip:function(){return""}},60:{getName:function(e){return m.a.x(Ce||(Ce=Object(i.__makeTemplateObject)(["有","的",""],["有","的",""])),o.a.createElement(C,null,m()("编辑权限")),Be[e])},getTip:function(e){return m()(Te||(Te=Object(i.__makeTemplateObject)(["包括权限是可以编辑的","，以及文件管理者"],["包括权限是可以编辑的","，以及文件管理者"])),De[e])}},40:{getName:function(e){return m.a.x(Se||(Se=Object(i.__makeTemplateObject)(["有","的",""],["有","的",""])),o.a.createElement(C,null,m()("评论权限")),Be[e])},getTip:function(e){return m()(Ie||(Ie=Object(i.__makeTemplateObject)(["包括权限是可以编辑、只能评论的","，以及文件管理者"],["包括权限是可以编辑、只能评论的","，以及文件管理者"])),De[e])}},20:{getName:function(e){return m.a.x(Ne||(Ne=Object(i.__makeTemplateObject)(["有","的",""],["有","的",""])),o.a.createElement(C,null,m()("阅读权限")),Be[e])},getTip:function(e){return m()(Re||(Re=Object(i.__makeTemplateObject)(["包括权限是可以编辑、只能评论、只能阅读的","，以及文件管理者"],["包括权限是可以编辑、只能评论、只能阅读的","，以及文件管理者"])),De[e])}}},ze=[99,60,40,20];!function(e){e.FileAccessControl="FileAccessControl",e.UserList="UserList",e.UserAdd="UserAdd"}(Me||(Me={}));var Fe=((Pe={})[Me.FileAccessControl]=m()("高级权限设置"),Pe[Me.UserList]=m()("成员列表"),Pe[Me.UserAdd]=m()("添加指定成员"),Pe);var Ve={current:Me.FileAccessControl,history:[],params:void 0,prev:function(){},next:function(){}},Ue=o.a.createContext(Ve),Ge=function(e){var t=e.children,n=function(){var e=Object(i.__read)(o.a.useReducer((function(e,t){switch(t.type){case"Prev":return e.history.length>1?{current:e.history.slice(-2)[0].scene,history:e.history.slice(0,-1),params:e.history.slice(-2)[0].params}:e;case"Next":return t.payload.scene===e.current?e:{current:t.payload.scene,history:Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(e.history)),[{scene:t.payload.scene,params:t.payload.params}]),params:t.payload.params};default:return e}}),{params:void 0,current:Me.FileAccessControl,history:[{scene:Me.FileAccessControl,params:void 0}]}),2),t=e[0],n=e[1];return{params:t.params,current:t.current,history:t.history,prev:function(){return n({type:"Prev"})},next:function(e,t){return n({type:"Next",payload:{scene:e,params:t}})}}}();return o.a.createElement(Ue.Provider,{value:n},t(n))};function He(){return o.a.useContext(Ue)}Ge.displayName="NavigatorProvider";var We=n.p+"static/lizard-one/assets/plus.url.77009e55.svg",Ke=n.p+"static/lizard-one/assets/close.url.f4408717.svg",Ye=c.default.div.withConfig({componentId:"sc-qeyZu",displayName:"CloseButton"})(at||(at=Object(i.__makeTemplateObject)(["width:6px;height:6px;background:url(",");margin-left:6px;cursor:pointer;"],["",""])),Ke),Ze=c.default.div.withConfig({componentId:"sc-qeyZu-1",displayName:"StyledWrapper"})(ot||(ot=Object(i.__makeTemplateObject)(["background:#f2f2f2;border-radius:2px;display:flex;flex-wrap:wrap;max-height:64px;align-items:center;padding:8px 10px 0;box-sizing:border-box;width:100%;margin-top:12px;overflow:hidden;","{display:",";}& > *{margin-left:8px;margin-bottom:8px;&:first-child{margin-left:0;}}"],["","",""])),Ye,(function(e){return e.disabled?"none":"block"})),qe=c.default.div.withConfig({componentId:"sc-qeyZu-2",displayName:"AddButton"})(ct||(ct=Object(i.__makeTemplateObject)(["width:10px;height:10px;background:url(",");margin-right:5px;"],["",""])),We),Qe=c.default.div.withConfig({componentId:"sc-qeyZu-3",displayName:"UserWrapper"})(lt||(lt=Object(i.__makeTemplateObject)(["background:rgba(65,70,75,0.1);border-radius:2px;height:20px;display:inline-flex;flex-direction:row;align-items:center;font-size:12px;color:rgba(65,70,75,0.9);padding:0 8px;box-sizing:border-box;"],[""]))),Xe=Object(c.default)(Qe).withConfig({componentId:"sc-qeyZu-4",displayName:"AddWrapper"})(st||(st=Object(i.__makeTemplateObject)(["cursor:pointer;"],[""]))),Je=c.default.div.withConfig({componentId:"sc-qeyZu-5",displayName:"StyledUserAvatar"})(ut||(ut=Object(i.__makeTemplateObject)(["width:16px;height:16px;border-radius:50%;margin-right:4px;background-image:url(",");background-color:rgba(65,70,75,0.2);background-size:100%;"],["",""])),(function(e){return e.src})),$e=c.default.div.withConfig({componentId:"sc-qeyZu-6",displayName:"RightArrow"})(dt||(dt=Object(i.__makeTemplateObject)(["width:8px;height:8px;background:url(",") no-repeat;opacity:0.9;margin-left:6px;"],["",""])),b),et=c.default.div.withConfig({componentId:"sc-qeyZu-7",displayName:"EmptyText"})(pt||(pt=Object(i.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-size:12px;height:20px;line-height:20px;"],[""]))),tt=function(e){var t=e.allowExpand,n=e.onAdd;return t?o.a.createElement(Xe,{onClick:n},o.a.createElement(qe,null),m()("添加")):o.a.createElement(et,null,m()("无"))};tt.displayName="Empty";var nt=function(e){var t=e.avatar,n=e.name,r=e.onRemove;return o.a.createElement(Qe,null,o.a.createElement(Je,{src:t}),n,o.a.createElement(Ye,{onClick:r}))};nt.displayName="UserItem";var rt=function(e){var t=e.total,n=e.innerRef,r=e.onClick;return o.a.createElement(Qe,{ref:n,onClick:r},m()(ft||(ft=Object(i.__makeTemplateObject)(["查看全部 (",")"],["查看全部 (",")"])),t),o.a.createElement($e,null))};function it(e,t){var n=e.getBoundingClientRect();return n.top+n.height<t}rt.displayName="ShowTotal";var at,ot,ct,lt,st,ut,dt,pt,ft,mt=function(e){var t=e.users,n=e.total,r=e.configPermission,a=e.onAdd,c=e.onRemove,l=o.a.useRef(null),s=o.a.useRef(null),u=Object(i.__read)(o.a.useState(30),2),d=u[0],p=u[1],f=Object(i.__read)(o.a.useState(!1),2),m=f[0],b=f[1];return o.a.useEffect((function(){p(30);var e=l.current;if(e){var t=e.getBoundingClientRect(),n=t.top+t.height;if(n)for(var r=1;r<e.children.length;r+=1){if(!it(e.children[r],n)){b(!0),p(r-1);break}r===e.children.length-1&&b(!1)}}}),[t]),o.a.useEffect((function(){var e=l.current;if(e&&s.current){var t=e.getBoundingClientRect(),n=t.top+t.height;n&&d>0&&!it(s.current,n)&&p(d-1)}}),[t,m,d]),o.a.createElement(Ze,{ref:l,disabled:!r.allowModify},0===t.length&&o.a.createElement(tt,{allowExpand:r.allowExpand,onAdd:a}),t.slice(0,d).map((function(e){return o.a.createElement(nt,{key:e.id,avatar:e.avatar,name:e.name,onRemove:function(){return null==c?void 0:c(e.id)}})})),m&&o.a.createElement(rt,{onClick:a,innerRef:s,total:n}))};mt.displayName="UserList";var bt=c.default.div.withConfig({componentId:"sc-2qkT2S",displayName:"ShowAllButton"})(ht||(ht=Object(i.__makeTemplateObject)(["height:20px;color:#41464b;font-size:12px;font-weight:normal;display:inline-flex;align-items:center;flex-direction:row;margin-left:auto;cursor:pointer;opacity:",";&::after{display:block;content:'';background:url(",") no-repeat;width:12px;height:12px;background-position:center;}"],["","",""])),(function(e){return e.disabled?.3:.9}),b);var ht,gt,vt=function(e){var t=e.id,n=e.entity,r=e.configPermission,a=e.data,c=e.userMap,l=e.onChange,s=He(),u=s.next,d=s.current,p=o.a.useMemo((function(){var e;return function(e,t){return e.filter((function(e){return t[e.id]&&e.allow})).map((function(e){return t[e.id]}))}(null!==(e=null==a?void 0:a.user)&&void 0!==e?e:[],c)}),[null==a?void 0:a.user,c]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null,m()("其他成员"),o.a.createElement(ae,{id:t,configPermission:r,entity:n,disabled:!1},o.a.createElement(bt,{disabled:!r.allowModify,onClick:function(){return u(Me.UserList,t)}},p.length>0?m()(gt||(gt=Object(i.__makeTemplateObject)(["查看全部(",")"],["查看全部(",")"])),p.length):m()("查看全部")))),d===Me.FileAccessControl&&o.a.createElement(mt,{configPermission:r,users:p,total:p.length,onAdd:function(){return u(Me.UserList,t)},onRemove:function(e){var t;if(a){var n=(null!==(t=a.user)&&void 0!==t?t:[]).map((function(t){return t.id===e?Object(i.__assign)(Object(i.__assign)({},t),{allow:!1,inherited:!1}):t}));l(Object(i.__assign)(Object(i.__assign)({},a),{user:n}))}}}))};vt.displayName="ExtraUser";var _t={canCreateChildFile:function(e){return e.type.isFolder},canCopy:function(e){return e.type.isNewDoc||e.type.isSheet||e.type.isFolder},canDuplicate:function(e){return!e.type.isCloudFile}},yt=function(e){var t=e.entity,n=e.titleMap;return t.type.isEnterprise?n.enterprise:t.type.isSpace?n.space:t.type.isFolder?n.folder:n.file};yt.displayName="PermissionTitleText";var Ot,jt,wt,xt,Et,kt,Ct,Tt,St,It,Nt,Rt,Pt,Mt,At,Bt,Dt,Lt,zt,Ft,Vt,Ut,Gt,Ht,Wt,Kt,Yt,Zt,qt,Qt,Xt,Jt,$t,en,tn,nn,rn,an,on,cn,ln,sn,un,dn,pn,fn,mn,bn={canCreateChildFile:{enterprise:m()(Ot||(Ot=Object(i.__makeTemplateObject)(["谁能创建或移入新内容"],["谁能创建或移入新内容"]))),space:m()(jt||(jt=Object(i.__makeTemplateObject)(["谁能在当前空间创建或移入新内容"],["谁能在当前空间创建或移入新内容"]))),folder:m()(wt||(wt=Object(i.__makeTemplateObject)(["谁能在当前文件夹里创建或移入新内容"],["谁能在当前文件夹里创建或移入新内容"]))),file:""},canExport:{enterprise:m()(xt||(xt=Object(i.__makeTemplateObject)(["谁能导出或下载企业文件"],["谁能导出或下载企业文件"]))),space:m()(Et||(Et=Object(i.__makeTemplateObject)(["谁能导出、下载当前空间的文件"],["谁能导出、下载当前空间的文件"]))),folder:m()(kt||(kt=Object(i.__makeTemplateObject)(["谁能导出、下载当前文件夹里的文件"],["谁能导出、下载当前文件夹里的文件"]))),file:m()(Ct||(Ct=Object(i.__makeTemplateObject)(["谁能导出、下载当前文件"],["谁能导出、下载当前文件"])))},canPrint:{enterprise:m()(Tt||(Tt=Object(i.__makeTemplateObject)(["谁能打印企业文件"],["谁能打印企业文件"]))),space:m()(St||(St=Object(i.__makeTemplateObject)(["谁能打印当前空间的文件"],["谁能打印当前空间的文件"]))),folder:m()(It||(It=Object(i.__makeTemplateObject)(["谁能打印当前文件夹里的文件"],["谁能打印当前文件夹里的文件"]))),file:m()(Nt||(Nt=Object(i.__makeTemplateObject)(["谁能打印当前文件"],["谁能打印当前文件"])))},canCopy:{enterprise:m()(Rt||(Rt=Object(i.__makeTemplateObject)(["谁能复制企业文档或表格的文本"],["谁能复制企业文档或表格的文本"]))),space:m()(Pt||(Pt=Object(i.__makeTemplateObject)(["谁能复制当前空间里文档、表格的文本"],["谁能复制当前空间里文档、表格的文本"]))),folder:m()(Mt||(Mt=Object(i.__makeTemplateObject)(["谁能复制当前文件夹里文档、表格的文本"],["谁能复制当前文件夹里文档、表格的文本"]))),file:m()(At||(At=Object(i.__makeTemplateObject)(["谁能复制当前文件的文本"],["谁能复制当前文件的文本"])))},canDuplicate:{enterprise:m()(Bt||(Bt=Object(i.__makeTemplateObject)(["谁能为企业文件创建副本、保存为模板"],["谁能为企业文件创建副本、保存为模板"]))),space:m()(Dt||(Dt=Object(i.__makeTemplateObject)(["谁能为当前空间里的文件创建副本、保存为模板"],["谁能为当前空间里的文件创建副本、保存为模板"]))),folder:m()(Lt||(Lt=Object(i.__makeTemplateObject)(["谁能为当前文件夹里的文件创建副本、保存为模板"],["谁能为当前文件夹里的文件创建副本、保存为模板"]))),file:m()(zt||(zt=Object(i.__makeTemplateObject)(["谁能为当前文件创建副本、保存为模板"],["谁能为当前文件创建副本、保存为模板"])))},canManageCollaborator:{enterprise:m()(Ft||(Ft=Object(i.__makeTemplateObject)(["谁能为企业文件添加协作者、修改协作者权限"],["谁能为企业文件添加协作者、修改协作者权限"]))),space:m()(Vt||(Vt=Object(i.__makeTemplateObject)(["谁能为当前空间里的文件添加协作者、修改协作者权限"],["谁能为当前空间里的文件添加协作者、修改协作者权限"]))),folder:m()(Ut||(Ut=Object(i.__makeTemplateObject)(["谁能为当前文件夹添加协作者、修改协作者权限"],["谁能为当前文件夹添加协作者、修改协作者权限"]))),file:m()(Gt||(Gt=Object(i.__makeTemplateObject)(["谁能为当前文件添加协作者、修改协作者权限"],["谁能为当前文件添加协作者、修改协作者权限"])))},canManageAdmin:{enterprise:m()(Ht||(Ht=Object(i.__makeTemplateObject)(["谁能为企业文件添加、删除管理者权限"],["谁能为企业文件添加、删除管理者权限"]))),space:m()(Wt||(Wt=Object(i.__makeTemplateObject)(["谁能为当前空间添加、删除管理者权限"],["谁能为当前空间添加、删除管理者权限"]))),folder:m()(Kt||(Kt=Object(i.__makeTemplateObject)(["谁能为当前文件夹添加、删除管理者权限"],["谁能为当前文件夹添加、删除管理者权限"]))),file:m()(Yt||(Yt=Object(i.__makeTemplateObject)(["谁能为当前文件添加、删除管理者权限"],["谁能为当前文件添加、删除管理者权限"])))},canAddOutsider:{enterprise:m()(Zt||(Zt=Object(i.__makeTemplateObject)(["谁能为企业文件添加外部协作者"],["谁能为企业文件添加外部协作者"]))),space:m()(qt||(qt=Object(i.__makeTemplateObject)(["谁能为当前空间及其文件添加外部协作者"],["谁能为当前空间及其文件添加外部协作者"]))),folder:m()(Qt||(Qt=Object(i.__makeTemplateObject)(["谁能为当前文件夹及其文件添加外部协作者"],["谁能为当前文件夹及其文件添加外部协作者"]))),file:m()(Xt||(Xt=Object(i.__makeTemplateObject)(["谁能为当前文件添加外部协作者"],["谁能为当前文件添加外部协作者"])))},canChangeShareMode:{enterprise:m()(Jt||(Jt=Object(i.__makeTemplateObject)(["谁能开启或修改企业文件的对外公开链接"],["谁能开启或修改企业文件的对外公开链接"]))),space:m()($t||($t=Object(i.__makeTemplateObject)(["谁能开启或修改当前空间文件的对外公开链接"],["谁能开启或修改当前空间文件的对外公开链接"]))),folder:m()(en||(en=Object(i.__makeTemplateObject)(["谁能开启或修改当前文件夹内文件的对外公开链接"],["谁能开启或修改当前文件夹内文件的对外公开链接"]))),file:m()(tn||(tn=Object(i.__makeTemplateObject)(["谁能开启或修改当前文件的对外公开链接"],["谁能开启或修改当前文件的对外公开链接"])))},canChangeTeamShareMode:{enterprise:m()(nn||(nn=Object(i.__makeTemplateObject)(["谁能开启或修改企业文件的企业内部公开链接"],["谁能开启或修改企业文件的企业内部公开链接"]))),space:m()(rn||(rn=Object(i.__makeTemplateObject)(["谁能开启或修改当前空间文件的企业内部公开链接"],["谁能开启或修改当前空间文件的企业内部公开链接"]))),folder:m()(an||(an=Object(i.__makeTemplateObject)(["谁能开启或修改当前文件夹内文件的企业内部公开链接"],["谁能开启或修改当前文件夹内文件的企业内部公开链接"]))),file:m()(on||(on=Object(i.__makeTemplateObject)(["谁能开启或修改当前文件的企业内部公开链接"],["谁能开启或修改当前文件的企业内部公开链接"])))},canCustomizeAdvancedPermission:{enterprise:m()(cn||(cn=Object(i.__makeTemplateObject)(["谁能自定义高级权限"],["谁能自定义高级权限"]))),space:m()(ln||(ln=Object(i.__makeTemplateObject)(["谁能自定义当前空间的高级权限"],["谁能自定义当前空间的高级权限"]))),folder:m()(sn||(sn=Object(i.__makeTemplateObject)(["谁能自定义当前文件夹的高级权限"],["谁能自定义当前文件夹的高级权限"]))),file:m()(un||(un=Object(i.__makeTemplateObject)(["谁能自定义当前文件的高级权限"],["谁能自定义当前文件的高级权限"])))}},hn=Object.keys(bn).reduce((function(e,t){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t]=function(e){return o.a.createElement(yt,{entity:e,titleMap:bn[t]})},n))}),{}),gn={canCreateChildFile:{fileRole:{fileRole:{values:[99,60],cancelAble:!0},fileRoleOutsider:{values:[99,60],cancelAble:!0}}},canCopy:{fileRole:{fileRole:{values:[60,40,20],cancelAble:!1,specialTip:m()(dn||(dn=Object(i.__makeTemplateObject)(["不能取消勾选，因为有编辑权限的访问者默认都可以复制"],["不能取消勾选，因为有编辑权限的访问者默认都可以复制"])))},fileRoleOutsider:{values:[60,40,20],cancelAble:!1,specialTip:m()(pn||(pn=Object(i.__makeTemplateObject)(["不能取消勾选，因为有编辑权限的访问者默认都可以复制"],["不能取消勾选，因为有编辑权限的访问者默认都可以复制"])))}}},canManageCollaborator:{fileRole:{fileRole:{values:[99,60],cancelAble:!0},fileRoleOutsider:{values:[99,60],cancelAble:!0}}},canManageAdmin:{fileRole:{fileRole:{values:[99],cancelAble:!0},fileRoleOutsider:{values:[99],cancelAble:!0}}},canCustomizeAdvancedPermission:{teamRole:{1:{enable:!0,allowChangeExpandModeOnly:!0},2:{enable:!0,allowChangeExpandModeOnly:!0}},fileRole:{fileRole:{values:[],cancelAble:!0},fileRoleOutsider:{values:[],cancelAble:!0}},user:{enable:!0,allowChangeExpandModeOnly:!0}},canAddOutsider:{fileRole:{fileRole:{values:[99,60],cancelAble:!0},fileRoleOutsider:{values:[99,60],cancelAble:!0}}},canChangeShareMode:{fileRole:{fileRole:{values:[99,60],cancelAble:!0},fileRoleOutsider:{values:[99,60],cancelAble:!0}}},canChangeTeamShareMode:{fileRole:{fileRole:{values:[99,60],cancelAble:!0},fileRoleOutsider:{values:[99,60],cancelAble:!0}}}},vn={canCreateChildFile:{id:"canCreateChildFile",roleType:fe.Collaborator},canExport:{id:"canExport",roleType:fe.Viewer},canPrint:{id:"canPrint",roleType:fe.Viewer},canCopy:{id:"canCopy",roleType:fe.Viewer},canDuplicate:{id:"canDuplicate",roleType:fe.Viewer},canManageCollaborator:{id:"canManageCollaborator",roleType:fe.Collaborator},canManageAdmin:{id:"canManageAdmin",roleType:fe.Collaborator},canAddOutsider:{id:"canAddOutsider",roleType:fe.Collaborator},canChangeShareMode:{id:"canChangeShareMode",roleType:fe.Collaborator},canChangeTeamShareMode:{id:"canChangeTeamShareMode",roleType:fe.Collaborator},canCustomizeAdvancedPermission:{id:"canCustomizeAdvancedPermission",roleType:fe.Collaborator}},_n=function(){return!0},yn={teamRole:{1:{enable:!0},2:{enable:!0}},fileRole:{fileRole:{values:[99,60,40,20],cancelAble:!0},fileRoleOutsider:{values:[99,60,40,20],cancelAble:!0}},user:{enable:!0}},On=Object.keys(vn).reduce((function(e,t){var n,r;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t]=Object(i.__assign)(Object(i.__assign)({},vn[t]),{condition:null!==(r=_t[t])&&void 0!==r?r:_n,title:hn[t],permissionMap:gn[t]?Object(i.__assign)(Object(i.__assign)({},yn),gn[t]):yn}),n))}),{}),jn=c.default.div.withConfig({componentId:"sc-1CRx9_",displayName:"TooltipWrapper"})(fn||(fn=Object(i.__makeTemplateObject)(["max-width:200px;text-align:left;"],[""]))),wn=function(){function e(e){var t=this;this.onChange=function(e,n){var r,a=t.options.map((function(r){var i,a=e&&r.id>=n,o=t.sortedRoleItems.find((function(e){return e.id===r.id}));if(o||a){var c=a!==!!(null==o?void 0:o.allow);return{id:r.id,allow:a,inherited:(null===(i=null==o?void 0:o.inherited)||void 0===i||i)&&!c}}})).filter(Boolean);t.onRoleChange(Object(i.__assign)(Object(i.__assign)({},t.role),((r={})[t.field]=a,r)))};var n=e.role,r=e.field,a=e.configPermission,o=e.id,c=e.onChange;this.role=n,this.field=r,this.configPermission=a,this.id=o,this.onRoleChange=c}return Object.defineProperty(e.prototype,"checked",{get:function(){return this.selectedItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){var e;return null===(e=this.selectedItems[this.selectedItems.length-1])||void 0===e?void 0:e.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e=this;return this.formatOptionText(this.id).map((function(t){var n,r=e.sortedRoleItems.find((function(e){return Number(e.id)===Number(t.id)})),a=null===(n=null==r?void 0:r.inherited)||void 0===n||n,o=!e.configPermission.allowExpand&&a&&!(null==r?void 0:r.allow);return Object(i.__assign)(Object(i.__assign)({},t),{id:Number(t.id),disabled:!!o})}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){var e=this,t=this.sortedRoleItems.filter((function(t){return e.configPermission.allowExpand||t.allow||!t.inherited}));return!this.configPermission.allowModify||0===t.length&&!this.configPermission.allowExpand},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sortedRoleItems",{get:function(){var e,t;return(null!==(t=null===(e=this.role)||void 0===e?void 0:e[this.field])&&void 0!==t?t:[]).sort((function(e,t){return Number(t.id)-Number(e.id)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){return this.sortedRoleItems.filter((function(e){return e.allow}))},enumerable:!1,configurable:!0}),e.prototype.valueOf=function(){return{checked:this.checked,disabled:this.disabled,options:this.options,selectedId:this.selectedId,onChange:this.onChange}},e.prototype.formatOptionText=function(e){var t=On[e].roleType;return ze.map((function(e){var n=Le[e],r=n.getName,i=n.getTip;return{id:e,text:r(t),tip:o.a.createElement(jn,null,i(t))}}))},e}(),xn=function(){function e(e){var t=this;this.onChange=function(e){var n,r=Object(i.__spreadArray)([],Object(i.__read)(t.roleItems));t.currentItem?r[t.roleItemIndex]=Object(i.__assign)(Object(i.__assign)({},t.currentItem),{allow:e,inherited:!1}):r.push({id:t.id,allow:e,inherited:!1}),t.onRoleChange(Object(i.__assign)(Object(i.__assign)({},t.role),((n={})[t.field]=r,n)))};var n=e.role,r=e.field,a=e.configPermission,o=e.id,c=e.permissionId,l=e.onChange;this.role=n,this.field=r,this.configPermission=a,this.id=o,this.permissionId=c,this.onRoleChange=l}return Object.defineProperty(e.prototype,"checked",{get:function(){var e;return!!(null===(e=this.currentItem)||void 0===e?void 0:e.allow)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){var e=On[this.permissionId].permissionMap.teamRole[this.id].allowChangeExpandModeOnly?this.configPermission.allowChangeExpandMode:this.configPermission.allowModify;return!(this.configPermission.allowExpand||e&&this.currentItem&&(this.currentItem.allow||!this.currentItem.inherited))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roleItems",{get:function(){var e,t;return null!==(t=null===(e=this.role)||void 0===e?void 0:e[this.field])&&void 0!==t?t:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roleItemIndex",{get:function(){var e=this;return this.roleItems.findIndex((function(t){return Number(t.id)===Number(e.id)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){return this.roleItems[this.roleItemIndex]},enumerable:!1,configurable:!0}),e.prototype.valueOf=function(){return{checked:this.checked,disabled:this.disabled,onChange:this.onChange}},e}(),En=c.default.div.withConfig({componentId:"sc-npGzg",displayName:"Wrapper"})(mn||(mn=Object(i.__makeTemplateObject)(["padding:16px 24px;","{margin-bottom:8px;}"],["",""])),k),kn=function(e){var t=e.permissionData,n=e.configPermission,r=e.userMap,a=e.permissionId,c=e.entity,l=e.onChange;return o.a.createElement(En,null,T.map((function(e){var r=Object(i.__read)(e,2),s=r[0],u=r[1].name;return On[a].permissionMap.teamRole[s]?o.a.createElement(le,Object(i.__assign)({id:a,key:s,title:u,configPermission:n,entity:c},new xn({role:t,field:"teamRole",id:s,permissionId:a,configPermission:n,onChange:l}).valueOf())):null})),Ae.map((function(e){var r=Object(i.__read)(e,2),s=r[0],u=r[1].name;return On[a].permissionMap.fileRole[s].values.length>0?o.a.createElement(Ee,Object(i.__assign)({key:s,id:a,title:u,configPermission:n,entity:c,cancelAble:On[a].permissionMap.fileRole[s].cancelAble,specialTip:On[a].permissionMap.fileRole[s].specialTip,allowedOptions:On[a].permissionMap.fileRole[s].values},new wn({id:a,role:t,field:s,configPermission:n,onChange:l}).valueOf())):null})),On[a].permissionMap.user&&o.a.createElement(vt,{id:a,entity:c,configPermission:n,data:t,userMap:r,onChange:l}))};kn.displayName="PermissionForm";var Cn,Tn,Sn,In,Nn,Rn,Pn=n.p+"static/lizard-one/assets/arrow.url.76fe289c.svg",Mn=c.default.div.withConfig({componentId:"sc-3Htzf1",displayName:"DrawerTitleArrow"})(Cn||(Cn=Object(i.__makeTemplateObject)(["background:url(",") no-repeat;width:16px;height:16px;"],["",""])),Pn),An=c.default.div.withConfig({componentId:"sc-3Htzf1-1",displayName:"DrawerTitle"})(Tn||(Tn=Object(i.__makeTemplateObject)(["background:#eeeeef;line-height:20px;display:flex;flex-direction:row;align-items:center;padding:6px 0 6px 24px;color:rgba(65,70,75,0.9);font-weight:500;font-size:13px;cursor:pointer;","{margin-left:auto;margin-right:16px;}"],["",""])),Mn),Bn=c.default.div.withConfig({componentId:"sc-3Htzf1-2",displayName:"DrawerContainer"})(Sn||(Sn=Object(i.__makeTemplateObject)(["transition:max-height 0.5s ease-out;"],[""]))),Dn=c.default.div.withConfig({componentId:"sc-3Htzf1-3",displayName:"DrawerWrapper"})(In||(In=Object(i.__makeTemplateObject)(["background:#fbfbfb;border-radius:2px;overflow:hidden;user-select:none;","{max-height:",";height:",";}","{transform:rotate(","deg);}"],["","","","","",""])),Bn,(function(e){return e.expand?"100vh":0}),(function(e){return e.expand?"100%":0}),Mn,(function(e){return e.expand?180:0})),Ln=function(e){var t=e.title,n=e.expand,r=e.onToggleExpand,i=e.children,a=e.className;return o.a.createElement(Dn,{expand:n,className:a},o.a.createElement(An,{onClick:r},t,o.a.createElement(Mn,null)),o.a.createElement(Bn,null,i))},zn=Object(c.default)(x.a).withConfig({componentId:"sc-38gpK",displayName:"StyledScrollbar"})(Nn||(Nn=Object(i.__makeTemplateObject)(["height:100%;overflow:auto;margin-right:-32px;padding-right:32px;"],[""]))),Fn=c.default.div.withConfig({componentId:"sc-38gpK-1",displayName:"Wrapper"})(Rn||(Rn=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;& > *{margin-top:8px;&:first-child{margin-top:0;}}"],[""]))),Vn=function(e){var t=e.options,n=e.permissions,r=e.configPermission,a=e.onChange,c=e.userMap,l=e.entity,s=Object(i.__read)(o.a.useReducer((function(e,t){return e===t?void 0:t}),void 0),2),u=s[0],d=s[1];return o.a.createElement(zn,null,o.a.createElement(Fn,null,t.map((function(e){return On[e].condition(l)&&o.a.createElement(Ln,{key:e,title:On[e].title(l),expand:e===u,onToggleExpand:function(){return d(e)}},o.a.createElement(kn,{permissionId:e,permissionData:n[e],configPermission:r,entity:l,userMap:c,onChange:function(t){return function(e,t){var r;a(Object(i.__assign)(Object(i.__assign)({},n),((r={})[t]=e,r)))}(t,e)}}))}))))};Vn.displayName="PermissionCategory";var Un,Gn,Hn=["CollabPermission","ControlPermission"],Wn={CollabPermission:{id:"CollabPermission",name:m()("协作权限"),content:["canAddOutsider","canChangeShareMode","canChangeTeamShareMode","canManageCollaborator","canManageAdmin","canCustomizeAdvancedPermission"]},ControlPermission:{id:"ControlPermission",name:m()("文件操作权限"),content:["canCreateChildFile","canExport","canPrint","canCopy","canDuplicate"]}},Kn=c.default.div.withConfig({componentId:"sc-1bz0AP",displayName:"Wrapper"})(Un||(Un=Object(i.__makeTemplateObject)([""],[""]))),Yn=Object(c.default)(v).withConfig({componentId:"sc-1bz0AP-1",displayName:"StyledTabPanel"})(Gn||(Gn=Object(i.__makeTemplateObject)(["margin-bottom:16px;"],[""]))),Zn=function(e){var t=e.permissions,n=e.configPermission,r=e.userMap,a=e.entity,c=e.className,l=e.onChange,s=Object(i.__read)(o.a.useState(Hn[0]),2),u=s[0],d=s[1];return o.a.createElement(Kn,{className:c},Hn.length>1&&o.a.createElement(Yn,{tabs:Hn.map((function(e){return Wn[e]})),active:u,onChange:function(e){return d(e)}}),o.a.createElement(Vn,{options:Wn[u].content,permissions:t,configPermission:n,onChange:l,userMap:r,entity:a}))};Zn.displayName="FileAccessControlPanel";var qn=n.p+"static/lizard-one/assets/exclamation.url.05f8721f.svg",Qn=function(e){var t=e.dirty,n=e.onCancel,r=e.children,a=e.placement,c=Object(i.__read)(o.a.useState(!1),2),s=c[0],u=c[1];return o.a.createElement(l.n,{title:m()("放弃修改权限？"),content:m()("退出后，已修改的权限设置将不会生效"),onConfirm:n,onCancel:function(){return u(!1)},placement:a,okType:"red",okText:m()("直接退出"),cancelText:m()("再想想"),visible:s,onVisibleChange:function(e){return u(t&&e)}},r((function(){return t?u(!0):n()}),s))};Qn.displayName="CancelButton";var Xn=function(e){var t=e.dirty,n=e.onSubmit,r=e.entity,a=e.children,c=Object(i.__read)(o.a.useState(!1),2),s=c[0],u=c[1],d=re.getSaveConfirmTipContent(r),p=t&&r.type.isFolder;return o.a.createElement(l.n,{title:m()("保存修改的权限？"),content:d,onConfirm:n,onCancel:function(){return u(!1)},placement:"top",okType:"red",okText:m()("确认保存"),cancelText:m()("再想想"),visible:s,onVisibleChange:function(e){return u(p&&e)}},a((function(){return p?u(!0):n()}),s))};Xn.displayName="SubmitButton";var Jn,$n,er,tr,nr,rr,ir=c.default.div.withConfig({componentId:"sc-VaBMG",displayName:"IconExclamation"})(Jn||(Jn=Object(i.__makeTemplateObject)(["margin-left:7px;width:10px;height:10px;border-radius:50%;background-color:rgba(65,70,75,0.15);background-image:url(",");background-repeat:no-repeat;background-position:center;cursor:pointer;"],["",""])),qn),ar=Object(c.default)(l.a).withConfig({componentId:"sc-VaBMG-1",displayName:"StyledButton"})($n||($n=Object(i.__makeTemplateObject)(["height:32px;padding:0 24px;"],[""]))),or=c.default.div.withConfig({componentId:"sc-VaBMG-2",displayName:"ButtonWrapper"})(er||(er=Object(i.__makeTemplateObject)(["margin-left:auto;white-space:nowrap;> *:first-child{margin-right:16px;}"],[""]))),cr=c.default.div.withConfig({componentId:"sc-VaBMG-3",displayName:"Wrapper"})(tr||(tr=Object(i.__makeTemplateObject)(["display:flex;flex-direction:row;padding-top:16px;align-items:center;"],[""]))),lr=c.default.div.withConfig({componentId:"sc-VaBMG-4",displayName:"TooltipOverlay"})(nr||(nr=Object(i.__makeTemplateObject)(["width:250px;font-size:13px;line-height:20px;color:rgba(65,70,75,0.9);text-align:left;padding:10px 14px;"],[""]))),sr=c.default.div.withConfig({componentId:"sc-VaBMG-5",displayName:"BlackTooltipOverlay"})(rr||(rr=Object(i.__makeTemplateObject)(["width:250px;text-align:left;"],[""]))),ur=function(e){var t=e.entity,n=e.configPermission,r=e.saving,i=e.dirty,a=e.onChangeAllowCustomConfig,c=e.onCancel,s=e.onSubmit,u=e.className;return o.a.createElement(cr,{className:u},!t.type.isEnterprise&&o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{enable:!n.allowChangeExpandMode,tooltipProps:{overlay:o.a.createElement(sr,null,re.getNoPermissionChangeExpandModePermissionTip()),placement:"topLeft"}},o.a.createElement("span",null,o.a.createElement(D,{disabled:!n.allowChangeExpandMode,checked:!n.expandModeEnable,onChange:function(e){return a(!e)}},re.getExpandLabel(t)))),o.a.createElement(l.u,{theme:"white",placement:"right",overlay:o.a.createElement(lr,null,re.getExpandExplainTip(t))},o.a.createElement(ir,null))),o.a.createElement(or,null,o.a.createElement(Xn,{dirty:i&&!r,onSubmit:s,entity:t},(function(e,t){return o.a.createElement(ar,{type:"black",disabled:!n.allowModify||r||t,onClick:e},r?m()("保存中"):m()("保存修改"))})),o.a.createElement(Qn,{dirty:i,onCancel:c,placement:"topLeft"},(function(e,t){return o.a.createElement(ar,{type:"outline",onClick:e,disabled:t},m()("取消"))}))))};ur.displayName="Footer";var dr,pr,fr,mr,br,hr=c.default.div.withConfig({componentId:"sc-VU78j",displayName:"Wrapper"})(dr||(dr=Object(i.__makeTemplateObject)(["display:flex;flex-direction:row;column-gap:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],[""]))),gr=c.default.div.withConfig({componentId:"sc-VU78j-1",displayName:"Avatar"})(pr||(pr=Object(i.__makeTemplateObject)(["width:20px;min-width:20px;height:20px;margin-top:3px;border-radius:50%;background:rgba(65,70,75,0.6);background-image:url(",");background-size:100%;"],["",""])),(function(e){return e.src})),vr=c.default.div.withConfig({componentId:"sc-VU78j-2",displayName:"UserInfo"})(fr||(fr=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),_r=c.default.div.withConfig({componentId:"sc-VU78j-3",displayName:"Name"})(mr||(mr=Object(i.__makeTemplateObject)(["height:24px;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgba(65,70,75,0.9);font-size:12px;"],[""]))),yr=c.default.div.withConfig({componentId:"sc-VU78j-4",displayName:"Email"})(br||(br=Object(i.__makeTemplateObject)(["height:20px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgba(65,70,75,0.6);font-size:12px;"],[""]))),Or=function(e){var t,n,r,i=e.entity,a=e.className;return o.a.createElement(hr,{className:a},o.a.createElement(gr,{src:null!==(n=null===(t=i.data)||void 0===t?void 0:t.avatar)&&void 0!==n?n:""}),o.a.createElement(vr,null,o.a.createElement(_r,null,i.name),o.a.createElement(yr,null,null===(r=i.data)||void 0===r?void 0:r.email)))};Or.displayName="UserEntity";var jr,wr=n.p+"static/lizard-one/assets/right-arrow-blue.url.f0fb9a0d.svg",xr=n.p+"static/lizard-one/assets/circle-plus.url.e0f68740.svg",Er=n.p+"static/lizard-one/assets/circle-plus-blue.url.b5a48029.svg",kr=n.p+"static/lizard-one/assets/empty-placeholder.url.79e85fb5.svg",Cr=c.default.div.withConfig({componentId:"sc-2sc9xt",displayName:"Wrapper"})(jr||(jr=Object(i.__makeTemplateObject)(["height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:rgba(65,70,75,0.5);line-height:24px;font-size:14px;&::before{content:'';background:url(",") no-repeat;width:136px;height:91px;display:block;margin-bottom:10px;}"],["",""])),kr),Tr=function(e){var t=e.children;return o.a.createElement(Cr,null,t)};Tr.displayName="EmptyPlaceholder";var Sr,Ir,Nr=c.default.div.withConfig({componentId:"sc-Httiv",displayName:"Wrapper"})(Sr||(Sr=Object(i.__makeTemplateObject)(["display:flex;border-radius:4px;padding:4px 0;box-sizing:border-box;align-items:flex-start;"],[""]))),Rr=Object(c.default)(D).withConfig({componentId:"sc-Httiv-1",displayName:"StyledCheckbox"})(Ir||(Ir=Object(i.__makeTemplateObject)(["margin-right:10px;margin-top:8px;"],[""]))),Pr=function(e){var t=e.entity,n=e.selected,r=e.disabled,i=e.onSelectedChange,a=e.className;return o.a.createElement(Nr,{className:a},o.a.createElement(Rr,{disabled:r,checked:n,onChange:function(e){null==i||i([t],e)}}),o.a.createElement(Or,{entity:t}))};Pr.displayName="SelectableUserEntity";var Mr,Ar,Br,Dr,Lr,zr,Fr,Vr,Ur,Gr,Hr,Wr,Kr,Yr=c.default.div.withConfig({componentId:"sc-1RWVZp",displayName:"Exclamation"})(Mr||(Mr=Object(i.__makeTemplateObject)(["margin-left:6px;width:10px;height:10px;border-radius:50%;background-color:rgba(65,70,75,0.15);background-image:url(",");background-repeat:no-repeat;background-position:center;cursor:pointer;"],["",""])),qn),Zr=c.default.div.withConfig({componentId:"sc-1RWVZp-1",displayName:"Wrapper"})(Ar||(Ar=Object(i.__makeTemplateObject)(["display:flex;flex-direction:row;height:100%;overflow:hidden;& > *{margin-left:12px;&:first-child{margin-left:0;}}"],[""]))),qr=c.default.div.withConfig({componentId:"sc-1RWVZp-2",displayName:"Box"})(Br||(Br=Object(i.__makeTemplateObject)(["height:100%;width:100%;flex:1;display:flex;flex-direction:column;"],[""]))),Qr=c.default.div.withConfig({componentId:"sc-1RWVZp-3",displayName:"Label"})(Dr||(Dr=Object(i.__makeTemplateObject)(["margin-bottom:12px;font-weight:500;font-size:12px;height:20px;line-height:20px;display:flex;flex-direction:row;align-items:center;color:rgba(65,70,75,0.6);"],[""]))),Xr=c.default.div.withConfig({componentId:"sc-1RWVZp-4",displayName:"AddMore"})(Lr||(Lr=Object(i.__makeTemplateObject)(["color:",";opacity:",";margin-left:auto;font-size:12px;display:flex;flex-direction:row;align-items:center;cursor:",";&::before{content:'';background-image:url(",");width:14px;height:14px;margin-right:5px;}&::after{content:'';background-image:url(",");background-repeat:no-repeat;background-position:center;width:10px;height:6px;margin-left:4px;}"],["","","","","",""])),(function(e){return e.disabled?"#41464b":"#4583d4"}),(function(e){return e.disabled?.3:1}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?xr:Er}),(function(e){return e.disabled?b:wr})),Jr=c.default.div.withConfig({componentId:"sc-1RWVZp-5",displayName:"Panel"})(zr||(zr=Object(i.__makeTemplateObject)(["border:1px solid #eceded;box-sizing:border-box;border-radius:2px;padding:8px 12px;height:100%;overflow:hidden;display:flex;flex-direction:column;"],[""]))),$r=Object(c.default)(Pr).withConfig({componentId:"sc-1RWVZp-6",displayName:"StyledSelectableUserEntity"})(Fr||(Fr=Object(i.__makeTemplateObject)(["height:40px;","{flex-direction:row;align-items:center;}","{width:180px;margin-right:8px;}"],["","",""])),vr,_r),ei=Object(c.default)(x.a).withConfig({componentId:"sc-1RWVZp-7",displayName:"StyledScrollbar"})(Vr||(Vr=Object(i.__makeTemplateObject)(["overflow:auto;height:100%;margin-right:-12px;padding-right:12px;"],[""]))),ti=c.default.div.withConfig({componentId:"sc-1RWVZp-8",displayName:"TooltipOverlay"})(Ur||(Ur=Object(i.__makeTemplateObject)(["width:250px;font-size:13px;line-height:20px;color:rgba(65,70,75,0.9);text-align:left;padding:10px 14px;"],[""]))),ni=c.default.div.withConfig({componentId:"sc-1RWVZp-9",displayName:"SelectAllWrapper"})(Gr||(Gr=Object(i.__makeTemplateObject)(["height:40px;display:inline-flex;align-items:center;"],[""]))),ri=function(e){var t=e.id,n=e.users,r=e.entity,a=e.selectedIds,c=void 0===a?[]:a,s=e.disabledIds,u=void 0===s?[]:s,d=e.configPermission,p=e.className,f=e.onChange,b=He(),h=b.next,g=b.params;return o.a.createElement(Zr,{className:p},o.a.createElement(qr,null,o.a.createElement(Qr,null,c.length>0?m()(Hr||(Hr=Object(i.__makeTemplateObject)(["已添加的指定成员 (",")"],["已添加的指定成员 (",")"])),c.length):m()(Wr||(Wr=Object(i.__makeTemplateObject)(["已添加的指定成员"],["已添加的指定成员"]))),o.a.createElement(l.u,{placement:"right",theme:"white",overlay:o.a.createElement(ti,null,re.getAddExtraUserTip(r))},o.a.createElement(Yr,null)),o.a.createElement(ae,{id:t,configPermission:d,entity:r,disabled:d.allowExpand},o.a.createElement(Xr,{onClick:function(){return d.allowExpand&&h(Me.UserAdd,g)},disabled:!d.allowExpand},m()("添加更多成员")))),o.a.createElement(Jr,null,n.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(ni,null,o.a.createElement(D,{checked:c.length>0,disabled:u.length===n.length,half:c.length!==n.length,onChange:function(){var e=c.length<n.length;f(n.filter((function(t){var n=t.id;return!u.includes(n)&&c.includes(n)!==e})).map((function(e){return{id:e.id,type:"user"}})),e)}},m()("全选"))),o.a.createElement(ei,null,n.map((function(e){return o.a.createElement($r,{key:e.id,entity:{id:e.id,name:e.name,type:"user",data:{email:e.email,avatar:e.avatar}},selected:c.includes(e.id),disabled:u.includes(e.id),onSelectedChange:f})})))):o.a.createElement(Tr,null,m()(Kr||(Kr=Object(i.__makeTemplateObject)(["无指定成员"],["无指定成员"])))))))};function ii(e){var t,n,r,a,o,c=e.role,l=e.userMap,s=e.configPermission,u=e.onChange,d=(null!==(t=null==c?void 0:c.user)&&void 0!==t?t:[]).filter((function(e){return e.allow||!e.inherited}));return{users:d.map((function(e){var t=e.id;return l[t]})),selectedIds:d.filter((function(e){return e.allow})).map((function(e){return e.id})),disabledIds:(r=null!==(n=null==c?void 0:c.user)&&void 0!==n?n:[],a=s.allowModify,o=s.allowExpand,a?o?[]:r.filter((function(e){var t=e.allow,n=e.inherited;return!t&&n})).map((function(e){return e.id})):r.map((function(e){return e.id}))),onChange:function(e,t){var n=e.reduce((function(e,n){var r=e.findIndex((function(e){return Number(n.id)===e.id&&"user"===n.type}));return r>=0?(e[r]=Object(i.__assign)(Object(i.__assign)({},e[r]),{allow:t,inherited:!1}),e):Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(e)),[{id:Number(n.id),allow:t,inherited:!1}])}),d);u(Object(i.__assign)(Object(i.__assign)({},c),{user:n}))}}}ri.displayName="UserListPanel";var ai=n(1266),oi=n.n(ai),ci=n(1164),li=n.n(ci),si=n(28);function ui(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,si.s.get("/org/departments/"+e+"/shadow_subtree")]}))}))}function di(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=100),Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(r){return 0===e?[2,Promise.resolve({total:0,users:[]})]:[2,si.s.get("/org/departments/"+e+"/users?page="+t+"&prePage="+n)]}))}))}function pi(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,si.s.post("/search",{keyword:e,limit:100,filter:{user:{includeRecentContact:!1,includeTeamMember:!0,includeDisabledMember:!0}}},{baseURL:"/panda-api/search"})];case 1:return[2,t.sent().data]}}))}))}function fi(e,t){for(var n,r=[t];null===(n=e[r[0]])||void 0===n?void 0:n.parent;)r.unshift(e[r[0]].parent);return r}function mi(e,t){var n,r,a=this,c=Object(i.__read)(bi(),2),l=c[0],s=c[1],u=Object(i.__read)(bi(),2),d=u[0],p=u[1],f=Object(i.__read)(o.a.useReducer((function(e,t){var n,r=t.nodes,a=t.parentId,o=void 0===a?0:a,c=o&&e[o]?e[o]:{id:parent,parent:null,children:[],type:"department"};return c.children=li()(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(c.children)),Object(i.__read)(r)),(function(e){return e.type+":"+e.id})),Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=c,n)),r.reduce((function(e,t){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t.id]=t,n))}),{}))}),{}),2),m=f[0],b=f[1],h=Object(i.__read)(o.a.useState(!1),2),g=h[0],v=h[1],_=Object(i.__read)(o.a.useState([]),2),y=_[0],O=_[1],j=function(e){var t=e.addDepartments,n=e.addUsers,r=e.addNodes;return function e(a,o){var c,l;return void 0===o&&(o=1),Object(i.__awaiter)(this,void 0,Promise,(function(){var s,u,d,p=this;return Object(i.__generator)(this,(function(f){switch(f.label){case 0:return[4,Promise.all([ui(a),di(a,o,50)])];case 1:return s=i.__read.apply(void 0,[f.sent(),2]),u=s[0],d=s[1],t(Object(i.__spreadArray)([u.currentDepartment],Object(i.__read)(u.subdepartments)).map((function(e){return oi()(e,["id","name"])}))),n((null!==(c=d.users)&&void 0!==c?c:[]).map((function(e){return oi()(e,["id","name","email","avatar"])}))),r({nodes:Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(u.subdepartments.map((function(e){return{id:e.id,parent:a,children:[],type:"department"}})))),Object(i.__read)((null!==(l=d.users)&&void 0!==l?l:[]).map((function(e){return{id:e.id,parent:a,children:[],type:"user"}})))),parentId:a}),[2,function(){return Object(i.__awaiter)(p,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,d.total>50*o?e(a,o+1):void 0]}))}))}]}}))}))}}({addUsers:s,addDepartments:p,addNodes:b}),w=function(e){var t=e.addUsers,n=e.setSearchResult;return function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,a;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return e?[4,pi(e)]:[2];case 1:return r=o.sent().results,a=r.map((function(e){var t=e.user;return Object(i.__assign)(Object(i.__assign)({},oi()(t,["id","name","email","avatar"])),{type:"user"})})),t(a),n(a.map((function(e){return{id:e.id,type:"user",name:e.name,data:{email:e.email,avatar:e.avatar}}}))),[2]}}))}))}}({addUsers:s,setSearchResult:O}),x=o.a.useRef();return o.a.useEffect((function(){v(!0),j(e).then((function(e){v(!1),x.current=e})).catch(console.error)}),[e]),o.a.useEffect((function(){t&&(v(!0),w(t).then((function(){v(!1)})).catch(console.error))}),[t]),{loading:g,users:l,departments:d,breadcrumbs:fi(m,e).map((function(e){var t,n;return{id:e,name:null!==(n=null===(t=d[e])||void 0===t?void 0:t.name)&&void 0!==n?n:""}})),entities:t?y:(null!==(r=null===(n=m[e])||void 0===n?void 0:n.children)&&void 0!==r?r:[]).map((function(e){return"user"===e.type?{id:e.id,type:"user",name:l[e.id].name,data:l[e.id]}:"department"===e.type?{id:e.id,type:"department",name:d[e.id].name,data:d[e.id]}:null})).filter(Boolean),loadMore:t?function(){}:function(){return Object(i.__awaiter)(a,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return v(!0),e=x,[4,null===(t=x.current)||void 0===t?void 0:t.call(x)];case 1:return e.current=n.sent(),v(!1),[2]}}))}))}}}function bi(){return o.a.useReducer((function(e,t){return t.reduce((function(e,t){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t.id]=t,n))}),e)}),{})}var hi,gi,vi,_i=c.default.div.withConfig({componentId:"sc-10Rd52",displayName:"StyleUserSelector"})(hi||(hi=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;height:100%;"],[""]))),yi=c.default.div.withConfig({componentId:"sc-10Rd52-1",displayName:"List"})(gi||(gi=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;height:100%;row-gap:6px;"],[""]))),Oi=Object(c.default)(x.a).withConfig({componentId:"sc-10Rd52-2",displayName:"StyledScrollbar"})(vi||(vi=Object(i.__makeTemplateObject)(["height:100%;margin-right:-12px;padding-right:12px;"],[""]))),ji=function(e){var t=e.entities,n=e.header,r=e.footer,i=e.selectedEntities,a=e.onSelectedChange,c=e.onEntityClick,l=e.onScrollBottom,s=e.entityRenderMap,u=e.className;return o.a.createElement(_i,{className:u},n,o.a.createElement(Oi,{onScroll:function(e){var t=e.target;(null==t?void 0:t.scrollTop)>=t.scrollHeight-t.clientHeight&&(null==l||l())}},o.a.createElement(yi,null,t.map((function(e){var t=s[e.type];return o.a.createElement(t,{key:e.type+"-"+e.id,entity:e,selected:!!i.find((function(t){var n=t.id,r=t.type;return n===e.id&&r===e.type})),onSelectedChange:a,onEntityClick:c})})))),r)};ji.displayName="UserSelector";var wi,xi=n(987),Ei=Object(c.default)(xi.h).withConfig({componentId:"sc-2HJF4o",displayName:"StyleInput"})(wi||(wi=Object(i.__makeTemplateObject)(["width:100%;height:28px;.sm-input-wrapper{min-height:unset;height:28px;align-items:center;}"],[""]))),ki=n.p+"static/lizard-one/assets/arrow.url.086db38c.svg",Ci=c.default.div.withConfig({componentId:"sc-33aB41",displayName:"StyleWrapper"})(Di||(Di=Object(i.__makeTemplateObject)(["overflow:hidden;position:relative;"],[""]))),Ti=c.default.div.withConfig({componentId:"sc-33aB41-1",displayName:"StyleContainer"})(Li||(Li=Object(i.__makeTemplateObject)(["display:flex;align-items:center;white-space:nowrap;width:100%;"],[""]))),Si=c.default.span.withConfig({componentId:"sc-33aB41-2",displayName:"StyleArrowWrapper"})(zi||(zi=Object(i.__makeTemplateObject)([""],[""]))),Ii=c.default.div.withConfig({componentId:"sc-33aB41-3",displayName:"StyleArrow"})(Fi||(Fi=Object(i.__makeTemplateObject)(["margin:0 6px;width:4px;height:8px;background:url(",");background-size:100%;background-repeat:no-repeat;background-position:center;"],["",""])),ki),Ni=c.default.div.withConfig({componentId:"sc-33aB41-4",displayName:"StyleItem"})(Vi||(Vi=Object(i.__makeTemplateObject)(["color:rgba(65,70,75,0.6);display:flex;align-items:center;font-size:12px;&:last-child{color:#2c3033;","{display:none;}}"],["",""])),Si),Ri=c.default.span.withConfig({componentId:"sc-33aB41-5",displayName:"StyleText"})(Ui||(Ui=Object(i.__makeTemplateObject)(["display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;width:",";"],["",""])),(function(e){var t=e.width;return t||"auto"})),Pi=Object(c.default)(Ti).withConfig({componentId:"sc-33aB41-6",displayName:"StyleHiddenContainer"})(Gi||(Gi=Object(i.__makeTemplateObject)(["position:absolute;top:100px;width:auto;"],[""])));function Mi(e){var t="."+String(Ri.styledComponentId);return e.querySelector(t)}function Ai(e){return e}function Bi(e){for(var t=e.childrenList,n=e.exceedWidth,r=e.reduceRule,i=e.selector,a=0,o=0;o<t.length&&!(a>=n);o+=1){var c=t[o],l=c?i(c):null;l&&(a+=r(l))}return{count:o,reduceWidth:a}}var Di,Li,zi,Fi,Vi,Ui,Gi,Hi,Wi,Ki=c.default.div.withConfig({componentId:"sc-2AkWan",displayName:"Wrapper"})(Hi||(Hi=Object(i.__makeTemplateObject)(["display:flex;flex-direction:row;align-items:center;border-radius:4px;padding:0 4px;height:50px;box-sizing:border-box;&:hover{background:rgba(65,70,75,0.05);}"],[""]))),Yi=c.default.div.withConfig({componentId:"sc-2AkWan-1",displayName:"CloseButton"})(Wi||(Wi=Object(i.__makeTemplateObject)(["width:10px;height:10px;cursor:pointer;margin-left:auto;margin-right:10px;background:url(",") no-repeat;background-size:100%;"],["",""])),Ke),Zi=function(e){var t=e.entity,n=e.onRemove;return o.a.createElement(Ki,null,o.a.createElement(Or,{entity:t}),o.a.createElement(Yi,{onClick:function(){n(t)}}))};Zi.displayName="CloseableUserEntity";var qi,Qi=c.default.div.withConfig({componentId:"sc-S-CNd",displayName:"Wrapper"})(qi||(qi=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;& > *{margin-top:8px;&:first-child{margin-top:0;}}"],[""]))),Xi={user:Zi},Ji=function(e){var t=e.entities,n=e.onRemove;return o.a.createElement(Qi,null,t.map((function(e){var t=Xi[e.type];return t?o.a.createElement(t,{key:e.type+"-"+e.id,entity:e,onRemove:n}):null})))};Ji.displayName="ResultList";var $i,ea,ta,na=n.p+"static/lizard-one/assets/department.url.29f23722.svg",ra=n.p+"static/lizard-one/assets/right-arrow.url.1183c909.svg",ia=c.default.div.withConfig({componentId:"sc-3r-bMD",displayName:"Wrapper"})($i||($i=Object(i.__makeTemplateObject)(["display:flex;align-items:center;flex-direction:row;color:#508cd7;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:28px;font-size:12px;&::after{content:'';display:block;width:6px;height:10px;background:url(",") 100% 100% no-repeat;margin-left:8px;}"],["",""])),ra),aa=c.default.div.withConfig({componentId:"sc-3r-bMD-1",displayName:"Icon"})(ea||(ea=Object(i.__makeTemplateObject)(["width:20px;min-width:20px;height:20px;margin-right:8px;background:linear-gradient(0deg,#80b3f5 0%,#6c9fe2 100%);background-image:url(",");"],["",""])),na),oa=c.default.div.withConfig({componentId:"sc-3r-bMD-2",displayName:"Name"})(ta||(ta=Object(i.__makeTemplateObject)(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;"],[""]))),ca=function(e){var t=e.entity,n=e.className;return o.a.createElement(ia,{className:n},o.a.createElement(aa,null),o.a.createElement(oa,null,t.name))};ca.displayName="DepartmentEntity";var la,sa=c.default.div.withConfig({componentId:"sc-2sgZ8m",displayName:"Wrapper"})(la||(la=Object(i.__makeTemplateObject)(["padding-left:4px;"],[""]))),ua=function(e){var t=e.entity,n=e.onEntityClick,r=e.className;return o.a.createElement(sa,{className:r,onClick:function(){return null==n?void 0:n(t)}},o.a.createElement(ca,{entity:t}))};ua.displayName="EnterableDepartmentEntity";var da,pa,fa,ma,ba,ha,ga,va,_a,ya,Oa,ja,wa,xa=c.default.div.withConfig({componentId:"sc-1QS9FK",displayName:"Wrapper"})(da||(da=Object(i.__makeTemplateObject)(["display:flex;flex-direction:row;height:100%;overflow:hidden;& > *{margin-left:12px;&:first-child{margin-left:0;}}"],[""]))),Ea=c.default.div.withConfig({componentId:"sc-1QS9FK-1",displayName:"Box"})(pa||(pa=Object(i.__makeTemplateObject)(["height:100%;width:50%;flex:1;display:flex;flex-direction:column;"],[""]))),ka=c.default.div.withConfig({componentId:"sc-1QS9FK-2",displayName:"Label"})(fa||(fa=Object(i.__makeTemplateObject)(["margin-bottom:12px;font-weight:500;font-size:12px;height:20px;line-height:20px;color:rgba(65,70,75,0.6);"],[""]))),Ca=c.default.div.withConfig({componentId:"sc-1QS9FK-3",displayName:"Panel"})(ma||(ma=Object(i.__makeTemplateObject)(["border:1px solid #eceded;box-sizing:border-box;border-radius:2px;padding:12px;height:100%;overflow:auto;"],[""]))),Ta=Object(c.default)((function(e){var t=e.placeholder,n=e.className,r=e.value,a=e.onChange,c=e.onClick,l=Object(i.__read)(o.a.useState(!1),2),s=l[0],u=l[1],d=Object(i.__read)(o.a.useState(r),2),p=d[0],f=d[1];return o.a.useEffect((function(){r!==p&&f(r)}),[r]),o.a.createElement(Ei,{className:n,type:"text",value:p,onClick:c,onChange:function(e){f(e),s||a(e)},onCompositionStart:function(){u(!0)},onCompositionEnd:function(){u(!1),a(p)},searchIcon:!0,cleanBtn:!0,placeholder:t})})).withConfig({componentId:"sc-1QS9FK-4",displayName:"StyledSearchInput"})(ba||(ba=Object(i.__makeTemplateObject)(["margin-bottom:12px;;"],[""]))),Sa=Object(c.default)((function(e){var t=e.items,n=e.arrowIcon,r=e.className,a=e.onClick,c=e.collapsedWidthPx,l=void 0===c?16:c,s=o.a.useRef(),u=Object(i.__read)(o.a.useState(0),2),d=u[0],p=u[1],f=Object(i.__read)(o.a.useState(0),2),m=f[0],b=f[1];function h(e){return function(){return null==a?void 0:a(e)}}return o.a.useEffect((function(){var e;if(s.current){var t,n=(t=l,function(e){return e.clientWidth-t}),r=function(e){return function(t){var n,r,i=null!==(r=null===(n=Mi(t))||void 0===n?void 0:n.clientWidth)&&void 0!==r?r:0;return t.clientWidth-i?i-e:0}}(l),i=s.current,a=i.parentElement,o=i.clientWidth-(null!==(e=null==a?void 0:a.clientWidth)&&void 0!==e?e:0),c=Array.from(i.children),u=Bi({childrenList:c.slice(0,c.length-1),exceedWidth:o,reduceRule:n,selector:Mi}),d=u.count,f=u.reduceWidth;p(d);var m=Bi({childrenList:c.slice(1),exceedWidth:o-f,reduceRule:r,selector:Ai}).count;b(m)}}),[t,n]),o.a.createElement(Ci,{className:r},o.a.createElement(Ti,null,t.map((function(e,t){return 0!==t&&t<m+1?null:o.a.createElement(Ni,{key:t},o.a.createElement(Ri,{onClick:h(t),width:t<d?l+"px":void 0},e),o.a.createElement(Si,null,null!=n?n:o.a.createElement(Ii,null)))}))),o.a.createElement(Pi,{ref:s},t.map((function(e,t){return o.a.createElement(Ni,{key:t},o.a.createElement(Ri,null,e),o.a.createElement(Ii,null))}))))})).withConfig({componentId:"sc-1QS9FK-5",displayName:"StyledBreadcrumb"})(ha||(ha=Object(i.__makeTemplateObject)(["margin-bottom:12px;"],[""]))),Ia=c.default.div.withConfig({componentId:"sc-1QS9FK-6",displayName:"StyledCheckboxWrapper"})(ga||(ga=Object(i.__makeTemplateObject)(["margin:0 0 6px 0;"],[""]))),Na=Object(c.default)(ua).withConfig({componentId:"sc-1QS9FK-7",displayName:"StyledEnterableDepartmentEntity"})(va||(va=Object(i.__makeTemplateObject)(["padding-left:0;"],[""]))),Ra=c.default.div.withConfig({componentId:"sc-1QS9FK-8",displayName:"EmptySmallText"})(_a||(_a=Object(i.__makeTemplateObject)(["font-size:12px;line-height:20px;width:148px;text-align:center;"],[""]))),Pa={user:Pr,department:Na},Ma=function(e){var t=e.entities,n=e.selectedEntities,r=e.className,a=e.breadcrumbs,c=void 0===a?[]:a,l=e.onSelectedChange,s=e.onLoadMore,u=e.onEntityClick,d=e.searchText,p=void 0===d?"":d,f=e.onSearchTextChange,b=void 0===f?function(){}:f;var h=t.filter((function(e){return n.find((function(t){return e.id===t.id&&e.type===t.type}))})).length,g=t.filter((function(e){return"user"===e.type})).length;return o.a.createElement(xa,{className:r},o.a.createElement(Ea,null,o.a.createElement(ka,null,m()("搜索成员或部门")),o.a.createElement(Ca,null,o.a.createElement(ji,{selectedEntities:n,entityRenderMap:Pa,entities:t,onSelectedChange:l,onEntityClick:u,onScrollBottom:s,header:o.a.createElement(o.a.Fragment,null,o.a.createElement(Ta,{placeholder:m()("搜索"),value:p,onChange:b}),!p&&o.a.createElement(Sa,{items:c.map((function(e){return e.name})),onClick:function(e){return null==u?void 0:u(Object(i.__assign)(Object(i.__assign)({},c[e]),{type:"department"}))}}),g>0&&o.a.createElement(Ia,null,o.a.createElement(D,{checked:h>0,half:h<g,onChange:function(){var e=h<g;null==l||l(t.filter((function(t){var r=t.id,i=t.type;return"user"===i&&!!n.find((function(e){return e.id===r&&e.type===i}))!==e})),e)}},m()("全选"))))}))),o.a.createElement(Ea,null,o.a.createElement(ka,null,n.length>0?m()(ya||(ya=Object(i.__makeTemplateObject)(["本次添加的成员 (",")"],["本次添加的成员 (",")"])),n.length):m()(Oa||(Oa=Object(i.__makeTemplateObject)(["本次添加的成员"],["本次添加的成员"])))),o.a.createElement(Ca,null,n.length>0?o.a.createElement(Ji,{entities:n,onRemove:function(e){null==l||l([e],!1)}}):o.a.createElement(Tr,null,m()(ja||(ja=Object(i.__makeTemplateObject)(["还未添加成员"],["还未添加成员"]))),o.a.createElement(Ra,null,m()(wa||(wa=Object(i.__makeTemplateObject)(["可以在左侧进行搜索或展开，勾选添加"],["可以在左侧进行搜索或展开，勾选添加"]))))))))};Ma.displayName="TeamMemberSelector";var Aa=function(e){var t=e.onChange,n=e.onUpdateUserMap,r=Object(i.__read)(o.a.useState([]),2),a=r[0],c=r[1],l=Object(i.__read)(o.a.useState(1),2),s=l[0],u=l[1],d=Object(i.__read)(o.a.useState(""),2),p=d[0],f=d[1],m=mi(s,p),b=m.entities,h=m.breadcrumbs,g=m.users,v=m.loading,_=m.loadMore;return o.a.createElement(Ma,{entities:b,selectedEntities:a,onEntityClick:function(e){"department"===e.type&&u(e.id)},onSelectedChange:function(e,r){n(e.reduce((function(e,t){var n;return"user"===t.type?Object(i.__assign)(Object(i.__assign)({},e),((n={})[t.id]=g[t.id],n)):e}),{})),c(r?li()(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(a)),Object(i.__read)(e)),(function(e){return e.id+":"+e.type})):a.filter((function(t){var n=t.id,r=t.type;return!e.find((function(e){return e.id===n&&e.type===r}))}))),t(e,r)},breadcrumbs:h,searchText:p,onSearchTextChange:f,onLoadMore:function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:if(v||!b.length)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,_()];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))}})};Aa.displayName="UserAddPanel";var Ba,Da,La=c.default.div.withConfig({componentId:"sc-3v9Te3",displayName:"Wrapper"})(Ba||(Ba=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),za=c.default.div.withConfig({componentId:"sc-3v9Te3-1",displayName:"Row"})(Da||(Da=Object(i.__makeTemplateObject)(["background:#f2f2f2;width:","px;height:20px;margin-bottom:20px;"],["",""])),(function(e){return e.width})),Fa=function(){return o.a.createElement(La,null,o.a.createElement(za,{width:360}),o.a.createElement(za,{width:272}),o.a.createElement(za,{width:360}),o.a.createElement(za,{width:272}),o.a.createElement(za,{width:360}),o.a.createElement(za,{width:272}))};function Va(e){var t=function(e,t){var n;return(null!==(n=null==e?void 0:e[t])&&void 0!==n?n:[]).map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{id:e.targetId})}))};return Object.keys(e).reduce((function(n,r){var a;return e[r]?Object(i.__assign)(Object(i.__assign)({},n),((a={})[r]={department:t(e[r],"department"),group:t(e[r],"group"),user:t(e[r],"user"),teamRole:t(e[r],"team_role"),fileRole:t(e[r],"file_role"),fileRoleOutsider:t(e[r],"file_role_outsider")},a)):n}),{})}function Ua(e){var t=function(e,t){var n;return(null!==(n=null==e?void 0:e[t])&&void 0!==n?n:[]).map((function(e){return{targetId:Number(e.id),allow:e.allow,inherited:e.inherited}}))};return Object.keys(e).reduce((function(n,r){var a;return Object(i.__assign)(Object(i.__assign)({},n),((a={})[r]={department:t(e[r],"department"),group:t(e[r],"group"),user:t(e[r],"user"),team_role:t(e[r],"teamRole"),file_role:t(e[r],"fileRole"),file_role_outsider:t(e[r],"fileRoleOutsider")},a))}),{})}function Ga(e){return e?Object.values(e).reduce((function(e,t){var n;return null===(n=t.user)||void 0===n||n.forEach((function(t){var n,r;e[t.targetId]={id:t.targetId,name:t.name,email:null!==(n=t.email)&&void 0!==n?n:"",avatar:null!==(r=t.avatar)&&void 0!==r?r:""}})),e}),{}):{}}function Ha(e,t){if(t)return e;return Object.keys(e).reduce((function(t,n){var r,a;return Object(i.__assign)(Object(i.__assign)({},t),((r={})[n]=(a=e[n],Object.keys(a).reduce((function(e,t){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t]=a[t].filter((function(e){return!e.allow||e.inherited})),n))}),a)),r))}),{})}function Wa(e,t){return Object.keys(t).reduce((function(n,r){var a;return Object(i.__assign)(Object(i.__assign)({},n),((a={})[r]=function(e,t){return Object.keys(t).reduce((function(t,n){var r;return Object(i.__assign)(Object(i.__assign)({},t),((r={})[n]=t[n].map((function(t){var r=e[n].find((function(e){return e.id===t.id}));return r&&t.allow===r.allow?r:t})),r))}),t)}(e[r],function(e,t){if(!t.user)return t;var n=t.user.filter((function(t){var n,r;return null!==(r=(null!==(n=e.user)&&void 0!==n?n:[]).find((function(e){return e.id===t.id})))&&void 0!==r?r:t.allow}));return Object(i.__assign)(Object(i.__assign)({},t),{user:n})}(e[r],t[r])),a))}),t)}function Ka(e){var t=Object(i.__read)(o.a.useState({}),2),n=t[0],r=t[1],a=Object(i.__read)(o.a.useState({}),2),c=a[0],s=a[1],u=Object(i.__read)(o.a.useState(!0),2),d=u[0],p=u[1],f=Object(i.__read)(o.a.useState(!1),2),b=f[0],h=f[1],g=Object(i.__read)(o.a.useState({}),2),v=g[0],_=g[1],y=Object(i.__read)(o.a.useState(!1),2),O=y[0],j=y[1],w=Object(i.__read)(o.a.useState(!1),2),x=w[0],E=w[1];return o.a.useEffect((function(){(function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,si.s.get(e,{baseURL:"/panda-api/file"})];case 1:return n=i.sent().data,r=n.allowLoosen,a=n.permissions,[2,{expandModeEnable:!!t||r,permissions:Va(a),userMap:Ga(a)}]}}))}))})(e.endPoint,e.type.isEnterprise).then((function(e){var t=e.permissions,n=e.expandModeEnable,i=e.userMap;p(!1),r(t),s(t),h(n),_(i)})).catch((function(){l.B.error(m()("加载失败，请稍后重试"))}))}),[e]),{permissions:n,loading:d,expandModeEnable:b,userMap:v,saving:O,dirty:x,setPermissions:function(e){E(!0),r(e)},setExpandModeEnable:h,setUserMap:_,submit:function(t){j(!0),function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(r){return[2,si.s.post(e,{allowLoosen:n,permissions:Ua(Ha(t,n))},{baseURL:"/panda-api/file"})]}))}))}(e.endPoint,Wa(c,n),b).then((function(){j(!1),t()})).catch((function(e){j(!1);var t=function(e){var t;switch(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.code){case"WRONG_PARAMS":return m()("参数错误");case"NOT_ALLOWED":return m()("没有编辑权限");case"NOT_FOUND":return m()("文件不存在");default:return m()("保存失败")}}(e);l.B.error(t)}))}}}Fa.displayName="FrameworkHolder";var Ya,Za,qa,Qa,Xa,Ja,$a=c.default.div.withConfig({componentId:"sc-2-oV8y",displayName:"Wrapper"})(Ya||(Ya=Object(i.__makeTemplateObject)(["display:flex;flex-direction:column;height:100%;overflow:hidden;"],[""]))),eo=Object(c.default)(Zn).withConfig({componentId:"sc-2-oV8y-1",displayName:"StyledFileAccessControlPanel"})(Za||(Za=Object(i.__makeTemplateObject)(["height:100%;display:flex;flex-direction:column;"],[""]))),to=c.default.div.withConfig({componentId:"sc-2-oV8y-2",displayName:"Header"})(qa||(qa=Object(i.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:20px;"],[""]))),no=c.default.div.withConfig({componentId:"sc-2-oV8y-3",displayName:"Title"})(Qa||(Qa=Object(i.__makeTemplateObject)(["color:#333;font-weight:500;font-size:16px;line-height:24px;text-align:center;width:100%;"],[""]))),ro=c.default.div.withConfig({componentId:"sc-2-oV8y-4",displayName:"GoBack"})(Xa||(Xa=Object(i.__makeTemplateObject)(["position:absolute;display:inline-flex;align-items:center;color:#41464b;opacity:0.9;white-space:nowrap;cursor:pointer;&::before{content:'';width:6px;height:8px;margin-right:10px;background:url(",") no-repeat 100% 100%;transform:rotate(180deg);transform-origin:center center;}"],["",""])),b),io=c.default.div.withConfig({componentId:"sc-2-oV8y-5",displayName:"FileAccessControlPanelWrapper"})(Ja||(Ja=Object(i.__makeTemplateObject)(["flex-direction:column;height:100%;display:",";"],["",""])),(function(e){return e.hidden?"none":"flex"})),ao=function(e){var t=e.entity,n=e.allowModify,r=e.allowChangeExpandMode,a=e.onCancel,c=e.onAfterSubmit,l=Ka(t),s=l.permissions,u=l.loading,d=l.expandModeEnable,p=l.userMap,f=l.dirty,b=l.saving,h=l.setPermissions,g=l.setExpandModeEnable,v=l.setUserMap,_=l.submit,y={allowModify:n,allowChangeExpandMode:r,allowExpand:r&&d,expandModeEnable:d};function O(){_((function(){return null==c?void 0:c()}))}return o.a.createElement(Ge,null,(function(e){var n=e.history,r=e.current,c=e.prev,l=e.params;return o.a.createElement($a,null,o.a.createElement(Qn,{dirty:f,onCancel:a,placement:"bottom"},(function(e){return o.a.createElement("button",{onClick:e,type:"button",className:"sm-modal-close",style:{display:"block"}},o.a.createElement("span",{className:"sm-modal-close-x"}))})),o.a.createElement(to,null,n.length>1&&o.a.createElement(ro,{onClick:c},m()("返回")),o.a.createElement(no,null,Fe[r])),o.a.createElement(io,{hidden:r!==Me.FileAccessControl},u?o.a.createElement(Fa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(eo,{permissions:s,onChange:h,configPermission:y,userMap:p,entity:t}),o.a.createElement(ur,{entity:t,saving:b,configPermission:y,dirty:f,onChangeAllowCustomConfig:g,onCancel:a,onSubmit:O}))),r===Me.UserList&&o.a.createElement(ri,Object(i.__assign)({id:l},ii({role:s[l],onChange:function(e){var t;return h(Object(i.__assign)(Object(i.__assign)({},s),((t={})[l]=e,t)))},configPermission:y,userMap:p}),{entity:t,configPermission:y})),r===Me.UserAdd&&o.a.createElement(Aa,Object(i.__assign)({},ii({role:s[l],onChange:function(e){var t;return h(Object(i.__assign)(Object(i.__assign)({},s),((t={})[l]=e,t)))},configPermission:y,userMap:p}),{onUpdateUserMap:function(e){return v(Object(i.__assign)(Object(i.__assign)({},p),e))}})))}))};ao.displayName="FileAccessControl";var oo,co=function(){function e(e){this.extendSource=e.extendSource,this.type=e.type,this.guid=e.guid}return Object.defineProperty(e.prototype,"endPoint",{get:function(){return this.type.isEnterprise?"/files/team_settings":"/files/"+this.guid+"/permissions"},enumerable:!1,configurable:!0}),e}(),lo=n(37),so=function(){function e(e){this.isSpace=!!e.isSpace,this.isEnterprise=!!e.isEnterprise,this.fileType=e.fileType}return Object.defineProperty(e.prototype,"isFolder",{get:function(){return!!this.isEnterprise||!!this.fileType&&Object(lo.isFolder)(this.fileType)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNewDoc",{get:function(){return!!this.fileType&&Object(lo.isNewDoc)(this.fileType)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSheet",{get:function(){return!!this.fileType&&Object(lo.isSheet)(this.fileType)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCloudFile",{get:function(){return!!this.fileType&&Object(lo.isCloudFile)(this.fileType)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.isEnterprise?m()("企业"):this.isSpace?m()("空间"):this.isFolder?m()("文件夹"):m()("文件")},enumerable:!1,configurable:!0}),e}(),uo=c.default.div.withConfig({componentId:"sc-1mu1_v",displayName:"Wrapper"})(oo||(oo=Object(i.__makeTemplateObject)(["color:#4583d4;font-size:13px;cursor:pointer;"],[""]))),po=function(e){var t,n,r,a,c=e.file,l=e.features,s=e.me,d=e.children,p=e.className,f=e.onAfterSubmit,m=Object(i.__read)(o.a.useState(!1),2),b=m[0],h=m[1],g=o.a.useMemo((function(){return"function"==typeof c.toJS?c.toJS():c}),[c]),v=o.a.useMemo((function(){return new co({extendSource:g.isSpace?"enterprise":"file",type:new so({isSpace:!!g.isSpace,fileType:g.type}),guid:g.guid})}),[g]),_=!!(null===(n=null===(t=g.permissionsAndReasons)||void 0===t?void 0:t.canModifyAdvancedPermission)||void 0===n?void 0:n.value),y=!!(null===(a=null===(r=g.permissionsAndReasons)||void 0===r?void 0:r.canCustomizeAdvancedPermission)||void 0===a?void 0:a.value);if(!g.teamId||g.teamId!==s.teamId||!(null==l?void 0:l.includes("file_advance_permissions")))return null;return o.a.createElement(uo,{className:p},o.a.createElement("div",{onClick:function(){return h(!0)}},d),b&&o.a.createElement(u,{visible:!0},o.a.createElement(ao,{entity:v,allowModify:_,allowChangeExpandMode:y,onAfterSubmit:function(){null==f||f(),h(!1)},onCancel:function(){return h(!1)}})))};po.displayName="EntryButton"},1180:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(2),i=n(254),a=n(981),o=n(41),c=n.n(o),l=n(8),s=n.n(l),u=n(1162),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props;return __RUNTIME_ENV__.PRIVATE_DEPLOY?s.a.createElement(u.a,{href:e.linkTo||"/dashboard"},e.children):e.location.pathname.match("desktop|dashboard|favorites")?s.a.createElement(u.a,{href:e.linkTo||"/welcome"},e.children):s.a.createElement(u.a,{href:e.linkTo||"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"")},e.children)},t=Object(r.__decorate)([a.b],t)}(l.Component),p=function(e){var t=e.user,n=e.team,r=e.color,i=e.onClick;if(c()(t,"membership.accountType","").indexOf("enterprise")>=0&&n){var a=n.getIn(["resources","desktopLogo"]);if(a)return s.a.createElement(u.c,{src:a,onClick:i})}return s.a.createElement(u.b,{color:r,onClick:i})},f=function(e){return{team:Object(i.jc)(e),user:Object(i.Yb)(e)}},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.user,r=e.team,i=e.onClick,a=e.href;return __RUNTIME_ENV__.PRIVATE_DEPLOY_LOGO?s.a.createElement(d,{linkTo:a},s.a.createElement(u.c,{src:__RUNTIME_ENV__.PRIVATE_DEPLOY_LOGO,onClick:i})):!n||n.id<=0?s.a.createElement(u.a,{href:a||"/welcome"},s.a.createElement(u.b,{color:t,onClick:i})):s.a.createElement(d,{linkTo:a},s.a.createElement(p,{user:n,team:r,color:t,onClick:i}))},t=Object(r.__decorate)([Object(a.a)(f)],t)}(s.a.PureComponent)},1183:function(e,t,n){"use strict";t.a=n.p+"static/lizard-one/assets/none@2x.a2b9ca4f.png"},1184:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="5f77ff66a59b174cfc5f80ad06719d820_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-941.674",y1:"375.775",x2:"-941.674",y2:"374.775",gradientTransform:"matrix(23 0 0 -26 21679 9776.14)"},i.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),i.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),i.a.createElement("path",{d:"M27 9V6h2v3h3v2h-3v3h-2v-3h-3V9h3zm1.6 7c.1.6.2 1.2.2 1.8v1.9c0 3.1 2.2 8.3 2.2 8.3H9s2.2-5.2 2.2-8.3v-1.9c0-4.9 3.9-8.8 8.8-8.8.7 0 1.4.1 2 .2V13h3v3h3.6zm-4.8 13.1c-.5 1.7-2 2.9-3.8 2.9s-3.4-1.2-3.8-2.9h7.6z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1185:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="e8995bef8bb8ea35679096dd89de52c00_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-602.614",y1:"-201.588",x2:"-602.614",y2:"-200.588",gradientTransform:"matrix(22.6274 0 0 23 13655.896 4645.53)"},i.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),i.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),i.a.createElement("path",{d:"M12.2 13.8L9 10.6l1.4-1.4 21.2 21.2-1.4 1.4-3.8-3.8H9.1s2.2-5.2 2.2-8.3v-1.9c0-1.4.3-2.8.9-4zm2.8-3.2c1.4-1 3.2-1.6 5-1.6 4.9 0 8.8 3.9 8.8 8.8v1.9c0 1.8.7 4.3 1.4 6L15 10.6zm8.9 18.5c-.5 1.7-2 2.9-3.8 2.9s-3.4-1.2-3.8-2.9h7.6z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1188:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},this.props),i.a.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#d9dadb"}),i.a.createElement("path",{d:"M12.5 17.2V20h2.8v-2.8h-2.8zm-2.9-5.9h2.6c0-.3 0-.6.1-.9s.2-.5.3-.7.3-.4.6-.5.5-.2.8-.2c.5 0 .9.1 1.1.4.3.3.4.7.4 1.2 0 .3 0 .6-.2.8-.1.2-.3.4-.5.6-.2.2-.4.4-.7.5-.2.2-.5.4-.7.6-.2.2-.4.5-.6.9s-.3.8-.3 1.3v.8h2.4v-.7c0-.4.2-.7.4-.9.2-.2.4-.5.6-.6.2-.2.5-.4.8-.6.3-.2.5-.4.7-.7.2-.3.4-.6.6-1 .1-.4.2-.8.2-1.4 0-.3-.1-.7-.2-1.1-.2-.4-.4-.8-.7-1.1-.3-.3-.8-.6-1.4-.9-.6-.2-1.3-.4-2.1-.4-.7 0-1.3.1-1.8.3-.5.2-1 .5-1.4.9-.2.6-.5 1.1-.7 1.6-.2.5-.3 1.1-.3 1.8z",fill:"#a0a2a5"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1189:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="d5b55d6625a4e660baa22518e14c7d890_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-262.286",y1:"417.896",x2:"-262.286",y2:"416.896",gradientTransform:"matrix(14 0 0 -23.9489 3686 10012.129)"},i.a.createElement("stop",{offset:"0",stopColor:"#5e92d6"}),i.a.createElement("stop",{offset:"1",stopColor:"#7eb1f4"})),i.a.createElement("path",{d:"M21 27.9V4H7v23.5l6.8-6.8 7.2 7.2z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1192:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return N}));var r=n(2),i=n(8),a=n.n(i),o=n(972);function c(e){e.parentNode&&e.parentNode.removeChild(e)}var l,s=n.p+"static/lizard-one/assets/times.url.e9320e53.svg",u=o.StyleSheet.create({modal:{background:"#fff",width:"320px",height:"502px",left:"0",top:"0",bottom:"0",right:"0",margin:"auto",position:"fixed",zIndex:1e3},mask:{background:"rgba(55, 55, 55, 0.6)",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:999},closeIcon:{position:"absolute",cursor:"pointer",width:"12px",height:"12px",backgroundImage:'url("'+s+'")',top:"20px",right:"20px"}}),d=function(){function e(){var e=this;this.modalEl=null,this.maskEl=null,this.closeIconEl=null,this.rootEl=document.body,this.handleClose=function(){e.close()}}return e.prototype.open=function(){this.renderModal(),this.renderMask(),this.renderCloseIcon()},e.prototype.close=function(){this.modalEl&&(c(this.modalEl),this.modalEl=null),this.maskEl&&(c(this.maskEl),this.maskEl=null),this.closeIconEl&&(c(this.closeIconEl),this.closeIconEl=null)},e.prototype.setRoot=function(e){this.rootEl=e},e.prototype.renderModal=function(){this.modalEl||(this.modalEl=document.createElement("div"),this.modalEl.className=Object(o.css)(u.modal),this.rootEl.appendChild(this.modalEl))},e.prototype.renderMask=function(){this.maskEl||(this.maskEl=document.createElement("div"),this.maskEl.className=Object(o.css)(u.mask),this.maskEl.addEventListener("click",this.handleClose),this.rootEl.appendChild(this.maskEl))},e.prototype.renderCloseIcon=function(){this.modalEl&&!this.closeIconEl&&(this.closeIconEl=document.createElement("div"),this.closeIconEl.className=Object(o.css)(u.closeIcon),this.closeIconEl.addEventListener("click",this.handleClose),this.modalEl.appendChild(this.closeIconEl))},e}(),p=n(11),f=n.n(p),m=n(1096),b=n.n(m),h=n(1069),g=n.n(h),v=o.StyleSheet.create({tab:{height:"85px",padding:"49px 20px 0",margin:"0 40px",boxSizing:"border-box",display:"flex",borderBottom:"1px solid #e5e5e5"},tabItem:{flex:"1",textAlign:"center",width:"80px",position:"relative",bottom:"-1px",color:"#a5a5a5",fontSize:"18px",fontWeight:"normal",cursor:"pointer",margin:"0 10px"},tabItemActive:{borderBottom:"2px solid #333",fontWeight:600,color:"#333"},tabPlaceholder:{height:"85px",padding:"49px 20px 0",margin:"0 40px",boxSizing:"border-box",textAlign:"center",display:"block"}});!function(e){e.App="App",e.Wechat="Wechat"}(l||(l={}));var _=function(e){function t(t){var n=e.call(this)||this;return n.el=null,n.tabItemEls=[],n.tabList=[{id:l.App,name:"App"},{id:l.Wechat,name:f()("小程序")}],n.handleHover=function(e){var t=g()(n.tabItemEls,(function(t){return t.contains(e.target)}));n.selectIndex(t)},n.normalTabClassName=Object(o.css)(v.tabItem),n.activeTabClassName=Object(o.css)(v.tabItem,v.tabItemActive),n.activeIndex=t.DEFAULT_TAB?g()(n.tabList,(function(e){return e.id===t.DEFAULT_TAB})):0,n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return this.el||(this.el=document.createElement("div"),this.el.className=Object(o.css)(v.tab),this.tabList.forEach((function(t){var n=e.renderTabItem(t);e.tabItemEls.push(n),e.el.appendChild(n)})),this.el.children[this.activeIndex].className=this.activeTabClassName,this.bind()),this.el},t.prototype.destroy=function(){this.el&&(c(this.el),this.el=null)},t.prototype.bind=function(){var e=this;this.tabItemEls.forEach((function(t){t.addEventListener("mouseenter",e.handleHover)}))},t.prototype.selectIndex=function(e){(e>-1||e!==this.activeIndex)&&(this.tabItemEls[this.activeIndex].className=this.normalTabClassName,this.tabItemEls[e].className=this.activeTabClassName,this.activeIndex=e,this.emit("EVENT_CHANGE",{id:this.tabList[e].id}))},t.prototype.renderTabItem=function(e){var t=document.createElement("div");return t.className=this.normalTabClassName,t.innerHTML=e.name,t},t}(b.a),y=n.p+"static/lizard-one/assets/android.url.e7ae5c89.svg",O=n.p+"static/lizard-one/assets/apple.url.bd34ac48.svg",j=o.StyleSheet.create({appContent:{},appQrCode:{margin:"40px auto",width:"190px",height:"190px"},appQrCodeImage:{width:"100%",height:"100%"},downloadButton:{position:"relative",color:"#fff!important",borderColor:"#41464b",backgroundImage:"linear-gradient( #41464b,#2c3033)",cursor:"pointer",width:"190px",height:"36px",lineHeight:"36px",fontSize:"14px",margin:"0 auto 14px",textAlign:"center",textDecoration:"none",display:"block"},iosIcon:{backgroundImage:'url("'+O+'")',width:"20px",height:"20px",verticalAlign:"text-bottom",display:"inline-block",marginRight:"12px"},androidIcon:{backgroundImage:'url("'+y+'")',width:"20px",height:"20px",verticalAlign:"text-bottom",display:"inline-block",marginRight:"12px"}}),w=f()("App Store 下载"),x=f()("Android 版下载"),E=function(){function e(e){this.el=null,this.config=e}return e.prototype.render=function(){return this.el||(this.el=document.createElement("div"),this.el.className=Object(o.css)(j.appContent),this.el.innerHTML='\n        <div class="'+Object(o.css)(j.appQrCode)+'"><img class="'+Object(o.css)(j.appQrCodeImage)+'" src="'+this.config.APP_QRCODE_URL+'" /></div>\n        <a href="'+this.config.IOS_DOWNLOAD_URL+'" class="'+Object(o.css)(j.downloadButton)+'"><div class="'+Object(o.css)(j.iosIcon)+'"></div>'+w+'</a>\n        <a href="'+this.config.ANDROID_DOWNLOAD_URL+'" class="'+Object(o.css)(j.downloadButton)+'"><div class="'+Object(o.css)(j.androidIcon)+'"></div>'+x+"</a>\n      "),this.el},e.prototype.destroy=function(){this.el&&(c(this.el),this.el=null)},e}(),k=o.StyleSheet.create({wechatContent:{},wechatQrcode:{margin:"65px auto 45px",width:"200px",height:"200px"},wechatQrcodeImage:{width:"100%",height:"100%"},wechatQrcodeDescription:{fontSize:"18px",textAlign:"center",color:"#333"}}),C=f()("扫码使用 石墨小程序"),T=function(){function e(e){this.el=null,this.config=e}return e.prototype.render=function(){return this.el||(this.el=document.createElement("div"),this.el.className=Object(o.css)(k.wechatContent),this.el.innerHTML='\n        <div class="'+Object(o.css)(k.wechatQrcode)+'"><img class="'+Object(o.css)(k.wechatQrcodeImage)+'" src="'+this.config.WECHAT_QRCODE_URL+'"/></div>\n        <div class="'+Object(o.css)(k.wechatQrcodeDescription)+'">'+C+"</div>\n      "),this.el},e.prototype.destroy=function(){this.el&&(c(this.el),this.el=null)},e}(),S=n(1279),I=function(e){function t(t){var n=e.call(this)||this;return n.el=null,n.contentEl=null,n.handleTabChange=function(e){if(e.id===l.App)n.renderAppContent();else{if(e.id!==l.Wechat)throw new Error("Tab type not match");n.renderWechatContent()}},n.config=t,t.WECHAT_QRCODE_URL&&(n.tab=new _(t),n.tab.addListener("EVENT_CHANGE",n.handleTabChange)),n.appContent=new E(t),n.wechatContent=new T(t),n}return Object(r.__extends)(t,e),t.prototype.open=function(){e.prototype.open.call(this),this.renderViewport()},t.prototype.close=function(){e.prototype.close.call(this),this.el&&(c(this.el),this.el=null)},t.prototype.renderViewport=function(){if(!this.el)if(this.el=document.createElement("div"),this.tab)this.el.appendChild(this.tab.render()),this.handleTabChange({id:this.config.DEFAULT_TAB||l.App});else{var e=document.createElement("div");e.className=Object(S.a)(v.tabPlaceholder),e.innerText="扫码下载 石墨文档 App",this.el.appendChild(e),this.handleTabChange({id:l.App})}this.modalEl.appendChild(this.el)},t.prototype.renderAppContent=function(){this.el&&(this.contentEl&&c(this.contentEl),this.contentEl=this.appContent.render(),this.el.appendChild(this.contentEl))},t.prototype.renderWechatContent=function(){this.el&&(this.contentEl&&c(this.contentEl),this.contentEl=this.wechatContent.render(),this.el.appendChild(this.contentEl))},t}(d),N={APP_QRCODE_URL:n.p+"static/lizard-one/assets/download_app_qrcode@2x.38a8abbd.png",IOS_DOWNLOAD_URL:"https://itunes.apple.com/cn/app/shi-mo-wen-dang-zui-mei-xie/id1013727678?l=en&mt=8",ANDROID_DOWNLOAD_URL:"/resources/android_app",WECHAT_QRCODE_URL:n.p+"static/lizard-one/assets/download_wechat_qrcode@2x.4a72aaaa.png"};!function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(){n.downloadModal.open()},n.downloadModal=new I(t.config),n}Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.downloadModal.close()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return a.a.createElement("span",{onClick:this.handleClick},this.props.children)}}(a.a.Component)},1193:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(8),a=n(28);function o(){var e=Object(r.__read)(Object(i.useState)(!1),2),t=e[0],n=e[1],o=Object(r.__read)(Object(i.useState)(!1),2),c=o[0],l=o[1],s=Object(r.__read)(Object(i.useState)(!1),2),u=s[0],d=s[1],p=Object(r.__read)(Object(i.useState)(!1),2),f=p[0],m=p[1];return Object(i.useEffect)((function(){(function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.s.get("/user/features")];case 1:return e=r.sent().data.features,n(e.includes("enable_share_expire_time")),d(e.includes("enable_share_password")),m(e.includes("enable_share_enterprise_only")),[4,a.s.get("/team_settings/force_team_share")];case 2:return t=r.sent().status,l(t),[2]}}))}))})().catch((function(){}))}),[]),{forceTeamShare:c,allowExpireTime:t,allowPasswordProtected:u,allowEnterpriseOnly:f}}},1194:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return j}));var r,i,a,o,c,l,s,u,d=n(2),p=n(253),f=n(1059),m=n(971),b=Object(p.default)(f.a).withConfig({componentId:"sc-WxOzN",displayName:"StyledIconDropdown"})(r||(r=Object(d.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),h=Object(p.default)(m.a).withConfig({componentId:"sc-WxOzN-1",displayName:"StyledQuickAccessPoint"})(i||(i=Object(d.__makeTemplateObject)(["width:26px;min-width:26px;height:28px;margin:11px 0;padding:0;position:relative;"],[""]))),g=p.default.div.withConfig({componentId:"sc-WxOzN-2",displayName:"StyledAccessMenu"})(a||(a=Object(d.__makeTemplateObject)(["-webkit-font-smoothing:antialiased;background:#fff;transform:translate(-25px,0);overflow:hidden;"],[""]))),v=p.default.div.withConfig({componentId:"sc-WxOzN-3",displayName:"StyledContentWrapper"})(o||(o=Object(d.__makeTemplateObject)(["width:220px;font-size:12px;position:relative;overflow:hidden;"],[""]))),_=p.default.div.withConfig({componentId:"sc-WxOzN-4",displayName:"StyledContentRow"})(c||(c=Object(d.__makeTemplateObject)(["box-sizing:border-box;min-height:163px;max-height:463px;overflow-x:hidden;overflow-y:auto;padding-bottom:15px;width:240px;padding-right:20px;margin-right:-20px;padding:0 45px 0 25px;margin-top:10px;"],[""]))),y=p.default.div.withConfig({componentId:"sc-WxOzN-5",displayName:"StyledContentTitle"})(l||(l=Object(d.__makeTemplateObject)(["color:#a5a5a5;line-height:14px;margin-bottom:8px;"],[""]))),O=p.default.div.withConfig({componentId:"sc-WxOzN-6",displayName:"StyledSearchInput"})(s||(s=Object(d.__makeTemplateObject)(["position:relative;box-sizing:border-box;height:50px;padding-top:12px;border-bottom:1px solid #e5e5e5;overflow:hidden;margin:0 16px;.sm-input{height:100%;.sm-input-wrapper{height:100%;border:0;outline:none;box-shadow:none;box-sizing:border-box;width:100%;svg{box-sizing:content-box;padding-top:4px;transform:scale(0.6);color:#333;}}}input{border:0;outline:none;box-shadow:none;box-sizing:border-box;width:100%;}"],[""]))),j=p.default.div.withConfig({componentId:"sc-WxOzN-7",displayName:"StyledListPanel"})(u||(u=Object(d.__makeTemplateObject)(["margin:0 -25px 20px;width:220px;"],[""])))},1195:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},this.props),i.a.createElement("path",{d:"M8.5 8.5V2.8c0-.5.3-.8.7-.8s.8.3.8.8v5.8h5.8c.4 0 .8.3.8.8s-.4.6-.8.6H10v5.8c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10H2.8c-.5 0-.8-.3-.8-.8s.3-.8.8-.8h5.7z",fill:"#555"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1197:function(e,t,n){"use strict";n.d(t,"a",(function(){return on}));var r=n(2),i=n(8),a=n.n(i),o=n(253),c=n(1081),l=n(11),s=n.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,i=m(o);function o(){return d(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),a.a.createElement("path",{d:"M15 21.7V23c0 .6.4 1 1 1s1-.5 1-1v-1.3c.6-.3 1-1 1-1.7 0-1.1-.9-2-2-2s-2 .9-2 2c0 .7.4 1.4 1 1.7zm8-8.7h2c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V15c0-1.1.9-2 2-2h2V9c0-3.9 3.1-7 7-7s7 3.1 7 7v4zm-2 0V9c0-2.8-2.2-5-5-5s-5 2.2-5 5v4h10z",fill:"#fff"}))}}])&&p(t.prototype,n),r&&p(t,r),o}(a.a.Component);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k,C,T,S,I,N,R,P,M,A,B,D,L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r,i=w(o);function o(){return y(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),a.a.createElement("path",{d:"M12.8 23l-1.2 1.2c-1.1 1-2.8 1-3.8 0-.5-.5-.8-1.1-.8-1.8s.3-1.4.8-1.9l4.5-4.4c.9-.9 2.7-2.3 3.9-1 .6.6 1.5.6 2.1 0 .6-.6.6-1.5 0-2.1-2.2-2.1-5.4-1.7-8.1 1l-4.5 4.4c-1.1 1.1-1.7 2.5-1.7 4s.6 2.9 1.7 4 2.6 1.6 4 1.6c1.5 0 2.9-.5 4-1.6l1.2-1.2c.6-.6.6-1.5 0-2.1-.6-.6-1.5-.6-2.1-.1zM26.3 5.8c-2.3-2.3-5.6-2.4-7.7-.3L17.1 7c-.6.6-.6 1.5 0 2.1.6.6 1.5.6 2.1 0l1.5-1.5c1.1-1.1 2.6-.6 3.5.3.5.5.8 1.2.8 1.9s-.3 1.4-.8 1.9l-4.8 4.7c-2.2 2.2-3.2 1.1-3.6.7-.6-.6-1.5-.6-2.1 0-.6.6-.6 1.5 0 2.1 1 1 2.1 1.5 3.3 1.5 1.5 0 3-.7 4.5-2.2l4.8-4.7c1.1-1.1 1.7-2.5 1.7-4s-.6-2.9-1.7-4z",fill:"#fff"}))}}])&&O(t.prototype,n),r&&O(t,r),o}(a.a.Component),F=n(1036),V=o.default.div.withConfig({componentId:"sc-3-Iuv",displayName:"StyledHeaderSection"})(k||(k=Object(r.__makeTemplateObject)(["position:relative;border-bottom:1px solid #dddddd;margin-left:-10px;margin-right:-10px;&:before{content:' ';position:absolute;width:0;height:0;bottom:0;left:18px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid transparent;border-bottom:6px solid #dddddd;}&:after{content:' ';position:absolute;width:0;height:0;bottom:-1px;left:19px;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid transparent;border-bottom:5px solid white;}.share-switch{position:absolute;top:4px;right:30px;}"],[""]))),U=o.default.div.withConfig({componentId:"sc-3-Iuv-1",displayName:"StyledShareStateWrapper"})(C||(C=Object(r.__makeTemplateObject)(["display:inline-block;vertical-align:top;"],[""]))),G=o.default.div.withConfig({componentId:"sc-3-Iuv-2",displayName:"StyledIconWrapper"})(T||(T=Object(r.__makeTemplateObject)(["display:inline-block;position:relative;width:28px;height:28px;border-radius:14px;margin-left:10px;> svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],[""]))),H=Object(o.default)(G).withConfig({componentId:"sc-3-Iuv-3",displayName:"StyledPrivate"})(S||(S=Object(r.__makeTemplateObject)(["vertical-align:top;background-image:linear-gradient(#e8e8e8 0%,#cccccc 100%);"],[""]))),W=Object(o.default)(G).withConfig({componentId:"sc-3-Iuv-4",displayName:"StyledPublic"})(I||(I=Object(r.__makeTemplateObject)(["vertical-align:top;background-image:linear-gradient(220deg,#6dc978 0%,#68b971 100%);"],[""]))),K=Object(o.default)(G).withConfig({componentId:"sc-3-Iuv-5",displayName:"StyledPassword"})(N||(N=Object(r.__makeTemplateObject)(["vertical-align:top;background-image:linear-gradient(220deg,#6dc978 0%,#68b971 100%);"],[""]))),Y=Object(o.default)(G).withConfig({componentId:"sc-3-Iuv-6",displayName:"StyledEnterprise"})(R||(R=Object(r.__makeTemplateObject)(["vertical-align:top;background-image:linear-gradient(#6c9fe2 0%,#80b3f5 100%);"],[""]))),Z=Object(o.default)(G).withConfig({componentId:"sc-3-Iuv-7",displayName:"StyledEnterprisePassword"})(P||(P=Object(r.__makeTemplateObject)(["vertical-align:top;background-image:linear-gradient(#6c9fe2 0%,#80b3f5 100%);"],[""]))),q=o.default.div.withConfig({componentId:"sc-3-Iuv-8",displayName:"StyledText"})(M||(M=Object(r.__makeTemplateObject)(["display:inline-block;margin-left:16px;width:200px;padding-bottom:10px;"],[""]))),Q=o.default.p.withConfig({componentId:"sc-3-Iuv-9",displayName:"StyledTitle"})(A||(A=Object(r.__makeTemplateObject)(["line-height:12px;font-size:12px;color:#333;letter-spacing:0.1px;"],[""]))),X=o.default.p.withConfig({componentId:"sc-3-Iuv-10",displayName:"StyledDescription"})(B||(B=Object(r.__makeTemplateObject)(["margin-top:6px;font-size:12px;color:#a5a5a5;letter-spacing:0.1px;line-height:12px;"],[""])));!function(e){e.Private="private",e.Public="public",e.Password="password",e.Enterprise="enterprise",e.EnterprisePassword="enterprise_password"}(D||(D={}));var J,$,ee,te=function(e){var t=e.enableShare,n=e.shareForEnterpriseOnly,r=e.passwordProtected,i=e.allowedPasswordProtected;return a.a.createElement(V,null,function(){switch(function(e){var t=e.enableShare,n=e.shareForEnterpriseOnly,r=e.passwordProtected,i=e.allowedPasswordProtected;return t?n?r?D.EnterprisePassword:D.Enterprise:i?D.Public:r?D.Password:D.Public:D.Private}({enableShare:t,shareForEnterpriseOnly:n,passwordProtected:r,allowedPasswordProtected:i})){case D.Private:return a.a.createElement(U,null,a.a.createElement(H,null,a.a.createElement(v,{width:"16px",height:"16px"})),a.a.createElement(q,null,a.a.createElement(Q,null,s()("公开分享（未开启）")),a.a.createElement(X,null,s()("开启后获得链接的人可以访问"))));case D.Public:return a.a.createElement(U,null,a.a.createElement(W,null,a.a.createElement(z,{width:"16px",height:"16px"})),a.a.createElement(q,null,a.a.createElement(Q,null,s()("公开分享")),a.a.createElement(X,null,s()("获得链接的人都可以访问"))));case D.Password:return a.a.createElement(U,null,a.a.createElement(K,null,a.a.createElement(z,{width:"16px",height:"16px"})),a.a.createElement(q,null,a.a.createElement(Q,null,s()("公开加密分享")),a.a.createElement(X,null,s()("获得密码和链接的人可以访问"))));case D.Enterprise:return a.a.createElement(U,null,a.a.createElement(Y,null,a.a.createElement(z,{width:"16px",height:"16px"})),a.a.createElement(q,null,a.a.createElement(Q,null,s()("仅企业内部公开分享")),a.a.createElement(X,null,s()("获得链接的企业成员可以访问"))));case D.EnterprisePassword:return a.a.createElement(U,null,a.a.createElement(Z,null,a.a.createElement(z,{width:"16px",height:"16px"})),a.a.createElement(q,null,a.a.createElement(Q,null,s()("仅企业内部加密公开分享")),a.a.createElement(X,null,s()("获得密码和链接的企业成员可以访问"))));default:return null}}(),a.a.createElement(F.a,{className:"share-switch",handleCheckedChange:e.toggleShareState,checked:t}))},ne=n(978),re=n(1032),ie=o.default.div.withConfig({componentId:"sc-neTCL",displayName:"StyledCopySection"})(J||(J=Object(r.__makeTemplateObject)(["margin:21px 10px 25.5px 0;border:1px solid #e5e5e5;border-radius:4px;height:32px;display:table;table-layout:fixed;width:329px;"],[""]))),ae=o.default.div.withConfig({componentId:"sc-neTCL-1",displayName:"StyledUrlInput"})($||($=Object(r.__makeTemplateObject)(["display:table-cell;width:100%;padding:8.5px 15px;box-sizing:border-box;background-color:white;border-radius:4px 0px 0px 4px;> input{outline:none;border:none;box-shadow:none;display:block;width:100%;height:16px;font-size:12px;color:#333333;}"],[""]))),oe=Object(o.default)(re.a).withConfig({componentId:"sc-neTCL-2",displayName:"StyledClipboardText"})(ee||(ee=Object(r.__makeTemplateObject)(["display:table-cell;width:88px;border-left:1px solid #e5e5e5;background-image:linear-gradient(-180deg,#ffffff 0%,#fbfbfb 100%);vertical-align:middle;text-align:center;font-size:12px;color:#333333;border-radius:0px 4px 4px 0px;cursor:pointer;&:hover{background-image:linear-gradient(-180deg,#ffffff 0%,#f0f0f0 100%);}"],[""])));function ce(e){var t=s()("链接已复制");if(e.includes("readonly"))t=s()("公开只读链接已复制");else if(e.includes("private"))t=s()("私有链接已复制");else if(e.includes("editable"))t=s()("公开可写链接已复制");else{if(!e.includes("commentable"))return void ne.a.error({content:s()("链接复制失败"),autoClose:2e3});t=s()("公开只评链接已复制")}ne.a.success({content:t,autoClose:2e3})}var le,se,ue,de,pe,fe,me,be,he,ge,ve,_e,ye,Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSuccess=function(){ce(t.props.shareMode)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.text;return a.a.createElement(oe,{text:e,onSuccess:this.handleSuccess},s()("复制链接"))},t}(a.a.PureComponent),je=function(e){var t=e.shareMode,n=e.copyShareDesc;return a.a.createElement(ie,null,a.a.createElement(ae,null,a.a.createElement("input",{type:"text",readOnly:!0,value:n})),a.a.createElement(Oe,{text:n,shareMode:t}))},we=n(1007),xe=n(971),Ee=n(77),ke=n(1187),Ce=n.n(ke),Te=n.p+"static/lizard-one/assets/wechat.37a320c9.png",Se=function(e){var t=e.qrcodeSrc,n=e.hasWechatLogo,r=void 0===n||n;return a.a.createElement(Ie,null,a.a.createElement(Ne,null,s()("扫码发送到微信聊天或群聊"),a.a.createElement("br",null),s()("对方加入后便可协同编辑"),a.a.createElement("br",null),s()("（链接有效期为 6 小时）")),a.a.createElement(Me,null,r&&t&&a.a.createElement(Pe,{src:Te}),a.a.createElement(Re,{src:t})))},Ie=o.default.div.withConfig({componentId:"sc-1a05Rd",displayName:"QrcodeWrapper"})(le||(le=Object(r.__makeTemplateObject)(["width:215px;background-color:#fff;text-align:center;padding:20px 5px 17px;box-sizing:border-box;"],[""]))),Ne=o.default.p.withConfig({componentId:"sc-1a05Rd-1",displayName:"QrcodeTitle"})(se||(se=Object(r.__makeTemplateObject)(["font-size:13px;line-height:16px;color:#666;margin:0 0 14px;"],[""]))),Re=o.default.img.withConfig({componentId:"sc-1a05Rd-2",displayName:"QrcodeImg"})(ue||(ue=Object(r.__makeTemplateObject)(["width:100%;display:block;margin:0 auto;"],[""]))),Pe=o.default.img.withConfig({componentId:"sc-1a05Rd-3",displayName:"FlyingIcon"})(de||(de=Object(r.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:35px;height:35px;background-color:#fff;border-radius:5px;padding:7px;"],[""]))),Me=o.default.div.withConfig({componentId:"sc-1a05Rd-4",displayName:"QrcodeInnerWrapper"})(pe||(pe=Object(r.__makeTemplateObject)(["position:relative;"],[""]))),Ae={editable:s()("可以编辑"),commentable:s()("只能评论"),readonly:s()("只能阅读")},Be=function(e){var t=e.canComment,n=e.shareMode,i=e.qrcodeSrc,o=e.isEnterprise,c=e.onChange,l=function(e,t){var n=Object.keys(Ae).map((function(e){return{name:Ae[e],value:e,disabled:!t&&!("readonly"===e||Object(Ee.isSelfHosted)())}}));return e?n:n.filter((function(e){return"commentable"!==e.value}))}(t,o),u=n.replace("enterprise_","");if(!n||"private"===n)return null;var d=2===l.length;return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,null,s()("链接权限")),!Object(Ee.isSelfHosted)()&&!o&&a.a.createElement(Ue,null,s.a.x(fe||(fe=Object(r.__makeTemplateObject)(["暂不支持设置为可以编辑或可以评论权限，您可以在协作面板里添加协作者，或者",""],["暂不支持设置为可以编辑或可以评论权限，您可以在协作面板里添加协作者，或者",""])),a.a.createElement(xe.u,{overlay:a.a.createElement(Se,{qrcodeSrc:i}),placement:"bottom",theme:"white",trigger:"hover"},a.a.createElement(Ge,null,s()("通过微信添加协作"))))),a.a.createElement(Ve,null,l.map((function(e){var t=e.name,r=e.value,i=e.disabled;return a.a.createElement(xe.u,{title:i?s()("为了维护良好的网络环境，该功能暂不可用，请添加协作者进行协作"):void 0,key:r},a.a.createElement(Le,{average:d},a.a.createElement(ze,{onClick:function(){i||function(e){c(n.includes("enterprise_")?"enterprise_"+e:e)}(r)}},a.a.createElement(we.a,{disabled:i,size:"m",type:"radio",checked:u===r}),a.a.createElement(Fe,{className:Ce()({disabled:i})},t))))}))))},De=o.default.div.withConfig({componentId:"sc-EAJJe",displayName:"StyledDesc"})(me||(me=Object(r.__makeTemplateObject)(["font-size:12px;color:#a5a5a5;letter-spacing:0.1px;line-height:12px;margin-bottom:8px;"],[""]))),Le=o.default.div.withConfig({componentId:"sc-EAJJe-1",displayName:"StyledRadioArea"})(be||(be=Object(r.__makeTemplateObject)(["",";"],["",""])),(function(e){return e.average?"flex: 1;":""})),ze=o.default.div.withConfig({componentId:"sc-EAJJe-2",displayName:"StyledRadioButton"})(he||(he=Object(r.__makeTemplateObject)(["cursor:pointer;line-height:20px;display:inline-block;"],[""]))),Fe=o.default.div.withConfig({componentId:"sc-EAJJe-3",displayName:"StyledButtonText"})(ge||(ge=Object(r.__makeTemplateObject)(["display:inline-block;font-size:12px;margin-left:10px;vertical-align:middle;color:rgba(65,70,75,0.9);&.disabled{color:",";}"],["",""])),xe.x.gray.gray50),Ve=o.default.div.withConfig({componentId:"sc-EAJJe-4",displayName:"StyledRadioGroup"})(ve||(ve=Object(r.__makeTemplateObject)(["position:relative;overflow:hidden;display:flex;justify-content:space-between;align-items:center;line-height:20px;margin-bottom:16px;"],[""]))),Ue=o.default.div.withConfig({componentId:"sc-EAJJe-5",displayName:"DescContent"})(_e||(_e=Object(r.__makeTemplateObject)(["line-height:16px;font-size:12px;padding:8px 0 16px;color:",";"],["",""])),xe.x.text.default),Ge=o.default.div.withConfig({componentId:"sc-EAJJe-6",displayName:"DescHightLight"})(ye||(ye=Object(r.__makeTemplateObject)(["color:",";display:inline;cursor:pointer;"],["",""])),xe.x.blue.blue6);Be.displayName="PermissionSelector";var He,We,Ke,Ye,Ze,qe,Qe,Xe,Je=n(985),$e=n(1157),et=n(1188),tt=function(e){var t=e.restTime,n=e.children;return a.a.createElement(nt,null,a.a.createElement(rt,null,a.a.createElement(it,null,s()("链接有效期")),a.a.createElement(Je.a,{theme:"white",arrowPointAtCenter:!0,title:a.a.createElement(at,null,a.a.createElement("p",null,s()("永久有效：手动关闭公开分享前，链接将持续有效")),a.a.createElement("p",null,s()("7 天有效/1天有效：剩余时间结束后，链接自动失效"))),placement:"rightTop"},a.a.createElement(ot,null,a.a.createElement($e.a,null),a.a.createElement(et.a,null)))),a.a.createElement(ct,null,n,t?a.a.createElement(lt,null,s()("剩余"),a.a.createElement(st,null,t)):null))},nt=o.default.div.withConfig({componentId:"sc-2cq_6n",displayName:"StyledExpireLayout"})(He||(He=Object(r.__makeTemplateObject)(["margin-top:16px;margin-bottom:15px;"],[""]))),rt=o.default.div.withConfig({componentId:"sc-2cq_6n-1",displayName:"Header"})(We||(We=Object(r.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:8px;"],[""]))),it=o.default.div.withConfig({componentId:"sc-2cq_6n-2",displayName:"Title"})(Ke||(Ke=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:rgba(65,70,75,0.6);margin-right:9px;"],[""]))),at=o.default.div.withConfig({componentId:"sc-2cq_6n-3",displayName:"AlertTitle"})(Ye||(Ye=Object(r.__makeTemplateObject)(["line-height:21px;text-align:left;margin:6px 14px;width:158px;height:auto;font-weight:normal;font-size:12px;color:#666;"],[""]))),ot=o.default.span.withConfig({componentId:"sc-2cq_6n-4",displayName:"StyledIconQuest"})(Ze||(Ze=Object(r.__makeTemplateObject)(["position:relative;width:14px;height:14px;display:inline-block;vertical-align:text-bottom;cursor:pointer;svg{position:absolute;left:0;top:0;}svg:last-child{display:none;}&:hover svg:last-child{display:block;}"],[""]))),ct=o.default.div.withConfig({componentId:"sc-2cq_6n-5",displayName:"Content"})(qe||(qe=Object(r.__makeTemplateObject)(["display:flex;justify-content:space-between;align-items:center;"],[""]))),lt=o.default.div.withConfig({componentId:"sc-2cq_6n-6",displayName:"RestTime"})(Qe||(Qe=Object(r.__makeTemplateObject)(["font-size:12px;font-weight:500;color:rgba(65,70,75,0.3);"],[""]))),st=o.default.span.withConfig({componentId:"sc-2cq_6n-7",displayName:"Time"})(Xe||(Xe=Object(r.__makeTemplateObject)(["margin-left:4px;font-weight:500;color:#4583d4;"],[""]))),ut=n(980);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt,_t,yt,Ot,jt,wt,xt,Et,kt,Ct,Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(o,e);var t,n,r,i=bt(o);function o(){return pt(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",Tt({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),a.a.createElement("path",{d:"M8 10L5 6h6l-3 4z",fill:"#41464B",fillOpacity:".9"}))}}])&&ft(t.prototype,n),r&&ft(t,r),o}(a.a.Component),It=[{name:s()("1 天有效"),value:"86400"},{name:s()("7 天有效"),value:"604800"},{name:s()("永久有效"),value:"0"}],Nt=function(e){var t,n=e.activeId,r=void 0===n?"0":n,i=e.onSelect;return a.a.createElement(Rt,{className:"expire-selector",overlay:a.a.createElement(ut.b,{onClick:function(e){var t=e.key;i(Number(t))},defaultSelectedKeys:[r],selectedKeys:[r]},It.map((function(e){return a.a.createElement(ut.c,{key:e.value,active:e.value===r,style:{color:"rgba(65, 70, 75, 0.9)"}},e.name,e.value===r)}))),placement:"bottomCenter",overlayStyle:{width:"200px"},trigger:["click"],showTip:!0},a.a.createElement(Pt,null,null===(t=It.find((function(e){return e.value===r})))||void 0===t?void 0:t.name,a.a.createElement(Mt,null)))},Rt=Object(o.default)(xe.d).withConfig({componentId:"sc-GvMX1",displayName:"StyledDropdown"})(vt||(vt=Object(r.__makeTemplateObject)(["&.sm-dropdown-placement-bottomCenter{.sm-dropdown-menu{margin-top:-6px;}&::before{display:none;}&::after{display:none;}}"],[""]))),Pt=o.default.div.withConfig({componentId:"sc-GvMX1-1",displayName:"StyledButton"})(_t||(_t=Object(r.__makeTemplateObject)(["position:relative;height:32px;width:200px;display:flex;justify-content:space-between;font-size:13px;font-weight:normal;background:#fff;color:rgba(65,70,75,0.9);border:1px solid rgba(65,70,75,0.2);box-sizing:border-box;border-radius:2px;align-items:center;cursor:pointer;padding-left:16px;&:hover{border-color:rgba(65,70,75,0.4);}"],[""]))),Mt=Object(o.default)(St).withConfig({componentId:"sc-GvMX1-2",displayName:"ArrowButton"})(yt||(yt=Object(r.__makeTemplateObject)(["position:absolute;right:8px;top:50%;transform:translateY(-50%);width:13px;"],[""]))),At=function(e){var t=function(e,t){if(!e)return{d:0,h:0};var n=e-t,r=Math.floor(n/86400);n%=86400;var i=Math.ceil(n/3600);return 24===i&&(r+=1,i=0),{d:r>0?r:0,h:i>0?i:0}}(e,Math.ceil(Date.now()/1e3)),n=t.d,i=t.h;return n||i?(n?s()(Ot||(Ot=Object(r.__makeTemplateObject)([""," 天"],[""," 天"])),n):"")+(i?s()(jt||(jt=Object(r.__makeTemplateObject)([""," 小时"],[""," 小时"])),i):""):""},Bt=function(e){var t=e.allowExpireTime,n=e.shared,r=e.shareModeExpiredAt,i=e.shareModeExpireDuration,o=e.onChange;return t&&n?a.a.createElement(tt,{restTime:At(r)},a.a.createElement(Nt,{activeId:String(i),onSelect:o})):null};o.default.div.withConfig({componentId:"sc-g9Ov4",displayName:"StyledDesc"})(wt||(wt=Object(r.__makeTemplateObject)(["margin-bottom:12px;font-size:12px;color:#a5a5a5;letter-spacing:0.1px;line-height:12px;"],[""]))),o.default.div.withConfig({componentId:"sc-g9Ov4-1",displayName:"StyledRadioArea"})(xt||(xt=Object(r.__makeTemplateObject)(["",";"],["",""])),(function(e){return e.average?"flex: 1;":""})),o.default.div.withConfig({componentId:"sc-g9Ov4-2",displayName:"StyledRadioButton"})(Et||(Et=Object(r.__makeTemplateObject)(["cursor:pointer;margin-top:9px;line-height:20px;display:inline-block;"],[""]))),o.default.div.withConfig({componentId:"sc-g9Ov4-3",displayName:"StyledButtonText"})(kt||(kt=Object(r.__makeTemplateObject)(["display:inline-block;font-size:12px;margin-left:10px;vertical-align:middle;color:#333;"],[""]))),o.default.div.withConfig({componentId:"sc-g9Ov4-4",displayName:"StyledRadioGroup"})(Ct||(Ct=Object(r.__makeTemplateObject)(["position:relative;overflow:hidden;display:flex;justify-content:space-between;"],[""])));Bt.displayName="ExpireSection";var Dt,Lt,zt,Ft,Vt,Ut,Gt,Ht,Wt,Kt=n(125),Yt=n.n(Kt),Zt=o.default.div.withConfig({componentId:"sc-3w37Oy",displayName:"StyledCheckButton"})(Dt||(Dt=Object(r.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:10px;cursor:pointer;color:#333;&.disabled{color:#ccc;cursor:default;}"],[""]))),qt=o.default.div.withConfig({componentId:"sc-3w37Oy-1",displayName:"StyledButtonText"})(Lt||(Lt=Object(r.__makeTemplateObject)(["flex:1;display:inline-block;font-size:12px;margin-left:10px;vertical-align:middle;"],[""]))),Qt=function(e){var t=e.disabled,n=e.checked,r=e.title,i=e.className;return a.a.createElement(Zt,{className:Ce()({disabled:t},i),onClick:function(){return t?Yt.a:e.onChange(!n)}},a.a.createElement(we.a,{size:"s",type:"check",checked:n,disabled:t}),a.a.createElement(qt,null,r))},Xt=o.default.div.withConfig({componentId:"sc-1_4qln",displayName:"StyledVisitPermission"})(zt||(zt=Object(r.__makeTemplateObject)(["position:relative;padding-top:10px;padding-left:10px;"],[""]))),Jt=o.default.div.withConfig({componentId:"sc-1_4qln-1",displayName:"StyledPasswordSection"})(Ft||(Ft=Object(r.__makeTemplateObject)(["position:relative;float:right;height:32px;overflow:hidden;> input{background:#fff;border:1px solid #e5e5e5;border-radius:2px;font-size:12px;color:#333;line-height:20px;width:58px;padding:6px 0 4px 15px;float:left;outline:none;box-shadow:none;cursor:text;}"],[""]))),$t=o.default.a.withConfig({componentId:"sc-1_4qln-2",displayName:"StyledPasswordLink"})(Vt||(Vt=Object(r.__makeTemplateObject)(["font-size:12px;cursor:pointer;color:#6da0e3;margin:0 12px;display:inline-block;line-height:32px;vertical-align:middle;text-decoration:none;"],[""]))),en=o.default.a.withConfig({componentId:"sc-1_4qln-3",displayName:"StyledEnterpriseLink"})(Ut||(Ut=Object(r.__makeTemplateObject)(["position:absolute;top:16px;right:10px;font-size:12px;color:#6da0e3;outline:none;cursor:pointer;text-decoration:none;"],[""]))),tn=o.default.div.withConfig({componentId:"sc-1_4qln-4",displayName:"StyledPasswordNeedWrapper"})(Gt||(Gt=Object(r.__makeTemplateObject)(["overflow:hidden;padding-bottom:2px;"],[""]))),nn=Object(o.default)(Qt).withConfig({componentId:"sc-1_4qln-5",displayName:"StyledPasswordNeedCheckbox"})(Ht||(Ht=Object(r.__makeTemplateObject)(["float:left;"],[""]))),rn=function(e){var t=e.shared,n=e.shareMode,r=e.enterpriseShared,i=e.password,o=e.passwordProtected,c=e.allowPasswordProtected,l=e.allowEnterpriseOnly,u=e.onTogglePasswordProtected,d=e.onChangePassword,p=e.onChangeShareState;return t?a.a.createElement(a.a.Fragment,null,a.a.createElement(xe.c,null),a.a.createElement(Xt,null,a.a.createElement(tn,null,a.a.createElement(nn,{title:c?s()("需要密码访问"):s()("需要密码访问（企业版功能）"),checked:o,disabled:!c,onChange:u}),c&&o&&i&&a.a.createElement(Jt,null,a.a.createElement("input",{type:"text",readOnly:!0,value:i}),a.a.createElement($t,{onClick:d},s()("更换密码")))),a.a.createElement(Qt,{title:l?s()("仅限企业成员访问"):s()("仅限企业成员访问（企业版功能）"),checked:r,disabled:!l,onChange:function(e){var t=n.replace("enterprise_","");p(e?"enterprise_"+t:t)}}),!c&&a.a.createElement(en,{href:"https://shimo.im/pricing",target:"_blank"},s()("升级到企业版")))):null},an=n(1125),on=function(e){var t=e.shareSetting,n=t.isShared,r=t.shareMode,o=t.shareModeExpiredAt,l=t.shareModeExpireDuration,s=t.password,u=t.passwordProtected,d=e.features,p=d.allowExpireTime,f=d.allowPasswordProtected,m=d.allowEnterpriseOnly,b=e.canComment,h=e.fileName,g=e.url,v=e.QRCode,_=e.collabQrcodeSrc,y=e.isEnterprise,O=e.onChangeShare,j=function(e){return e.includes("enterprise")}(r);Object(i.useEffect)((function(){_&&((new Image).src=_)}),[_]);var w=function(e){O("shareMode",e)},x=Object(an.d)(g,h,u,s);return a.a.createElement(cn,null,a.a.createElement(te,{enableShare:n,shareForEnterpriseOnly:j,passwordProtected:u,allowedPasswordProtected:f,toggleShareState:function(e){O("isShared",e)}}),a.a.createElement(je,{copyShareDesc:x,shareMode:r}),a.a.createElement(Be,{canComment:b,shareMode:r,qrcodeSrc:_,isEnterprise:y,onChange:w}),a.a.createElement(Bt,{allowExpireTime:p,shared:n,shareModeExpiredAt:o,shareModeExpireDuration:null!=l?l:0,onChange:function(e){O("shareModeExpireDuration",e)}}),v,a.a.createElement(rn,{shared:n,enterpriseShared:j,passwordProtected:u,allowPasswordProtected:f,allowEnterpriseOnly:m,password:s,shareMode:r,onTogglePasswordProtected:function(e){O("passwordProtected",e)},onChangePassword:function(){O("password")},onChangeShareState:w}),a.a.createElement(c.a,{path:"shimo.shareBottomHook",data:{fileName:h,shareUrl:g}}))},cn=o.default.div.withConfig({componentId:"sc-3FN4dj",displayName:"StyledSharePanel"})(Wt||(Wt=Object(r.__makeTemplateObject)(["width:350px;padding:0 10px;box-sizing:border-box;"],[""])))},1198:function(e,t,n){"use strict";n.d(t,"a",(function(){return ht}));var r=n(2),i=n(971),a=n(8),o=n.n(a),c=n(253),l=n(11),s=n.n(l),u=n(985),d=n(980),p=n.p+"static/lizard-one/assets/arrow.url.6b17f031.svg",f=n.p+"static/lizard-one/assets/ticket.url.d4ff4ea0.svg",m=c.default.div.withConfig({componentId:"sc-2z-gDd",displayName:"Arrow"})(_||(_=Object(r.__makeTemplateObject)(["width:24px;height:24px;background:url(",");background-repeat:no-repeat;background-position:50%;border-radius:1px;"],["",""])),p),b=c.default.div.withConfig({componentId:"sc-2z-gDd-1",displayName:"Wrapper"})(y||(y=Object(r.__makeTemplateObject)(["font-weight:500;font-size:16px;line-height:32px;padding-left:12px;display:flex;flex-direction:row;align-items:center;cursor:pointer;margin-right:-12px;","{margin-left:4px;background-color:",";}&:hover{","{background-color:",";}}"],["","","","",""])),m,(function(e){return e.active?"rgba(65, 70, 75, 0.1);":"inherit"}),m,(function(e){return e.active?"rgba(65, 70, 75, 0.1);":"rgba(65, 70, 75, 0.05)"})),h=Object(c.default)(u.a).withConfig({componentId:"sc-2z-gDd-2",displayName:"StyledTooltip"})(O||(O=Object(r.__makeTemplateObject)([".sm-tooltip-arrow{display:none;}.sm-tooltip-content{.sm-tooltip-inner{padding:0;background:none;}}"],[""]))),g=Object(c.default)(d.c).withConfig({componentId:"sc-2z-gDd-3",displayName:"StyledMenuItem"})(j||(j=Object(r.__makeTemplateObject)(["padding:6px 20px 6px 40px;text-align:left;&::after{left:15px;background:url(",") no-repeat;}&.sm-menu-item-selected{::after{left:15px;background-image:url(",");background-size:unset;}}"],["","",""])),f,f),v=function(e){var t=e.onClick,n=e.selectedType,r=e.typeMap,i=[];return r.forEach((function(e,t){i.push(o.a.createElement(g,{key:t},e))})),o.a.createElement(d.e,{selectedKeys:[n.toString()],onClick:function(e){var n=e.key;return t(n)}},i)};v.displayName="FileTypeMenu";var _,y,O,j,w,x=function(e){var t,n=e.fileType,i=e.typeMap,a=e.onFileTypeChange,c=Object(r.__read)(o.a.useState(!1),2),l=c[0],u=c[1];return o.a.createElement(b,{active:l},o.a.createElement("span",{onMouseDown:function(){l||u(!0)}},s()(w||(w=Object(r.__makeTemplateObject)(["","模板"],["","模板"])),null!==(t=i.get(n))&&void 0!==t?t:"")),o.a.createElement(h,{visible:l,onVisibleChange:function(e){u(e)},trigger:"click",overlay:o.a.createElement(v,{selectedType:n,typeMap:i,onClick:function(e){null==a||a(e),u(!1)}}),placement:"bottomLeft"},o.a.createElement(m,null)))};x.displayName="FileTypeSelector";var E,k,C,T=c.default.div.withConfig({componentId:"sc-1iWpzE",displayName:"StyledLayout"})(E||(E=Object(r.__makeTemplateObject)(["display:flex;flex-direction:row;height:100%;position:relative;background:#fbfbfb;"],[""]))),S=c.default.div.withConfig({componentId:"sc-1iWpzE-1",displayName:"Left"})(k||(k=Object(r.__makeTemplateObject)(["width:184px;min-width:184px;border-right:0.5px solid #d9dadb;box-sizing:border-box;display:flex;flex-direction:column;padding:16px 12px 0 12px;"],[""]))),I=c.default.div.withConfig({componentId:"sc-1iWpzE-2",displayName:"Right"})(C||(C=Object(r.__makeTemplateObject)(["width:100%;"],[""]))),N=function(e){var t=e.left,n=e.right,r=e.className;return o.a.createElement(T,{className:r},o.a.createElement(S,null,t),o.a.createElement(I,null,n))};N.displayName="Layout";var R=n(1031),P=Object(c.default)(R.a).withConfig({componentId:"sc-2OnhDE",displayName:"Wrapper"})(F||(F=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;grid-gap:18px;height:100%;margin-right:-12px;padding-right:12px;margin-top:24px;background:#fbfbfb;"],[""]))),M=c.default.div.withConfig({componentId:"sc-2OnhDE-1",displayName:"Section"})(V||(V=Object(r.__makeTemplateObject)(["display:flex;background:inherit;flex-direction:column;flex:0 1 auto;margin-top:12px;&:first-child{margin-top:0;}"],[""]))),A=c.default.div.withConfig({componentId:"sc-2OnhDE-2",displayName:"SectionLabel"})(U||(U=Object(r.__makeTemplateObject)(["font-weight:500;font-size:10px;line-height:24px;padding-left:12px;color:rgba(65,70,75,0.3);position:sticky;top:0;background:inherit;backdrop-filter:blur(4px);"],[""]))),B=c.default.div.withConfig({componentId:"sc-2OnhDE-3",displayName:"SectionList"})(G||(G=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),D=c.default.div.withConfig({componentId:"sc-2OnhDE-4",displayName:"StyledSectionItem"})(H||(H=Object(r.__makeTemplateObject)(["line-height:32px;min-height:32px;padding:0 12px;border-radius:2px;background:",";color:",";font-weight:",";font-size:13px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{background:rgba(65,70,75,0.05);}"],["","","",""])),(function(e){return e.active?"rgba(65, 70, 75, 0.1);":"inherit"}),(function(e){return e.active?"#41464b":"rgba(65, 70, 75, 0.9)"}),(function(e){return e.active?"500":"normal"})),L=function(e){var t=e.active,n=e.onClick,r=e.children,i=o.a.useRef(null);return o.a.useEffect((function(){t&&i.current&&i.current.scrollIntoViewIfNeeded&&i.current.scrollIntoViewIfNeeded()}),[t]),o.a.createElement(D,{ref:i,active:t,onClick:n},r)};L.displayName="SectionItem";var z=function(e){var t=e.label,n=e.categories,i=e.activatedCategoryId,a=e.onChange;return o.a.createElement(M,null,o.a.createElement(A,null,t),o.a.createElement(B,null,n.map((function(e){var t=Object(r.__read)(e,2),n=t[0],c=t[1];return o.a.createElement(L,{active:i===n,key:n,onClick:function(){return a(n)}},c.name)}))))};z.displayName="CategorySection";var F,V,U,G,H,W=function(e){var t=e.categoryGroup,n=e.categories,r=e.activatedCategoryId,i=e.onChange,a=e.className;return o.a.createElement(P,{className:a},t.map((function(e){var t=e.name,a=e.categoryIds;return o.a.createElement(z,{key:t,activatedCategoryId:r,label:t,categories:a.map((function(e){return[e,n[e]]})),onChange:i})})))};W.displayName="CategoryPanel";var K=n(1086),Y=n.n(K),Z=n(1055),q=function(e){var t=e.template,n=e.onPreview,r=e.onSelect;return o.a.createElement(Z.e,{onClick:null!=n?n:r},o.a.createElement(Z.g,{src:t.thumbnail}),o.a.createElement(Z.f,null,t.name),o.a.createElement(Z.d,null,o.a.createElement(Z.f,null,t.name),o.a.createElement(Z.a,null,n&&o.a.createElement(Z.b,{onClick:function(e){e.preventDefault(),e.stopPropagation(),null==n||n()}},s()("预览")),o.a.createElement(Z.c,{onClick:function(e){e.preventDefault(),e.stopPropagation(),null==r||r()}},s()("使用此模板")))))};q.displayName="Official";var Q=q,X=c.default.div.withConfig({componentId:"sc-2vt9No",displayName:"Section"})(ne||(ne=Object(r.__makeTemplateObject)(["position:relative;background:inherit;padding-top:16px;"],[""]))),J=Object(c.default)(R.a).withConfig({componentId:"sc-2vt9No-1",displayName:"Wrapper"})(re||(re=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;grid-gap:24px;overflow:auto;max-width:795px;"],[""]))),$=c.default.div.withConfig({componentId:"sc-2vt9No-2",displayName:"Label"})(ie||(ie=Object(r.__makeTemplateObject)(["background:rgba(251,251,251,0.8);backdrop-filter:blur(4px);font-weight:500;font-size:14px;line-height:48px;color:#41464b;position:sticky;top:0;z-index:1;margin-left:-10px;text-indent:10px;"],[""]))),ee=c.default.div.withConfig({componentId:"sc-2vt9No-3",displayName:"TemplateList"})(ae||(ae=Object(r.__makeTemplateObject)(["display:flex;flex-direction:row;grid-gap:16px;flex-wrap:wrap;margin-top:4px;"],[""]))),te=function(e){var t=e.categoryId,n=e.label,i=e.templates,a=e.onPreview,c=e.onSelect,l=e.categoryDefaultTemplateClass;return o.a.createElement(X,{"data-category-id":t},o.a.createElement($,null,n),o.a.createElement(ee,null,i.map((function(e){var t,n=Object(r.__read)(e,2),i=n[0],s=n[1],u=null!==(t=s.templateClass)&&void 0!==t?t:l;return o.a.createElement(u,{key:i,guid:i,template:s,onSelect:function(){return c(i)},onPreview:s.descUrl?function(){return a(i)}:void 0})}))))};te.displayName="TemplateSection";var ne,re,ie,ae,oe=function(e){var t=e.categories,n=e.templates,i=e.templatesInCategory,a=e.activatedCategoryId,c=e.className,l=e.onPreview,s=e.onSelect,u=e.onActivateCategoryChange,d=o.a.useRef(null),p=o.a.useRef(a),f=o.a.useRef(!1);o.a.useEffect((function(){if(p.current!==a&&d.current){var e=d.current.querySelector('[data-category-id="'+a+'"]');p.current=a,f.current=!0,null==e||e.scrollIntoView()}}),[a]);var m=Y()((function(){if(d.current)if(f.current)f.current=!1;else for(var e=d.current.children[0],t=d.current.getBoundingClientRect().top,n=0;n<e.children.length;n+=1){var r=e.children[n],i=r.getBoundingClientRect();if(i.top+i.height>t){var a=Number(r.getAttribute("data-category-id"));a&&(u(a),p.current=a);break}}}),100);return o.a.createElement(J,{className:c,onScroll:m,viewportRef:d},Array.from(i).map((function(e){var i,c,u,d,p=Object(r.__read)(e,2),f=p[0],m=p[1];return m&&o.a.createElement(te,{key:f,categoryId:f,activate:a===f,label:null!==(c=null===(i=t[f])||void 0===i?void 0:i.name)&&void 0!==c?c:"",templates:m.map((function(e){return n[e]?[e,n[e]]:null})).filter(Boolean),onPreview:l,onSelect:s,categoryDefaultTemplateClass:null!==(d=null===(u=t[f])||void 0===u?void 0:u.templateClass)&&void 0!==d?d:Q})})))};oe.displayName="TemplateViewer";var ce,le,se,ue=c.default.div.withConfig({componentId:"sc-2ae1Gm",displayName:"DrawerWrapper"})(ce||(ce=Object(r.__makeTemplateObject)(["position:relative;overflow:hidden;"],[""]))),de=c.default.div.withConfig({componentId:"sc-2ae1Gm-1",displayName:"DrawerPanel"})(le||(le=Object(r.__makeTemplateObject)(["position:absolute;height:100%;top:0;right:0;transform:translate(",",0);transition:transform 300ms ease-out;z-index:2;"],["",""])),(function(e){return e.visible?"0":"100%"})),pe=c.default.div.withConfig({componentId:"sc-2ae1Gm-2",displayName:"DrawerMask"})(se||(se=Object(r.__makeTemplateObject)(["background:rgba(0,0,0,0.1);position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;opacity:",";transition:opacity 300ms linear;"],["",""])),(function(e){return e.visible?"1":"0"})),fe=function(e){var t=e.children,n=e.overlay,r=e.visible,i=e.onVisibleChange,a=e.className,c=o.a.useRef(null);return o.a.useEffect((function(){c.current&&(r?c.current.style.display="block":setTimeout((function(){c.current&&(c.current.style.display="none")}),300))}),[r]),o.a.createElement(ue,{className:a},t,o.a.createElement(pe,{ref:c,visible:r,onClick:function(){i(!1)}}),o.a.createElement(de,{visible:r},r?n:null))};fe.displayName="Drawer";var me,be,he,ge,ve,_e,ye,Oe,je,we,xe=n.p+"static/lizard-one/assets/back.url.469d95d3.svg",Ee=c.default.div.withConfig({componentId:"sc-VsaaV",displayName:"Wrapper"})(me||(me=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),ke=c.default.div.withConfig({componentId:"sc-VsaaV-1",displayName:"BackIcon"})(be||(be=Object(r.__makeTemplateObject)(["width:6px;height:10px;background:url(",");"],["",""])),xe),Ce=c.default.div.withConfig({componentId:"sc-VsaaV-2",displayName:"BackPanel"})(he||(he=Object(r.__makeTemplateObject)(["display:inline-flex;flex-direction:row;align-items:center;grid-gap:10px;color:rgba(65,70,75,0.9);font-size:12px;line-height:20px;margin-bottom:22px;cursor:pointer;margin-left:-18px;padding:0 12px;height:24px;border-radius:2px;&:hover{background:rgba(65,70,75,0.05);}&:active{background:rgba(65,70,75,0.1);}"],[""]))),Te=c.default.div.withConfig({componentId:"sc-VsaaV-3",displayName:"Header"})(ge||(ge=Object(r.__makeTemplateObject)(["display:flex;flex-direction:row;grid-gap:16px;min-height:92px;"],[""]))),Se=c.default.div.withConfig({componentId:"sc-VsaaV-4",displayName:"Thumbnail"})(ve||(ve=Object(r.__makeTemplateObject)(["width:154px;height:92px;border-radius:3px;border:1px solid rgba(65,70,75,0.08);background-image:",";background-color:#f9f9fa;background-size:100%;background-repeat:no-repeat;background-position:0 0;box-sizing:border-box;margin-right:16px;"],["",""])),(function(e){var t=e.src;return t?"url("+t+")":"none"})),Ie=c.default.div.withConfig({componentId:"sc-VsaaV-5",displayName:"InfoPanel"})(_e||(_e=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:flex-start;"],[""]))),Ne=c.default.div.withConfig({componentId:"sc-VsaaV-6",displayName:"InfoTitle"})(ye||(ye=Object(r.__makeTemplateObject)(["color:#41464b;font-weight:500;font-size:16px;line-height:24px;"],[""]))),Re=c.default.div.withConfig({componentId:"sc-VsaaV-7",displayName:"Divider"})(Oe||(Oe=Object(r.__makeTemplateObject)(["margin-top:24px;border-bottom:0.5px solid #d9dadb;"],[""]))),Pe=c.default.button.withConfig({componentId:"sc-VsaaV-8",displayName:"SubmitButton"})(je||(je=Object(r.__makeTemplateObject)(["padding:3px 16px;box-sizing:border-box;height:28px;border-radius:2px;border:none;font-weight:bold;font-size:12px;white-space:nowrap;cursor:pointer;background:linear-gradient(360deg,#2c3033 -0.09%,#54585d 100%);color:#fff;margin-top:40px;line-height:1;&:hover{background:#54585d;}&:active{background:#41464b;}"],[""]))),Me=c.default.iframe.withConfig({componentId:"sc-VsaaV-9",displayName:"Iframe"})(we||(we=Object(r.__makeTemplateObject)(["border:none;margin-top:16px;width:100%;height:100%;"],[""]))),Ae=function(e){var t=e.template,n=e.className,r=e.onClose,i=e.onSelect;return o.a.createElement(Ee,{className:n},o.a.createElement("div",null,o.a.createElement(Ce,{onClick:r},o.a.createElement(ke,null),s()("返回"))),o.a.createElement(Te,null,o.a.createElement(Se,{src:t.thumbnail}),o.a.createElement(Ie,null,o.a.createElement(Ne,null,t.name),o.a.createElement(Pe,{onClick:function(){return i()}},s()("使用此模板")))),o.a.createElement(Re,null),o.a.createElement(Me,{key:t.descUrl,src:t.descUrl}))};Ae.displayName="Detail";var Be,De,Le,ze,Fe,Ve,Ue=n.p+"static/lizard-one/assets/no-content.url.5e293806.svg",Ge=n(1139),He=c.default.div.withConfig({componentId:"sc-3ZL3Ba",displayName:"Wrapper"})(Be||(Be=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"],[""]))),We=c.default.div.withConfig({componentId:"sc-3ZL3Ba-1",displayName:"StyledIconNoContent"})(De||(De=Object(r.__makeTemplateObject)(["background:url(",");width:68px;height:68px;"],["",""])),Ue),Ke=c.default.div.withConfig({componentId:"sc-3ZL3Ba-2",displayName:"StyledIconThreeDots"})(Le||(Le=Object(r.__makeTemplateObject)(["width:2px;height:11px;display:inline-block;background:url(",");"],["",""])),Ge.a),Ye=c.default.div.withConfig({componentId:"sc-3ZL3Ba-3",displayName:"Text"})(ze||(ze=Object(r.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;margin-top:32px;"],[""]))),Ze=c.default.div.withConfig({componentId:"sc-3ZL3Ba-4",displayName:"Text2"})(Fe||(Fe=Object(r.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-size:13px;line-height:20px;text-align:center;margin-top:12px;"],[""]))),qe=function(){return o.a.createElement(He,null,o.a.createElement(We,null),o.a.createElement(Ye,null,s()("试试自定义模板吧！")),o.a.createElement(Ze,null,s.a.x(Ve||(Ve=Object(r.__makeTemplateObject)(["在编辑页面右上角点击「 "," 」-「保存为模板」"],["在编辑页面右上角点击「 "," 」-「保存为模板」"])),o.a.createElement(Ke,null))))};qe.displayName="NoContentGuide";var Qe,Xe,Je,$e,et=n.p+"static/lizard-one/assets/prompt.0db0d0f7.svg",tt=function(e){var t=e.value,n=e.onChange,r=Object(a.useCallback)((function(){null==n||n(!t)}),[n,t]);return o.a.createElement(nt,{onClick:r},o.a.createElement(i.p,{checked:!!t,type:"check",size:"s"}),o.a.createElement(rt,null,s()("创建文件时展示该窗口")),o.a.createElement(i.u,{trigger:"hover",placement:"right",overlay:o.a.createElement(at,null,s()("创建新文件时，默认展示此窗口。取消勾选后，将直接创建空白文件，您可以在「个人设置」中再次打开。"))},o.a.createElement(it,{width:12,height:12,src:et})))},nt=c.default.div.withConfig({componentId:"sc-k75Of",displayName:"StyledWrapper"})(Qe||(Qe=Object(r.__makeTemplateObject)(["display:flex;align-items:center;font-size:",";color:",";margin-bottom:10px;cursor:pointer;white-space:nowrap;"],["","",""])),i.z.size.xs,i.x.text.default),rt=c.default.span.withConfig({componentId:"sc-k75Of-1",displayName:"StyledText"})(Xe||(Xe=Object(r.__makeTemplateObject)(["margin-left:10px;"],[""]))),it=c.default.img.withConfig({componentId:"sc-k75Of-2",displayName:"StyledIcon"})(Je||(Je=Object(r.__makeTemplateObject)(["margin-left:5px;"],[""]))),at=c.default.div.withConfig({componentId:"sc-k75Of-3",displayName:"StyledTip"})($e||($e=Object(r.__makeTemplateObject)(["max-width:196px;"],[""]))),ot=Object(c.default)(oe).withConfig({componentId:"sc-Nyo7a",displayName:"StyledTemplateViewer"})(ut||(ut=Object(r.__makeTemplateObject)(["background:#fbfbfb;padding:0 24px 50px;height:100%;box-sizing:border-box;"],[""]))),ct=Object(c.default)(fe).withConfig({componentId:"sc-Nyo7a-1",displayName:"StyledDrawer"})(dt||(dt=Object(r.__makeTemplateObject)(["height:100%;","{width:100%;height:100%;background:#fff;}"],["",""])),de),lt=Object(c.default)(Ae).withConfig({componentId:"sc-Nyo7a-2",displayName:"StyledDetail"})(pt||(pt=Object(r.__makeTemplateObject)(["padding:19px 28px;box-sizing:border-box;height:100%;"],[""])));function st(e){var t,n,i,a;try{for(var o=Object(r.__values)(e),c=o.next();!c.done;c=o.next()){var l=c.value.categoryIds;try{for(var s=(i=void 0,Object(r.__values)(l)),u=s.next();!u.done;u=s.next()){var d=u.value;if(-1!==d)return d}}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return-1}var ut,dt,pt,ft=function(e){var t=e.type,n=e.typeMap,i=e.categories,a=e.templates,c=e.categoryGroup,l=e.templatesInCategory,s=e.onPick,u=e.onFileTypeChange,d=e.className,p=e.onToggleVisibleModal,f=e.visibleModal,m=e.showVisibleModalSwitch,b=Object(r.__read)(o.a.useState(st(c)),2),h=b[0],g=b[1],v=Object(r.__read)(o.a.useState(!1),2),_=v[0],y=v[1],O=Object(r.__read)(o.a.useState(),2),j=O[0],w=O[1];o.a.useEffect((function(){(function(e,t){return e.reduce((function(e,t){var n=t.categoryIds;return Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e)),Object(r.__read)(n))}),[]).includes(t)})(c,h)||g(st(c))}),[h,c]);var E=o.a.useCallback((function(e){w(e),y(!0)}),[]),k=o.a.useCallback((function(){y(!1)}),[]),C=o.a.useCallback((function(e){g(e),k()}),[k]),T=o.a.useCallback((function(e){w(void 0),k(),null==u||u(e)}),[u,k,w]),S=j?a[j]:null,I=function(e,t,n){var r,i=e.find((function(e){return e.categoryIds.includes(n)}));return(null!==(r=null==i?void 0:i.categoryIds)&&void 0!==r?r:[]).reduce((function(e,n){return e.set(n,t.get(n)),e}),new Map)}(c,l,h);return o.a.createElement(N,{className:d,left:o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{fileType:t,typeMap:n,onFileTypeChange:T}),o.a.createElement(W,{activatedCategoryId:h,categories:i,categoryGroup:c,onChange:C}),m?o.a.createElement(tt,{value:f,onChange:p}):null),right:o.a.createElement(ct,{visible:_,onVisibleChange:y,overlay:S?o.a.createElement(lt,{template:S,onSelect:function(){return j&&s(j)},onClose:k}):null},-1!==h||I.get(-1)?o.a.createElement(ot,{categories:i,templates:a,templatesInCategory:I,activatedCategoryId:h,onActivateCategoryChange:g,onSelect:s,onPreview:E}):o.a.createElement(qe,null))})};ft.displayName="TemplatePicker";var mt,bt=Object(c.default)(i.k).withConfig({componentId:"sc-1qN3kO",displayName:"StyledModal"})(mt||(mt=Object(r.__makeTemplateObject)([".sm-modal-content{padding:0;height:100%;border-radius:4px;.sm-modal-close{top:18px;right:18px;}.sm-modal-body{height:100%;margin-bottom:0;}}"],[""]))),ht=function(e){var t=e.categories,n=e.templates,r=e.templatesInCategory,i=e.categoryGroup,a=e.type,c=e.typeMap,l=e.visible,s=e.onPick,u=e.onFileTypeChange,d=e.onVisibleChange,p=e.className,f=e.onToggleVisibleModal,m=e.visibleModal,b=e.showVisibleModalSwitch;return o.a.createElement(bt,{width:980,height:630,visible:l,onCancel:function(){return d(!1)},title:null,footer:null},o.a.createElement(ft,{type:a,typeMap:c,onFileTypeChange:u,categories:t,categoryGroup:i,templates:n,templatesInCategory:r,onPick:s,className:p,onToggleVisibleModal:f,visibleModal:m,showVisibleModalSwitch:b}))};ht.displayName="TemplatePickerModal"},1199:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r,i,a,o,c=n(11),l=n.n(c),s=n(2),u=n(8),d=n.n(u),p=n(253),f=n(1055),m=n.p+"static/lizard-one/assets/blank-doc.url.c3f80fbc.svg",b=Object(p.default)(f.e).withConfig({componentId:"sc-14gBJO",displayName:"Wrapper"})(r||(r=Object(s.__makeTemplateObject)(["cursor:pointer;position:relative;box-sizing:border-box;display:flex;align-items:center;flex-direction:column;"],[""]))),h=p.default.div.withConfig({componentId:"sc-14gBJO-1",displayName:"Icon"})(i||(i=Object(s.__makeTemplateObject)(["width:72px;height:72px;margin:20px 0 16px;background:url(",") no-repeat;"],["",""])),m),g=p.default.div.withConfig({componentId:"sc-14gBJO-2",displayName:"Text"})(a||(a=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;"],[""]))),v=p.default.div.withConfig({componentId:"sc-14gBJO-3",displayName:"Description"})(o||(o=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:normal;font-size:12px;line-height:20px;"],[""]))),_=function(e){var t=e.onSelect;return d.a.createElement(b,{onClick:t},d.a.createElement(h,null),d.a.createElement(g,null,l()("空白文档")),d.a.createElement(v,null,l()("快速书记 / 文本编辑")))};_.displayName="BlankDoc";var y,O,j,w,x=n.p+"static/lizard-one/assets/blank-modoc.url.a67de295.svg",E=Object(p.default)(f.e).withConfig({componentId:"sc-1dgvyC",displayName:"Wrapper"})(y||(y=Object(s.__makeTemplateObject)(["cursor:pointer;position:relative;box-sizing:border-box;display:flex;align-items:center;flex-direction:column;"],[""]))),k=p.default.div.withConfig({componentId:"sc-1dgvyC-1",displayName:"Icon"})(O||(O=Object(s.__makeTemplateObject)(["width:72px;height:72px;margin:20px 0 16px;background:url(",") no-repeat;"],["",""])),x),C=p.default.div.withConfig({componentId:"sc-1dgvyC-2",displayName:"Text"})(j||(j=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;"],[""]))),T=p.default.div.withConfig({componentId:"sc-1dgvyC-3",displayName:"Description"})(w||(w=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:normal;font-size:12px;line-height:20px;"],[""]))),S=function(e){var t=e.onSelect;return d.a.createElement(E,{onClick:t},d.a.createElement(k,null),d.a.createElement(C,null,l()("空白传统文档")),d.a.createElement(T,null,l()("合同通知 / 规范书记")))};S.displayName="BlankModoc";var I,N,R,P,M=n.p+"static/lizard-one/assets/blank-sheet.url.f4ea9f97.svg",A=Object(p.default)(f.e).withConfig({componentId:"sc-1V6ssJ",displayName:"Wrapper"})(I||(I=Object(s.__makeTemplateObject)(["cursor:pointer;position:relative;box-sizing:border-box;display:flex;align-items:center;flex-direction:column;"],[""]))),B=p.default.div.withConfig({componentId:"sc-1V6ssJ-1",displayName:"Icon"})(N||(N=Object(s.__makeTemplateObject)(["width:72px;height:72px;margin:20px 0 16px;background:url(",") no-repeat;"],["",""])),M),D=p.default.div.withConfig({componentId:"sc-1V6ssJ-2",displayName:"Text"})(R||(R=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;"],[""]))),L=p.default.div.withConfig({componentId:"sc-1V6ssJ-3",displayName:"Description"})(P||(P=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:normal;font-size:12px;line-height:20px;"],[""]))),z=function(e){var t=e.onSelect;return d.a.createElement(A,{onClick:t},d.a.createElement(B,null),d.a.createElement(D,null,l()("空白表格")),d.a.createElement(L,null,l()("工作汇报 / 商业演讲")))};z.displayName="BlankSheet";var F,V,U,G,H=n.p+"static/lizard-one/assets/blank-form.url.927ffff9.svg",W=Object(p.default)(f.e).withConfig({componentId:"sc-2sfnGq",displayName:"Wrapper"})(F||(F=Object(s.__makeTemplateObject)(["cursor:pointer;position:relative;box-sizing:border-box;display:flex;align-items:center;flex-direction:column;"],[""]))),K=p.default.div.withConfig({componentId:"sc-2sfnGq-1",displayName:"Icon"})(V||(V=Object(s.__makeTemplateObject)(["width:72px;height:72px;margin:20px 0 16px;background:url(",") no-repeat;"],["",""])),H),Y=p.default.div.withConfig({componentId:"sc-2sfnGq-2",displayName:"Text"})(U||(U=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;"],[""]))),Z=p.default.div.withConfig({componentId:"sc-2sfnGq-3",displayName:"Description"})(G||(G=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:normal;font-size:12px;line-height:20px;"],[""]))),q=function(e){var t=e.onSelect;return d.a.createElement(W,{onClick:t},d.a.createElement(K,null),d.a.createElement(Y,null,l()("空白表单")),d.a.createElement(Z,null,l()("信息收集 / 问卷调查")))};q.displayName="BlankForm";var Q,X,J,$,ee=n.p+"static/lizard-one/assets/blank-presentation.url.c3e3e2c7.svg",te=Object(p.default)(f.e).withConfig({componentId:"sc-3k-D7l",displayName:"Wrapper"})(Q||(Q=Object(s.__makeTemplateObject)(["cursor:pointer;position:relative;box-sizing:border-box;display:flex;align-items:center;flex-direction:column;"],[""]))),ne=p.default.div.withConfig({componentId:"sc-3k-D7l-1",displayName:"Icon"})(X||(X=Object(s.__makeTemplateObject)(["width:72px;height:72px;margin:20px 0 16px;background:url(",") no-repeat;"],["",""])),ee),re=p.default.div.withConfig({componentId:"sc-3k-D7l-2",displayName:"Text"})(J||(J=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.9);font-weight:500;font-size:16px;line-height:24px;"],[""]))),ie=p.default.div.withConfig({componentId:"sc-3k-D7l-3",displayName:"Description"})($||($=Object(s.__makeTemplateObject)(["color:rgba(65,70,75,0.6);font-weight:normal;font-size:12px;line-height:20px;"],[""]))),ae=function(e){var t=e.onSelect;return d.a.createElement(te,{onClick:t},d.a.createElement(ne,null),d.a.createElement(re,null,l()("空白幻灯片")),d.a.createElement(ie,null,l()("工作汇报 / 商业演讲")))};ae.displayName="BlankPresentation";var oe=[{id:"CreateBlankDoc",name:l()("空白文档"),type:-2,templateClass:_},{id:"CreateBlankSheet",name:l()("空白表格"),type:-4,templateClass:z},{id:"CreateBlankForm",name:l()("空白表单"),type:-8,templateClass:q},{id:"CreateBlankPresentation",name:l()("空白幻灯片"),type:-10,templateClass:ae},{id:"CreateBlankModoc",name:l()("空白传统文档"),type:-6,templateClass:S}]},1200:function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var r=n(2),i=n(91),a=n(1192),o=n(1165),c=n(121),l=n(77),s=n(11),u=n.n(s),d=n(254),p=n(1019),f=n(980),m=n(1118),b=n(1130),h=n(981),g=n(1271),v=n(8),_=n.n(v),y=n(1081),O=n(71),j=n(253);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I,N,R,P,M,A,B,D,L,z,F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,i=C(a);function a(){return x(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return _.a.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 32"},this.props),_.a.createElement("path",{d:"M0 1.455C0 .582.582 0 1.455 0h20.364c.873 0 1.455.582 1.455 1.455v29.091c0 .873-.582 1.455-1.455 1.455H1.455C.582 32.001 0 31.419 0 30.546V1.455zm2.909 1.454v20.364h17.455V2.909H2.909zm7.273 24.727c0 .873.582 1.455 1.455 1.455s1.455-.582 1.455-1.455c0-.873-.582-1.455-1.455-1.455s-1.455.727-1.455 1.455z"}))}}])&&E(t.prototype,n),r&&E(t,r),a}(_.a.Component),U=j.default.div.withConfig({componentId:"sc-tMPe0",displayName:"StyledUserMenu"})(I||(I=Object(r.__makeTemplateObject)(["vertical-align:top;"],[""]))),G=j.default.img.withConfig({componentId:"sc-tMPe0-1",displayName:"StyledAvatar"})(N||(N=Object(r.__makeTemplateObject)(["display:block;width:20px;height:20px;border-radius:50%;cursor:pointer;background-color:",";-webkit-user-drag:none;&:hover{box-shadow:0 1px 2px #888;}&:hover:active{opacity:1;}"],["",""])),(function(e){return e.loaded?"#fff":"#ccc"})),H=Object(j.default)(f.e).withConfig({componentId:"sc-tMPe0-2",displayName:"StyledMenu"})(R||(R=Object(r.__makeTemplateObject)(["width:240px;padding:10px 0;"],[""]))),W=Object(j.default)(f.c).withConfig({componentId:"sc-tMPe0-3",displayName:"StyledMenuItem"})(P||(P=Object(r.__makeTemplateObject)(["padding-right:15px;color:#a5a5a5;cursor:default;user-select:none;text-overflow:ellipsis;overflow:hidden;&:hover{background:transparent;}"],[""]))),K=Object(j.default)(f.c).withConfig({componentId:"sc-tMPe0-4",displayName:"StyledLangMenuItem"})(M||(M=Object(r.__makeTemplateObject)(["display:flex;align-items:center;flex-direction:row;padding:6px 6px 6px 20px;"],[""]))),Y=(j.default.span.withConfig({componentId:"sc-tMPe0-5",displayName:"StyledInviteItem"})(A||(A=Object(r.__makeTemplateObject)(["display:inline-block;margin-left:-20px;padding-left:20px;"],[""]))),Object(j.default)(V).withConfig({componentId:"sc-tMPe0-6",displayName:"StyledMobileIcon"})(B||(B=Object(r.__makeTemplateObject)(["display:inline-block;width:11px;height:11px;margin-left:8px;vertical-align:middle;> path{fill:#666;}"],[""])))),Z=j.default.a.attrs({target:Object(i.isDingtalk)()?"_self":"_blank"}).withConfig({componentId:"sc-tMPe0-7",displayName:"StyledLink"})(D||(D=Object(r.__makeTemplateObject)(["color:#73a2e3;cursor:pointer;text-decoration:none;&:hover{color:#4682c1;}"],[""]))),q=c.r.openPayment,Q=c.e.getDistanceBetweenDays,X={personal_free:u()("基础版"),personal_premium:u()("个人高级版"),enterprise_standard:u()("企业版"),enterprise_dingding:u()("企业版"),enterprise_expired:u()("企业版"),enterprise_light:u()("团队协作版"),enterprise_light_expired:u()("团队协作版")},J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getExpiredAt=function(){var e=t.props.team;if(!e||!e.membership)return"";var n=e.membership;return n.expiredAt?n.expiredAt:n.get?n.get("expiredAt"):""},t.handlePayment=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,i=n.myTeamOrders,a=void 0===i?[]:i,o=n.isEnterprisePremium,c=n.isNewDing,l=Object(r.__read)(a,1)[0],s=!!l&&("offline"===l.channel&&!l.isPaid);q("/enterprise/billing"+(s?"?dialog=purchase&targetAccountType="+(o?"enterprise_premium":"enterprise_standard"):""),!!c,!0)},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"enterpriseName",{get:function(){var e=this.props,t=e.accountType,n=e.isEnterprisePremium,r=e.editionName;return r||(n?u()("企业高级版"):X[t])},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.accountType,n=e.team,r=e.email,i=e.isOfficial,a=e.isNewDing,o=e.isEnterprisePremium,c=e.name,s=e.openUpdateTeamModal;return Object(l.isSelfHosted)()?v.createElement(te,null,r):v.createElement("div",null,v.createElement(te,null,c),!a&&v.createElement(te,null,null!=r?r:v.createElement(Z,{href:"/profile#setting-email"},u()("设置您的登录邮箱"))),v.createElement("span",null,v.createElement($,{enterpriseName:this.enterpriseName,accountType:t,official:i,expiredAt:this.getExpiredAt(),onClick:this.handlePayment})),v.createElement("span",{style:{paddingLeft:"4px"}},v.createElement(ee,{enterpriseName:this.enterpriseName,accountType:t,official:i,enterprisePremium:o,team:n,onClick:s})))},t=Object(r.__decorate)([Object(h.a)(void 0)],t)}(v.Component),$=function(e){var t=e.enterpriseName,n=e.accountType,r=e.official,i=e.expiredAt,a=e.onClick;return"enterprise_standard"===n&&Q(i)<=30?v.createElement("span",null,v.createElement(Z,{onClick:a},u()("续费")),v.createElement("span",{style:{marginLeft:"5px"}},t)):"enterprise_standard"===n&&!r||"enterprise_expired"===n?v.createElement(Z,{onClick:a},u()("购买"),t):null!=t?t:null},ee=function(e){var t=e.enterpriseName,n=e.accountType,r=e.official,i=e.enterprisePremium,a=e.team,o=e.onClick,c=null;return"personal_free"===n&&(c=r?v.createElement("span",null,v.createElement(Z,{href:"/payment?renew"},u()("续费")),v.createElement("span",null,u()("或")),v.createElement(Z,{onClick:o},u()("升级到企业版"))):v.createElement(Z,{href:"/payment"},u()("升级到企业版或高级版"))),"personal_premium"===n&&(c=v.createElement("span",null,v.createElement(Z,{href:"/payment?renew"},u()("续费")),v.createElement("span",null,u()("或")),v.createElement(Z,{onClick:o},u()("升级到企业版")))),"enterprise_expired"!==n&&"enterprise_light_expired"!==n||(c=v.createElement("span",null,t,u()("已过期"))),"enterprise_standard"===n&&(c=r?v.createElement("span",null,i?null==a?void 0:a.name:v.createElement(Z,{href:"/pricing"},u()("升级企业高级版"))):i?v.createElement("span",null,null==a?void 0:a.name):v.createElement("span",null,u()("企业版试用中"))),c},te=j.default.div.withConfig({componentId:"sc-2ScLn3",displayName:"StyledInfo"})(L||(L=Object(r.__makeTemplateObject)(["display:block;line-height:2;text-overflow:ellipsis;overflow:hidden;> span{display:inline-block;line-height:1;margin-bottom:8px;&:last-of-type{padding-left:10px;margin-left:10px;border-left:1px solid #e5e5e5;border-left:1px solid #ccc;}}"],[""]))),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.dispatch;e(Object(d.Z)()).catch((function(){e({type:d.b.SPACE.GET_SIZE,payload:{userUsedSize:1<<20,teamUsedSize:3.61*(1<<30),totalSize:15*(1<<30)}})}))},t.prototype.render=function(){var e=this.props.size;return e?Object(l.isSelfHosted)()&&e.totalSize===Number.MAX_SAFE_INTEGER?null:v.createElement(re,null,v.createElement("div",{className:"percent-bar"},v.createElement("div",{className:"used",style:{width:e.teamUsedSize/e.totalSize*100+"%"}})),v.createElement("div",{className:"usage-text"},v.createElement("span",null,(e.teamUsedSize/(1<<30)).toFixed(1),"G")," |"," ",v.createElement("span",null,Math.max((e.totalSize-e.teamUsedSize)/(1<<30),0).toFixed(1),"G"))):null},t=Object(r.__decorate)([Object(h.a)((function(e){return{size:e.spaces.size}}))],t)}(v.Component),re=j.default.div.withConfig({componentId:"sc-2SPV8T",displayName:"Root"})(z||(z=Object(r.__makeTemplateObject)(["padding-top:5px;.percent-bar{width:100%;height:3px;background-color:#e5e5e5;position:relative;overflow:hidden;.used{position:absolute;height:3px;background-color:#676b6f;}}.usage-text{padding-top:4px;}"],[""]))),ie=0,ae=null,oe=!1;function ce(){ie++,ae&&clearTimeout(ae),ae=+setTimeout((function(){ie=0}),5e3)}function le(){return ie>=10}function se(){if(!oe){oe=!0;var e=document.createElement("script");e.src="https://assets.shimonote.com/debug/eruda.min.js",e.onload=function(){eruda.init()},e.onerror=function(){window.eruda||(window.eruda={})},document.body.appendChild(e)}}var ue=c.r.isNewDing,de=c.o.redirectTo,pe={"zh-CN":"简体中文",en:"English",jp:"日本語"},fe=function(){return("string"==typeof __LANG__?__LANG__:document.documentElement.lang)||"zh-CN"},me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={avatarLoaded:!1,myTeamOrders:[],inviteFriendModalVisible:!1,teamInfoModalVisible:!1,teamInfoModalType:o.a.PERSONAL_WITH_MOBILE},t.dingtalkPc=Object(i.isDingtalkPc)(),t.handleLoadAvatar=function(){t.setState({avatarLoaded:!0})},t.handleMenuClick=function(e){var n=e.key;if("number"!=typeof n)if(n.startsWith("lang-"))t.recordLocale(n.substr(5));else{var i,o=t.props.onMenuClick;switch(null==o||o(n),n){case"homepage":i=Object(l.isSelfHosted)()?"/dashboard":"/welcome",de(i);break;case"download":case"downloadWechat":new a.b(Object(r.__assign)(Object(r.__assign)({},a.a),{WECHAT_QRCODE_URL:t.dingtalkPc?"":a.a.WECHAT_QRCODE_URL,DEFAULT_TAB:"download"===n?a.c.App:a.c.Wechat})).open();break;case"invite":t.setState({inviteFriendModalVisible:!0});break;case"profile":case"enterprise":case"help":de("/"+n);break;case"logout":try{O.c.logout()}catch(e){}de("/"+n)}}},t.handleCloseInviteFriendModal=function(){t.setState({inviteFriendModalVisible:!1})},t.handleCloseTeamInfoModal=function(){t.setState({teamInfoModalVisible:!1})},t.handleOpenTeamInfoModal=function(){var e=t.props.user,n=!!(null==e?void 0:e.mobileAccount)?o.a.PERSONAL_WITH_MOBILE:o.a.PERSONAL_WITHOUT_MOBILE;t.setState({teamInfoModalVisible:!0,teamInfoModalType:n})},t.handleDebugger=function(){window.eruda||(ce(),le()&&se())},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.props,t=e.dispatch,n=e.user.membership.accountType,!Object(l.isSelfHosted)()&&n.indexOf("enterprise")>=0?[4,t(Object(d.A)("billing/v1/charges?type=team")).catch((function(e){return null}))]:[3,2];case 1:i=r.sent(),this.setState({myTeamOrders:null!=i?i:[]}),r.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.user,n=e.dispatch,r=e.inviteInfo,i=this.state,a=i.avatarLoaded,c=i.inviteFriendModalVisible,l=i.teamInfoModalType,s=i.teamInfoModalVisible,u=t.avatar;return _.a.createElement(U,{"data-test":"account-icon"},_.a.createElement(p.a,{showTip:!0,trigger:["hover"],placement:"bottomRight",overlay:this.renderOverlay()},_.a.createElement(G,{src:u,onLoad:this.handleLoadAvatar,loaded:a,onClick:this.handleDebugger})),_.a.createElement(o.b,{dispatch:n,inviteInfo:r,visible:c,onClose:this.handleCloseInviteFriendModal}),_.a.createElement(o.d,{dispatch:n,visible:s,type:l,onClose:this.handleCloseTeamInfoModal,me:t}))},t.prototype.renderOverlay=function(){var e=this.props,t=e.user,n=e.team,i=t.name,a=t.email,o=t.membership,c=t.teamRole,s=t.editionName,d=o.accountType,p=o.isOfficial,m=o.isEnterprisePremium,b=this.state.myTeamOrders,h=!Object(l.isSelfHosted)()&&!ue(t),g=h,v=h&&!this.dingtalkPc,O=!Object(l.isSelfHosted)()||Object(l.getBoolean)("SELF_HOSTED_ACCOUNT_SETTINGS"),j=!this.dingtalkPc&&(!Object(l.isSelfHosted)()||Object(l.getBoolean)("SELF_HOSTED_LOGOUT")),w=Object(l.isSelfHosted)()?{email:a}:{accountType:d,team:n,email:a,isOfficial:p,myTeamOrders:b,isNewDing:ue(t),isEnterprisePremium:m,name:i,editionName:s};return _.a.createElement("div",{"data-test":"usermenu-container"},_.a.createElement(y.a,{path:"shimo.userMenuHook"}),_.a.createElement(H,{onClick:this.handleMenuClick,mode:"vertical-left",selectedKeys:[]},_.a.createElement(W,{key:"account-info"},_.a.createElement(J,Object(r.__assign)({},w,{openUpdateTeamModal:this.handleOpenTeamInfoModal})),_.a.createElement(ne,null)),_.a.createElement(f.a,null),_.a.createElement(f.d,{title:""+String(u()("界面语言 "))+pe[fe()],key:"lang"},this.renderLangMenuItem("zh-CN"),this.renderLangMenuItem("en",!0),this.renderLangMenuItem("jp")),O&&_.a.createElement(f.c,{key:"profile"},u()("帐号设置")),this.renderManageSettingItem(d,c),h&&_.a.createElement(f.a,null),h&&_.a.createElement(f.c,{key:"download"},u()("石墨文档 App"),_.a.createElement(Y,null)),v&&_.a.createElement(f.c,{key:"downloadWechat"},u()("石墨文档小程序")),g&&_.a.createElement(f.c,{key:"homepage"},_.a.createElement("span",null,u()("前往官网"))),g&&_.a.createElement(f.c,{key:"help"},u()("使用帮助")),j&&_.a.createElement(f.a,null),j&&_.a.createElement(f.c,{key:"logout"},u()("退出登录"))))},t.prototype.renderLangMenuItem=function(e,t){return _.a.createElement(K,{key:"lang-"+e},pe[e],t&&_.a.createElement(b.a,{style:{marginLeft:4,marginTop:-4},width:30}),_.a.createElement("div",{style:{flex:1,display:"flex",minWidth:"40px"}}),fe()===e&&_.a.createElement(m.a,{width:15}))},t.prototype.renderManageSettingItem=function(e,t){return(null==e?void 0:e.includes("enterprise"))?_.a.createElement(f.c,{key:"enterprise",className:"user-menu-enterprise"},"member"===t?u()("我的企业"):u()("企业管理")):null},t.prototype.recordLocale=function(e){g.a.set("SM_LOCALE",e,{path:"/",maxAge:31536e4,domain:"."+location.host}),g.a.set("SM_LOCALE",e,{path:"/",maxAge:31536e4}),location.reload()},t=Object(r.__decorate)([Object(h.a)((function(e){var t=Object(d.Yb)(e);return{user:t,team:Object(d.tc)(e).get(t.team),inviteInfo:e.wechat.inviteInfo}}))],t)}(_.a.PureComponent)},1201:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(2),i=n(1025),a=n(8),o=n.n(a),c=n(253),l=n(971),s=n(11),u=n.n(s),d=n(1139),p=c.default.div.withConfig({componentId:"sc-EiA0r",displayName:"Wrapper"})(m||(m=Object(r.__makeTemplateObject)([""],[""]))),f=c.default.div.withConfig({componentId:"sc-EiA0r-1",displayName:"MenuWrapper"})(b||(b=Object(r.__makeTemplateObject)(["position:fixed;z-index:1;top:","px;left:","px;"],["","",""])),(function(e){return e.y}),(function(e){return e.x}));var m,b,h=function(e){var t,n=e.visible,i=e.onVisibleChange,a=e.children,c=e.overlay,l=Object(r.__read)(o.a.useState(0),2),s=l[0],u=l[1],d=Object(r.__read)(o.a.useState(0),2),m=d[0],b=d[1],h=o.a.useRef(null),g=o.a.useMemo((function(){return function(e){var t=e.target;h.current&&!h.current.contains(t)&&i(!1)}}),[]);return t=g,o.a.useEffect((function(){return document.body.addEventListener("click",t),document.body.addEventListener("contextmenu",t),function(){document.body.removeEventListener("click",t),document.body.removeEventListener("contextmenu",t)}}),[t]),o.a.createElement(p,{onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),i(!0),u(e.pageX),b(e.pageY)}},a,n&&o.a.createElement(f,{x:s,y:m,ref:h},c))};h.displayName="ContextMenu";var g,v,_,y,O,j,w,x,E,k,C=n(980),T=n.p+"static/lizard-one/assets/icon-rename.url.3a5d1d8c.svg",S=n.p+"static/lizard-one/assets/icon-delete.url.d4d21732.svg",I=Object(c.default)(C.c).withConfig({componentId:"sc-1_on7j",displayName:"StyledMenuItem"})(g||(g=Object(r.__makeTemplateObject)(["width:184px;box-sizing:border-box;text-align:left;padding-left:44px;"],[""]))),N=Object(c.default)(I).withConfig({componentId:"sc-1_on7j-1",displayName:"RenameMenuItem"})(v||(v=Object(r.__makeTemplateObject)(["color:rgba(65,70,75,0.9);background:url(",") no-repeat;background-position:20px center;"],["",""])),T),R=Object(c.default)(I).withConfig({componentId:"sc-1_on7j-2",displayName:"DeleteMenuItem"})(_||(_=Object(r.__makeTemplateObject)(["color:#cd4747;background:url(",") no-repeat;background-position:20px center;"],["",""])),S),P=function(e){var t=e.onMenuClick;return o.a.createElement(C.e,{onClick:function(e){var n=e.domEvent,r=e.key;n.stopPropagation(),n.preventDefault(),t(r)}},o.a.createElement(N,{key:"rename"},u()("重命名")),o.a.createElement(C.a,null),o.a.createElement(R,{key:"delete"},u()("删除")))},M=n(1055),A=c.default.div.withConfig({componentId:"sc-GR8nz",displayName:"StyledIconThreeDots"})(y||(y=Object(r.__makeTemplateObject)(["width:24px;height:24px;position:absolute;background:url(",") no-repeat;background-position:center;top:0;right:0;opacity:",";&:hover{opacity:0.9;}"],["","",""])),d.a,(function(e){return e.active?"1!important":.6})),B=Object(c.default)(M.e).withConfig({componentId:"sc-GR8nz-1",displayName:"StyledTemplateItemWrapper"})(O||(O=Object(r.__makeTemplateObject)(["cursor:pointer;position:relative;","{visibility:hidden;}&:hover{","{visibility:visible;}}"],["","",""])),A,A),D=Object(c.default)(M.g).withConfig({componentId:"sc-GR8nz-2",displayName:"StyledTemplateThumbnail"})(j||(j=Object(r.__makeTemplateObject)(["width:60px;height:60px;margin:12px auto 0;background-color:unset;border:none;"],[""]))),L=Object(c.default)(M.f).withConfig({componentId:"sc-GR8nz-3",displayName:"StyledTemplateName"})(w||(w=Object(r.__makeTemplateObject)(["text-align:center;"],[""]))),z=c.default.div.withConfig({componentId:"sc-GR8nz-4",displayName:"TemplateDescription"})(x||(x=Object(r.__makeTemplateObject)(["margin-top:8px;font-size:12px;color:rgba(65,70,75,0.6);text-align:center;"],[""]))),F=Object(c.default)(i.a).withConfig({componentId:"sc-GR8nz-5",displayName:"StyledTooltip"})(E||(E=Object(r.__makeTemplateObject)([".sm-tooltip-arrow{display:none;}&.sm-tooltip-theme-white{.sm-tooltip-inner{background:none;box-shadow:none;padding:0;}}"],[""]))),V=function(e){var t=e.guid,n=e.template,i=e.onSelect,a=e.onRename,c=e.onDelete,s=Object(r.__read)(o.a.useState(!1),2),d=s[0],p=s[1],f=Object(r.__read)(o.a.useState(!1),2),m=f[0],b=f[1],g=Object(r.__read)(o.a.useState(!1),2),v=g[0],_=g[1];var y=o.a.createElement(P,{guid:t,template:n,onMenuClick:function(e){switch(e){case"rename":_(!0);break;case"delete":Object(l.y)({title:u()("确认删除"),description:u()(k||(k=Object(r.__makeTemplateObject)(["模板删除后无法恢复，确认删除吗？"],["模板删除后无法恢复，确认删除吗？"]))),confirmFun:function(){return null==c?void 0:c(t)},okText:u()("确认删除")})}p(!1)}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{overlay:y,visible:m,onVisibleChange:b},o.a.createElement(B,{onClick:i},o.a.createElement(F,{visible:d,theme:"white",placement:"bottom",onVisibleChange:p,trigger:"click",overlay:y},o.a.createElement(A,{onClick:function(e){e.preventDefault(),e.stopPropagation()},active:d})),o.a.createElement(D,{src:n.thumbnail}),o.a.createElement(L,null,n.name),n.description&&o.a.createElement(z,null,n.description))),v&&o.a.createElement(l.o,{title:u()("重命名模板"),defaultText:n.name,onOk:function(e){e&&(null==a||a(t,e),_(!1))},onCancel:function(){_(!1)},visible:!0,errorText:u()("请输入模板名称")}))};V.displayName="Personal"},1202:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,i=n(2),a=n(71),o=n(121),c=n(11),l=n.n(c),s=n(150),u=n.n(s),d=n(69),p=n(254),f=n(978),m=n(8),b=n.n(m),h=n(192),g=n(986),v=n(77),_=n(1125),y=n(253),O=n(1099),j=n(1193),w=n(1197),x=n(1203),E=function(e){return Object(i.__awaiter)(void 0,void 0,Promise,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return Object(v.isSelfHosted)()||(e.mobile||e.mobileAccount)?[2,!0]:[4,Object(O.a)(window.shimo.store)];case 1:return t.sent()?[2,!0]:[2,!1]}}))}))},k=function(e){var t=e.me,n=e.guid,r=e.shareUrl,a=e.shareSetting,c=e.canComment,l=e.fileName,s=e.url,u=e.isEnterprise,d=e.onToggleShareState,p=e.changeShareExpire,f=e.onTogglePasswordProtected,m=e.onChangePassword,h=e.onChangeShareState,g=Object(j.a)(),v=g.allowExpireTime,_=g.allowPasswordProtected,y=g.allowEnterpriseOnly,O=Object(o.p)(n),k={allowExpireTime:v,allowPasswordProtected:_,allowEnterpriseOnly:y};return b.a.createElement(C,null,b.a.createElement(w.a,{shareSetting:a,features:k,canComment:c,fileName:l,url:s,isEnterprise:u,QRCode:b.a.createElement(x.a,{guid:n,shareUrl:r}),onChangeShare:function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,E(t)];case 1:if(!r.sent())return[2];switch(e){case"password":m();break;case"passwordProtected":f(n);break;case"shareMode":h(n);break;case"shareModeExpireDuration":p(n);break;case"isShared":d(n)}return[2]}}))}))},collabQrcodeSrc:O}))},C=y.default.div.withConfig({componentId:"sc-187fcu",displayName:"StyledSharePanelWrapper"})(r||(r=Object(i.__makeTemplateObject)(["margin-left:10px;"],[""]))),T=o.f.getHost,S=o.g.getFileUrl,I=o.g.typeToText;function N(e){return""+T()+S(e.type,e.guid)}var R,P,M,A={editable:l()("可以编辑"),commentable:l()("只能评论"),readonly:l()("只能阅读")},B=function(e){function t(t){var n=e.call(this,t)||this;n.handleToggleShareState=function(e){var t,r=n.props,o=r.file,c=r.team,s=r.me;e&&Object(a.a)({moduleName:l()("开启公开分享"),actionName:l()(R||(R=Object(i.__makeTemplateObject)(["","开启公开分享"],["","开启公开分享"])),null!==(t=I(o.type))&&void 0!==t?t:"")});var u=e?Object(_.e)(s,c,o,n.lastShareMode):g.c.FileShareMode.Private;n.handleChangeShareMode(u)},n.handleTogglePasswordProtected=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n,r,a,o,c,s,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t=this.props,n=t.file,r=t.dispatch,i.label=1;case 1:return i.trys.push([1,6,,7]),e?[4,r(Object(p.Ib)(n.guid))]:[3,3];case 2:return i.sent(),[3,5];case 3:return[4,r(Object(p.Nc)(n.guid))];case 4:i.sent(),i.label=5;case 5:return this.toastShareStatus(n.shareMode,e),[3,7];case 6:return a=i.sent(),c=null===(u=null===(s=null==(o=a)?void 0:o.body)||void 0===s?void 0:s.error)||void 0===u?void 0:u.code,f.a.error({content:Object(_.f)({code:c,defaultMessage:l()("密码保护修改失败")})}),[3,7];case 7:return[2]}}))}))},n.handleChangeShareMode=function(e){var t=n.props,r=t.file,a=r.guid,o=r.passwordProtected;(0,t.dispatch)(Object(p.Eb)(a,e)).then((function(){n.toastShareStatus(e,o),e===g.c.FileShareMode.Private?n.changeShareExpire(0):n.lastShareMode=e})).catch((function(e){var t,r,a,o=null===(r=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.error)||void 0===r?void 0:r.code;if(o===_.c){var c=n.props.onShowModal,s=1e3*(null!==(a=e.body.error.endTimestamp)&&void 0!==a?a:0);c?c(s):f.a.error({content:l.a.x(P||(P=Object(i.__makeTemplateObject)(["为了维护良好的网络环境，暂不支持开启公开链接"],["为了维护良好的网络环境，暂不支持开启公开链接"])))})}else f.a.error({content:Object(_.f)({code:o,defaultMessage:l()("设置分享失败")})})}))},n.changeShareExpire=function(e){var t=n.props,r=t.file.guid;(0,t.dispatch)(Object(p.Uc)(r,e)).catch((function(e){var t,n,r=null===(n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code;f.a.error({content:Object(_.f)({code:r,defaultMessage:l()("设置有效期失败")})})}))},n.handleChangeSharePassword=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n,r,a,o,c,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=this.props,t=e.dispatch,n=e.file,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t(Object(p.Tc)(n.guid))];case 2:return i.sent(),f.a.success({content:l()("密码修改成功"),autoClose:2e3}),[3,4];case 3:return r=i.sent(),o=null===(s=null===(c=null==(a=r)?void 0:a.body)||void 0===c?void 0:c.error)||void 0===s?void 0:s.code,f.a.error({content:Object(_.f)({code:o,defaultMessage:l()("密码修改失败")})}),[3,4];case 4:return[2]}}))}))},n.toastShareStatus=function(e,t){var r,a="",o=3e3;e===g.c.FileShareMode.Private?a=l()("已关闭公开分享，仅协作者可以访问文件"):(a=l()(M||(M=Object(i.__makeTemplateObject)(["已开启公开分享，链接权限为","","",""],["已开启公开分享，链接权限为","","",""])),(r=e.replace("enterprise_",""),A[r]),t?l()("，需要密码访问"):"",n.shareForEnterpriseOnly?l()("，仅限企业成员访问"):""),o=t&&n.shareForEnterpriseOnly?5e3:3e3),f.a.success({content:a,autoClose:o})},n._lastShareMode="";var r=t.file.shareMode;return n.lastShareMode=r===g.c.FileShareMode.Private?g.c.FileShareMode.Readonly:r,n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"isEnterprise",{get:function(){var e=this.props.me;return Object(d.r)(e)&&!Object(d.B)(e)&&!Object(d.v)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastShareMode",{get:function(){return this._lastShareMode},set:function(e){Object(v.isSelfHosted)()||this.isEnterprise?this._lastShareMode=e:this._lastShareMode=e.replace("editable","readonly").replace("commentable","readonly")},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this.props,n=t.me,r=t.file,i=r.name,a=r.type,o=r.guid,c=r.shareMode,l=r.password,s=r.passwordProtected,d=r.shareModeExpiredAt,p=void 0===d?0:d,f=r.shareModeExpireDuration,m=void 0===f?0:f,h=this.shareUrl,v={isShared:c!==g.c.FileShareMode.Private,shareMode:c,shareModeExpiredAt:p,shareModeExpireDuration:m,password:l,passwordProtected:s},_=Boolean(null===(e=u.a.find(a))||void 0===e?void 0:e.canShareComment);return b.a.createElement(k,{me:n,guid:o,shareUrl:h,shareSetting:v,canComment:_,fileName:i,url:h,isEnterprise:this.isEnterprise,onToggleShareState:this.handleToggleShareState,changeShareExpire:this.changeShareExpire,onTogglePasswordProtected:this.handleTogglePasswordProtected,onChangePassword:this.handleChangeSharePassword,onChangeShareState:this.handleChangeShareMode})},Object.defineProperty(t.prototype,"shareForEnterpriseOnly",{get:function(){return this.props.file.shareMode.includes("enterprise")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareUrl",{get:function(){var e=this.props,t=e.file,n=e.getShareUrl;return(null!=n?n:N)(t)},enumerable:!1,configurable:!0}),t}(b.a.PureComponent),D=Object(h.connect)((function(e){return{me:Object(p.Yb)(e),team:Object(p.jc)(e)}}))(B)},1203:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r,i=n(2),a=n(1011),o=n(77),c=n(253),l=n(8),s=n.n(l),u=n(11),d=n.n(u),p=n(1119),f=n(1146),m=n(92),b=c.default.img.withConfig({componentId:"sc-3TMn5L",displayName:"StyleImg"})(r||(r=Object(i.__makeTemplateObject)(["max-width:90px;max-height:90px;"],[""]))),h=function(e){var t=e.guid,n=e.className,r=String(Object(m.getApi)())+"/wechat/action/miniprogram_qrcode?type=unlimited&isHyaline=true&scene=guid%3D"+t+"&page=pages%2Feditor%2Feditor";return s.a.createElement(b,{className:n,src:r})},g=p.a.isDingtalk,v=p.a.isWework,_=g(),y=v(),O=_||y,j=function(e){var t=e.guid,n=e.shareUrl,r=Object(i.__read)(Object(l.useState)(!1),2),c=r[0],u=r[1];return s.a.createElement("div",{className:"qrcode-container"},s.a.createElement(a.a,null),s.a.createElement(C,null,!Object(o.isSelfHosted)()&&s.a.createElement(h,{className:c?"":"hide",guid:t}),s.a.createElement(f.a,{className:c?"hide":"",url:n}),s.a.createElement("div",{className:"desc-and-switcher"},s.a.createElement("div",null,function(e){var t=[];return O?(_?t.push(d()("钉钉")):t.push(d()("企业微信")),__RUNTIME_ENV__.PRIVATE_DEPLOY||t.push(d()("石墨 App "))):e?t.push(d()("微信")):(t.push(d()("微信")),__RUNTIME_ENV__.PRIVATE_DEPLOY||t.push(d()("石墨 App "))),d()(w||(w=Object(i.__makeTemplateObject)(["","扫码分享"],["","扫码分享"])),t.join(d()("、")))}(c)),!O&&!Object(o.isSelfHosted)()&&s.a.createElement(T,{onClick:function(){u(!c)}},d()(x||(x=Object(i.__makeTemplateObject)(["切换",">"],["切换",">"])),c?d()("普通二维码"):d()("小程序码"))))))};j.displayName="QRCodeSection";var w,x,E,k,C=c.default.div.withConfig({componentId:"sc-35pFyQ",displayName:"StyledQRCodeContainer"})(E||(E=Object(i.__makeTemplateObject)(["position:relative;overflow:hidden;padding:15px;display:flex;align-items:center;.hide{display:none;}.desc-and-switcher{font-size:12px;float:left;margin-left:15px;line-height:17px;> div:first-child{color:rgba(65,70,75,0.9);}.code-switcher{color:#a5a5a5;cursor:pointer;}}"],[""]))),T=c.default.div.withConfig({componentId:"sc-35pFyQ-1",displayName:"StyledQRCodeSwitcher"})(k||(k=Object(i.__makeTemplateObject)(["color:#a5a5a5;cursor:pointer;"],[""])))},1206:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(8),a=n.n(i),o=n(1217);function c(){return function(e){return function(t){var n=Object(r.__read)(a.a.useState(!1),2),i=n[0],c=n[1],l=a.a.useRef({defaultType:-2,parentGUID:"0",newTab:!1});return a.a.createElement(a.a.Fragment,null,a.a.createElement(e,Object(r.__assign)({},t,{openTemplatePicker:function(e,t,n){l.current={defaultType:e,parentGUID:t,newTab:n},c(!0)}})),a.a.createElement(o.a,Object(r.__assign)({visible:i},l.current,{onVisibleChange:c})))}}}},1207:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),i=n(11),a=n.n(i),o=n(8),c=n.n(o),l=n(122),s=n(971),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOk=function(e){t.props.onClose(e)},t.handleCancel=function(){t.props.onClose()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return c.a.createElement(s.o,{title:a()("新文件夹"),placeholder:a()("请输入文件夹的名称"),onOk:this.handleOk,onCancel:this.handleCancel,visible:!0,errorText:a()("请输入文件夹的名称")})},t}(c.a.PureComponent);function d(){var e=document.createElement("div");return document.body.appendChild(e),new Promise((function(t){Object(l.render)(c.a.createElement(u,{onClose:function(n){void 0===n&&(n=""),Object(l.unmountComponentAtNode)(e),null==e||e.remove(),t(n)}}),e)}))}},1208:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 38 25"},this.props),i.a.createElement("path",{d:"M8.7 13.9l-.2.2.1.5-.5.6v.2l-.1.1.1.2-.4.4-.3.4-.4.2c-.2.2-.3.3-.5.3l-.2.4-.2-.2-.2.3c0-.1-.1-.2-.2-.3l-.1-.1-.2.2-.2.2-.2-.2-.4.2-.3-.2h-.2c-.2 0-.5-.1-.8-.2L3 17l-.1-.1-.3-.1-.1-.4c-.2 0-.5-.1-.7-.2l-.4-.9.1-.1-.2-.2v-.4l-.1-.2.1-.2c0-.1-.1-.3-.1-.4V13l.1-.2v-1.2l.1-.3-.1-.1.2-.6-.1-.2V10l.1-.1v-.3l-.1-.2.2-.6-.1-.8.1-.1v-1l-.2-.7c0-.1.1-.2.1-.2l-.1-.1c0-.1.1-.2.1-.2 0-.1 0-.2-.1-.4 0-.1 0-.2.1-.3l-.2-.3.1-.2-.3-.7.3-.1.7-.4.4.4v.2l.3.2v.7c.1.1.1.2.1.3v.1l.1.1-.1.5.1.3v.1l.3.1-.2.3-.1.6c0 .1 0 .2-.1.4 0 0 .1.2.1.5v.3l-.1.3c0 .1 0 .2-.1.4v.1c.1 0 .1.1.2.2l-.2.4.1.2v.1c0 .1 0 .2-.1.4v.6l-.1.6.3.1v-.6l.1-.4h.1l.1-.3c.1-.2.2-.5.3-.7 0-.1.1-.1.1-.2l.1-.1.1-.2.2-.3h.2v-.1l.1-.2c0-.2.1-.3.2-.4v-.2l.3-.1.1.1v-.4l.3-.1.2-.1h-.2l.3-.1.4-.3h.6l.4.2h.1l.3.5V8h.2l.1.4.2.2v.3l.1.2.1.1.1.6v.1c0 .1 0 .2.1.3.1.1.1.2.1.3 0 .1 0 .2-.1.2l.2.1c0 .2-.1.3-.1.4l.1.4c.1.1.1.2.1.3V13l.1.2-.1.3.1.4zm-1.3-1.5v-.7l-.1-.9-.3-.7-.3-.6-.4-.7h-.1l-.1.2H6c0 .2-.2.3-.4.3-.1.2-.3.4-.4.6l-.2.2-.1.3-.2.2-.2.5c0 .2-.1.5-.3.7l-.1.2v.3l-.3.4-.2.7-.1.1v.2c0 .2-.1.5-.2.7l.1.4-.2.2v.1l-.2.2.4.1.3.1.4-.1.4.2v.4H5l.3-.1c.1-.1.2-.2.4-.2h.1l.2-.1-.1-.2h.6c.1-.3.3-.7.7-.9v-.2l.2-.4v-.5l.1-.5v-.3l-.1-.2zm10.1 3c0 .2-.1.4-.4.6-.1.2-.2.4-.3.5h-.1l-.2.4-.4.1-.4.2-.2.4h-.2c-.1.1-.3.1-.4.1l-.1.2h-.2c-.2 0-.3.1-.5.4l-.3-.2h-.2c-.2 0-.3 0-.4-.1h-.3l-.2-.1c-.5-.1-.8-.3-1-.6v-.1l-.2-.2-.1-.3-.2-.2v-.3l-.2-.9v-.7l.1-.3v-.4l.1-.3v-.1l.1-.2c0-.1 0-.2.1-.4v-.1l-.1-.5c0-.2.1-.4.3-.6v-.1s0-.2-.1-.3c0-.2-.1-.3-.1-.4 0-.2 0-.3.1-.5.1.2.3.2.5.2h.1c0-.1.1-.1.2-.2.1-.3.3-.6.4-.8l.1-.1c0-.1 0-.2.1-.5h.1v-.1h.2c.1-.1.1-.2.1-.2l.4-.2c.1-.1.1-.2.2-.3.1 0 .1-.1.2-.1l.2-.1c.4-.1.6-.2.7-.2.1 0 .2 0 .3.1h.1l.1.1c.2 0 .4.1.5.2l.3.3v.1c.3.2.5.6.5 1l-.1.2.1.7-.2.1-.2.5-.4.4v.3c-.4.3-.8.6-1.2.7-.1.2-.3.3-.6.3h-.1l-.4.2h-.3l-.5.2-.4-.2c0 .1-.1.3-.1.5l-.2.1v.2l-.1.3c0 .3.1.5.1.6l.1.3v.6c0 .1.1.2.2.3 0 .2.1.3.2.3l.1.1.4.1v.1h.9l.4-.1.2-.1h.1l.2-.3h.1l.5-.2c.1-.1.1-.2.3-.2l.1-.1c.3-.1.4-.2.5-.4.2-.2.4-.3.7-.3h.1c.1.1.2.4.2.6zm-2-5.8s0-.1-.1-.2H15l-.2.1h-.3l-.3.5-.2.2-.3.6-.2.1c0 .2-.1.4-.3.6l-.1.1c.1-.1.3-.1.5-.1l.1-.1.1-.2h.3l.2-.2h.1l.2.1.1-.3h.1v-.2l.3-.1.1-.1v-.2l.3-.4v-.2zm10 .2c0 .1-.1.2-.4.3-.1.1-.2.1-.3.2-.2.1-.3.1-.4.2l-.4-.1c-.2.2-.5.2-.8.2H23l-.2.2h-.5l-.4.2c-.1-.1-.3-.1-.4-.1 0 0-.1.1-.3.1-.1 0-.1 0-.2-.1l-.1.8v.6l-.1.7v.8l.2.2v.3l.3.6-.1.1c0 .1.1.2.4.2v.2l.1.1.2.2.2.1h.3c.1 0 .2 0 .4.1.1 0 .2-.1.3-.3.1-.1.2-.2.3-.2h.2c.1-.3.3-.4.6-.5.3 0 .5.1.7.3v.1c0 .5-.2.7-.5.9-.1.3-.4.5-.8.5l-.1.3h-.3l-.5.1h-.5c-.1 0-.2 0-.3-.1h-.3l-.6-.3-.2-.1-.4-.6-.2-.3-.4-1-.2-.9v-.2l-.2-.2.1-.3-.1-.4.1-.1v-.3l.1-.3v-.4l-.1-.3.1-.1v-.3l-.1-.1-.4.2-.4-.3h-.1c-.4 0-.6-.2-.6-.6V10l-.2-.4.4-.4.5.1h.3l.4.1h.4V9l-.3-.6.3-.1-.1-.3v-.6l-.2-.3c-.1-.1-.1-.3-.1-.4 0-.1 0-.3.1-.4l.1-.3.2-.2c.4-.1.6-.1.7-.1.4 0 .7.2.7.6l-.1.1c.1.1.1.2.1.3V7l.1.3v.4l-.2.2.1.4-.1.7.2.2-.2.4.6-.1 1.1.1.9-.1h1.2c.4-.1.6 0 .6.3zm7.3-1.6zm0 0V8l.4.4.4.1.7-.2.3.5.3.1-.2.3.2.5-.3.3-.1.4-.1.1v.1c0 .2 0 .3-.1.4v.2c0 .1.1.2.1.3v.2l-.1.2.1.2-.2.2.1.3.1.1-.2.2v.3l-.1.3.1.3-.2.1.2.1-.2.5v.1h.2l-.2.5v.4h.3l.3.4-.1.3h.2c.1.2.1.3.1.4l-.3.3c-.1.1-.2.2-.4.3l-.3.2-.1-.1-.2.1-.6-.7v-.3c-.1-.3-.1-.5-.1-.7v-.1l-.1-1.2.2-.8-.1-.5-.3.6-.4.3-.1.1-.3.4-.5.5-.2.2-.4.4-.1.3-.6.4-.7.7-.4.1-.3.2c-.3 0-.6-.1-.8-.4-.6-.3-.9-.7-.9-1.3l.1-.1v-.3l-.1-.2.1-.3v-.4l.1-.7V13c0-.1 0-.2.1-.5l.1-.1c-.1-.1-.1-.1-.1-.2V12c0-.2.1-.3.2-.4 0-.1.1-.3.2-.4l-.1-.2.2-.3v-.1c0-.3.1-.5.3-.7v-.4l.1-.1v.1c0-.1 0-.1.1-.2v-.1c.1-.1.2-.3.4-.6s.4-.5.5-.7l.2.1.2-.1h.1l.7-.3 1.5.1v.1l.5.1c.3 0 .5.1.6.3zm.2 1.7l-.1-.1h-.2l-.6-.5-.4-.1h-.3l-.2.1-.2-.1h-.5l.1.1-.5.2-.1.1h-.1l-.5.5-.1.5-.1.2.2.3-.3.3v.1c-.1 0-.1.3-.1.5l-.2.2v.4l-.2.2v.2h-.1v.3l-.1.1v.5l-.2.4.1.1-.1.2.1.4-.2.3v.5h.2l.2-.2v-.2h.3l.1-.1 1.2-1h.1l.1-.3c.1 0 .2-.1.3-.2l.1-.3h.2V13h.3c0-.1.1-.1.1-.2.1-.1.1-.2.2-.2l1-1.4.2-.3v-.1l.1-.2v-.2l.2-.2v-.3z",fill:"#6da0e3"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1209:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},this.props),i.a.createElement("path",{fill:"#333",d:"M40 22H15.6l11.2-11.2L24 8 8 24l16 16 2.8-2.8L15.6 26H40z"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1210:function(e,t,n){"use strict";var r=n(975);n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.d}));n(989),n(990)},1211:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="b62a61e380c6f0792c0b01a9e05636a20_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 24"},this.props),i.a.createElement("path",{d:"M22.5 24s.1-4.9-.5-5.4c-.6-.6-1.3-2.5-4.5-2.9-.2 0-.3-.1-.5-.2.5-1.1.3-2.4.3-2.4.1.1 0-.7 0-.7s-.9-1.1-1.5-2.4c.9-1.2 1-2.8 1-2.8V3.7s-.1-.7-.4-1.5c.5-.7 1.2-1.3 2.3-1.3l2.4 1c2.8 0 3.2 3.4 3.2 3.4v3.4s-.1 2.6-1.9 3.5c0 0 0 .8.1.7.1 0-.6 3.4 2.4 3.9 3.1.4 4.4 2.3 5 2.8V24h-7.4zm-2.4-4.6c.6.6.5 4.5.5 4.5H0v-4.5c.2-.5 1.9-2.6 5.1-3 2.7-.3 2.1-3.9 2.2-3.8.1.1 0-.7 0-.7S5.6 9.8 5.6 7.8V4.6S5.5 0 8.8 0l2.5 1c2.9 0 3.6 3.6 3.6 3.6v3.5s-.2 2.7-2 3.7c0 0-.1.8 0 .7s-.9 3.5 2.3 4c3.3.5 4.2 2.4 4.9 2.9z",fill:"#fff"}),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-619.135",y1:"-202.818",x2:"-619.135",y2:"-201.818",gradientTransform:"matrix(30 0 0 24 18589 4867.64)"},i.a.createElement("stop",{offset:"0",stopColor:"#abadb0"}),i.a.createElement("stop",{offset:"1",stopColor:"#b6b8ba"})),i.a.createElement("path",{d:"M22.5 24s.1-4.9-.5-5.4c-.6-.6-1.3-2.5-4.5-2.9-.2 0-.3-.1-.5-.2.5-1.1.3-2.4.3-2.4.1.1 0-.7 0-.7s-.9-1.1-1.5-2.4c.9-1.2 1-2.8 1-2.8V3.7s-.1-.7-.4-1.5c.5-.7 1.2-1.3 2.3-1.3l2.4 1c2.8 0 3.2 3.4 3.2 3.4v3.4s-.1 2.6-1.9 3.5c0 0 0 .8.1.7.1 0-.6 3.4 2.4 3.9 3.1.4 4.4 2.3 5 2.8V24h-7.4zm-2.4-4.6c.6.6.5 4.5.5 4.5H0v-4.5c.2-.5 1.9-2.6 5.1-3 2.7-.3 2.1-3.9 2.2-3.8.1.1 0-.7 0-.7S5.6 9.8 5.6 7.8V4.6S5.5 0 8.8 0l2.5 1c2.9 0 3.6 3.6 3.6 3.6v3.5s-.2 2.7-2 3.7c0 0-.1.8 0 .7s-.9 3.5 2.3 4c3.3.5 4.2 2.4 4.9 2.9z",fill:"url(#".concat(e,")"),fillOpacity:".4"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1212:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="462690c783a0553a93152aed36a458670_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-935.25",y1:"380.426",x2:"-935.25",y2:"379.426",gradientTransform:"matrix(20 0 0 -28 18725 10658.92)"},i.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),i.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),i.a.createElement("path",{d:"M12.4 22H10v2h9v9.1l2 1.9V24h9v-2h-2.4c-.8-2.2-2.4-7.5-2.6-13h2V7H13v2h2c-.2 5.5-1.9 10.8-2.6 13z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1213:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="4a5cdb71a8ea79e155871e208499f4940_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-602.614",y1:"-211.006",x2:"-602.614",y2:"-210.006",gradientTransform:"matrix(22.6274 0 0 29 13656.896 6125.19)"},i.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),i.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),i.a.createElement("path",{d:"M26.6 24H22v11l-2-1.9V24h-9v-2h2.4c.6-1.6 1.7-5 2.2-9L10 7.4 11.4 6l21.2 21.2-1.4 1.4-4.6-4.6zm.9-5.6L16.1 7H28v2h-2c.1 3.4.8 6.8 1.5 9.4z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1214:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="aad8c71e4c1be528f930f7dbc7156e020_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),i.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-922.938",y1:"380.857",x2:"-922.938",y2:"379.857",gradientTransform:"matrix(16 0 0 -28.201 14787 10747.548)"},i.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),i.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),i.a.createElement("path",{d:"M28 35.2V7H12v28.2l8-8 8 8z",fill:"url(#".concat(e,")")}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1216:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I}));var r,i,a,o,c,l,s=n(2),u=n(8),d=n.n(u),p=n(11),f=n.n(p),m=n(971),b=n(28),h=n(122),g=n(253),v=g.default.div.withConfig({componentId:"sc-3lSb_z",displayName:"StyledRadios"})(r||(r=Object(s.__makeTemplateObject)(["margin-bottom:20px;&::after{clear:both;content:'';display:table;}"],[""]))),_=g.default.div.withConfig({componentId:"sc-3lSb_z-1",displayName:"StyledRadioButton"})(i||(i=Object(s.__makeTemplateObject)(["float:left;width:50%;margin-bottom:5px;height:29px;text-align:left;cursor:pointer;"],[""]))),y=Object(g.default)(m.p).withConfig({componentId:"sc-3lSb_z-2",displayName:"StyledSelectButton"})(a||(a=Object(s.__makeTemplateObject)(["margin-right:10px;"],[""]))),O=g.default.span.withConfig({componentId:"sc-3lSb_z-3",displayName:"StyledRadioText"})(o||(o=Object(s.__makeTemplateObject)(["display:inline-block;vertical-align:middle;"],[""]))),j=Object(g.default)(m.h).withConfig({componentId:"sc-3lSb_z-4",displayName:"StyledEmailInput"})(c||(c=Object(s.__makeTemplateObject)(["width:382px;margin-bottom:10px;"],[""]))),w=Object(g.default)(m.h).withConfig({componentId:"sc-3lSb_z-5",displayName:"StyledInput"})(l||(l=Object(s.__makeTemplateObject)(["width:382px;> textarea{resize:none;min-height:72px;}"],[""]))),x=function(e){var t=e.checked,n=e.reason,r=e.index,i=e.onChange;return d.a.createElement(_,{onClick:function(){return i(r)}},d.a.createElement(y,{type:"radio",size:"m",checked:t}),d.a.createElement(O,null,"0"===n?f()("其他原因"):n))},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChangeSelectedIndex=function(e){t.props.onChange({selectedIndex:e})},t.handleChangeEmail=function(e){t.props.onChange({email:e})},t.handleChangeReasonInfo=function(e){t.props.onChange({reasonInfo:e})},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.selectedIndex,r=t.reasonInfo,i=t.email;return d.a.createElement(d.a.Fragment,null,d.a.createElement(v,null,this.props.reasons.map((function(t,r){return d.a.createElement(x,{key:r,index:r,reason:t,checked:r===n,onChange:e.handleChangeSelectedIndex})}))),3===n?d.a.createElement(d.a.Fragment,null,d.a.createElement(j,{type:"text",value:i,onChange:this.handleChangeEmail,placeholder:f()("填写举报人邮箱（必填）"),required:!0}),d.a.createElement(w,{type:"textarea",value:r,onChange:this.handleChangeReasonInfo,placeholder:f()("请提供有效证明材料，如疑似抄袭请填写原文链接或描述内容出处（必填）"),required:!0})):d.a.createElement(w,{type:"textarea",value:r,onChange:this.handleChangeReasonInfo,placeholder:f()("如有需要，请填写举报详情，也可留下您的联系方式，处理后我们会尽快联系您。")}))},t}(d.a.PureComponent),k=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),C=[f()("政治敏感"),f()("疑似诈骗"),f()("低俗色情"),f()("抄袭／侵权"),f()("垃圾广告"),"0"];function T(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,a,o,c,l,u,d,p,h;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(!function(e){var t=e.selectedIndex,n=e.email,r=e.reasonInfo;if(3===t){if(!n)return m.B.error(f()("邮箱不能为空")),!1;if(!k.test(n))return m.B.error(f()("邮箱格式不对")),!1;if(!r)return m.B.error(f()("请输入详细原因")),!1}return!0}(e))return[2];r=window.navigator.plugins,i=Array.from(r).map((function(e){return e.name})).join(),a=window.navigator.userAgent,o=e.email,c=e.reasonInfo,l=e.selectedIndex,u=t.id>0?t.id:""+i+a,d=n.guid,p={guid:d,userId:u,email:o,reportReason:C[l],reportReasonInfo:c},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,b.p.post("/files/report",p)];case 2:return s.sent(),m.B.success(f()("举报已收到，感谢您的反馈")),[3,4];case 3:throw h=s.sent(),m.B.error(f()("抱歉，您的网络状况不佳，请再提交一次")),new Error(h.data);case 4:return[2]}}))}))}var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",reasonInfo:"",selectedIndex:0},t.handleSubmit=function(){return Object(s.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:e=this.props,t=e.file,n=e.me,r=e.onClose,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,T(this.state,n,t)];case 2:return i.sent(),r(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},t.handleDataChange=function(e){t.setState(e)},t}return Object(s.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.selectedIndex;(3!==t.selectedIndex&&3===n||3===t.selectedIndex&&3!==n)&&this.setState({reasonInfo:""})},t.prototype.render=function(){var e=this.props,t=e.visible,n=e.onClose,r=this.state,i=r.selectedIndex,a=r.reasonInfo,o=r.email;return d.a.createElement(m.k,{title:f()("请选择举报的理由"),visible:t,width:460,okText:f()("举报"),onCancel:n,onOk:this.handleSubmit},d.a.createElement(E,{selectedIndex:i,reasonInfo:a,email:o,onChange:this.handleDataChange,reasons:C}))},t}(d.a.PureComponent),I=function(e,t){var n=document.createElement("div");document.body.appendChild(n),Object(h.render)(d.a.createElement(S,{me:t,file:e,onClose:function(){Object(h.unmountComponentAtNode)(n),n.remove()},visible:!0}),n)}},1217:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(2),i=n(8),a=n.n(i),o=n(193),c=n(263),l=n(123),s=n(37),u=n(1198),d=n(124),p=n(11),f=n.n(p),m=n(255),b=n(266),h=n(1199),g=n(1201),v=function(e){var t=e.template,n=e.guid,r=e.onSelect,i=Object(o.a)();return a.a.createElement(g.a,{template:t,guid:n,onSelect:r,onRename:function(e,t){i(Object(c.e)({guid:e,name:t}))},onDelete:function(e){i(Object(c.d)({guid:e}))}})};v.displayName="PersonalTemplateItem";var _=new Map([[-2,"newdoc"],[-4,"mosheet"],[-8,"form"],[-10,"presentation"]]),y=function(e){return function(t){var n=t.parentGUID,i=t.newTab,a=t.dispatch;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,o,c,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(t=_.get(e))?(o=i?Object(l.createWindowOpener)():l.redirectTo,[4,a(Object(b.c)(t,f()("无标题"),n))]):[2];case 1:return c=r.sent(),u=Object(s.getFileUrl)(t,c),o(u),[2]}}))}))}};function O(e){var t;return{name:e.name,type:e.type,thumbnail:null==e?void 0:e.img,descUrl:j(null===(t=e.extra)||void 0===t?void 0:t.desc_url)}}function j(e){return e?e.includes("version=2")?e:e+"?version=2":e}function w(e){var t;return null!==(t=Number(e))&&void 0!==t?t:0}function x(e){var t=a.a.useRef(!1),n=function(){var e,t=this,n=Object(o.b)((function(e){return e.templates})),i=Object(o.a)(),l=a.a.useCallback((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,i(Object(c.c)())]}))}))}),[i]);return{getDataByType:(e=n,function(t){var n={},i={},a=new Map,o=[];o.push({name:f()("个人模板"),categoryIds:[-1]}),n[-1]={name:f()("我的模板"),templateClass:v};var c=e.categories.map((function(e){var t;return n[e.id]={name:e.name},(null===(t=e.children)||void 0===t?void 0:t.length)&&e.children.forEach((function(t){n[t.id]={name:t.name,parent:e.id}})),e.id}));n[-2]={name:f()("基础样式")},c.unshift(-2),o.push({name:f()("石墨模板"),categoryIds:c}),e.customTemplates.forEach((function(e){var n;e.type===t&&(i[e.guid]=Object(r.__assign)(Object(r.__assign)({},O(e)),{description:Object(d.formatDate)(e.created_at)}),a.set(-1,Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(null!==(n=a.get(-1))&&void 0!==n?n:[])),[e.guid])))})),e.publicTemplates.forEach((function(e){var o,c,l,s;if(e.type===t){var u=null===(o=e.extra)||void 0===o?void 0:o.category_id;if(u){var d=null!==(l=null===(c=n[u])||void 0===c?void 0:c.parent)&&void 0!==l?l:u;i[e.guid]=O(e),a.set(d,Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(null!==(s=a.get(d))&&void 0!==s?s:[])),[e.guid]))}}}));var l=h.a.reduce((function(e,n){if(n.type===t){e.push(n.id);var a=Object(r.__assign)(Object(r.__assign)({},n),{onPick:y(n.type)});i[n.id]=a}return e}),[]);a.set(-2,l);var s=o.map((function(e){return{name:e.name,categoryIds:e.categoryIds.filter((function(e){return-1===e||!Object(m.isEmpty)(a.get(e))}))}})).filter((function(e){return e.categoryIds.length>0}));return{categories:n,templates:i,templatesInCategory:a,categoryGroup:s}}),request:l}}(),i=n.getDataByType,l=n.request;return a.a.useEffect((function(){e&&!t.current&&l().then((function(){t.current=!0})).catch((function(){}))}),[l,e]),{getDataByType:i}}var E=new Map([[-2,f()("文档")],[-4,f()("表格")],[-10,f()("幻灯片")]]),k=function(e){var t=e.defaultType,n=e.visible,i=e.parentGUID,d=e.newTab,p=e.onVisibleChange,f=Object(r.__read)(function(e){var t=Object(r.__read)(a.a.useState(e),2),n=t[0],i=t[1];return a.a.useEffect((function(){i(e)}),[e]),[n,i]}(t),2),m=f[0],b=f[1],h=Object(o.a)(),g=(0,x(n).getDataByType)(w(m)),v=g.categories,_=g.templates,y=g.templatesInCategory,O=g.categoryGroup;return a.a.useEffect((function(){return b(t)}),[t,b,n]),a.a.createElement(u.a,{type:m,typeMap:E,onFileTypeChange:function(e){return b(Number(e))},categories:v,categoryGroup:O,templates:_,templatesInCategory:y,onPick:function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(t=_[e]).onPick?(t.onPick({parentGUID:i,dispatch:h,newTab:d}),p(!1),[2]):(n=d?Object(l.createWindowOpener)():l.redirectTo,[4,h(Object(c.a)(e,i,t.type,t.name))]);case 1:return a=r.sent().guid,o=Object(s.getFileUrl)(String(w(m)),a),n(o),p(!1),[2]}}))}))},visible:n,onVisibleChange:p})};k.displayName="Adapter"},1218:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(8),a=n.n(i),o=n(971),c=n(1154),l=n(192);function s(e,t,n){return void 0===n&&(n={}),new Promise((function(i){var s=o.k.open({width:480,footer:null,closable:!0,onCancel:function(){return i(!1)},body:a.a.createElement(l.Provider,{store:e},a.a.createElement(c.a,Object(r.__assign)({currentFiles:t,onClose:function(e){s(),i(e)}},n)))}).destroy}))}},1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(1163),a=Object(i.a)((function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,n.e(75).then(n.bind(null,1300))]}))}))})),o=a},1221:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(8),a=n.n(i),o=n(981),c=n(1133),l=n(1100),s=n(1117),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.children;return a.a.createElement(c.a,{scopes:[l.a,l.b,l.c]},(function(n,r,i){return t(e.getMenus(n,r,i))}))},t.prototype.getMenus=function(e,t,n){var r=Object(s.b)();return[r.newdoc,e?r.modoc:void 0,r.mosheet,t?r.presentation:r.slide,n?r.table:void 0,r.mindmap,r.form,r.board,r.folder].filter(Boolean).filter((function(e){return!!e}))},t=Object(r.__decorate)([Object(o.a)((function(e){return{alphaFeatures:e.alphaFeatures}}))],t)}(a.a.PureComponent)},1222:function(e,t,n){"use strict";t.a=n.p+"static/lizard-one/assets/template_40@2x.9fc21453.png"},1224:function(e,t,n){"use strict";n.d(t,"a",(function(){return xe}));var r=n(2),i=n(11),a=n.n(i),o=n(971),c=n(8),l=n.n(c),s=n(253),u=n(1202),d=n(28),p=n(1148),f=n(1146),m=n.p+"static/lizard-one/assets/collaboration.d76e28f9.png";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j,w,x,E,k,C,T,S,I,N,R,P,M,A,B,D,L,z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=_(a);function a(){return h(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return l.a.createElement("svg",z({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.25 7.781c0-3.02 2.938-5.468 6.563-5.468 3.202 0 5.865 1.912 6.443 4.441a7.937 7.937 0 0 0-.975-.066c-3.619 0-6.562 2.453-6.562 5.468 0 .351.043.694.12 1.027a7.449 7.449 0 0 1-1.591-.396l-2.357 1.01.865-1.73c-1.524-1-2.506-2.544-2.506-4.286zm3.555-2.187a.82.82 0 1 0 1.64 0 .82.82 0 0 0-1.64 0zm4.375 0a.82.82 0 1 0 1.64 0 .82.82 0 0 0-1.64 0zM13.28 7.78c3.02 0 5.469 1.96 5.469 4.375 0 1.4-.836 2.63-2.113 3.431l1.02 2.038-2.948-1.263c-.459.1-.931.17-1.428.17-3.02 0-5.469-1.96-5.469-4.376 0-2.416 2.45-4.375 5.47-4.375zm-2.46 3.282a.82.82 0 1 0 1.64-.001.82.82 0 0 0-1.64 0zm3.28 0a.82.82 0 1 0 1.642-.001.82.82 0 0 0-1.641 0z",fill:"#3A8438"}))}}])&&g(t.prototype,n),r&&g(t,r),a}(l.a.Component),V=function(e){var t=e.visible,n=e.shareUrl,i=e.fileName,c=e.onOpenCollabModal,s=e.onCancel;return l.a.createElement(U,{title:a()("暂时无法开启公开链接"),visible:t,onCancel:s,width:520,closable:!1,footer:l.a.createElement(o.l,{type:"secondary",onClick:s},a()("知道了"))},l.a.createElement(G,null,a()(j||(j=Object(r.__makeTemplateObject)(["为了维护良好的网络环境，暂不支持开启公开链接，您可以通过以下方式进行协作："],["为了维护良好的网络环境，暂不支持开启公开链接，您可以通过以下方式进行协作："])))),l.a.createElement(H,null,l.a.createElement(W,null,l.a.createElement(K,null,l.a.createElement(X,{src:m})),l.a.createElement(Y,null,a()("添加协作者")),l.a.createElement(Z,null,a.a.x(w||(w=Object(r.__makeTemplateObject)(["在","里搜索邮箱或手机号，邀请协作并分配权限"],["在","里搜索邮箱或手机号，邀请协作并分配权限"])),l.a.createElement(q,{key:"span",onClick:function(){s(),c()}},a()("协作面板"))))),l.a.createElement(Q,null,a()("或")),l.a.createElement(W,null,l.a.createElement(K,null,l.a.createElement($,{url:n}),l.a.createElement(J,null,l.a.createElement(F,{width:44,height:44}))),l.a.createElement(Y,null,a()("微信扫一扫")),l.a.createElement(Z,null,a.a.x(x||(x=Object(r.__makeTemplateObject)(["扫码发送到聊天或群聊，邀请编辑文件","「","」"],["扫码发送到聊天或群聊，邀请编辑文件","「","」"])),l.a.createElement("br",{key:"br"}),l.a.createElement(ee,{key:"filename"},i))))))},U=Object(s.default)(o.k).withConfig({componentId:"sc-2bIDi0",displayName:"StyledModal"})(E||(E=Object(r.__makeTemplateObject)([".sm-modal-header{margin-bottom:16px;}.sm-modal-title{line-height:24px;}.sm-modal-body{margin-bottom:24px;}.sm-modal-content{padding:16px 24px;}"],[""]))),G=s.default.p.withConfig({componentId:"sc-2bIDi0-1",displayName:"Intro"})(k||(k=Object(r.__makeTemplateObject)(["font-size:",";color:",";line-height:20px;margin-bottom:10px;"],["","",""])),o.z.size.s,o.x.transparency.transparency100),H=s.default.div.withConfig({componentId:"sc-2bIDi0-2",displayName:"Wrapper"})(C||(C=Object(r.__makeTemplateObject)(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;"],[""]))),W=s.default.div.withConfig({componentId:"sc-2bIDi0-3",displayName:"Item"})(T||(T=Object(r.__makeTemplateObject)(["flex:1 0 204px;display:flex;flex-direction:column;align-items:center;margin-top:12px;"],[""]))),K=s.default.div.withConfig({componentId:"sc-2bIDi0-4",displayName:"ImgWrapper"})(S||(S=Object(r.__makeTemplateObject)(["height:144px;display:flex;align-items:center;position:relative;"],[""]))),Y=s.default.h3.withConfig({componentId:"sc-2bIDi0-5",displayName:"Title"})(I||(I=Object(r.__makeTemplateObject)(["font-size:",";color:",";line-height:24px;margin:16px 0;"],["","",""])),o.z.size.l,o.x.transparency.transparency100),Z=s.default.p.withConfig({componentId:"sc-2bIDi0-6",displayName:"Description"})(N||(N=Object(r.__makeTemplateObject)(["font-size:",";color:",";position:relative;line-height:20px;text-align:center;"],["","",""])),o.z.size.s,o.x.transparency.transparency90),q=s.default.span.withConfig({componentId:"sc-2bIDi0-7",displayName:"CollabSpan"})(R||(R=Object(r.__makeTemplateObject)(["color:",";cursor:pointer;display:inline-flex;align-items:center;vertical-align:bottom;margin:0 8px;"],["",""])),o.x.blue.blue7),Q=s.default.p.withConfig({componentId:"sc-2bIDi0-8",displayName:"Divider"})(P||(P=Object(r.__makeTemplateObject)(["font-size:",";font-weight:",";color:",";margin:0 24px;"],["","","",""])),o.z.size.s,o.z.weight.bold,o.x.transparency.transparency90),X=s.default.img.withConfig({componentId:"sc-2bIDi0-9",displayName:"StyledCollaborationImg"})(M||(M=Object(r.__makeTemplateObject)(["height:144px;"],[""]))),J=s.default.div.withConfig({componentId:"sc-2bIDi0-10",displayName:"WechatWrapper"})(A||(A=Object(r.__makeTemplateObject)(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:8px;width:44px;height:44px;"],[""]))),$=Object(s.default)(f.a).withConfig({componentId:"sc-2bIDi0-11",displayName:"StyledQRCode"})(B||(B=Object(r.__makeTemplateObject)(["transform:scale(1.62);transform-origin:center center;"],[""]))),ee=s.default.span.withConfig({componentId:"sc-2bIDi0-12",displayName:"FileName"})(D||(D=Object(r.__makeTemplateObject)(["overflow:hidden;text-overflow:ellipsis;max-width:150px;display:inline-block;white-space:nowrap;vertical-align:bottom;"],[""]))),te=n(1176),ne=n(69),re=function(e){var t=e.visible,n=e.file,i=e.team,a=e.me,o=e.parentFileGuid,c=e.onCancel,s=n.toJS?n.toJS():n;s.isSpace&&(s.permissions={collaboratorManageable:s.privilege.permission.canModifyCollaborators,adminManageable:s.privilege.permission.canModifyAdmins});var u=!n.isFromSVC&&!n.isSpace,d="normal";!Object(ne.z)(n)&&n.collaboratorCount<2&&(d="adding");var p=a.toJS?a.toJS():a,f=Object(r.__assign)({isFolder:!1},s);return l.a.createElement(ie,{visible:t,onCancel:c,width:530,closable:!1,footer:null},l.a.createElement(te.default,{file:f,me:p,teamId:null==i?void 0:i.id,isEnterpriseAdmin:Object(ne.o)(a)||Object(ne.p)(a),isEnterpriseVersion:Object(ne.r)(a),isDesktopVersion:u,parentFileGuid:o,showAddCollab:"adding"===d,zIndex:2e3,onClose:c}))},ie=Object(s.default)(o.k).withConfig({componentId:"sc-3nCcta",displayName:"StyledModal"})(L||(L=Object(r.__makeTemplateObject)([".sm-modal-content{width:auto;height:auto;padding:0;}.sm-modal-body{margin-bottom:0;}"],[""]))),ae=n.p+"static/lizard-one/assets/form_tip.4eed89fe.png";var oe,ce,le,se,ue,de,pe,fe,me,be,he,ge=Object(s.default)(o.a).withConfig({componentId:"sc-1v8x-F",displayName:"StyledButton"})(oe||(oe=Object(r.__makeTemplateObject)(["position:relative;height:28px;min-width:48px;font-weight:",";padding:0 12px;margin:11px 0;margin-right:0 !important;color:#888;cursor:pointer;"],["",""])),o.z.weight.regular),ve=s.default.div.withConfig({componentId:"sc-1v8x-F-1",displayName:"SharePanelWrapper"})(ce||(ce=Object(r.__makeTemplateObject)(["position:relative;width:370px;min-height:264px;padding:30px 0;box-sizing:border-box;box-shadow:0 1px 6px rgba(0,0,0,0.2);background-color:#fff;"],[""]))),_e=s.default.div.withConfig({componentId:"sc-1v8x-F-2",displayName:"FormTipWrapper"})(le||(le=Object(r.__makeTemplateObject)(["width:348px;min-height:364px;padding:16px 24px 20px;box-sizing:border-box;box-shadow:0 1px 6px rgba(0,0,0,0.2);background-color:#fff;display:flex;flex-direction:column;align-items:stretch;"],[""]))),ye=s.default.div.withConfig({componentId:"sc-1v8x-F-3",displayName:"FormTipTitle"})(se||(se=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-weight:500;font-size:14px;line-height:24px;color:#41464b;"],[""]))),Oe=s.default.img.withConfig({componentId:"sc-1v8x-F-4",displayName:"FormTipImg"})(ue||(ue=Object(r.__makeTemplateObject)(["max-width:100%;margin-bottom:8px;"],[""]))),je=s.default.div.withConfig({componentId:"sc-1v8x-F-5",displayName:"FormTipContent"})(de||(de=Object(r.__makeTemplateObject)(["margin-bottom:24px;p{font-size:13px;line-height:20px;color:rgba(65,70,75,0.9);}"],[""]))),we=s.default.div.withConfig({componentId:"sc-1v8x-F-6",displayName:"FormTipFooter"})(pe||(pe=Object(r.__makeTemplateObject)(["display:flex;justify-content:flex-end;"],[""]))),xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,guideModalVisible:!1,endTimestamp:0,collabModalVisible:!1,qrCodeSource:""},t.renderOverlay=function(){var e=t.props,n=e.file,r=e.getShareUrl;return t.state.visible?l.a.createElement(ve,{className:"share-panel-wrapper"},l.a.createElement(u.a,{file:n,onClose:t.handleClose,onShowModal:t.handleOpenGuideModal,getShareUrl:r,"data-test":"share-panel"})):l.a.createElement("div",null)},t.renderFormTipOverlay=function(){return l.a.createElement(_e,null,l.a.createElement(ye,null,a()(fe||(fe=Object(r.__makeTemplateObject)(["表单的「公开链接分享」已迁移"],["表单的「公开链接分享」已迁移"])))),l.a.createElement(Oe,{src:ae}),l.a.createElement(je,null,l.a.createElement("p",null,a()(me||(me=Object(r.__makeTemplateObject)(["设置公开链接分享后，任何人获得该链接将获得该表单的编辑/阅读权限。"],["设置公开链接分享后，任何人获得该链接将获得该表单的编辑/阅读权限。"])))),l.a.createElement("p",null,a()(be||(be=Object(r.__makeTemplateObject)(["如需要设置公开链接，请前往我的桌面/团队空间，在表单所在处进行「分享链接」的设置。"],["如需要设置公开链接，请前往我的桌面/团队空间，在表单所在处进行「分享链接」的设置。"]))))),l.a.createElement(we,null,l.a.createElement(o.a,{type:"blue",size:"xs",onClick:function(){return t.setState({visible:!1})}},a()(he||(he=Object(r.__makeTemplateObject)(["知道了"],["知道了"]))))))},t.handleVisibleChange=function(e){t.setState({visible:e})},t.handleClose=function(){t.setState({visible:!1})},t.handleOpenGuideModal=function(e){t.setState({endTimestamp:e,guideModalVisible:!0})},t.handleCloseGuideModal=function(){t.setState({guideModalVisible:!1})},t.handleOpenCollabModal=function(){t.setState({collabModalVisible:!0})},t.handleCloseCollabModal=function(){t.setState({collabModalVisible:!1})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;(function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,d.s.post("/files/"+e+"/invite_links")]}))}))})(this.props.file.guid).then((function(t){var n=t.wechatQRLink;e.setState({qrCodeSource:n})}),(function(){e.setState({qrCodeSource:""})}))},t.prototype.render=function(){var e=this.props,t=e.file,n=e.online,r=e.me,i=e.team,c=e.pageType,s=e.parentFileGuid,u=this.state,d=u.visible,f=u.guideModalVisible,m=u.endTimestamp,b=u.collabModalVisible,h=u.qrCodeSource;return l.a.createElement(l.a.Fragment,null,r?l.a.createElement(re,{visible:b,file:t,team:i,me:r,parentFileGuid:null!=s?s:"",onCancel:this.handleCloseCollabModal}):null,l.a.createElement(V,{visible:f,shareUrl:h,fileName:t.name,endTimestamp:m,onOpenCollabModal:this.handleOpenCollabModal,onCancel:this.handleCloseGuideModal}),c&&c===p.b.FORM?l.a.createElement(o.d,{overlay:this.renderFormTipOverlay(),overlayStyle:{zIndex:990},onVisibleChange:this.handleVisibleChange,visible:n&&d,placement:"bottomRight",trigger:["hover"],showTip:!0,mouseLeaveDelay:0},l.a.createElement(ge,{type:"primary",size:"s",active:d,style:{background:"linear-gradient(180deg, #FFFFFF 0%, #F4F4F4 98.11%)",opacity:"0.4"}},a()("分享"))):l.a.createElement(o.d,{overlay:this.renderOverlay(),overlayStyle:{zIndex:990},onVisibleChange:this.handleVisibleChange,visible:n&&d,placement:"bottomRight",trigger:["hover"],showTip:!0,disabled:t.guid[0].startsWith("-")||!n,mouseLeaveDelay:0},l.a.createElement(ge,{type:"primary",size:"s",active:d,disabled:t.guid[0].startsWith("-")||!n,"data-test":"file-header-share-button"},a()("分享"))))},t}(l.a.PureComponent)},1225:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var r=n(2),i=n(8),a=n.n(i),o=n(253);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,i=d(o);function o(){return l(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),a.a.createElement("g",{fill:"#a5a5a5"},a.a.createElement("path",{d:"M1.1 4.2C2.6 2.8 4.7 2 7 2c2.3 0 4.4.9 6 2.3l-.7.7C10.9 3.8 9 3 7 3s-3.9.8-5.3 2l-.6-.8zm2 2.3C4.1 5.6 5.5 5 7 5s2.9.6 4 1.5l-.7.7C9.4 6.5 8.3 6 7 6c-1.3 0-2.4.5-3.3 1.2l-.6-.7z",opacity:".3"}),a.a.createElement("path",{d:"M5 8.7c.6-.4 1.3-.7 2-.7s1.4.3 2 .7l-2 2.2-2-2.2z"})))}}])&&s(t.prototype,n),r&&s(t,r),o}(a.a.Component);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,n,r,i=y(o);function o(){return g(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),a.a.createElement("path",{d:"M7 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S9.8 2 7 2 2 4.2 2 7s2.2 5 5 5zm2.2-8l.8.4L6.1 10 4 7l.7-.6L6.1 8l3.1-4z",fill:"#7a9880"}))}}])&&v(t.prototype,n),r&&v(t,r),o}(a.a.Component);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var t,n,r,i=S(o);function o(){return k(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),a.a.createElement("path",{d:"M7 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S9.8 2 7 2 2 4.2 2 7s2.2 5 5 5zm0-8c.5 0 .9.4.9.9v.2L7.4 7h-.8l-.5-1.9c-.1-.5.2-1 .7-1.1H7zm0 4c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:"#e5bf52"}))}}])&&C(t.prototype,n),r&&C(t,r),o}(a.a.Component);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var i=F(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V,U,G,H,W,K,Y,Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=L(o);function o(){return A(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),a.a.createElement("path",{d:"M2 7c0-2.8 2.2-5 5-5 1.5 0 2.8.7 3.7 1.7l-.8.5C9.1 3.5 8.1 3 7 3 4.8 3 3 4.8 3 7h1L2.5 9 1 7h1zm10 0c0 2.8-2.2 5-5 5-1.5 0-2.8-.7-3.7-1.7l.9-.5c.7.7 1.7 1.2 2.8 1.2 2.2 0 4-1.8 4-4h-1l1.5-2L13 7h-1z",fill:"#ccc"}))}}])&&B(t.prototype,n),r&&B(t,r),o}(a.a.Component),Q=o.default.div.withConfig({componentId:"sc-3MXqsa",displayName:"StyleWrapper"})(V||(V=Object(r.__makeTemplateObject)(["position:relative;height:12px;line-height:12px;margin:19px 0 19px 20px;font-size:12px;color:",";"],["",""])),(function(e){return e.warning?"#666":"#a5a5a5"})),X=Object(o.keyframes)(U||(U=Object(r.__makeTemplateObject)(["from{transform:rotate(0);}50%{transform:rotate(180deg);}to{transform:rotate(360deg);}"],[""]))),J=Object(o.keyframes)(G||(G=Object(r.__makeTemplateObject)(["from{opacity:0;transform:scale(0.75);}to{opacity:1;transform:scale(1);}"],[""]))),$=Object(o.default)(q).withConfig({componentId:"sc-3MXqsa-1",displayName:"StyledSavingIcon"})(H||(H=Object(r.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 1s infinite linear;"],["",""])),X),ee=Object(o.default)(x).withConfig({componentId:"sc-3MXqsa-2",displayName:"StyledSaveSuccessIcon"})(W||(W=Object(r.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""])),J),te=Object(o.default)(P).withConfig({componentId:"sc-3MXqsa-3",displayName:"StyledSaveFailedIcon"})(K||(K=Object(r.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""])),J),ne=Object(o.default)(b).withConfig({componentId:"sc-3MXqsa-4",displayName:"StyledOfflineIcon"})(Y||(Y=Object(r.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""])),J),re=function(e){var t=e.status,n=e.offline,r=e.previewHeader;return"loading"===t?a.a.createElement($,{width:"12px",height:"12px"}):"success"!==t||n||r?"success"===t&&n?a.a.createElement(ne,{width:"12px",height:"12px"}):"fail"===t?a.a.createElement(te,{width:"12px",height:"12px"}):null:a.a.createElement(ee,{width:"12px",height:"12px"})},ie=function(e){var t=e.status,n=e.text,r=e.offline,i=e.previewHeader;return a.a.createElement(Q,{"data-test":"file-header-status-bar"},a.a.createElement(re,{status:t,offline:r,previewHeader:!!i}),n)}},1226:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r,i,a=n(2),o=n(8),c=n.n(o),l=n(254),s=n(971),u=n(1166),d=n(71),p=n(253),f=n(981),m=n(1001),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMenuClick=function(e){var n=e.key,r=e.domEvent;return Object(a.__awaiter)(t,void 0,void 0,(function(){var e,t,i,o;return Object(a.__generator)(this,(function(c){switch(c.label){case 0:return r.stopPropagation(),e=this.props,t=e.onMenuClick,i=e.onCloseMenu,e.menuItems,o=Object(a.__rest)(e,["onMenuClick","onCloseMenu","menuItems"]),[4,t(n,o)];case 1:return!1!==c.sent()&&i(),[2]}}))}))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.menuItems,n=(e.onMenuClick,e.dispatch),r=Object(a.__rest)(e,["menuItems","onMenuClick","dispatch"]);return c.a.createElement(m.b,{onClick:this.handleMenuClick,mode:"vertical-left"},t.map((function(e,t){return e(r,t,n)})))},t}(c.a.PureComponent),h=n(11),g=n.n(h),v=n(41),_=n.n(v),y=n(121),O=n(1027),j=y.g.typeToText,w=y.g.isForm,x=y.g.isModoc,E=Object(p.default)(O.a).withConfig({componentId:"sc-3VDgW7",displayName:"StyledCloseIcon"})(r||(r=Object(a.__makeTemplateObject)(["display:inline-block;width:8px;height:8px;margin-left:3px;> path{fill:#fff;}"],[""]))),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!0},t.handleCloseLockTooltip=function(){localStorage.setItem("firstLockFile","used"),t.setState({visible:!1})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.alphaFeatures,r=e.children,i=this.state.visible,a=_()(t,"permissions.lockable",!1)||_()(t,"permissions.unlockable",!1),o=""+j(t.type)+g()("支持锁定了"),l=a&&!x(t.type)&&!w(t.type)&&!!n.lock_file&&t.isFromSVC&&i&&"used"!==localStorage.getItem("firstLockFile");return c.a.createElement(s.u,{theme:"blue",placement:"bottomRight",title:c.a.createElement("div",null,o,c.a.createElement(E,{width:8,onClick:this.handleCloseLockTooltip})),visible:l,notTouchable:!1},r)},t}(c.a.PureComponent),C=Object(p.default)(s.a).withConfig({componentId:"sc-1LH_hl",displayName:"StyledButton"})(i||(i=Object(a.__makeTemplateObject)(["position:relative;width:38px;min-width:38px;height:28px;margin:11px 18px 11px 10px;svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],[""]))),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t.handleToggleVisibility=function(e){if(d.c.trackNew("open_header_file_menu_dropdown",{eventId:226,pageId:56}),e){var n=t.props,r=n.dispatch,i=n.file;n.me.id>0&&r(Object(l.Y)()),r(Object(l.L)(i.guid))}t.setState({visible:e})},t.handleCloseMenu=function(){t.setState({visible:!1})},t.renderMenu=function(){return c.a.createElement("div",{"data-test":"page-header-menu"},c.a.createElement(b,Object(a.__assign)({},t.props,{onCloseMenu:t.handleCloseMenu,onMenuClick:t.handleMenuClick})))},t.handleMenuClick=function(e,n){var r=t.props,i=r.onMenuClick,a=r.dispatch;d.c.trackNew("click_header_file_menu",{eventId:227,pageId:56}),i(e,a,n)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.alphaFeatures,r=this.state.visible;return c.a.createElement(k,{file:t,alphaFeatures:n},c.a.createElement(s.d,{overlay:this.renderMenu(),placement:"bottomRight",onVisibleChange:this.handleToggleVisibility,visible:r,trigger:["hover"],mouseLeaveDelay:0,showTip:!0},c.a.createElement(C,{active:r,"data-test":"file-header-file-menu"},c.a.createElement(u.a,{width:18,height:18}))))},t=Object(a.__decorate)([Object(f.a)((function(e){return{alphaFeatures:e.alphaFeatures,me:e.me,shortcutIds:Object(l.qc)(e)||[]}}))],t)}(c.a.PureComponent)},1227:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h=n(2),g=n(8),v=n.n(g),_=n(37),y=n(11),O=n.n(y),j=n(71),w=n(971),x=n(69),E=n(254),k=n(981),C=n(1113),T=n(123),S=n(253),I=n(1206),N=n(1207),R=n(1117),P=n(1098),M=n.p+"static/lizard-one/assets/table-guide.01b2646b.png",A=function(e){var t=e.onConfirm,n=e.onCancel;return v.a.createElement(w.u,{overlay:v.a.createElement(B,{onClick:function(e){e.stopPropagation()}},v.a.createElement(F,null,v.a.createElement(U,null,O()("应用表格"))),v.a.createElement(V,{src:M}),v.a.createElement(G,null,O()("应用表格是一种以结构化表格为基础的业务工具，可通过分组、筛选、视图等功能对项目进行多维度个性化的管理。")),v.a.createElement(D,null,v.a.createElement(z,{onClick:n},O()("知道了")),v.a.createElement(L,{onClick:function(e){null==n||n(),null==t||t(e)},subType:"guidance",size:"s"},O()("现在尝试")))),placement:"left",theme:"white",horizontalArrowShift:16,arrowPointAtCenter:!0},v.a.createElement(H,null,v.a.createElement(W,null,v.a.createElement(K,null),v.a.createElement(Y,null))))},B=S.default.div.withConfig({componentId:"sc-7G2b6",displayName:"Wrapper"})(r||(r=Object(h.__makeTemplateObject)(["padding:16px 24px;width:320px;"],[""]))),D=S.default.div.withConfig({componentId:"sc-7G2b6-1",displayName:"Footer"})(i||(i=Object(h.__makeTemplateObject)(["margin-top:24px;display:flex;justify-content:space-between;"],[""]))),L=Object(S.default)(w.l).withConfig({componentId:"sc-7G2b6-2",displayName:"ConfirmButton"})(a||(a=Object(h.__makeTemplateObject)(["width:72px;font-weight:500;font-size:12px;color:",";padding:0;"],["",""])),w.x.text.white),z=S.default.div.withConfig({componentId:"sc-7G2b6-3",displayName:"DismissButton"})(o||(o=Object(h.__makeTemplateObject)(["font-size:12px;color:",";display:flex;align-self:center;cursor:pointer;"],["",""])),w.x.blue.blue7),F=S.default.div.withConfig({componentId:"sc-7G2b6-4",displayName:"Title"})(c||(c=Object(h.__makeTemplateObject)(["display:flex;height:24px;line-height:24px;font-size:14px;align-self:flex-start;"],[""]))),V=S.default.img.withConfig({componentId:"sc-7G2b6-5",displayName:"StyledGIF"})(l||(l=Object(h.__makeTemplateObject)(["display:block;width:320px;height:180px;margin:8px 0;"],[""]))),U=S.default.div.withConfig({componentId:"sc-7G2b6-6",displayName:"TitleLeft"})(s||(s=Object(h.__makeTemplateObject)(["font-weight:500;font-size:14px;height:24px;color:",";text-align:left;"],["",""])),w.x.text.selected),G=S.default.div.withConfig({componentId:"sc-7G2b6-7",displayName:"StyledDescription"})(u||(u=Object(h.__makeTemplateObject)(["font-size:12px;text-align:left;line-height:20px;color:",";"],["",""])),w.x.text.selected),H=S.default.span.withConfig({componentId:"sc-7G2b6-8",displayName:"AbsoluteWrapper"})(d||(d=Object(h.__makeTemplateObject)(["width:16px;height:16px;position:absolute !important;left:2px;top:10px;"],[""]))),W=S.default.span.withConfig({componentId:"sc-7G2b6-9",displayName:"LampWrapper"})(p||(p=Object(h.__makeTemplateObject)(["width:16px;height:16px;position:relative;display:flex;align-items:center;justify-content:center;@keyframes breath-colors{0%{background-color:rgba(62,114,193,0.92);}30%{background-color:rgba(62,114,193,0.5);}50%{background-color:transparent;}}@keyframes breath-sizes{0%{width:8px;height:8px;}30%{width:16px;height:16px;}50%{width:16px;height:16px;}}"],[""]))),K=S.default.div.withConfig({componentId:"sc-7G2b6-10",displayName:"Inline"})(f||(f=Object(h.__makeTemplateObject)(["border-radius:50%;width:8px;height:8px;background-color:",";"],["",""])),w.x.blue.blue9),Y=S.default.div.withConfig({componentId:"sc-7G2b6-11",displayName:"OutLine"})(m||(m=Object(h.__makeTemplateObject)(["position:absolute;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);animation-name:breath-colors,breath-sizes;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;"],[""]))),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleMenuClick=function(e){var n=e.key,r=e.domEvent,i=t.props,a=i.menus,o=i.onMenuClick,c=(__RUNTIME_ENV__.PRIVATE_DEPLOY_OPEN_NEWFILE_IN_NEWTAB_DIRECTLY?r.currentTarget:r.target).classList.contains("blank"),l=a.find((function(e){return"divider"!==e&&e.type===n}));l&&o(n,l.method,c)},t}return Object(h.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.menus;return v.a.createElement(w.j,{prefixCls:"create-file-menu",onClick:this.handleMenuClick},t.map((function(t,n){return"divider"===t?v.a.createElement(w.c,{key:"divider-"+n}):e.renderMenuItem(t)})))},t.prototype.renderMenuItem=function(e){var t=this.props,n=t.settings,r=t.onMenuClick,i=t.dispatch,a="table"===e.type&&(void 0===n.ApplicableTableVisible||!0===n.ApplicableTableVisible);return v.a.createElement(P.d,{className:__RUNTIME_ENV__.PRIVATE_DEPLOY_OPEN_NEWFILE_IN_NEWTAB_DIRECTLY?"blank":"",key:e.type},a&&v.a.createElement(A,{onConfirm:function(){e&&r(e.type,e.method,!0)},onCancel:function(){i(Object(E.Hc)(Object(h.__assign)(Object(h.__assign)({},n),{ApplicableTableVisible:!1}))).catch(console.error)}}),e.body)},t}(v.a.PureComponent),q=S.default.div.withConfig({componentId:"sc-OUIDd",displayName:"StyledWrapper"})(b||(b=Object(h.__makeTemplateObject)(["overflow:hidden;padding-right:1px;"],[""]))),Q={newdoc:-2,mosheet:-4,presentation:-10},X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={parentPermissionLoaded:!1,createMenuVisible:!1},t.handleMenuClick=function(e,n,r){return Object(h.__awaiter)(t,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:if(t=this.props.onMenuClick,j.c.trackNew("click_header_create",{eventId:224,pageId:56}),"function"==typeof t&&!t(e,n,r))return[2];i.label=1;case 1:switch(i.trys.push([1,9,,10]),n){case R.a.File:return[3,2];case R.a.Folder:return[3,4];case R.a.Template:return[3,6]}return[3,7];case 2:return[4,this.handleCreateFile(e,r)];case 3:return i.sent(),[3,8];case 4:return[4,this.handleCreateFolder()];case 5:return i.sent(),[3,8];case 6:return this.handleCreateTemplateFile(),[3,8];case 7:return[3,8];case 8:return[3,10];case 9:return i.sent(),[3,10];case 10:return this.setState({createMenuVisible:!1}),[2]}}))}))},t.handleCreateMenuVisibleChange=function(e){j.c.trackNew("open_header_create_dropdown",{eventId:222,pageId:56}),t.setState({createMenuVisible:e})},t.handleCreateFile=function(e,n){return Object(h.__awaiter)(t,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){switch(t.label){case 0:if(__RUNTIME_ENV__.CREATE_FROM_TEMPLATE&&Q[e])return(0,this.props.openTemplatePicker)(Q[e],this.parentGuid,n),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.createFile(e,O()("无标题"),n)];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},t.handleCreateFolder=function(){return Object(h.__awaiter)(t,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return[4,Object(N.a)()];case 1:if(!(e=t.sent()))return[2];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.createFile("folder",e)];case 3:return t.sent(),[3,5];case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},t.handleCreateTemplateFile=function(){Object(j.a)({moduleName:"模板库",submoduleName:"创建",actionName:"从文档创建"}),Object(T.createWindowOpener)()("/templates?parentId="+t.parentGuid)},t.getParentFileInfo=function(){return Object(h.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return e=this.props,t=e.dispatch,(n=e.parentFile)?[3,1]:(this.setState({parentPermissionLoaded:!0}),[3,3]);case 1:return n.guid?[4,t(Object(E.L)(n.guid))]:[2];case 2:r.sent(),this.setState({parentPermissionLoaded:!0}),r.label=3;case 3:return[2]}}))}))},t.createFile=function(e,n,r){return Object(h.__awaiter)(t,void 0,void 0,(function(){var t,i,a,o,c,l,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return t=r?__RUNTIME_ENV__.PRIVATE_DEPLOY_OPEN_NEWFILE_IN_NEWTAB_DIRECTLY?function(e){window.open(e)}:Object(T.createWindowOpener)():function(e){location.href=e},i=this.props,a=i.dispatch,o=i.history,c=n.replace(/^\s+/g,""),Object(j.a)("100009",{moduleName:"PCweb_homepage",submoduleName:"new",actionName:"button_click",fileType:e}),[4,a(Object(E.l)(e,c,this.parentGuid))];case 1:return l=u.sent(),s=Object(_.getFileUrl)(e,l),o&&Object(_.isFolder)(e)?o.push("/folder/"+l):t(s),[2]}}))}))},t}return Object(h.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getParentFileInfo()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.componentDidUpdate=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){switch(t.label){case 0:if(this.props.parentFile===e.parentFile)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.getParentFileInfo()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.me,n=e.parentFile,r=e.dropdownOptions,i=e.menus,a=e.menuWidth,o=void 0===a?"160px":a,c=e.children,l=e.settings,s=e.dispatch,u=this.state,d=u.parentPermissionLoaded,p=u.createMenuVisible,f="";try{f=Object(x.f)({me:t,folder:n,folderGuid:n?n.guid:"0"}).reason}catch(e){}var m=!!f||!!n&&(n.permissions&&!n.permissions.childFileCreatable||!d),b=m&&f?Object(C.b)(f,C.a.Create,t):null;return v.a.createElement(q,null,v.a.createElement(w.d,Object(h.__assign)({disabled:m,overlay:v.a.createElement("div",{style:{width:o}},v.a.createElement(Z,{menus:i,onMenuClick:this.handleMenuClick,settings:l,dispatch:s})),trigger:["hover","click"],onVisibleChange:this.handleCreateMenuVisibleChange,visible:p&&!m},r),"function"==typeof c?c(p,m,b):v.a.Children.only(c)))},Object.defineProperty(t.prototype,"parentGuid",{get:function(){var e=this.props,t=e.parentFile,n=e.me;return t?x.n.isEnterpriseDingding(n)&&(x.n.isSpace(t)||x.n.isSpaceFile(t))?"0":t.guid:"0"},enumerable:!1,configurable:!0}),t=Object(h.__decorate)([Object(k.a)((function(e){return{me:Object(E.Yb)(e),team:Object(E.jc)(e),online:e.status.online,settings:e.settings}})),Object(I.a)()],t)}(v.a.PureComponent)},1236:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return T}));var r=n(2),i=n(1172),a=n.n(i),o=n(971),c=n(41),l=n.n(c),s=n(8),u=n(1306),d=n(253),p=n(121),f=n(255),m=n(28),b=p.f.getHost;function h(e){e&&e.on("File",(function(e){switch(e.db_event){case"review":e.data.message&&o.B.error(e.data.message)}}))}var g,v,_,y,O,j,w,x,E,k,C="CollaboratorAvatarClickTopic",T=function(e){function t(t){var n=e.call(this,t)||this;return n.initCollab=function(e,t){var i=n.props,o=i.file,c=i.me;if(o.guid&&c.id){var l=new a.a({ws:t,fileGuid:o.guid,currentUserId:c.id});l.on(a.a.Events.Error,(function(e){var t,n=e.type,r=e.data;a.a.ErrorType.GuidNotMatch===n&&(t={tag:"collaborationFileGuidError",fileGuid:o.guid,receiveFileGuid:r.fileGuid},m.s.post(b()+"/api/log/track",t,{baseURL:""}).catch((function(){return null})))})),l.start();var s=null!=e?e:new a.a({ws:t,fileGuid:o.guid,currentUserId:c.id});s.on("UserEnter",(function(e){var t=e.collaborators;n.setState({cooperators:Object(r.__spreadArray)([],Object(r.__read)(t))})})),s.on("UserLeave",(function(e){var t=e.collaborators;n.setState({cooperators:Object(r.__spreadArray)([],Object(r.__read)(t))})})),n.setState({cooperators:s.getCollaborators()}),s.start()}},n.getMenu=function(e){return s.createElement(S,null,e.map((function(e,t){return s.createElement(I,{key:t},s.createElement(o.u,{trigger:"hover",title:(n.canBeMentioned(e.id)?"@ ":"")+e.name,placement:"bottom"},s.createElement(N,{src:e.avatar,alt:e.name}),s.createElement(R,{color:e.color})))})))},n.willEnter=function(){return{zIndex:0,right:2}},n.handleResize=Object(f.throttle)((function(){document.body.getBoundingClientRect().width<800?n.setState({unwrapCollaboratorNum:0}):n.setState({unwrapCollaboratorNum:4})}),200),n.state={cooperators:[],unwrapCollaboratorNum:4},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.collaboratorsClient,n=e.editor,r=l()(window,"shimo.socket",null);r&&n&&(this.initCollab(t,r),h(r)),window.addEventListener("resize",this.handleResize)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editor,r=t.collaboratorsClient,i=l()(window,"shimo.socket",null);n&&!e.editor&&i&&(this.initCollab(r,i),h(i))},t.prototype.componentWillUnmount=function(){var e=l()(this.props,"editor.editor.collaboratorsClient",null);e&&e.quit(),window.removeEventListener("resize",this.handleResize)},t.prototype.render=function(){var e=this.state,t=e.cooperators,n=e.unwrapCollaboratorNum,r=28*(n+1),i=t.length>n?r:28*t.length-8;return s.createElement(A,{"data-test":"file-header-collaborators-bar",width:i},this.renderAvatars(),this.renderMoreAvatars())},t.prototype.onClickAvatar=function(e,t){var n=this.props.publishEvent;t&&this.canBeMentioned(e)&&n(C,{id:e,name:t})},t.prototype.canBeMentioned=function(e){var t=Number(e),n=this.props.me;return t!==Number(n.id)&&t>0},t.prototype.renderDropdownTrigger=function(){var e=this.state,t=e.cooperators,n=e.unwrapCollaboratorNum,r=t.slice(n).length;return s.createElement(D,null,s.createElement("span",null,"+",r))},t.prototype.renderMoreAvatars=function(){var e=this.state,t=e.cooperators,n=e.unwrapCollaboratorNum,r=t.slice(n);if(0===r.length)return null;var i=this.getMenu(r);return s.createElement(B,null,s.createElement(o.d,{overlay:i,overlayStyle:{boxShadow:"0 0 6px 0 rgba(0,0,0,0.15)"},trigger:["hover"],placement:"bottomCenter",showTip:!0},this.renderDropdownTrigger()))},t.prototype.renderAvatars=function(){var e=this,t=this.state.cooperators,n=this.state.unwrapCollaboratorNum;t.length>n&&(t=t.slice(0,n).concat(t.slice(-1)));var r=t.map((function(e,t){return{key:String(t),data:e,style:{right:Object(u.spring)(28*t,{stiffness:300,damping:40})}}}));return s.createElement(u.TransitionMotion,{styles:r,willEnter:this.willEnter},(function(t){return s.createElement("div",null,t.map((function(t,r){if(r<n)return s.createElement(P,{key:t.key,style:t.style,onClick:e.onClickAvatar.bind(e,t.data.id,t.data.name)},s.createElement(o.u,{trigger:"hover",title:(e.canBeMentioned(t.data.id)?"@ ":"")+t.data.name,placement:"bottom"},s.createElement(N,{src:t.data.avatar,alt:t.data.name}),s.createElement(R,{color:t.data.color})));var i=28*(n+1);return s.createElement(M,{key:t.data.id,maxBarWidth:i},s.createElement(N,{src:t.data.avatar,alt:t.data.name}),s.createElement(R,{color:t.data.color}))})))}))},t=Object(r.__decorate)([p.s,Object(r.__metadata)("design:paramtypes",[Object])],t)}(s.PureComponent),S=d.default.div.withConfig({componentId:"sc-1hbz7t",displayName:"StyledMoreCooperators"})(g||(g=Object(r.__makeTemplateObject)(["max-width:140px;padding:8px 11px;background-color:#fff;"],[""]))),I=d.default.div.withConfig({componentId:"sc-1hbz7t-1",displayName:"StyledCooperatorItem"})(v||(v=Object(r.__makeTemplateObject)(["display:inline-block;width:20px;height:20px;line-height:20px;padding:0;margin:4px;position:relative;"],[""]))),N=d.default.img.withConfig({componentId:"sc-1hbz7t-2",displayName:"StyledAvatarImage"})(_||(_=Object(r.__makeTemplateObject)(["overflow:hidden;border-radius:10px;background-color:#fff;width:100%;height:100%;cursor:pointer;font-size:0;"],[""]))),R=d.default.span.withConfig({componentId:"sc-1hbz7t-3",displayName:"StyledAvatarColor"})(y||(y=Object(r.__makeTemplateObject)(["display:inline-block;height:4px;width:4px;background-color:",";border-radius:4px;border:2px solid #fff;position:absolute;bottom:0;right:-3px;"],["",""])),(function(e){return String(e.color)})),P=d.default.div.withConfig({componentId:"sc-1hbz7t-4",displayName:"AvatarItem"})(O||(O=Object(r.__makeTemplateObject)(["position:absolute;right:0;height:20px;width:20px;line-height:20px;border-radius:20px;display:inline-block;padding:0;overflow:visible;z-index:101;"],[""]))),M=Object(d.default)(P).withConfig({componentId:"sc-1hbz7t-5",displayName:"ShowMoreAvatar"})(w||(w=Object(r.__makeTemplateObject)(["z-index:102;opacity:0;right:","px;cursor:auto;animation:"," 0.5s ease-in;"],["","",""])),(function(e){return e.maxBarWidth}),(function(e){return t=e.maxBarWidth,Object(d.keyframes)(j||(j=Object(r.__makeTemplateObject)(["0%{opacity:1;right:0;}40%{opacity:0.6;right:","px;}60%{opacity:0.8;right:","px;}80%{opacity:0.4;right:","px;}100%{opacity:0;right:","px;}"],["","","","",""])),.25*t,.5*t,.875*t,t);var t})),A=d.default.div.withConfig({componentId:"sc-1hbz7t-6",displayName:"StyledCollaborator"})(x||(x=Object(r.__makeTemplateObject)(["width:","px;height:20px;margin:15px 8px 15px 0;position:relative;"],["",""])),(function(e){return e.width})),B=d.default.div.withConfig({componentId:"sc-1hbz7t-7",displayName:"StyledDropdownWrapper"})(E||(E=Object(r.__makeTemplateObject)(["position:absolute;height:20px;top:50%;transform:translateY(-50%);z-index:104;cursor:pointer;"],[""]))),D=d.default.div.withConfig({componentId:"sc-1hbz7t-8",displayName:"StyledCooperatorNum"})(k||(k=Object(r.__makeTemplateObject)(["position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;min-width:28px;height:20px;line-height:10px;border-radius:10px;background:linear-gradient(45deg,#666,#41464b);"],[""])))},1242:function(e,t,n){"use strict";n.d(t,"a",(function(){return Rr}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_,y,O,j=n(2),w=n(11),x=n.n(w),E=n(8),k=n.n(E),C=n(91),T=n(254),S=n(981),I=n(41),N=n.n(I),R=n(971),P=n(77),M=n(71),A=n(13),B=n(1159),D=n(121),L=n(1200),z=n(1012),F=n(1180),V=n(1027),U=n(1148),G=n(1100),H=n(1104),W=n(253),K=W.default.div.withConfig({componentId:"sc-1VnJGV",displayName:"StyledHeader"})(r||(r=Object(j.__makeTemplateObject)(["position:relative;background:linear-gradient(180deg,#fdfdfd,#fff);z-index:",";height:50px;box-shadow:0 2px 3px 0 rgba(100,100,100,0.15);user-select:none;overflow:",";border-bottom:1px solid #fff;&::after{clear:both;content:'';display:table;}"],["","",""])),(function(e){return e.isLogin?"110":"112"}),(function(e){return e.isLogin?"hidden":"initial"})),Y=W.default.div.withConfig({componentId:"sc-1VnJGV-1",displayName:"StyledLeftHeader"})(i||(i=Object(j.__makeTemplateObject)(["position:relative;float:left;padding-left:0;> a,> div,> button{display:inline-block;vertical-align:middle;}"],[""]))),Z=Object(W.default)(B.a).withConfig({componentId:"sc-1VnJGV-2",displayName:"StyledHeadMessage"})(a||(a=Object(j.__makeTemplateObject)(["&.header-message{margin-right:30px;}"],[""]))),q=W.default.div.withConfig({componentId:"sc-1VnJGV-3",displayName:"StyledRightHeader"})(o||(o=Object(j.__makeTemplateObject)(["position:absolute;right:0;background:#fff;> a,> div,> button,> span{float:left;vertical-align:middle;margin-right:10px;}@media all and (max-width:1080px){.header-message{display:none;}}"],[""]))),Q=W.default.div.withConfig({componentId:"sc-1VnJGV-4",displayName:"StyledUserMenuWrapper"})(c||(c=Object(j.__makeTemplateObject)(["margin-top:15px;margin-right:18px;"],[""]))),X=W.default.div.withConfig({componentId:"sc-1VnJGV-5",displayName:"StyledCustomButtonWrapper"})(l||(l=Object(j.__makeTemplateObject)(["height:50px;line-height:50px;display:flex;> span{display:flex !important;}"],[""]))),J=W.default.div.withConfig({componentId:"sc-1VnJGV-6",displayName:"StyledAdWrapper"})(s||(s=Object(j.__makeTemplateObject)(["z-index:5;position:absolute;bottom:0;right:20px;"],[""]))),$=W.default.div.withConfig({componentId:"sc-1VnJGV-7",displayName:"StyledLogoWrapper"})(u||(u=Object(j.__makeTemplateObject)(["margin-left:20px;"],[""]))),ee=W.default.div.withConfig({componentId:"sc-1VnJGV-8",displayName:"StyledLoginIframeContainer"})(d||(d=Object(j.__makeTemplateObject)(["width:100%;height:100%;position:absolute;z-index:10000;display:flex;justify-content:center;align-items:center;.iframe-wrapper{position:absolute;z-index:999;background:#fff;width:420px;transition:0.3s all ease-out;left:50%;top:50%;transform:translate(-50%,-50%);max-height:100%;overflow:auto;> span{position:absolute;width:12px;height:12px;top:23px;right:28px;z-index:999;cursor:pointer;path{fill:#c2c2c2;}}}.background{width:100%;height:100%;position:absolute;left:0;top:0;background:rgba(65,70,75,0.5);}"],[""]))),te=n(1181),ne=n(36),re=n.n(ne),ie=D.g.typeToText,ae=D.e.formatDate,oe=D.e.isSame;var ce=n(1225),le=D.r.isNewDing,se=W.default.a.withConfig({componentId:"sc-3kcff3",displayName:"StyledWrapper"})(pe||(pe=Object(j.__makeTemplateObject)(["position:relative;display:inline-block;left:20px;text-decoration:none;cursor:pointer;"],[""]))),ue=W.default.div.withConfig({componentId:"sc-3kcff3-1",displayName:"StyledExternalTag"})(fe||(fe=Object(j.__makeTemplateObject)(["display:block;position:relative;height:20px;padding-right:5px;padding-left:5px;line-height:20px;color:#ffffff;font-size:12px;background:#41464b;border-top-right-radius:2px;border-bottom-right-radius:2px;&::before{content:'';display:block;position:absolute;left:-10px;width:0;height:0;border:10px solid #41464b;border-left-width:0;border-top-color:transparent;border-bottom-color:transparent;}"],[""])));function de(){var e=window.DingTalkPC;e&&e.biz.util.openLink({url:location.protocol+"//"+location.host+"/login?loginType=dingtalk&redirect_url="+encodeURIComponent(window.location.pathname)})}var pe,fe,me=function(e){var t=e.me;return!Object(C.isDingtalkPc)()||le(t)?null:k.a.createElement(se,{onClick:de},k.a.createElement(ue,null,x()("在浏览器中打开")))},be=n(1236),he=n(1220),ge=n(1224);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var i=xe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee,ke,Ce,Te,Se,Ie,Ne,Re,Pe,Me,Ae,Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,n,r,i=je(a);function a(){return _e(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return k.a.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",viewBox:"0 0 20 24"},this.props),k.a.createElement("path",{fill:"#494949",fillRule:"evenodd",d:"M4 10V6a6 6 0 1 1 12 0v4h3a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h3zm2 0h8V6a4 4 0 1 0-8 0v4z"}))}}])&&ye(t.prototype,n),r&&ye(t,r),a}(k.a.Component),Le=D.g.typeToText,ze=D.e.formatDate,Fe=W.default.div.withConfig({componentId:"sc-2bn6Eu",displayName:"StyledContainer"})(Ee||(Ee=Object(j.__makeTemplateObject)(["display:inline-flex !important;margin-left:22px;align-items:center;justify-content:center;"],[""]))),Ve=Object(W.default)(De).withConfig({componentId:"sc-2bn6Eu-1",displayName:"StyledIcon"})(ke||(ke=Object(j.__makeTemplateObject)(["margin-left:22px;cursor:pointer;"],[""]))),Ue=W.default.div.withConfig({componentId:"sc-2bn6Eu-2",displayName:"StyledInfo"})(Ce||(Ce=Object(j.__makeTemplateObject)(["font-size:12px;margin-left:7px;color:#a5a5a5;-webkit-font-smoothing:antialiased;"],[""]))),Ge=function(e){var t=e.file,n=e.onUnlockFile,r=N()(t,"permissions.unlockable",!1)?Le(t.type)+x()("已锁定，点击可解锁"):Le(t.type)+x()("已锁定");return k.a.createElement(Fe,{"data-test":"file-header-file-lock"},k.a.createElement(R.u,{trigger:"hover",title:r,placement:"bottom"},k.a.createElement(Ve,{width:"10px",height:"12px",onClick:n})),k.a.createElement(Ue,null,ze(t.lockedAt)," ",x()("被")," ",t.lockedUser.get("name")," ",x()("锁定")))},He=n(122),We=n.p+"static/lizard-one/assets/lock.32a96fd4.gif",Ke=Object(W.keyframes)(Te||(Te=Object(j.__makeTemplateObject)(["0%{opacity:0;}50%{opacity:0.5;}100%{opacity:1;}"],[""]))),Ye=Object(W.keyframes)(Se||(Se=Object(j.__makeTemplateObject)(["0%{transform:translateY(0);}100%{transform:translateY(-15px);}"],[""]))),Ze=W.default.div.withConfig({componentId:"sc-39u121",displayName:"StyledLockedMask"})(Ie||(Ie=Object(j.__makeTemplateObject)(["position:fixed;top:45px;right:0px;left:0px;bottom:0px;height:100%;background-image:linear-gradient(to bottom,rgba(255,255,255,0.75),#ffffff);z-index:999;"],[""]))),qe=W.default.div.withConfig({componentId:"sc-39u121-1",displayName:"StyledLockedContainer"})(Ne||(Ne=Object(j.__makeTemplateObject)(["position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"],[""]))),Qe=W.default.div.withConfig({componentId:"sc-39u121-2",displayName:"StyledLockedTitle"})(Re||(Re=Object(j.__makeTemplateObject)(["position:absolute;top:410px;margin-left:3px;font-size:13px;color:#41464b;opacity:0;animation:0.5s "," ease-out 1.7s forwards;"],["",""])),Ke),Xe=W.default.img.withConfig({componentId:"sc-39u121-3",displayName:"StyledLockGif"})(Pe||(Pe=Object(j.__makeTemplateObject)(["position:absolute;top:200px;width:250px;animation:0.5s "," ease-out 1.2s forwards;"],["",""])),Ye),Je=D.g.typeToText;var $e,et,tt,nt,rt,it,at=n(1226),ot=D.g.typeToText,ct=function(e){var t=function(t,n,r){return function(){var i,a=e.fileType;a&&Object(M.a)({moduleName:x()("文件 header 右上角注册登陆 - 匿名用户转化_web"),actionName:x()($e||($e=Object(j.__makeTemplateObject)(["","文件内请求注册/登陆: ",""],["","文件内请求注册/登陆: ",""])),null!==(i=ot(a))&&void 0!==i?i:"",t)}),e.showLoginModal(!0,t),Object(M.a)({actionName:"click_"+r,moduleName:"fileviewer",submoduleName:"header",s_element_name:n,platform:"web",event_type:"signup"})}},n=!0,r=localStorage.getItem("ANONYMOUS_LOGIN_TOOLTIP_CLOSED_TIME"),i=Object(E.useCallback)((function(){localStorage.setItem("ANONYMOUS_LOGIN_TOOLTIP_CLOSED_TIME",re()().toString()),l(!1)}),[]),a=Object(E.useCallback)((function(){return document.querySelector(".page-header-container")}),[]);r&&re()(r).add(7,"day").isAfter(re()())&&(n=!1);var o=Object(j.__read)(k.a.useState(n),2),c=o[0],l=o[1];return k.a.useEffect((function(){l(!(e.loginModalVisible||r&&re()(r).add(7,"day").isAfter(re()())))})),k.a.createElement(k.a.Fragment,null,k.a.createElement(R.u,{visible:c,placement:"bottom",theme:"blue",overlay:k.a.createElement(lt,null,x()("开启更多功能，提升办公效能"),k.a.createElement(st,{onClick:i})),overlayStyle:{zIndex:998},align:{overflow:{adjustX:!1,adjustY:!1}},getTooltipContainer:a},k.a.createElement(ut,{onClick:t("personalRegist","注册","signup"),className:"register"},x()("注册"))),k.a.createElement(ut,{onClick:t("login","登录","login"),className:"login"},x()("登录")))},lt=W.default.span.withConfig({componentId:"sc-3v0p_L",displayName:"StyledOverlay"})(et||(et=Object(j.__makeTemplateObject)(["white-space:nowrap;"],[""]))),st=W.default.span.withConfig({componentId:"sc-3v0p_L-1",displayName:"StyledCloseIcon"})(tt||(tt=Object(j.__makeTemplateObject)(["display:inline-block;font-size:12px;margin-left:10px;color:#fff;cursor:pointer;&::before{content:'✕';}"],[""]))),ut=W.default.button.withConfig({componentId:"sc-3v0p_L-2",displayName:"StyledButton"})(nt||(nt=Object(j.__makeTemplateObject)(["position:relative;width:72px;height:28px;box-sizing:border-box;margin-top:11px;text-align:center;font-size:14px;font-family:serif;font-weight:bold;border-radius:2px;cursor:pointer;&.register{background:linear-gradient(180deg,#41464b 0%,#2c3033 100%);color:#fff;margin-right:10px;border:0;}&.login{background:linear-gradient(180deg,#fff 0%,#fafafa 98.11%);border:1px solid rgba(65,70,75,0.5);color:rgba(65,70,75,0.9);}&:hover{opacity:0.9;}"],[""]))),dt=n(1119),pt=n(1102),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBack=function(){(0,t.props.confirmBeforeLeave)(t.backConfirmCallback)},t.backConfirmCallback=function(e){(!("referrer"in document)||document.referrer.includes(location.host)&&!decodeURIComponent(document.referrer).includes(location.href))&&e.length>1?(e.goBack(),2===e.length&&dt.a.isSafari()&&setTimeout((function(){location.href=t.getBackUrl()}),50)):location.href=t.getBackUrl()},t}return Object(j.__extends)(t,e),t.prototype.render=function(){return E.createElement(R.u,{title:x()("返回"),placement:"bottom",mouseLeaveDelay:0},E.createElement(mt,{type:"primary",size:"s",onClick:this.handleBack,"data-test":"file-header-go-back"},E.createElement(bt,{width:"18px",height:"18px"})))},t.prototype.getBackUrl=function(){var e=this.props,t=e.file.role,n=e.parentFolder,r=e.me,i=null==n?void 0:n.guid;return r&&t&&i?"0"===i||"1"===i?"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:""):n.isSpace?"/space/"+i:"/folder/"+i:"/dashboard"},t}(E.Component),mt=Object(W.default)(R.a).withConfig({componentId:"sc-1gEBUx",displayName:"StyledGoBack"})(rt||(rt=Object(j.__makeTemplateObject)(["width:38px;height:28px;margin:11px 0 11px 20px;min-width:38px;position:relative;"],[""]))),bt=Object(W.default)(pt.a).withConfig({componentId:"sc-1gEBUx-1",displayName:"StyledIconBack"})(it||(it=Object(j.__makeTemplateObject)(["display:block;width:18px;height:18px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""])));function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt,xt,Et,kt,Ct,Tt,St,It,Nt,Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(a,e);var t,n,r,i=yt(a);function a(){return gt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return k.a.createElement("svg",Rt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),k.a.createElement("path",{d:"M13.5 16.9V4.5h-7v12.4l3.5-3.5 3.5 3.5z",fill:"none",stroke:"#a5a5a5"}))}}])&&vt(t.prototype,n),r&&vt(t,r),a}(k.a.Component),Mt=n(1189),At=W.default.button.withConfig({componentId:"sc-xkbkf",displayName:"StyledIconButton"})(wt||(wt=Object(j.__makeTemplateObject)(["position:relative;width:8px;height:30px;padding:0;margin:10px 0 10px 15px;cursor:pointer;background-color:#fff;border:none;svg{position:absolute;top:calc(50% - 1px);left:50%;transform:translate(-50%,-50%);}"],[""]))),Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStarClick=function(){return Object(j.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i;return Object(j.__generator)(this,(function(a){switch(a.label){case 0:return e=this.props,t=e.me,n=e.file,r=e.dispatch,i=e.showLoginModal,t.id<0?(i(!0,"login"),[2]):n.starred?[4,r(Object(T.Rc)(n.guid))]:[3,2];case 1:return a.sent(),R.B.success({content:x()(xt||(xt=Object(j.__makeTemplateObject)(["「","」已取消收藏"],["「","」已取消收藏"])),n.name)}),[3,4];case 2:return[4,r(Object(T.Lc)(n.guid))];case 3:a.sent(),R.B.success({content:x()(Et||(Et=Object(j.__makeTemplateObject)(["「","」已收藏"],["「","」已收藏"])),n.name)}),a.label=4;case 4:return[2]}}))}))},t}return Object(j.__extends)(t,e),t.prototype.render=function(){var e=this.props.file.starred;return k.a.createElement(R.u,{trigger:"hover",title:e?x()("取消收藏"):x()("收藏")},k.a.createElement(At,{onClick:this.handleStarClick,"data-test":"file-header-star-button"},e?k.a.createElement(Mt.a,{width:"16px",height:"16px"}):k.a.createElement(Pt,{width:"20px",height:"20px"})))},t}(k.a.PureComponent),Dt=n(1163),Lt=n(1194),zt=Object(Dt.a)((function(){return Object(j.__awaiter)(void 0,void 0,void 0,(function(){return Object(j.__generator)(this,(function(e){return[2,Promise.all([n.e(53),n.e(50),n.e(49),n.e(64),n.e(140),n.e(80)]).then(n.bind(null,3154))]}))}))})),Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t.handleToggleVisibility=function(e){void 0===e&&(e=!1),M.c.trackNew("open_header_quick_access_dropdown",{eventId:223,pageId:56}),t.setState({visible:e})},t}return Object(j.__extends)(t,e),t.prototype.render=function(){var e=this.props.file,t=this.state.visible;return k.a.createElement(R.d,{overlay:k.a.createElement(E.Suspense,{fallback:k.a.createElement("div",{style:{width:"220px"}},k.a.createElement(R.i,null))},k.a.createElement(zt,{file:e,visible:t,onClose:this.handleToggleVisibility})),onVisibleChange:this.handleToggleVisibility,placement:"bottomLeft",visible:t,trigger:["hover"],showTip:!0,mouseLeaveDelay:0},k.a.createElement(Lt.g,{type:"primary",size:"s",active:t,"data-test":"file-header-quick-access-menu"},k.a.createElement(Lt.e,{width:"20px",height:"20px"})))},t}(k.a.PureComponent),Vt=W.default.div.withConfig({componentId:"sc-35sFzm",displayName:"StyleWrapper"})(kt||(kt=Object(j.__makeTemplateObject)(["pointer-events:",";height:20px;margin-left:20px;"],["",""])),(function(e){return e.readonly?"none":"auto"})),Ut="\n  font-size: 14px;\n  font-weight: 700;\n",Gt=W.default.input.withConfig({componentId:"sc-35sFzm-1",displayName:"StyledInput"})(Ct||(Ct=Object(j.__makeTemplateObject)(["box-shadow:none;background:inherit;border:none;border-bottom:2px solid transparent;border-radius:0;padding-bottom:4px;",";line-height:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&::placeholder{color:#cdcdcd;}&:hover{border-color:#b3b3b3;}&:focus{border-color:#73a2e3;}"],["",""])),Ut),Ht=W.default.span.withConfig({componentId:"sc-35sFzm-2",displayName:"StyledInputPre"})(Tt||(Tt=Object(j.__makeTemplateObject)(["visibility:hidden;position:absolute;white-space:nowrap;",""],["",""])),Ut),Wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focused:!1,tooltipVisible:!1},t.previewRef=k.a.createRef(),t.inputRef=k.a.createRef(),t.handleTipVisible=function(e){t.setState({tooltipVisible:e})},t.handleChange=function(e){(0,t.props.onChange)(e.target.value)},t.handleFocus=function(){var e=t.props.onFocus;t.setState({focused:!0}),e()},t.handleBlur=function(){var e=t.props.onBlur;t.setState({focused:!1}),e()},t.handleKeyUp=function(e){"Enter"===e.key&&e.target.blur()},t.handleKeyDown=function(e){!e.ctrlKey||"y"!==e.key&&"z"!==e.key||(e.stopPropagation(),e.preventDefault())},t.handleMouseOut=function(){t.setState({tooltipVisible:!1})},t.updateWidth=function(){var e=t.props.readonly?656:240;if(t.previewRef.current&&t.inputRef.current){var n=t.previewRef.current.offsetWidth+4,r=Math.min(e,n);t.inputRef.current.style.width=r+"px"}},t}return Object(j.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateWidth()},t.prototype.componentDidUpdate=function(){this.updateWidth()},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.value,r=void 0===n?"":n,i=e.readonly,a=e.tips,o=this.state,c=o.focused,l=o.tooltipVisible;return k.a.createElement(R.u,{placement:"bottom",title:a,visible:l&&!c,onVisibleChange:this.handleTipVisible},k.a.createElement("div",null,k.a.createElement(Gt,{ref:this.inputRef,placeholder:t,value:r,readOnly:i,maxLength:100,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onMouseOut:this.handleMouseOut,style:{},id:"file-header-title-input"}),k.a.createElement(Ht,{ref:this.previewRef},r||x()("无标题"))))},t}(k.a.PureComponent),Kt=x()("无标题"),Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.props.file.name||Kt},t.handleChange=function(e){var n=t.props,r=n.file,i=n.online;if(!(0,D.g.isModoc)(r.type)||i){var a=e.replace(/^\s+/g,"");t.setState({value:a})}},t.handleBlur=function(){t.state.value?t.updateTitle():t.setState({value:Kt},t.updateTitle)},t.handleFocus=function(){t.state.value===Kt&&t.setState({value:""})},t}return Object(j.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=Object(P.getString)("SELF_HOSTED_PAGE_TITLE")||x()("石墨文档"),n=this.props.file.name||t;(e.file.name||t)!==n&&this.setState({value:n})},t.prototype.render=function(){var e=this.props.readonly,t=this.state.value;return k.a.createElement(Vt,{readonly:e,"data-test":"file-header-file-title"},k.a.createElement(Wt,{tips:x()("重命名"),placeholder:Kt,value:t,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,readonly:e}))},t.prototype.updateTitle=function(){var e=this.props,t=e.file,n=t.name,r=t.guid,i=e.dispatch;n!==this.state.value&&i(Object(T.Sc)(r,this.state.value))},t}(k.a.PureComponent),Zt=n(1227),qt=n(1221),Qt=n(1117),Xt=n(1098),Jt=n(1195),$t=n(1222),en=function(){return k.a.createElement("span",{"data-test":"create-file-template"},k.a.createElement(Xt.c,{backgroundUrl:$t.a}),x()("模板库"))},tn=n(1133),nn=n(1126),rn=n(986),an=n.p+"static/lizard-one/assets/upload-file.9053f889.png",on=n.p+"static/lizard-one/assets/upload-folder.0cb634b6.png",cn=Object(W.default)(R.a).withConfig({componentId:"sc-2b_QnI",displayName:"StyledAddButtonForPage"})(St||(St=Object(j.__makeTemplateObject)(["position:relative;width:38px;min-width:38px;height:28px;margin:11px 0 11px 14px;"],[""]))),ln=Object(W.default)(Jt.a).withConfig({componentId:"sc-2b_QnI-1",displayName:"StyledIconPlus"})(It||(It=Object(j.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),sn=W.default.div.withConfig({componentId:"sc-2b_QnI-2",displayName:"StyledTooltipWrapper"})(Nt||(Nt=Object(j.__makeTemplateObject)(["width:160px;white-space:normal;"],[""]))),un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isImportFinished:!0},t.dropdownOptions={showTip:!0},t.handleMenuClick=function(e){var n=t.props,r=n.parentFile,i=n.dispatch,a=function(e){return Object(j.__awaiter)(t,void 0,void 0,(function(){return Object(j.__generator)(this,(function(t){switch(t.label){case 0:return[4,i(Object(T.l)("folder",e.name,e.parentGuid)).catch((function(){R.B.error({content:x()("文件夹创建失败")})}))];case 1:return[2,{guid:t.sent()}]}}))}))};return"form"===e?Object(M.a)({moduleName:x()("文件内 header 左上角"),actionName:x()("新建表单")}):"uploadFolder"===e?Object(nn.f)({isFolder:!0}).then((function(e){return Object(j.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(j.__generator)(this,(function(i){switch(i.label){case 0:return Object(nn.b)(e)?[4,Object(nn.e)(e,null!==(n=null==r?void 0:r.guid)&&void 0!==n?n:rn.a,a)]:[2];case 1:return t=i.sent(),nn.h.addUploadTask(t),Object(nn.g)(!0),[2]}}))}))})).catch(console.error):"uploadFile"===e&&Object(nn.f)().then((function(e){Object(nn.b)(e)&&(nn.h.addUploadTask(e.map((function(e){var t;return{raw:e,parentGuid:null!==(t=null==r?void 0:r.guid)&&void 0!==t?t:rn.a}}))),Object(nn.g)(!0))})).catch(console.error),!0},t}return Object(j.__extends)(t,e),t.prototype.componentDidMount=function(){(0,this.props.dispatch)(Object(T.ab)()).then((function(){}),(function(e){}))},t.prototype.render=function(){var e=this,t=this.props.parentFile;return k.a.createElement(tn.a,{scopes:[G.a]},(function(n){return k.a.createElement(qt.a,null,(function(r){return k.a.createElement(Zt.a,{parentFile:t,menus:Object(j.__spreadArray)(Object(j.__spreadArray)([],Object(j.__read)(r)),Object(j.__read)(e.getExtraMenus(n))),onMenuClick:e.handleMenuClick,dropdownOptions:e.dropdownOptions},(function(e,t,n){return k.a.createElement(R.u,{trigger:"hover",title:t?k.a.createElement(sn,null,n):null,placement:"bottom",align:{offset:[1,0]}},k.a.createElement(cn,{type:"primary",size:"s","data-test":"create-file",disabled:t,active:e},k.a.createElement(ln,{width:"18px",height:"18px"})))}))}))}))},t.prototype.getExtraMenus=function(e){return["divider",{type:"template",method:Qt.a.Template,body:k.a.createElement(en,null)},{method:Qt.a.Custom,type:"uploadFile",body:k.a.createElement("span",{"data-test":"upload-file"},k.a.createElement(Xt.c,{backgroundUrl:an}),x()("上传"))},{method:Qt.a.Custom,type:"uploadFolder",body:k.a.createElement("span",{"data-test":"upload-folder"},k.a.createElement(Xt.c,{backgroundUrl:on}),x()("上传文件夹"))}].filter(Boolean)},t=Object(j.__decorate)([Object(S.a)((function(e,t){var n=t.file?Object(T.gc)(e,t.file.guid):null;return{parentFile:n?Object(T.cc)(e,n):null,alphaFeatures:e.alphaFeatures,presentationAllowable:Object(G.b)(e)}}))],t)}(k.a.PureComponent),dn=n(1037);function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var i=vn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _n,yn,On,jn,wn,xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(a,e);var t,n,r,i=hn(a);function a(){return fn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return k.a.createElement("svg",xn({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),k.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zM9.183 4.776a1.134 1.134 0 1 1-2.269 0 1.134 1.134 0 0 1 2.27 0zM8.048 6.818l-1.588.397a.234.234 0 1 0 .113.454L7 7.563a.167.167 0 0 1 .205.194l-.517 2.691c-.114 1.135.794 1.475 1.702 1.362.652-.082 1.115-.574 1.31-.92a.19.19 0 0 0-.013-.197c-.08-.12-.251-.122-.349-.017-.151.165-.365.34-.608.34-.34 0-.378-.19-.34-.34l.567-2.95c.113-.795-.643-.984-.908-.908z",fill:"#5BA0E7"}))}}])&&mn(t.prototype,n),r&&mn(t,r),a}(k.a.Component),kn=n(28),Cn=n(982),Tn=n(977),Sn=n(978),In=n(37),Nn=n(123),Rn=n(193),Pn=n.p+"static/lizard-one/assets/migrating.95e450c4.gif",Mn=function(e){var t=e.modalVisible,n=e.setModalVisible,r=e.file,i=e.me,a=e.parentGuid,o=e.saPoint,c=Object(Rn.a)(),l=Object(j.__read)(Object(E.useState)("confirm"),2),s=l[0],u=l[1],d=Object(j.__read)(Object(E.useState)(!1),2),p=d[0],f=d[1],m=Object(j.__read)(Object(E.useState)(""),2),b=m[0],h=m[1];Object(E.useEffect)((function(){t&&(u("confirm"),f(!0))}),[t]);var g=function(){f(!1),n(!1)},v=function(){b&&(location.href="/presentation/"+b)},_=function(){return Object(j.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,a;return Object(j.__generator)(this,(function(l){switch(l.label){case 0:o("confirm"),u("migrating"),e=r.guid,t=i.id,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,kn.s.post("/files/"+e+"/convert-presentation",{userId:t})];case 2:return(n=l.sent()).guid?(h(n.guid),function(){var e=r.guid,t=r.name,n=x()("已迁移"),i=t.split("-")[0].trim(),a=t;if(i.startsWith(n)){var o=Number(i.split(" ")[1]);n=n+" "+(o?o+1:2),a=t.substr(i.length+3)}var l=n+" - "+a;c(Object(T.Sc)(e,l))}(),u("migrated")):Sn.a.error({content:null!==(a=n.message)&&void 0!==a?a:x()("迁移失败，请重试。")}),[3,4];case 3:return l.sent(),Sn.a.error({content:x()("迁移失败，请重试。")}),g(),[3,4];case 4:return[2]}}))}))},y=function(){return Object(j.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return Object(j.__generator)(this,(function(n){switch(n.label){case 0:return o("tryit"),[4,c(Object(T.l)("presentation",x()("无标题"),a))];case 1:return e=n.sent(),t=Object(In.getFileUrl)("presentation",e),Object(Nn.createWindowOpener)()(t),[2]}}))}))},O=function(){o("deleteold"),u("confirmDelete")},w=function(){o("trynew"),v()},C=function(){return Object(j.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(j.__generator)(this,(function(t){switch(t.label){case 0:return o("confirmdeletion"),e=r.guid,[4,c(Object(T.Mb)(e))];case 1:return t.sent(),v(),[2]}}))}))},S=function(){o("cancel"),u("migrated")},I=function(e){var t;switch(e){case"confirm":t={title:x()("内容迁移"),content:x()("迁移后，将在当前位置生成一份同样内容的新版幻灯片文档。该文档将生成新的地址链接，并继承上一级协作权限。"),footer:[k.a.createElement(Tn.a,{key:"migrate-modal-confirm-ok",type:"black",onClick:_},x()("确定迁移")),k.a.createElement(Tn.a,{key:"migrate-modal-confirm-cancel",type:"outline",onClick:y},x()("去体验新版"))],closable:!0,maskClosable:!0};break;case"migrating":t={content:k.a.createElement(Bn,null,k.a.createElement(Dn,{src:Pn}),x()("内容正在迁移中...")),footer:null,closable:!1,maskClosable:!1};break;case"migrated":t={title:x()("迁移完成"),content:x()("已经将内容迁移至新版本中，您可以前往继续编辑。为避免重复迁移，建议您删除当前的旧版幻灯片。"),footer:[k.a.createElement(Tn.a,{key:"migrate-modal-migrated-ok",type:"black",onClick:O},x()("删除旧版")),k.a.createElement(Tn.a,{key:"migrate-modal-migrated-cancel",type:"outline",onClick:w},x()("前往新版"))],closable:!0,maskClosable:!0};break;case"confirmDelete":t={title:x()("确认删除"),content:x()("是否删除旧版本幻灯片？删除后，所有协作者将无法继续访问此文档。页面将自动跳转至新版本。"),footer:[k.a.createElement(Tn.a,{key:"migrate-modal-delete-ok",type:"red",onClick:C},x()("确认删除")),k.a.createElement(Tn.a,{key:"migrate-modal-delete-cancel",type:"outline",onClick:S},x()("返回上一步"))],closable:!0,maskClosable:!0}}return t}(s),N=I.title,R=I.content,P=I.footer,M=I.closable,A=I.maskClosable;return k.a.createElement(An,{visible:p,title:N,onCancel:g,footer:P,closable:M,maskClosable:A},R)},An=Object(W.default)(Cn.a).withConfig({componentId:"sc-fK7yR",displayName:"StyledModal"})(_n||(_n=Object(j.__makeTemplateObject)(["width:400px !important;.sm-modal-title{color:#41464b;}.sm-modal-content{padding:24px 32px;box-shadow:0 3px 5px rgba(0,0,0,0.1),0 6px 10px rgba(0,0,0,0.06),0 1px 16px rgba(0,0,0,0.06);}.sm-modal-close{top:20px;right:30px;}.sm-modal-body{margin-bottom:40px;}"],[""]))),Bn=W.default.div.withConfig({componentId:"sc-fK7yR-1",displayName:"MigratingWrapper"})(yn||(yn=Object(j.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;margin-bottom:-20px;margin-top:24px;"],[""]))),Dn=W.default.img.withConfig({componentId:"sc-fK7yR-2",displayName:"StyledMigratingGif"})(On||(On=Object(j.__makeTemplateObject)(["width:160px;display:block;margin-bottom:16px;"],[""]))),Ln=function(e){var t=e.file,n=e.me,r=e.parentGuid,i=Object(j.__read)(Object(E.useState)(!1),2),a=i[0],o=i[1],c=Object(E.useRef)();Object(E.useEffect)((function(){if(c.current){var e=c.current.nextSibling;e&&(e.style.top="93px")}}),[]);var l=function(e){Object(M.a)({moduleName:"slide_editpage",submoduleName:"upgrade_bar",actionName:"button_click",platform:"pc",actionparam1:e})};return k.a.createElement("div",{ref:c},k.a.createElement(dn.a,{theme:"info",closable:!1,onClick:function(){}},k.a.createElement(zn,null,k.a.createElement(En,null),x()("「石墨幻灯片」迎来全新升级！当前幻灯片版本将不再进行维护，建议您将文档内容迁移至新版本中继续编辑。"),k.a.createElement(Fn,{onClick:function(){l("copytopresentation"),o(!0)}},x()("一键内容迁移")))),k.a.createElement(Mn,{modalVisible:a,setModalVisible:o,file:t,me:n,parentGuid:r,saPoint:l}))},zn=W.default.div.withConfig({componentId:"sc-1tKLba",displayName:"Wrapper"})(jn||(jn=Object(j.__makeTemplateObject)(["font-size:12px;line-height:20px;display:flex;align-items:center;justify-content:center;height:100%;"],[""]))),Fn=W.default.div.withConfig({componentId:"sc-1tKLba-1",displayName:"Link"})(wn||(wn=Object(j.__makeTemplateObject)(["color:#4583d4;cursor:pointer;margin-left:16px;"],[""]))),Vn=D.g.isFileManageable,Un=function(e){var t=e.file,n=e.me,r=e.presentationAllowable,i=e.parentGuid;return Object(E.useEffect)((function(){var e=n&&n.id>0?2:0;r&&(e=1),Object(M.a)({moduleName:"slide_editpage",actionName:"page_show",platform:"pc",actionparam1:e})}),[]),r&&Vn(t)?k.a.createElement(Ln,{file:t,me:n,parentGuid:i}):null},Gn=function(e){var t=e.file;return k.a.useEffect((function(){function e(){kn.s.post("/auditlog/logs/print",{teamId:t.teamId,targetFileGuid:t.guid}).catch((function(){}))}return null===window||void 0===window||window.addEventListener("beforeprint",e),function(){null===window||void 0===window||window.removeEventListener("beforeprint",e)}}),[t.guid,t.teamId]),null};Gn.displayName="PrintListener";var Hn,Wn,Kn,Yn,Zn,qn=n(1099),Qn=n(1013),Xn=W.default.div.withConfig({componentId:"sc-369Xgg",displayName:"TipText"})(Hn||(Hn=Object(j.__makeTemplateObject)(["line-height:24px;margin-top:4px;p{margin:8px 0;}"],[""]))),Jn=function(e){var t=e.editable,n=e.commentable,r=e.isMobileVerified,i=e.isEnterprise,a=e.isPrivate,o=k.a.useMemo((function(){return a?x()("评论或编辑"):t?x()(Wn||(Wn=Object(j.__makeTemplateObject)(["编辑"],["编辑"]))):n?x()(Kn||(Kn=Object(j.__makeTemplateObject)(["评论"],["评论"]))):""}),[a,t,n]);return k.a.useEffect((function(){r||__RUNTIME_ENV__.PRIVATE_DEPLOY||!o||Object(qn.a)(Object(Qn.g)(),{mobileVerifyText:k.a.createElement(Xn,null,k.a.createElement("p",null,x()(Yn||(Yn=Object(j.__makeTemplateObject)(["当前为只读模式，验证手机号后即可进行","。"],["当前为只读模式，验证手机号后即可进行","。"])),o)),i&&k.a.createElement("p",null,x()(Zn||(Zn=Object(j.__makeTemplateObject)(["如果没有中国大陆手机号，或验证出现问题，请让企业管理员与石墨客户顾问联系处理。"],["如果没有中国大陆手机号，或验证出现问题，请让企业管理员与石墨客户顾问联系处理。"])))))}).then((function(e){e&&location.reload()})).catch(void 0)}),[r,o,i]),null};function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ar(e);if(t){var i=ar(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ir(this,n)}}function ir(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Jn.displayName="ViewerMobileVerifier";var or,cr,lr,sr,ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(a,e);var t,n,r,i=rr(a);function a(){return er(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return k.a.createElement("svg",ur({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),k.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0zM7.009 4.124a1 1 0 1 1 1.982 0L8.377 9h-.755L7.01 4.124zM6.8 12a1.2 1.2 0 1 1 2.4 0 1.2 1.2 0 0 1-2.4 0z",fill:"#E5BF52"}))}}])&&tr(t.prototype,n),r&&tr(t,r),a}(k.a.Component),pr=W.default.div.withConfig({componentId:"sc-1146ot",displayName:"MobileVerifyAlertWrapper"})(or||(or=Object(j.__makeTemplateObject)(["height:40px;z-index:999;position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background-color:#fcfcea;box-shadow:0 8px 24px rgba(0,0,0,0.2);border-radius:4px;padding:0 32px;display:flex;align-items:center;"],[""]))),fr=W.default.span.withConfig({componentId:"sc-1146ot-1",displayName:"Text"})(cr||(cr=Object(j.__makeTemplateObject)(["font-size:13px;color:#41464b;margin:0 8px;"],[""]))),mr=W.default.span.withConfig({componentId:"sc-1146ot-2",displayName:"Action"})(lr||(lr=Object(j.__makeTemplateObject)(["cursor:pointer;text-decoration-line:underline;color:#4583d4;font-weight:500;font-size:13px;"],[""]))),br=function(e){var t=e.isMobileVerified,n=e.isEnterprise;if(Object(P.isSelfHosted)()||t)return null;return k.a.createElement(pr,null,k.a.createElement(dr,{width:16,height:16}),k.a.createElement(fr,null,x()("为了不影响正常使用，请尽快完成手机号验证")),k.a.createElement(mr,{onClick:function(){Object(qn.a)(Object(Qn.g)(),{mobileVerifyText:k.a.createElement(Xn,null,k.a.createElement("p",null,x()("应国家法律要求，使用石墨文档服务前需要验证手机号。如果被验证手机号未绑定其他石墨账号，将自动绑定到当前石墨账号。")),n&&k.a.createElement("p",null,x()(sr||(sr=Object(j.__makeTemplateObject)(["如果没有中国大陆手机号，或验证出现问题，请让企业管理员与石墨客户顾问联系处理。"],["如果没有中国大陆手机号，或验证出现问题，请让企业管理员与石墨客户顾问联系处理。"])))))}).then((function(e){e&&location.reload()})).catch(void 0)}},x()("点击验证")))},hr=n(69);var gr,vr,_r,yr,Or,jr,wr,xr,Er,kr=D.h.getCreateIcon,Cr=D.g.isFilePublicReadOnly,Tr=D.g.isFileAuthorized,Sr=D.g.typeToText,Ir=D.g.isSlide,Nr=D.l.apiLog,Rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showLoginModal:!1,loginModalType:""},t.requestInfo=function(){var e=t.props,n=e.dispatch,r=e.me;n(Object(T.mb)()).catch((function(e){Nr("Lizard Bootstrap Error: getUserGuideInfo()",{err:e})})),/^\/sheets?\//.test(location.pathname)||n(Object(T.C)()).catch((function(e){Nr("Lizard Bootstrap Error: getAlphaFeatures()",{err:e})})),n(Object(T.P)([{name:"first_visit_lizard"}])).catch((function(e){Nr("Lizard Bootstrap Error: getFlashMessages()",{err:e})})),r&&r.id>0&&n(Object(T.W)()).catch((function(e){Nr("Lizard Bootstrap Error: getSettings",{err:e})})),r&&"team"in r&&r.team&&n(Object(T.R)()).catch((function(e){Nr("Lizard Bootstrap Error: getMyTeam()",{err:e})}))},t.showLoginModal=function(e,n){e&&__RUNTIME_ENV__.PRIVATE_DEPLOY?R.B.warning({content:x()("进行后续操作请先登录")}):t.setState({showLoginModal:e,loginModalType:n})},t.getPageType=function(){var e=window.location.pathname;return e.includes("sheet")?U.b.SHEET:e.includes("docs")?U.b.DOC:e.includes("slide")?U.b.SLIDE:e.includes("mindmap")?U.b.MINDMAP:e.includes("form")?U.b.FORM:e.includes("table")?U.b.TABLE:U.b.DESKTOP},t.handleCloseLoginModal=function(){t.showLoginModal(!1,"")},t.getLoginPageType=function(){return"login"===t.state.loginModalType?H.e.LoginByPassword:H.e.RegisterByMobilePersonal},t.handleLoginStatusChange=function(e){e.messageType===H.c.LOGINED&&window.location.reload()},t.handleConfirmBeforeLeave=function(e){var n=t.props,r=n.history,i=n.online;"fail"!==n.saveStatus||i?e(r):Object(R.y)({title:x()("离开此页面？"),description:x()("当前页面存在未同步离线数据，离开页面可能导致数据同步失败，确定要离开吗？"),confirmFun:function(){window.onbeforeunload=null,e(r)}})},t.handleUserMenuClick=function(e){var n=t.props.file;["download","downloadWechat"].includes(e)&&Object(M.a)({moduleName:x()("文件内 header 右上角下载 App"),actionName:x()(gr||(gr=Object(j.__makeTemplateObject)(["","副本"],["","副本"])),Sr(n.type))})},t.handleUnlockFile=function(){var e=t.props,n=e.file,r=e.onUnlockFile;n.permissions.unlockable&&r()},t.handleFileMenuClick=function(e,n,r){var i,a=r.file,o=t.props,c=o.onMenuClick,l=o.onLockFile,s=o.onUnlockFile,u=null!==(i=Sr(a.type))&&void 0!==i?i:"";switch(e){case z.a:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:x()(vr||(vr=Object(j.__makeTemplateObject)(["将","添加到快速访问"],["将","添加到快速访问"])),u)});break;case z.b:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:x()(_r||(_r=Object(j.__makeTemplateObject)(["删除",""],["删除",""])),u)});break;case z.c:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:x()(yr||(yr=Object(j.__makeTemplateObject)(["创建","副本"],["创建","副本"])),u)});break;case z.f:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:x()(Or||(Or=Object(j.__makeTemplateObject)(["移动",""],["移动",""])),u)});break;case z.g:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:x()(jr||(jr=Object(j.__makeTemplateObject)(["将","置为消息免打扰"],["将","置为消息免打扰"])),u)});break;case z.j:Object(M.a)({moduleName:x()("文件内 header 右上角更多菜单"),actionName:a.starred?x()(wr||(wr=Object(j.__makeTemplateObject)(["取消收藏",""],["取消收藏",""])),u):x()(xr||(xr=Object(j.__makeTemplateObject)(["收藏",""],["收藏",""])),u)});break;case z.l:return a.isLocked?s():l()}c(e,n,r)},t.handleLogoClick=function(){var e,n=t.props.file;Object(M.a)({moduleName:x()("文件内 header 左上角 logo"),actionName:x()(Er||(Er=Object(j.__makeTemplateObject)(["删除",""],["删除",""])),null!==(e=Sr(n.type,n.isSpace))&&void 0!==e?e:"")})},t}return Object(j.__extends)(t,e),t.prototype.componentDidMount=function(){this.requestInfo();var e=this.props,t=e.file,n=e.dispatch,r=e.me,i=e.fileOwner;n(Object(T.M)(t.guid)),r.team&&n(Object(T.S)("force_team_share"));var a=function(e){var t=N()(e,"permissionsAndReasons",!1);return{editable:t.getIn(["canEdit","value"]),canComment:t.getIn(["canComment","value"]),canRead:t.getIn(["canRead","value"])}}(t),o=a.editable,c=a.canComment,l=a.canRead;!o&&c&&R.B.error({content:x()("您的权限为只能评论")}),o||c||!l||R.B.error({content:x()("您的权限为只能阅读")}),n(Object(T.D)("lock_file")),n(Object(T.D)("professional_docs")),n(Object(T.D)("professional_docs_personal")),n(Object(T.D)("import_size_unlimited")),n(Object(T.D)("import_docx")),n(Object(T.D)("presentation")),n(Object(T.D)("presentation_personal")),n(Object(T.D)("nps_share_panel")),n(Object(T.D)("lite_table"));var s=!r||r.id<0,u=s&&o,d=(null==i?void 0:i.accountMetadata)&&!i.accountMetadata.isEnterprise&&!i.accountMetadata.isPersonalPremium;(u||s&&d)&&this.setState({showLoginModal:!0,loginModalType:"login"}),s||function(e){var t=e.file,n=e.isEnterprise,r=e.requireVerify;if("readonly"===t.shareMode&&Boolean(t.role)&&r)Object(qn.a)(Object(Qn.g)(),{mobileVerifyText:k.a.createElement(Xn,null,k.a.createElement("p",null,x()("应国家法律要求，使用石墨文档服务前需要验证手机号。如果被验证手机号未绑定其他石墨账号，将自动绑定到当前石墨账号。")),n&&k.a.createElement("p",null,x()("如果没有中国大陆手机号，或验证出现问题，请让企业管理员与石墨客户顾问联系处理。")))}).then((function(e){e&&location.reload()})).catch(console.error)}({file:t,requireVerify:Boolean(r.requiresIdentityVerification),isEnterprise:Object(hr.r)(r)})},t.prototype.render=function(){var e=this.props,t=e.file,n=e.me,r=e.team,i=e.parentFolder,a=e.parentGuid,o=e.saveStatusText,c=e.saveStatus,l=e.saveOffline,s=e.alphaFeatures,u=e.templateLimit,d=e.editor,p=e.online,f=e.dispatch,m=e.getMenuItems,b=e.collaboratorsClient,h=e.userGuide,g=e.handleToggleUserGuideSideBar,v=e.customButtonPanel,_=e.getShareUrl,y=e.history,O=e.location,w=e.menuExtraProps,x=e.presentationAllowable,E=e.features,T=N()(t,"permissions.editable",!1),S=Cr(t),I=t&&Tr(t),R=n&&n.id>0,M=this.state.showLoginModal,z=this.getPageType(),G=__RUNTIME_ENV__,W="private"===t.shareMode,te=!n.requiresIdentityVerification;return k.a.createElement(D.c,null,k.a.createElement(br,{isMobileVerified:te,isEnterprise:Object(hr.r)(n)}),k.a.createElement("div",{className:"file-page-header"},M&&!__RUNTIME_ENV__.PRIVATE_DEPLOY?k.a.createElement(ee,null,k.a.createElement("div",{className:"iframe-wrapper"},k.a.createElement("span",{onClick:this.handleCloseLoginModal},k.a.createElement(V.a,null)),k.a.createElement(H.b,{defaultPage:this.getLoginPageType(),crmExtra:{shimo_file:t.get("guid")},onStatusChange:this.handleLoginStatusChange})),k.a.createElement("div",{className:"background"})):null,k.a.createElement(K,{className:"page-header-container",isLogin:R},k.a.createElement(Y,{"data-test":"page-header-left"},R?k.a.createElement(k.a.Fragment,null,k.a.createElement(ft,{file:t,parentFolder:i,me:n,confirmBeforeLeave:this.handleConfirmBeforeLeave}),k.a.createElement(Ft,{file:t,me:n}),k.a.createElement(un,{file:t,userGuide:h,alphaFeatures:s,me:n,team:r,dispatch:f,online:p})):k.a.createElement($,{"data-test":"file-header-logo"},k.a.createElement(F.a,{onClick:this.handleLogoClick})),k.a.createElement(Yt,{file:t,readonly:!T,dispatch:f,online:p}),k.a.createElement(Bt,{file:t,me:n,dispatch:f,showLoginModal:this.showLoginModal}),t.isLocked&&k.a.createElement(Ge,{file:t,onUnlockFile:this.handleUnlockFile}),!t.isLocked&&k.a.createElement(ce.a,{status:c,text:o,offline:l}),k.a.createElement(me,{me:n})),k.a.createElement(q,{className:"page-header-right","data-test":"page-header-right"},!__RUNTIME_ENV__.PRIVATE_DEPLOY&&k.a.createElement(B.b,null,(function(e){return e.content?k.a.createElement(Z,{onClick:e.onClick,type:e.type,link:e.link,className:"header-message"},e.content):null})),!S&&k.a.createElement(be.b,{file:t,me:n,editor:d,collaboratorsClient:b}),R&&k.a.createElement(Q,{"data-test":"file-header-user-menu"},k.a.createElement(L.a,{onMenuClick:this.handleUserMenuClick})),k.a.createElement(X,{"data-test":"file-header-custom-wrapper"},v||null),!R&&!G.PRIVATE_DEPLOY&&k.a.createElement(ct,{fileType:t.type,showLoginModal:this.showLoginModal,loginModalVisible:M}),I&&k.a.createElement(k.a.Fragment,null,k.a.createElement(he.a,{online:p,file:t,team:r,me:n,parentFileGuid:i?i.guid:"0",features:E}),z===U.b.FORM&&W?null:k.a.createElement(ge.a,{file:t,getShareUrl:_,online:p,team:r,me:n,pageType:z,parentFileGuid:i?i.guid:"0"})),k.a.createElement(at.a,{file:t,parentFolder:i,me:n,team:r,online:p,dispatch:f,alphaFeatures:s,templateLimit:u,menuItems:m,onMenuClick:this.handleFileMenuClick,history:y,location:O,extra:w}))),!Object(P.isSelfHosted)()&&!Object(C.isDingtalkPc)()&&k.a.createElement(J,null,k.a.createElement(D.a,Object(j.__assign)({},this.props,{position:A.b.PCRightBottomCard}))),k.a.createElement(U.a,{pageType:z,user:n,team:r,readOnly:Cr(t),toggleSideBar:g})),Ir(t.type)?k.a.createElement(Un,{file:t,me:n,presentationAllowable:x,parentGuid:a}):null,k.a.createElement(Gn,{file:t}),k.a.createElement(nn.a,{hiddenDownloadPanel:!0,hiddenUnpackPanel:!0,openFile:function(e){var t,n="";"folder"===e.kind&&e.guid?n=Object(In.getFileUrl)("folder",e.guid):(null===(t=e.sosFile)||void 0===t?void 0:t.type)&&e.guid&&(n=Object(In.getFileUrl)(e.sosFile.type,e.guid)),n&&window.open(n)},openFileParent:function(e){if(e.parentGuid!==rn.a){var t=Object(In.getFileUrl)("folder",e.parentGuid);window.open(t)}else window.open("/desktop")},getFileIcon:function(e){return k.a.createElement("img",{width:24,height:24,src:kr(e)})}}),k.a.createElement(Jn,{isMobileVerified:te,editable:"editable"===t.shareMode,commentable:"commentable"===t.shareMode,isPrivate:"private"===t.shareMode,isEnterprise:Object(hr.r)(n)}))},t=Object(j.__decorate)([S.b,Object(S.a)((function(e,t){var n=Object(T.gc)(e,t.file.guid);return{parentGuid:n,parentFolder:Object(T.cc)(e,n),team:Object(T.jc)(e),alphaFeatures:e.alphaFeatures,online:e.status.online,templateLimit:e.templateLimit,userGuide:e.userGuide,fileOwner:Object(T.zc)(e,t.file.user),presentationAllowable:Object(G.b)(e),features:e.features.data}})),function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={animateMaskVisible:!1},e.unmounted=!1,e.handleToggleLockFile=function(){e.props.file.isLocked?e.handleUnlockFile():e.handleLockFile()},e.handleLockFile=function(){return Object(j.__awaiter)(e,void 0,void 0,(function(){var e,t;return Object(j.__generator)(this,(function(n){return e=this.props,t=e.file,(0,e.dispatch)(Object(T.vb)(t.guid)),this.showAnimate(),[2]}))}))},e.handleUnlockFile=function(){return Object(j.__awaiter)(e,void 0,void 0,(function(){var e,t,n;return Object(j.__generator)(this,(function(r){switch(r.label){case 0:e=this.props,t=e.file,n=e.dispatch,r.label=1;case 1:return r.trys.push([1,7,,8]),[4,this.unlockConfirm()];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,n(Object(T.Pc)(t.guid))];case 4:return r.sent(),R.B.success({content:x()(Me||(Me=Object(j.__makeTemplateObject)(["「","」已取消锁定"],["「","」已取消锁定"])),t.name)}),this.setState({animateMaskVisible:!1}),window.location.reload(),[3,6];case 5:return r.sent(),R.B.error(x()("操作失败")),[3,6];case 6:return[3,8];case 7:return r.sent(),[3,8];case 8:return[2]}}))}))},e.unlockConfirm=function(){var t,n=e.props.file,r=null!==(t=Je(n.type))&&void 0!==t?t:"";return new Promise((function(e,t){Object(R.y)({title:x()("确认解锁"),description:x()(Ae||(Ae=Object(j.__makeTemplateObject)(["确认解锁","吗？解锁后，协作者将恢复协作和分享权限"],["确认解锁","吗？解锁后，协作者将恢复协作和分享权限"])),r),confirmFun:e,abortFun:t,okText:x()("确认解锁")})}))},e.showAnimate=function(){e.setState({animateMaskVisible:!0}),Object(He.render)(k.a.createElement(Ze,null,k.a.createElement(qe,null,k.a.createElement(Xe,{src:We}),k.a.createElement(Qe,null,x()("已锁定，并自动保存版本")))),e.maskEl),setTimeout((function(){e.unmounted?document.body.removeChild(e.maskEl):(e.setState({animateMaskVisible:!1}),e.maskEl.innerHTML="")}),2500),setTimeout((function(){window.location.reload()}),3500)},e}return Object(j.__extends)(n,t),n.prototype.componentDidMount=function(){this.maskEl=document.createElement("div"),document.body.appendChild(this.maskEl)},n.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.animateMaskVisible||document.body.removeChild(this.maskEl)},n.prototype.render=function(){return k.a.createElement(e,Object(j.__assign)({},this.props,{onToggleLockFile:this.handleToggleLockFile,onLockFile:this.handleLockFile,onUnlockFile:this.handleUnlockFile}))},n}(k.a.PureComponent)},function(e){return function(t){function n(e){var n,r=t.call(this,e)||this;r.state={saveStatus:"",saveStatusText:"",offline:!1,lastUpdateTime:""},r.timerId=0,r.existUnsavedContent=!1,r.savingOfflineAlert=!1,r.syncOfflineAlert=!1,r.syncOfflineSuccessAlert=!1,r.fileTypeName=null!==(n=ie(r.props.file.type))&&void 0!==n?n:"",r.toastInstance=null,r.bindCollaborationEvents=function(){r.props.collab.on("saveStatusChange",r.handleSaveStatusChange)},r.handleSaveStatusChange=function(e,t){switch(e){case te.Status.ONLINE:r.startSaveOnline();break;case te.Status.ONLINE_SAVING:r.savingOnline(t);break;case te.Status.ONLINE_SAVED:r.saveOnlineSuccess();break;case te.Status.ONLINE_SAVE_FAILED:r.saveOnlineFailed();break;case te.Status.OFFLINE:r.startSaveOffline();break;case te.Status.OFFLINE_SAVING:r.savingOffline();break;case te.Status.OFFLINE_SAVED:r.saveOfflineSuccess();break;case te.Status.OFFLINE_SAVE_FAILED:r.saveOfflineFailed();break;case te.Status.SERVER_CHANGE_APPLIED:r.syncDataFromServer();break;case te.Status.SERVER_CHANGE_PENDING:r.serverChangePanding()}},r.serverChangePanding=function(){r.setState({offline:!1,saveStatus:"loading",saveStatusText:x()(p||(p=Object(j.__makeTemplateObject)(["当前协作编辑的内容较多，正在保存..."],["当前协作编辑的内容较多，正在保存..."])))})},r.startSaveOnline=function(){if(r.state.offline&&!r.existUnsavedContent){var e=x()(f||(f=Object(j.__makeTemplateObject)(["","将自动保存"],["","将自动保存"])),r.fileTypeName);r.closeToast(),r.setState({saveStatusText:e})}r.setState({offline:!1})},r.savingOnline=function(e){var t=r.props.disableOfflineSync;r.destroyTimerTick();var n=x()("正在保存...");r.existUnsavedContent&&!t?(n=x()("网络连接已恢复，同步离线数据中..."),r.syncOfflineAlert&&(r.closeToast(),r.toastInstance=R.B.success({content:n,autoClose:3e3}),r.syncOfflineAlert=!1)):e&&(n=x()("当前协作编辑的内容较多，正在保存...")),r.setState({offline:!1,saveStatusText:n,saveStatus:"loading"})},r.saveOnlineSuccess=function(){var e=r.props.disableOfflineSync,t=x()("自动保存成功");r.existUnsavedContent&&!e&&(t=x()(m||(m=Object(j.__makeTemplateObject)(["离线数据同步成功， ","将自动保存"],["离线数据同步成功， ","将自动保存"])),r.fileTypeName),r.syncOfflineSuccessAlert&&(window.setTimeout((function(){r.closeToast(),r.toastInstance=R.B.success({content:t,autoClose:3e3})}),500),r.syncOfflineSuccessAlert=!1)),r.setState({offline:!1,saveStatus:"success",saveStatusText:t,lastUpdateTime:(new Date).toString()}),r.existUnsavedContent=!1,r.createTimerTick()},r.saveOnlineFailed=function(){r.setState({offline:!1,saveStatus:"fail",saveStatusText:x()("同步失败")}),r.closeToast(),r.toastInstance=R.B.error({content:x()("保存失败，请复制当前编辑数据，刷新后继续使用"),autoClose:!1})},r.startSaveOffline=function(){var e=r.props.disableOfflineSync?x()(b||(b=Object(j.__makeTemplateObject)(["未连接网络无法继续编辑，请检查网络连接。"],["未连接网络无法继续编辑，请检查网络连接。"]))):x()(h||(h=Object(j.__makeTemplateObject)(["未连接到网络，","将离线保存"],["未连接到网络，","将离线保存"])),r.fileTypeName);r.setState({offline:!0,saveStatus:"success",saveStatusText:e}),r.savingOfflineAlert=!0,r.syncOfflineAlert=!0,r.syncOfflineSuccessAlert=!0},r.savingOffline=function(){if(!r.props.disableOfflineSync){r.savingOfflineAlert&&(r.toastInstance=R.B.warning({content:x()(g||(g=Object(j.__makeTemplateObject)(["网络连接已断开，所有编辑将会离线保存"],["网络连接已断开，所有编辑将会离线保存"]))),autoClose:!1,operation:{text:x()("知道了"),callback:function(){r.closeToast()}}}),r.savingOfflineAlert=!1),r.destroyTimerTick();var e=x()("正在保存离线内容...");r.setState({offline:!0,saveStatus:"loading",saveStatusText:e})}},r.saveOfflineSuccess=function(){r.props.disableOfflineSync||(r.setState({offline:!0,saveStatus:"success",saveStatusText:x()("编辑已离线保存，连接到网络后会自动同步")}),r.existUnsavedContent=!0)},r.saveOfflineFailed=function(){r.props.disableOfflineSync||r.setState({offline:!0,saveStatus:"fail",saveStatusText:x()("离线保存失败")})},r.syncDataFromServer=function(){r.destroyTimerTick(),r.setState({offline:!1,saveStatusText:r.fileTypeName+String(x()("将实时更新")),lastUpdateTime:(new Date).toString()}),r.createTimerTick()},r.closeToast=function(){var e;null===(e=r.toastInstance)||void 0===e||e.close(),r.toastInstance=null},r.createTimerTick=function(){r.timerId=window.setInterval((function(){var e=r.state.lastUpdateTime;if(e){var t=ae(e)===x()("刚刚")?x()("刚刚更新"):x()(v||(v=Object(j.__makeTemplateObject)([""," 更新"],[""," 更新"])),ae(e)),n=x()(_||(_=Object(j.__makeTemplateObject)(["","，","将自动保存"],["","，","将自动保存"])),t,r.fileTypeName);r.setState({offline:!1,saveStatusText:n})}}),18e5)},r.destroyTimerTick=function(){r.timerId&&clearInterval(r.timerId)};var i=e.file,a=i.updatedAt||(new Date).toString(),o=N()(i,"permissions.editable",!1),c=N()(i,"permissions.commentable",!1),l=!o&&!c,s=oe(i.createdAt,a),u=ae(a,re()(),l?0:6e5),d=u===x()("刚刚")?x()("刚刚更新"):x()(y||(y=Object(j.__makeTemplateObject)([""," 更新"],[""," 更新"])),u),w=l?d:x()(O||(O=Object(j.__makeTemplateObject)(["","","将自动保存"],["","","将自动保存"])),s?d+"，":"",r.fileTypeName);return r.state.saveStatusText=w,r.state.lastUpdateTime=a,r}return Object(j.__extends)(n,t),n.prototype.componentDidMount=function(){var e=this;this.props.collab&&this.bindCollaborationEvents(),window.onbeforeunload=function(t){t=t||window.event;var n=e.props.online;if("fail"===e.state.saveStatus&&!n){var r=x()("当前页面存在未同步离线数据，离开页面可能导致数据同步失败，确定要离开吗？");return t.returnValue=r,r}}},n.prototype.componentWillUnmount=function(){this.toastInstance=null;var e=this.props.collab;e&&e.off("saveStatusChange",this.handleSaveStatusChange),window.onbeforeunload=null},n.prototype.componentDidUpdate=function(e){var t=this.props.collab;!e.collab&&t&&this.bindCollaborationEvents()},n.prototype.render=function(){var t=this.state,n=t.saveStatus,r=t.saveStatusText,i=t.offline;return k.a.createElement(e,Object(j.__assign)({},this.props,{saveOffline:i,saveStatus:n,saveStatusText:r}))},n}(k.a.PureComponent)}],t)}(k.a.PureComponent)},1253:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,i=n(2),a=n(8),o=n.n(a),c=n(11),l=n.n(c),s=n(254),u=n(981),d=n(36),p=n.n(d),f=n(37),m=n(253).default.div.withConfig({componentId:"sc-ewH9s",displayName:"StyledWrapper"})(r||(r=Object(i.__makeTemplateObject)(["font-size:14px;color:#666;line-height:26px;.creator{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],[""]))),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.file,n=e.dispatch;t.creator||n(Object(s.O)(t.guid))},t.prototype.render=function(){var e=this.props.file,t=e.creator?e.creator.get("name"):"",n=e.creator?e.creator.get("email"):"",r=t+" "+(n?"("+n+")":""),i=Object(f.typeToText)(e.type);return o.a.createElement(m,null,o.a.createElement("div",{className:"creator"},i,l()("创建者："),o.a.createElement("span",{title:r},r)),o.a.createElement("div",null,i,l()("创建时间："),p()(e.createdAt).format("YYYY.MM.DD HH:mm"),"(GMT+08:00)"),this.props.children,o.a.createElement("div",null,l()("阅读次数："),e.views," ",l()("次")))},t=Object(i.__decorate)([Object(u.a)(void 0)],t)}(o.a.PureComponent)},1254:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,i,a=n(2),o=n(11),c=n.n(o),l=n(8),s=n.n(l),u=n(971),d=n(253),p=n(121).g.typeToText,f=Object(d.default)(u.k).withConfig({componentId:"sc-2re8Bu",displayName:"StyledModal"})(r||(r=Object(a.__makeTemplateObject)(["font-size:14px;color:#666;line-height:26px;.sm-modal-footer button{min-width:70px !important;}.creator{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],[""]))),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.file,r=t.visible,o=t.onClose,l=t.children,d=null!==(e=p(n.type))&&void 0!==e?e:"";return s.a.createElement(f,{title:c()(i||(i=Object(a.__makeTemplateObject)(["","信息"],["","信息"])),d),width:420,visible:r,closable:!0,maskClosable:!0,onCancel:o,footer:s.a.createElement(u.a,{onClick:o,type:"black"},c()("确定"))},r?l:null)},t}(s.a.PureComponent)},1256:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var r,i=n(2),a=n(28),o=n(1277),c=new(n.n(o).a);!function(e){e.Docx="docx",e.Pdf="pdf",e.Jpg="jpg",e.Pptx="pptx",e.Xlsx="xlsx",e.Markdown="md",e.Wps="wps",e.Xmind="xmind"}(r||(r={}));var l=function(e,t,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r,o,l,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:r="xlsx"===t,n&&(r=!1),o={type:t,file:e.guid,returnJson:1,name:encodeURIComponent(e.name.replace("#","_")),isAsync:r?1:0},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.s.get("/files/"+e.guid+"/export",{params:o})];case 2:return(l=i.sent()).downloadUrl&&(l.downloadUrl=c.replace(l.downloadUrl)),l.redirectUrl&&(l.redirectUrl=c.replace(l.redirectUrl)),[2,l];case 3:throw(s=i.sent()).data&&(s.body=s.data),s;case 4:return[2]}}))}))}},1262:function(e,t,n){"use strict";n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return ae})),n.d(t,"a",(function(){return Oe}));var r,i,a,o,c,l,s,u,d,p,f,m,b,h,g,v,_,y,O,j,w,x,E,k,C,T,S,I,N=n(2),R=n(8),P=n.n(R),M=n(253),A=n(1005),B=Object(M.default)(A.b).withConfig({componentId:"sc-2GaeBz",displayName:"StyledTabs"})(r||(r=Object(N.__makeTemplateObject)(["height:100%;position:relative;.sm-tab-content{height:100%;}.sm-tab-navtabs{margin:0 30px;border-bottom:1px solid #d8d8d8;}.sm-tab-tab-pane{height:100%;position:relative;}"],[""]))),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={firstVisible:!1},t.handleChangeTab=function(e){t.props.onActiveKeyChange(e)},t}return Object(N.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.activeKey,n=e.tabOptions;return P.a.createElement(B,{activeKey:t,defaultActiveKey:t,onChange:this.handleChangeTab},n.map((function(e){var t=e.name,n=e.key,r=e.component;return P.a.createElement(A.a,{tab:t,key:n},r)})))},t}(P.a.PureComponent),L=n(11),z=n.n(L),F=n(1086),V=n.n(F),U=M.default.div.withConfig({componentId:"sc-1Tx10",displayName:"StyledWrapper"})(i||(i=Object(N.__makeTemplateObject)(["width:350px;bottom:0;right:0;height:calc(100% - 45px);z-index:109;color:#333;-webkit-font-smoothing:antialiased;overflow:hidden;padding-top:20px;"],[""]))),G=M.default.div.withConfig({componentId:"sc-1Tx10-1",displayName:"StyledVideoWrapper"})(a||(a=Object(N.__makeTemplateObject)(["position:relative;height:164px;"],[""]))),H=M.default.video.withConfig({componentId:"sc-1Tx10-2",displayName:"StyledVideo"})(o||(o=Object(N.__makeTemplateObject)(["display:inline-block;height:164px;width:290px;margin-left:30px;"],[""]))),W=M.default.span.withConfig({componentId:"sc-1Tx10-3",displayName:"StyledNavigator"})(c||(c=Object(N.__makeTemplateObject)(["display:inline-block;position:absolute;width:20px;height:20px;margin:0 5px;top:50%;transform:translateY(-10px);background:no-repeat center;background-size:contain;"],[""]))),K=Object(M.default)(W).withConfig({componentId:"sc-1Tx10-4",displayName:"StyledPrevArrow"})(l||(l=Object(N.__makeTemplateObject)(["",""],["",""])),(function(e){return e.forbid?"background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5sZWZ0X2ZvcmJpZDwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiPiAgICAgICAgPGcgaWQ9IuaPkOekuumdouadvyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Mi4wMDAwMDAsIC0yNTkxLjAwMDAwMCkiIHN0cm9rZT0iI0NDQ0NDQyIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2Utd2lkdGg9IjEuNSI+ICAgICAgICAgICAgPHBhdGggZD0iTTE2MCwyNTk2IEwxNjMuODA5NTI0LDI2MDAuNTQ1NDUgQzE2NC4wNjM0OTIsMjYwMC44MTgxNyAxNjQuMDYzNDkyLDI2MDEuMTgxOCAxNjMuODA5NTI0LDI2MDEuNDU0NTUgTDE2MCwyNjA2IiBpZD0iU2hhcGUtQ29weS04IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjIuMDAwMDAwLCAyNjAxLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTYyLjAwMDAwMCwgLTI2MDEuMDAwMDAwKSAiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==);":"\n      background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5sZWZ0X2RlZmF1bHQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIj4gICAgICAgIDxnIGlkPSLmj5DnpLrpnaLmnb8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTIuMDAwMDAwLCAtMjYyMi4wMDAwMDApIiBzdHJva2U9IiNBNUE1QTUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLXdpZHRoPSIxLjUiPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjAsMjYyNyBMMTYzLjgwOTUyNCwyNjMxLjU0NTQ1IEMxNjQuMDYzNDkyLDI2MzEuODE4MTcgMTY0LjA2MzQ5MiwyNjMyLjE4MTggMTYzLjgwOTUyNCwyNjMyLjQ1NDU1IEwxNjAsMjYzNyIgaWQ9IlNoYXBlLUNvcHktNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYyLjAwMDAwMCwgMjYzMi4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTE2Mi4wMDAwMDAsIC0yNjMyLjAwMDAwMCkgIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=);\n      &:hover {\n        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5sZWZ0X3NlbGVjdDwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiPiAgICAgICAgPGcgaWQ9IuaPkOekuumdouadvyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Mi4wMDAwMDAsIC0yNjU3LjAwMDAwMCkiIHN0cm9rZT0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2Utd2lkdGg9IjEuNSI+ICAgICAgICAgICAgPHBhdGggZD0iTTE2MCwyNjYyIEwxNjMuODA5NTI0LDI2NjYuNTQ1NDUgQzE2NC4wNjM0OTIsMjY2Ni44MTgxNyAxNjQuMDYzNDkyLDI2NjcuMTgxOCAxNjMuODA5NTI0LDI2NjcuNDU0NTUgTDE2MCwyNjcyIiBpZD0iU2hhcGUtQ29weS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjIuMDAwMDAwLCAyNjY3LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTYyLjAwMDAwMCwgLTI2NjcuMDAwMDAwKSAiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==);\n      }\n  "})),Y=Object(M.default)(W).withConfig({componentId:"sc-1Tx10-5",displayName:"StyledNextArrow"})(s||(s=Object(N.__makeTemplateObject)(["",""],["",""])),(function(e){return e.forbid?"background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5yaWdodF9mb3JiaWQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIj4gICAgICAgIDxnIGlkPSLmj5DnpLrpnaLmnb8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOTIuMDAwMDAwLCAtMjU5MS4wMDAwMDApIiBzdHJva2U9IiNDQ0NDQ0MiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLXJ1bGU9Im5vbnplcm8iPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMDAsMjU5NiBMMjAzLjgwOTUyNCwyNjAwLjU0NTQ1IEMyMDQuMDYzNDkyLDI2MDAuODE4MTcgMjA0LjA2MzQ5MiwyNjAxLjE4MTggMjAzLjgwOTUyNCwyNjAxLjQ1NDU1IEwyMDAsMjYwNiIgaWQ9IlNoYXBlLUNvcHktOSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);":"\n      background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5yaWdodF9kZWZhdWx0PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPjwvZGVmcz4gICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+ICAgICAgICA8ZyBpZD0i5o+Q56S66Z2i5p2/IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkyLjAwMDAwMCwgLTI2MjIuMDAwMDAwKSIgc3Ryb2tlPSIjQTVBNUE1IiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbC1ydWxlPSJub256ZXJvIj4gICAgICAgICAgICA8cGF0aCBkPSJNMjAwLDI2MjcgTDIwMy44MDk1MjQsMjYzMS41NDU0NSBDMjA0LjA2MzQ5MiwyNjMxLjgxODE3IDIwNC4wNjM0OTIsMjYzMi4xODE4IDIwMy44MDk1MjQsMjYzMi40NTQ1NSBMMjAwLDI2MzciIGlkPSJTaGFwZS1Db3B5LTciPjwvcGF0aD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==);\n      &:hover {\n        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5yaWdodF9zZWxlY3Q8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIj4gICAgICAgIDxnIGlkPSLmj5DnpLrpnaLmnb8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOTIuMDAwMDAwLCAtMjY1Ny4wMDAwMDApIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLXJ1bGU9Im5vbnplcm8iPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMDAsMjY2MiBMMjAzLjgwOTUyNCwyNjY2LjU0NTQ1IEMyMDQuMDYzNDkyLDI2NjYuODE4MTcgMjA0LjA2MzQ5MiwyNjY3LjE4MTggMjAzLjgwOTUyNCwyNjY3LjQ1NDU1IEwyMDAsMjY3MiIgaWQ9IlNoYXBlLUNvcHktNSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n      }\n  "})),Z=M.default.div.withConfig({componentId:"sc-1Tx10-6",displayName:"StyledDescription"})(u||(u=Object(N.__makeTemplateObject)(["margin-top:18px;padding:0 33px 12px;color:#333333;font-size:12px;span{font-weight:bold;}p{overflow:hidden;min-height:68px;margin-top:10px;text-align:left;line-height:17px;}border-bottom:",";"],["",""])),(function(e){return e.fixed?"1px solid #d8d8d8":"none"})),q=M.default.div.withConfig({componentId:"sc-1Tx10-7",displayName:"StyledContent"})(d||(d=Object(N.__makeTemplateObject)(["padding:12px 0 0;max-height:calc(100% - 325px);overflow-y:scroll;&::-webkit-scrollbar{width:4px;background-color:transparent;}&::-webkit-scrollbar-thumb{border-radius:2px;background-color:rgba(#a5a5a5,0.5);}"],[""]))),Q=M.default.div.withConfig({componentId:"sc-1Tx10-8",displayName:"StyledContentItemWrapper"})(p||(p=Object(N.__makeTemplateObject)(["&:not(:first-child){margin-top:18px;}&:last-of-type{margin-bottom:20px;}"],[""]))),X=M.default.div.withConfig({componentId:"sc-1Tx10-9",displayName:"StyledContentItemType"})(f||(f=Object(N.__makeTemplateObject)(["line-height:20px;font-size:14px;font-weight:bold;color:#4a4a4a;padding-left:3px;padding-bottom:10px;margin:0 30px 0;border-bottom:1px solid #e5e5e5;"],[""]))),J=M.default.ul.withConfig({componentId:"sc-1Tx10-10",displayName:"StyledContentItemList"})(m||(m=Object(N.__makeTemplateObject)(["list-style:none;margin:0;padding:8px 0 0;&:first-of-type{margin-top:3px;}"],[""]))),$=M.default.li.withConfig({componentId:"sc-1Tx10-11",displayName:"StyledContentItem"})(b||(b=Object(N.__makeTemplateObject)(["font-size:12px;color:#333333;line-height:25px;padding:5px 30px;&:hover{background:#f7f7f7;}"],[""]))),ee=M.default.span.withConfig({componentId:"sc-1Tx10-12",displayName:"StyledContentItemSvg"})(h||(h=Object(N.__makeTemplateObject)(["width:25px;height:25px;display:inline-block;vertical-align:top;"],[""]))),te=M.default.span.withConfig({componentId:"sc-1Tx10-13",displayName:"StyledContentItemName"})(g||(g=Object(N.__makeTemplateObject)(["display:inline-block;padding-left:10px;cursor:pointer;"],[""]))),ne=M.default.span.withConfig({componentId:"sc-1Tx10-14",displayName:"StyledContentItemActive"})(v||(v=Object(N.__makeTemplateObject)(["float:right;height:25px;width:8px;color:#4a4a4a;font-weight:bold;margin-right:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAA3lBMVEVBRkv///9BRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRktBRkvZV0PIAAAASnRSTlMAAAECAwQFBggJCwwNDhARFRYXGBobHR8iJiktMTQ6PUFCREZLTE5PVFVYW11gZWhrbXBzd3h5ent+gIOFhoeIi4yOkJKTlZeYmTEwCHsAAADASURBVHjatdLFEgJBDATQxlnc3d3dbZFF5v9/CBIWiq0abtCXSecdchmYvuYPBFmaVUBOdSEaZilVxSNtGZVJbgUJFQWlJLmVv5FUwGSPfUiOpQYm70xLvCV7JWmAKbIR4hTXJcPSwpMGVI5RLukLlY5ZJ2VK9RAGkGLpkjBBWdBCDSJ5pqFnwZvgXtJql9Xo6VvxQfCsxCtDGwwE31qXkR0wEvxblrEDBuIE1IdMnJAQQnsxVyAlREYuo/z8R90Byc4nI4LcStwAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center;background-size:8px auto;line-height:24px;text-align:center;visibility:",";"],["",""])),(function(e){return e.active?"visible":"hidden"})),re=function(e){var t,n=e.onSwitchPlay,r=e.item,i=e.activeName;return P.a.createElement($,{onClick:function(){return n(r.name)}},(t=r.svg).match(/<\?xml/)?P.a.createElement(ee,{dangerouslySetInnerHTML:{__html:t}}):P.a.createElement(ee,{style:{backgroundImage:"url("+t+")"}}),P.a.createElement(te,null,r.name),P.a.createElement(ne,{active:r.name===i}))},ie=function(e){var t=e.content,n=e.activeName,r=e.type,i=e.onSwitchPlay;return P.a.createElement(Q,null,P.a.createElement(X,null,r),P.a.createElement(J,null,t.map((function(e){return P.a.createElement(re,{key:e.name,item:e,activeName:n,onSwitchPlay:i})}))))},ae=function(e){function t(t){var n=e.call(this,t)||this;return n.state={playing:n.props.data[0].content[0],fixTop:!1},n.contentRef=P.a.createRef(),n.isCN=function(){return"zh-CN"===z.a.getLocale()},n.handleSwitchPrev=function(){var e=n.searchData(n.state.playing.name).beforeItem;e&&n.setState({playing:e})},n.handleSwitchNext=function(){var e=n.searchData(n.state.playing.name).afterItem;e&&n.setState({playing:e})},n.handleSwitchCurrent=function(e){var t=n.searchData(e).currentItem;t&&n.setState({playing:t})},n.handleScroll=function(){n.contentRef.current&&n.setState({fixTop:n.contentRef.current.scrollTop>0})},n.searchData=function(e){var t,r,i,a,o,c,l;try{for(var s=Object(N.__values)(n.props.data),u=s.next();!u.done;u=s.next()){var d=u.value;try{for(var p=(i=void 0,Object(N.__values)(d.content)),f=p.next();!f.done;f=p.next()){var m=f.value;if(c){l=m;break}m.name===e?c=m:o=m}}catch(e){i={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}if(l)break}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return{beforeItem:o,currentItem:c,afterItem:l}},n.handleScroll=V()(n.handleScroll,300),n}return Object(N.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.fixTop,r=t.playing,i=this.props.data;return P.a.createElement(U,null,this.isCN()&&P.a.createElement(G,null,P.a.createElement(K,{forbid:this.playingFirst,onClick:this.handleSwitchPrev}),P.a.createElement(H,{controls:!0,src:r.video}),P.a.createElement(Y,{forbid:this.playingLast,onClick:this.handleSwitchNext})),P.a.createElement(Z,{fixed:n},P.a.createElement("span",null,r.name),P.a.createElement("p",null,r.desc)),P.a.createElement(q,{ref:this.contentRef,onScroll:this.handleScroll},i.map((function(t){return P.a.createElement(ie,{key:t.type,type:t.type,content:t.content,onSwitchPlay:e.handleSwitchCurrent,activeName:r.name})}))))},Object.defineProperty(t.prototype,"playingFirst",{get:function(){var e=this.state.playing,t=this.props.data;return e.name===t[0].content[0].name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playingLast",{get:function(){var e=this.state.playing,t=this.props.data;return e.name===t[t.length-1].content[t[t.length-1].content.length-1].name},enumerable:!1,configurable:!0}),t}(P.a.PureComponent),oe=M.default.div.withConfig({componentId:"sc-AmBVY",displayName:"StyledWrapper"})(_||(_=Object(N.__makeTemplateObject)(["width:350px;bottom:0;right:0;height:100%;z-index:109;background-color:#fff;color:#333;-webkit-font-smoothing:antialiased;"],[""]))),ce=M.default.div.withConfig({componentId:"sc-AmBVY-1",displayName:"StyledContent"})(y||(y=Object(N.__makeTemplateObject)(["padding:0 30px;height:calc(100% - 20px);width:290px;overflow-y:scroll;&::-webkit-scrollbar{width:4px;background-color:transparent;}&::-webkit-scrollbar-thumb{border-radius:2px;background-color:rgba(#a5a5a5,0.5);}"],[""]))),le=M.default.div.withConfig({componentId:"sc-AmBVY-2",displayName:"StyledContentItemWrapper"})(O||(O=Object(N.__makeTemplateObject)(["&:first-child .sm-shortkey-content-item-type{padding-top:2px;}&:last-of-type{margin-bottom:25px;}"],[""]))),se=M.default.div.withConfig({componentId:"sc-AmBVY-3",displayName:"StyledContentItemType"})(j||(j=Object(N.__makeTemplateObject)(["line-height:20px;font-size:14px;color:#333333;padding-left:3px;padding-bottom:10px;border-bottom:1px solid #e5e5e5;padding-top:22px;"],[""]))),ue=M.default.ul.withConfig({componentId:"sc-AmBVY-4",displayName:"StyledContentItemList"})(w||(w=Object(N.__makeTemplateObject)(["list-style:none;margin:0;padding:0;"],[""]))),de=M.default.li.withConfig({componentId:"sc-AmBVY-5",displayName:"StyledContentItem"})(x||(x=Object(N.__makeTemplateObject)(["font-size:12px;border-bottom:1px solid #e5e5e5;line-height:25px;padding:5px 0;white-space:nowrap;"],[""]))),pe=M.default.div.withConfig({componentId:"sc-AmBVY-6",displayName:"StyledContentItemBox"})(E||(E=Object(N.__makeTemplateObject)(["display:inline-block;width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;"],[""]))),fe=M.default.span.withConfig({componentId:"sc-AmBVY-7",displayName:"StyledContentItemName"})(k||(k=Object(N.__makeTemplateObject)(["display:inline-block;width:116px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],[""]))),me=M.default.span.withConfig({componentId:"sc-AmBVY-8",displayName:"StyledShortKey"})(C||(C=Object(N.__makeTemplateObject)(["color:#666;"],[""]))),be=M.default.i.withConfig({componentId:"sc-AmBVY-9",displayName:"StyledShortKeyText"})(T||(T=Object(N.__makeTemplateObject)(["display:inline-block;box-sizing:border-box;padding:0 3px;min-width:16px;background-image:linear-gradient(-180deg,#f7f7f7,#ececed);border-radius:2px;line-height:16px;text-align:center;font-style:normal;"],[""]))),he=M.default.em.withConfig({componentId:"sc-AmBVY-10",displayName:"StyledShortKeyConnectFlag"})(S||(S=Object(N.__makeTemplateObject)(["margin:0 3px;font-style:normal;"],[""]))),ge=M.default.span.withConfig({componentId:"sc-AmBVY-11",displayName:"StyledContentSvg"})(I||(I=Object(N.__makeTemplateObject)(["width:25px;height:25px;display:inline-block;vertical-align:top;padding-right:6px;background-repeat:no-repeat;"],[""]))),ve=function(e){var t=e.shortKey;return P.a.createElement(me,null,t.map((function(e,t){return P.a.createElement(P.a.Fragment,{key:e},t>0&&P.a.createElement(he,null,"+"),P.a.createElement(be,null,e))})))},_e=function(e){var t,n=e.item;return P.a.createElement(de,null,P.a.createElement(pe,null,(t=n.svg).match(/<\?xml/)?P.a.createElement(ge,{dangerouslySetInnerHTML:{__html:t}}):P.a.createElement(ge,{style:{backgroundImage:"url("+t+")"}}),P.a.createElement(fe,{style:n.style},n.name)),P.a.createElement(ve,{shortKey:n.key}))},ye=function(e){var t=e.type,n=e.content;return P.a.createElement(le,null,P.a.createElement(se,null,t),P.a.createElement(ue,null,n.map((function(e){return P.a.createElement(_e,{item:e,key:e.name})}))))},Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return Object(N.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return P.a.createElement(oe,null,P.a.createElement(ce,null,e.map((function(e,t){return P.a.createElement(ye,{key:t,type:e.type,content:e.content})}))))},t}(P.a.PureComponent)},1298:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),i.a.createElement("path",{d:"M6 15H3V4h14v11H9.2L6 18.2V15zm-.5-6.5v2h2v-2h-2zm3.5 0v2h2v-2H9zm3.5 0v2h2v-2h-2z",fill:"#555"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1312:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i,a,o=n(2),c=n(1262),l=n(8),s=n.n(l),u=n(122),d=n(253),p=d.default.div.withConfig({componentId:"sc-bdJIS",displayName:"StyledContainer"})(r||(r=Object(o.__makeTemplateObject)(["position:fixed;right:0;transform:translateX(",");"],["",""])),(function(e){return e.visible?"0":"100%"})),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={animationBeforeShow:!1,animationBeforeHide:!1,visible:n.props.visible},n.asyncTaskHandler=0,n}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"sidebarContainer",{get:function(){return this._sidebarContainerEl||(this._sidebarContainerEl=document.createElement("div")),this._sidebarContainerEl},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.sidebarContainer.setAttribute("data-sidebar",""),document.body.appendChild(this.sidebarContainer)},t.prototype.componentWillUnmount=function(){this.sidebarContainer.remove()},t.prototype.componentDidUpdate=function(e){var t=this;!0===this.props.visible&&!1===e.visible?(this.asyncTaskHandler&&clearTimeout(this.asyncTaskHandler),this.setState({visible:!0,animationBeforeShow:!0}),this.asyncTaskHandler=setTimeout((function(){t.setState({animationBeforeShow:!1})}),10)):!1===this.props.visible&&!0===e.visible&&(this.asyncTaskHandler&&clearTimeout(this.asyncTaskHandler),this.setState({animationBeforeHide:!0}),this.asyncTaskHandler=setTimeout((function(){t.setState({animationBeforeHide:!1,visible:!1})}),this.props.animationDuration||10))},t.prototype.render=function(){var e=this.props.className;return this.state.visible?Object(u.createPortal)(s.a.createElement(p,{className:e,visible:this.state.visible&&!this.state.animationBeforeHide&&!this.state.animationBeforeShow},this.props.children),this.sidebarContainer):null},t}(s.a.PureComponent),m=Object(d.default)(f).withConfig({componentId:"sc-2VfDNJ",displayName:"StyledSidebar"})(i||(i=Object(o.__makeTemplateObject)(["width:350px;top:55px;bottom:0;box-shadow:0 1px 6px #cccccc;padding-top:15px;box-sizing:border-box;z-index:1001;background:#ffffff;transition:all 0.3s ease-in-out 0.1s;"],[""]))),b=d.default.span.withConfig({componentId:"sc-2VfDNJ-1",displayName:"StyledCloseIcon"})(a||(a=Object(o.__makeTemplateObject)(["position:absolute;right:35px;top:33px;display:inline-block;font-size:14px;color:#c2c2c2;cursor:pointer;&:hover{color:#333333;}&:before{content:'\\2715';}"],[""])));function h(e){return function(t){return function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.tabOptions="function"==typeof e?e():e,t.state={visible:!1,activeKey:t.tabOptions[0]?t.tabOptions[0].key:""},t.handleSidebarVisibleChange=function(e){t.setState({visible:e})},t.handleActiveKeyChange=function(e){t.setState({activeKey:e})},t.handleCloseSidebar=function(){t.setState({visible:!1})},t}return Object(o.__extends)(r,n),r.prototype.render=function(){var e=this.state,n=e.visible,r=e.activeKey;return s.a.createElement(s.a.Fragment,null,s.a.createElement(t,Object(o.__assign)({},this.props,{userGuidePanelVisible:n,userGuidePanelActiveKey:r,changeUserGuidePanelVisible:this.handleSidebarVisibleChange,changeUserGuidePanelActiveKey:this.handleActiveKeyChange})),s.a.createElement(m,{visible:n,animationDuration:400},s.a.createElement(s.a.Fragment,null,s.a.createElement(c.c,{tabOptions:this.tabOptions,activeKey:r,onActiveKeyChange:this.handleActiveKeyChange}),s.a.createElement(b,{onClick:this.handleCloseSidebar}))))},r}(s.a.PureComponent)}}},1344:function(e,t,n){"use strict";n.d(t,"c",(function(){return cc})),n.d(t,"d",(function(){return lc})),n.d(t,"a",(function(){return Cd})),n.d(t,"b",(function(){return _p}));var r=n(2),i=n(971),a=n(8),o=n.n(a),c=n(253),l=n(11),s=n.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=m(a);function a(){return d(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",g({width:"175",height:"70",viewBox:"0 0 175 70"},this.props),o.a.createElement("path",{d:"M71.55 35a35 35 0 1 1-70 0 35 35 0 0 1 70 0zm0 0",fill:"#00c2ca"}),o.a.createElement("path",{d:"M50.79 35.47a3.43 3.43 0 0 1-.95-2.24c0-.44.15-.97.53-.97.33 0 .74.47.74 1.53a4.9 4.9 0 0 1-.32 1.68zm9.34 5.34c-.05-.41-.02-.92.1-1.5.34-1.4.41-1.77.39-1.95-.05-.35-.3-.5-.6-.5-.61 0-1.45.62-1.67 1.47-.34 1.3-1.26 2.18-1.88 2.18-.77 0-1.17-.82-1.27-1.67-.26-2.13 1.1-4.75 3.07-4.75.59 0 1.21.23 1.28.82.11.92-.85.71-.8 1.1.04.38.7.5 1.14.5.45 0 1.74-.3 1.55-1.8-.14-1.18-1.39-1.74-2.83-1.74a5.4 5.4 0 0 0-4.15 2.05c-.12.08-.26.2-.4.37a2.2 2.2 0 0 1-1.97.7c.5-.97.85-1.97.85-2.86 0-1.41-.89-2.12-1.86-2.12-1.24 0-2.5 1.1-2.5 3.21 0 1.27.5 2.3 1.38 2.86-1 1.66-2.39 3.01-2.6 3.01-.11 0-.14-.12-.17-.24-.15-.56-.3-1.65-.3-2.33 0-1.2.24-2.41.68-3.71.06-.14.1-.3.1-.41 0-.36-.24-.53-.56-.53-.66 0-1.63.73-1.86 1.5-.24.74-.33 1.74-.33 2.98l.01.67c-1.2 1.58-2.68 2.15-3.15 2.15-.58 0-.69-.48-.62-.79.3-1.49.78-3.21 1.2-4.37.2-.56.28-1.06.25-1.35-.07-.53-.45-.8-.95-.8-1.18 0-3.16 1.24-4.42 2.92l.4-1.82c.04-.17.05-.32.04-.44-.05-.35-.27-.5-.57-.5-1.44 0-1.7.73-1.83 1.44l-.8 4.08c-1.07.97-2.24 1.6-2.56 1.6-.4 0-.54-.31-.55-.54-.01-.27.29-1.54.36-1.93.03-.18.04-.32.03-.44-.04-.32-.26-.47-.59-.47-.62 0-1.46.59-1.67 1.47-.34 1.3-1.24 2.18-1.86 2.18-.77 0-1.2-.82-1.3-1.65-.21-1.82.96-4.77 3.08-4.77.59 0 1.2.2 1.28.8.11.94-.83.7-.78 1.11.04.39.7.5 1.12.5.47 0 1.73-.29 1.55-1.77-.14-1.17-1.36-1.76-2.84-1.76-3.4 0-5.68 3.32-5.47 5.98a9.7 9.7 0 0 1-3.32 2.45c-.89.44-1.89.7-2.83.7-2.83 0-4.2-2.59-4.49-4.83-.7-5.75 4.37-13.65 7.91-13.65.82 0 1.56.72 1.7 1.83.21 1.73.18 2.96-1.63 4.46-.19.16-.25.43-.15.58.16.24.64.26 1.62-.23 1.91-.96 2.6-2.45 2.39-4.17a4.08 4.08 0 0 0-4.15-3.5c-1.09 0-2.29.32-3.35.98-4.67 2.82-7.68 9.28-7.07 14.2.19 1.57.84 3.27 2.07 4.43.83.76 2.33 1.7 4.1 1.7 1.92 0 3.54-.73 4.99-1.65.98-.63 1.8-1.4 2.5-2.18a2.92 2.92 0 0 0 2.55 1.74c.83 0 1.6-.41 2.19-1.18.17.71.67 1.18 1.56 1.18.65 0 2.03-.65 3.31-1.6l-.13.68c-.03.18-.05.33-.03.45.03.32.26.47.56.47.62 0 1.52-.6 1.7-1.5l.28-1.3c.36-1.62 2.74-4.07 3.42-4.07.09 0 .16.06.17.17.05.42-.76 1.77-1.1 3.96-.07.41-.09.79-.04 1.11.12.98.7 1.63 1.76 1.63.92 0 2.87-.78 4.27-2.31.1.86.29 1.59.56 2.04.12.21.38.27.62.27.3 0 .7-.11 1.15-.35 1.06-.6 2.45-1.92 3.77-3.84.18.04.32.04.5.04.54 0 1.13-.2 1.68-.54-.2.67-.29 1.34-.21 1.98.19 1.53 1.51 2.7 2.87 2.7.8 0 1.57-.4 2.16-1.14.18.97.8 2 2.32 2.63.1.05.22.05.3.05.3 0 .48-.2.45-.44a.66.66 0 0 0-.22-.35 2.7 2.7 0 0 1-.86-1.74zm0 0",fill:"#fff"}),o.a.createElement("path",{d:"M100.42 28.8c.3-.71.1-1.2-.14-1.48-.44-.52-1.32-.76-2.15-.57a1.9 1.9 0 0 0-1.5 1.38 28.53 28.53 0 0 0-.92 6.57v.07c-.23 3-.1 6.55.29 7.58.17.45.57.64 1.13.52.79-.15 1.2-.55 1.15-1.11-.02-.3 0-2.23.22-4.5 1-4.49 4.32-5.28 6.2-5.35 1.15-.04 2.61.47 2.92 2.04.49 2.41-1.16 5.3-3.83 6.72a6.9 6.9 0 0 1-3.5.88.61.61 0 0 0-.55.36.76.76 0 0 0 .05.65c.3.53 1.23.75 1.85.9l.27.06c.38.07.77.1 1.16.1 1.72 0 3.43-.6 4.94-1.76a9.7 9.7 0 0 0 3.75-6.53c.26-2.85-.7-5.06-2.72-6.23-2.34-1.36-5.73-1.01-8.43.88a9.7 9.7 0 0 0-.84.68l.2-.57c.13-.43.26-.84.45-1.29zm54.91 8.12c-.16.45-1.04.89-2.2 1.1.12-.78.42-1.33.9-1.68h.02c.07-.08.24-.12.42-.12.23 0 .49.06.67.18.2.13.27.3.2.52zM135.87 21.7c.56.44 1.42.58 2.31.38l.03-.01a143.2 143.2 0 0 1 12.54-2.35c.08 0 .15-.02.22-.03a28.67 28.67 0 0 0-7.7 6.63 20.4 20.4 0 0 0-4.35 9.52 11.57 11.57 0 0 0 1.03 7.1 9.15 9.15 0 0 0 5.56 4.41c1.56.48 3.17.7 4.78.7 4.25 0 8.42-1.6 11.26-4.51a9.9 9.9 0 0 0 2.58-8.26 7.2 7.2 0 0 0-3.7-5.51 10.92 10.92 0 0 0-9.8.31c-2.44 1.35-4.31 3.81-4.67 6.13-.19 1.28.07 2.34.77 3.15.88 1.01 2.38 1.57 4.25 1.59.1.4.22.8.33 1.17l.05.15c.1.33.46.5.92.42.43-.06.86-.35.86-.76 0-.36 0-.76-.03-1.2a7.5 7.5 0 0 0 3.77-1.89c.66-.64.9-1.46.66-2.28a3.34 3.34 0 0 0-2.54-2.19c-2.07-.44-3.59.18-4.04 1.65-.19.6-.29 1.28-.3 2.03-.55-.1-1.35-.38-1.42-1.06-.17-1.83.98-3.67 2.94-4.7a7.3 7.3 0 0 1 6.05.01c.8.4 1.8 1.18 2 2.58.42 2.26-.23 4.5-1.7 5.83-2.01 1.88-5.58 3.04-8.9 2.88-2.47-.13-4.52-.98-5.79-2.41-.9-1.25-1.18-3.07-.81-5.57.49-3.38 2.6-7.05 5.97-10.32a28.61 28.61 0 0 1 10.36-6.52l.94-.07.38-.03 1.21-.07.8-.04.82-.04c.8-.03 1.42-.65 1.54-1.55.07-.49-.02-.88-.26-1.17-.26-.3-.72-.48-1.3-.5l-.84-.02-.83-.01-1.27-.01h-.38a137.93 137.93 0 0 0-16.4 1.03 142.2 142.2 0 0 0-6.7.96c-1.3.3-1.87 1.2-1.86 2.95 0 .64.23 1.16.66 1.5zm0 0",fill:"#00c2ca"}),o.a.createElement("path",{d:"M123.71 15.67l-.52-.06-.52-.05h-.1l-.93-.1-2-.13h-.04l-1.35-.08-.7-.03-2.05-.06c-2.66-.06-5.43-.02-8.21.13l-1.55.08-.33.02-.18.02-2.06.17-.76.08c-.1 0-.18.02-.27.03l-2.05.23-.67.1-.36.05-2.06.3-3.07.57-3.06.7-.16.04c-1.39.43-1.66 1.45-1.66 3.07 0 .58.24 1.05.68 1.38.6.45 1.56.57 2.43.3l2.9-.88 2.83-.74 1.93-.42.34-.08c.2-.04.41-.1.62-.13l1.94-.36.26-.05c.23-.04.47-.09.72-.12l1.95-.3.18-.03.31-.04 1.48-.19c2.57-.32 5.13-.54 7.62-.67.19.95.37 1.94.55 2.91.9 5.67 1.64 11.69.95 17.21a21.54 21.54 0 0 1-2.43 7.9 14.7 14.7 0 0 1-5.9 5.8c-4.37 2.22-9.48 2.1-13.93 1.81h-.02c-.3.02-.54.22-.62.55-.1.4.03.85.3 1.02 1.3.85 6.33 1.18 7.04 1.18h.02l1.09.02c6.1 0 10.9-2.07 14.26-6.16 2.99-3.64 4.75-8.74 5.26-15.15.42-5.32-.11-11.43-1.48-17.22a40.1 40.1 0 0 1 2.06.02h.11l.5.01.52.02c.65.03 1.22-.46 1.38-1.18.08-.4.03-.73-.15-.99-.2-.28-.56-.45-1.04-.5zm48.12 20.15a15.26 15.26 0 0 1-1.55 5.8 20.5 20.5 0 0 1-.65-4.26c-.13-3.25.36-4.05.8-4.15a.8.8 0 0 1 .73.18c.48.41.74 1.36.67 2.43zm2.92 16.08a20.43 20.43 0 0 1-2.87-5.44c.98-1.58 1.7-3.3 2.17-5.1.66-2.7 1.5-6.06-.43-8.91a3.06 3.06 0 0 0-3.08-1.39 3.76 3.76 0 0 0-2.9 2.88c-.92 3.5-.84 7.6.22 11.29a20.81 20.81 0 0 1-12.46 6.69c-3.04.58-6.45.6-9.6.01a19.86 19.86 0 0 1-8.7-3.7 12.37 12.37 0 0 1-4.88-9.54.6.6 0 0 0-.44-.54.54.54 0 0 0-.46.08c-.5.37-.63 1.57-.72 2.77l-.05.51c-.15 3.06.97 6.24 3.07 8.7a20.36 20.36 0 0 0 7.75 5.24 26.12 26.12 0 0 0 9.34 1.68h.04c7.4 0 14.45-2.9 18.9-7.72a12.3 12.3 0 0 0 3.72 4.06c.47.32.98.12 1.28-.2.3-.34.47-.91.1-1.37zm0 0",fill:"#00c2ca"}))}}])&&p(t.prototype,n),r&&p(t,r),a}(o.a.Component),_=n.p+"static/lizard-one/assets/card-1.5c3effe4.jpg",y=n.p+"static/lizard-one/assets/card-2.4a59be49.jpg",O=n.p+"static/lizard-one/assets/card-3.5371e88b.jpg";function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S,I,N,R,P,M,A,B,D,L,z,F,V,U,G,H,W,K,Y,Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r,i=k(a);function a(){return w(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Z({width:"30",height:"30",viewBox:"0 0 30 30"},this.props),o.a.createElement("path",{d:"M19.187 6.603l-.671-.783-.632.587-7.344-.02.377.454a.2.2 0 0 0 .107.036c.075-.004 1.23-.028 2.729-.056-.007.014-.01-.007-.013.012-.829 2.075-1.751 3.99-3.875 5.685l-.006.008a.064.064 0 0 0 .018.126c.014.004.028 0 .044-.01 1.873-1.212 2.93-2.587 3.061-2.768v4.845c0 .09.096.126.165.098.354-.406.577-.792.605-1.24.375-.012 2.056-.01 3.005-.036.127.113.182.097.273.476 0 .065.033.09.1.073.01-.002.018-.006.026-.01.624-.39.71-.712.71-1.88l.001-2.12c0-.027.006-.052.019-.072l.204-.432c.03-.043.033-.075-.004-.097l-.72-.422c-.042-.03-.097-.019-.127.03l-.178.404a.09.09 0 0 1-.077.046l-3.112-.004-.438-.176c.546-.68.742-1.078 1.073-1.617.036-.06.046-.1.066-.106.065-.02.092-.13.033-.176a.262.262 0 0 0-.026-.025c-.268-.154-.495-.336-.663-.596l-.018-.018h.006c1.1-.02 5.185-.08 5.185-.08.097.002.127-.042.097-.136zm-5.41 3.245l.113-.071.436-.01 2.078-.002.57.004c.052 0 .095.05.095.115l.004 2.727v.008c.006.2-.045.461-.231.648l-.07.048-2.997.01V9.848h.002zM13.842 17.507a4.575 4.575 0 0 0-1.023-.599c-.045-.02-.067.016-.051.05.203.188.36.569.476 1.145.067.22.201.264.406.13.136-.11.164-.168.204-.227.149-.217.155-.37-.012-.5zM13.058 20.725c-.049-.02-.073.018-.055.054.217.201.387.611.51 1.23.072.237.218.282.437.138.146-.118.176-.18.219-.243.16-.232.168-.396-.013-.536-.204-.167-.555-.404-1.098-.643zM15.26 20.725c-.05-.019-.072.02-.053.056.224.193.413.595.565 1.208.081.233.23.274.442.12.14-.124.168-.19.209-.254.15-.24.15-.402-.035-.536a4.848 4.848 0 0 0-1.129-.594zM12.06 20.682c-.154.373-.433.637-.982 1.015-.144.101-.18.282.014.411 0 0 .251.108.364.136.286.071.41-.012.493-.229.097-.248.189-1.327.189-1.327a.038.038 0 0 0-.039-.038.04.04 0 0 0-.038.032z",fill:"#41454b"}),o.a.createElement("path",{d:"M19.2 24.29l-.742-.777-.566.588-2.438-.01h-.205v-.877l3.302-.03a.1.1 0 0 0 .04-.008.057.057 0 0 0 .017-.008.053.053 0 0 0 .02-.041.058.058 0 0 0-.012-.032l-.002-.005-.582-.598-.47.458-2.315-.006v-1l.083-.097c.033-.033.033-.057 0-.073l-.809-.197v1.365l-3.454-.002.264.286c.022.017.06.027.075.027.063-.004 1.575-.018 3.115-.033v.87l-4.092-.005.263.286c.023.016.061.026.075.026.136-.008 8.364-.01 8.364-.01.016 0 .03-.002.04-.006a.05.05 0 0 0 .04-.05c.007-.02-.001-.031-.011-.041zM18.413 21.155a5.238 5.238 0 0 0-1.289-.434c-.055-.013-.073.034-.046.069.27.164.537.556.8 1.174.126.232.288.25.485.051.127-.156.146-.227.176-.302.12-.278.093-.449-.126-.558zM18.922 20.518v-.002l-.58-.585-.456.42-2.639-.01c.002-.006.002-.72.002-.72 1.462-.008 2.858-.018 2.858-.018.018 0 .03-.002.04-.009a.043.043 0 0 0 .017-.01.053.053 0 0 0 .02-.04.041.041 0 0 0-.012-.03l-.002-.007-.584-.564-.407.414h-1.932l-.002-.69c1.453-.008 2.982.008 2.982.008.056 0 .111-.075.075-.125l-.05-.065v-1.54l.167-.299c.025-.042.014-.075-.012-.093v-.002l-.26-.132-.403-.225-.22.385c-4.49-.006-4.507-.006-5.372-.01l-.74-.209.004 2.7.002.005-.002.008c0 .037.03.067.067.067a.07.07 0 0 0 .048-.02c.142-.098.41-.319.546-.459.089.002 1.078.008 2.434 0v.686l-2.963-.02.263.261c.023.017.061.027.075.027.063-.004 1.196.01 2.625.004v.714l-3.823-.024.264.26c.022.016.06.026.075.026.057-.004.057-.008 7.826.014.008 0 .016 0 .024-.002l.009.002a.054.054 0 0 0 .052-.053c.004-.014-.004-.028-.016-.038zm-3.675-3.711h2.258v1.635h-1.668c.263-.073.975-.432 1.186-.87.052-.051.046-.092-.004-.145l-.499-.444c-.02-.024-.034-.03-.053-.026-.02.006-.026.028-.036.063-.148.602-.276.933-.614 1.42h-.568v-1.633h-.002zm-.73 1.637h-2.353V16.81c.434.002 1.368-.002 2.353 0v1.635z",fill:"#41454b"}))}}])&&x(t.prototype,n),r&&x(t,r),a}(o.a.Component),Q=function(e){var t=e.onClose,n=e.onConfirm;return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,null,o.a.createElement(J,null),o.a.createElement(ee,null,"×"),o.a.createElement($,null)),o.a.createElement(te,null,o.a.createElement(ne,null,o.a.createElement(ie,null,s()("购买会员更划算")),o.a.createElement(ae,null,s()("只需 300 元，全年无限使用可商用素材")),o.a.createElement(oe,null,o.a.createElement(ce,{onClick:n,"data-test":"canva-intro-confirm"},s()("购买会员一键解锁")),o.a.createElement(le,{onClick:t,"data-test":"canva-intro-cancel"},s()("狠心拒绝")))),o.a.createElement(re,null,o.a.createElement(se,null,o.a.createElement(ue,null,o.a.createElement(de,{src:_}),o.a.createElement(pe,null,o.a.createElement(fe,null,s()("千万视觉中国可商用版权图片")),o.a.createElement(me,null,s()("市场价 ≈ 500 元 / 一张")))),o.a.createElement(ue,null,o.a.createElement(de,{src:y}),o.a.createElement(pe,null,o.a.createElement(fe,null,s()("1500 款可商用中英文字体")),o.a.createElement(me,null,s()("市场价 ≈ 10000 元 / 年")))),o.a.createElement(ue,null,o.a.createElement(de,{src:O}),o.a.createElement(pe,null,o.a.createElement(fe,null,s()("6 万+ 精美原创模板")),o.a.createElement(me,null,s()("市场价 ≈ 500 元 / 一张"))))))))},X=c.default.div.withConfig({componentId:"sc-bier6",displayName:"StyledHeader"})(S||(S=Object(r.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:24px;"],[""]))),J=Object(c.default)(q).withConfig({componentId:"sc-bier6-1",displayName:"StyledShimoLogo"})(I||(I=Object(r.__makeTemplateObject)(["width:30px;height:30px;margin:1px 0;border-radius:50%;background-color:#fcfdfe;box-shadow:0 0 20px rgba(0,0,0,0.15);"],[""]))),$=Object(c.default)(v).withConfig({componentId:"sc-bier6-2",displayName:"StyledCanvaLogo"})(N||(N=Object(r.__makeTemplateObject)(["width:75px;height:30px;margin:1px 0;"],[""]))),ee=c.default.div.withConfig({componentId:"sc-bier6-3",displayName:"StyledLogoSeparator"})(R||(R=Object(r.__makeTemplateObject)(["width:32px;font-size:18px;line-height:32px;text-align:center;color:#41464b;"],[""]))),te=c.default.div.withConfig({componentId:"sc-bier6-4",displayName:"StyledContent"})(P||(P=Object(r.__makeTemplateObject)(["display:flex;margin-bottom:48px;"],[""]))),ne=c.default.div.withConfig({componentId:"sc-bier6-5",displayName:"StyledMainColumn"})(M||(M=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;flex:1;overflow:hidden;"],[""]))),re=c.default.div.withConfig({componentId:"sc-bier6-6",displayName:"StyledSideColumn"})(A||(A=Object(r.__makeTemplateObject)(["margin-left:24px;"],[""]))),ie=c.default.div.withConfig({componentId:"sc-bier6-7",displayName:"StyledTitle"})(B||(B=Object(r.__makeTemplateObject)(["font-size:42px;font-weight:500;line-height:64px;color:#41464b;"],[""]))),ae=c.default.div.withConfig({componentId:"sc-bier6-8",displayName:"StyledDescription"})(D||(D=Object(r.__makeTemplateObject)(["font-size:18px;line-height:32px;color:#41464b;"],[""]))),oe=c.default.div.withConfig({componentId:"sc-bier6-9",displayName:"StyledActions"})(L||(L=Object(r.__makeTemplateObject)(["display:flex;margin-top:auto;"],[""]))),ce=Object(c.default)(i.l).attrs({type:"primary",size:"l"}).withConfig({componentId:"sc-bier6-10",displayName:"StyledConfirmButton"})(z||(z=Object(r.__makeTemplateObject)(["border-color:#24bac7;background-image:linear-gradient(to bottom,#56bfc8,#24bac7);&:hover{background-image:linear-gradient(to bottom,#56bfc8,#56bfc8);}&:active{background-image:linear-gradient(to bottom,#24bac7,#24bac7);}"],[""]))),le=Object(c.default)(i.l).attrs({type:"secondary",size:"l"}).withConfig({componentId:"sc-bier6-11",displayName:"StyledCancelButton"})(F||(F=Object(r.__makeTemplateObject)(["margin-left:12px;"],[""]))),se=c.default.div.withConfig({componentId:"sc-bier6-12",displayName:"StyledCardList"})(V||(V=Object(r.__makeTemplateObject)(["display:flex;margin:0 -6px;"],[""]))),ue=c.default.div.withConfig({componentId:"sc-bier6-13",displayName:"StyledCard"})(U||(U=Object(r.__makeTemplateObject)(["margin:0 6px;padding:6px;border-radius:2px;box-shadow:0 0 10px rgba(0,0,0,0.12);"],[""]))),de=c.default.img.withConfig({componentId:"sc-bier6-14",displayName:"StyledCardCover"})(G||(G=Object(r.__makeTemplateObject)(["display:block;width:184px;height:109px;"],[""]))),pe=c.default.div.withConfig({componentId:"sc-bier6-15",displayName:"StyledCardContent"})(H||(H=Object(r.__makeTemplateObject)(["margin-top:6px;padding:6px 0;"],[""]))),fe=c.default.div.withConfig({componentId:"sc-bier6-16",displayName:"StyledCardTitle"})(W||(W=Object(r.__makeTemplateObject)(["font-size:13px;font-weight:500;line-height:24px;text-align:center;color:#41464b;"],[""]))),me=c.default.div.withConfig({componentId:"sc-bier6-17",displayName:"StyledCardDescription"})(K||(K=Object(r.__makeTemplateObject)(["font-size:10px;line-height:24px;text-align:center;color:#41464b;"],[""]))),be=function(e){var t=e.visible,n=void 0===t||t,r=e.onClose,i=e.onConfirm;return o.a.createElement(he,{visible:n,width:1080,footer:null,onCancel:r},o.a.createElement(Q,{onClose:function(){return null==r?void 0:r()},onConfirm:function(){return null==i?void 0:i()}}))},he=Object(c.default)(i.k).withConfig({componentId:"sc-3V3P91",displayName:"StyledModal"})(Y||(Y=Object(r.__makeTemplateObject)([".sm-modal-content{padding:24px 32px;}.sm-modal-body{margin:0;}.sm-modal-close{right:32px;top:24px;}"],[""]))),ge=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},ve=n(28),_e=function(){function e(){}return e.prototype.getEditions=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.get("/billing/v2/describeEditions")]}))}))},e.prototype.calculatePrice=function(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){return[2,ve.s.get("/billing/v2/calculateEditions",{params:{edition:e.edition,duration:e.duration,memberCount:e.seats}})]}))}))},e.prototype.createOrder=function(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,ve.s.post("/billing/v2/orders",{edition:e.edition,duration:e.duration,memberCount:e.seats,teamId:t})]}))}))},e.prototype.createCharge=function(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,ve.s.post("/billing/v2/charges",{orderId:e,channel:t})]}))}))},e.prototype.createOrderWithCharge=function(e,t,n){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(r){return[2,ve.s.post("/billing/v2/charges",{edition:e.edition,duration:e.duration,memberCount:e.seats,channel:t,teamId:n})]}))}))},e.prototype.checkChargeResult=function(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){return[2,ve.s.post("/billing/v1/charges/payment_succeed",{charge_id:e})]}))}))},e}(),ye=function(){function e(){}return e.prototype.getEditions=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.get("/billing/v2/canva/describe")]}))}))},e.prototype.createOrder=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.post("/billing/v2/canva/orders")]}))}))},e.prototype.createCharge=function(e,t){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(n){return[2,ve.s.post("/billing/v2/canva/charges",{orderId:e,channel:t})]}))}))},e.prototype.createAuthToken=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.post("/billing/v2/canva/jwt")]}))}))},e}(),Oe=function(){function e(){}return e.prototype.getMine=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.get("/teams/mine#lo-billing")]}))}))},e}(),je=function(){function e(){}return e.prototype.getMe=function(){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return[2,ve.s.get("/users/me#lo-billing")]}))}))},e}(),we=new _e,xe=new ye,Ee=new Oe,ke=new je,Ce=n(71);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,e);var t,n,r,i=Re(a);function a(){return Se(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Ae({width:"24",height:"24",viewBox:"0 0 24 24"},this.props),o.a.createElement("path",{d:"M5.333 2h13.334A3.333 3.333 0 0 1 22 5.333v10.153s-.647-.05-3.498-1.003a71.315 71.315 0 0 1-1.846-.66c-.378-.14-.778-.287-1.193-.436a15.895 15.895 0 0 0 1.652-4.162h-3.902V7.823h4.78v-.782h-4.78V4.704h-1.951c-.343 0-.343.337-.343.337v2H6.084v.782h4.835v1.402H6.927v.782h7.743a13.752 13.752 0 0 1-1.116 2.718c-2.512-.827-5.193-1.497-6.876-1.085-1.077.265-1.771.738-2.179 1.232-1.87 2.27-.529 5.716 3.421 5.716 2.336 0 4.586-1.299 6.33-3.438 2.6 1.247 7.75 3.387 7.75 3.387v.13A3.333 3.333 0 0 1 18.667 22H5.333A3.333 3.333 0 0 1 2 18.667V5.333A3.333 3.333 0 0 1 5.333 2z",fill:"#2194d3"}),o.a.createElement("path",{d:"M5.083 13.526c-1.522 1.323-.612 3.743 2.468 3.743 1.79 0 3.58-1.142 4.985-2.97-1.999-.972-3.692-1.668-5.522-1.488-.495.05-1.423.268-1.931.715z",fill:"#2194d3"}))}}])&&Ie(t.prototype,n),r&&Ie(t,r),a}(o.a.Component);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(a,e);var t,n,r,i=Ve(a);function a(){return Le(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",He({width:"24",height:"24",viewBox:"0 0 24 24"},this.props),o.a.createElement("path",{d:"M22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zM8.695 7.312l-2.156 3.75h10.922V9.188H9.492l1.078-1.876H8.695zm6.89 5.625h1.876l-2.156 3.75H13.43l1.078-1.875H6.539v-1.874h9.047z",fill:"#41464b",fillOpacity:".9",fillRule:"evenodd"}))}}])&&ze(t.prototype,n),r&&ze(t,r),a}(o.a.Component);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var i=Je(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(a,e);var t,n,r,i=Qe(a);function a(){return Ye(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",$e({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{fillRule:"evenodd",d:"M3 1.75H1.75V3h1.494L5 12H13.031v-1H5.805L5.56 9.75h7.47l1.024-5.25h.008v-.038l.187-.962H4.341L4 1.75H3zm9.226 7l.829-4.25H4.537l.829 4.25h6.86zM6.72 13.375a.875.875 0 1 1-1.75 0 .875.875 0 0 1 1.75 0zm5.437.875a.875.875 0 1 0 0-1.75.875.875 0 0 0 0 1.75z"}))}}])&&Ze(t.prototype,n),r&&Ze(t,r),a}(o.a.Component);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var i=ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(a,e);var t,n,r,i=at(a);function a(){return nt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",lt({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{d:"M10.736 4.779L9.953 4 5.6 8.357l4.357 4.357.779-.779-3.578-3.578 3.578-3.578z"}))}}])&&rt(t.prototype,n),r&&rt(t,r),a}(o.a.Component);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var i=ht(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(a,e);var t,n,r,i=mt(a);function a(){return dt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",gt({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{d:"M6.333 11.285l.712.715L11 8 7.041 4l-.708.715L9.584 8l-3.25 3.285z"}))}}])&&pt(t.prototype,n),r&&pt(t,r),a}(o.a.Component);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var i=Et(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(a,e);var t,n,r,i=wt(a);function a(){return yt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",kt({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{d:"M13.555 10.386a5.552 5.552 0 0 0-.254-.338 7.096 7.096 0 0 0-.275-.319 4.935 4.935 0 0 0 .245-1.538c0-2.814-2.364-5.103-5.27-5.103-.061 0-.121.002-.181.004a8.555 8.555 0 0 0-.192-.344 6.137 6.137 0 0 0-.212-.338c.194-.018.39-.028.584-.028 3.309 0 6 2.606 6 5.81 0 .752-.15 1.497-.445 2.194zM5.704 5.819s.68 3.316 3.91 5.043c.409-1.074 1.116-1.728 1.493-1.728h.01c.212.007 1.029.632 1.6 1.331.088.107.169.214.241.322.081.12.151.24.207.357.146.309.189.597.054.818-1 .842-1.512 1.335-2.19 1.335-.05 0-.101-.004-.153-.009a2.2 2.2 0 0 1-.534-.133 4.55 4.55 0 0 1-.45-.2c-.573-.29-1.308-.77-2.335-1.47-2.36-1.926-2.854-3.383-3.615-5.527-.074-.285-.144-.538-.203-.767a8.583 8.583 0 0 1-.105-.45 2.99 2.99 0 0 1-.06-.467c-.03-.77.395-1.28 1.94-2.197A.575.575 0 0 1 5.797 2c.285 0 .564.22.82.539.078.095.154.2.226.312.069.103.134.211.198.322.288.503.52 1.05.66 1.377.346.814-1.997 1.27-1.997 1.27zM8 13.294c.309 0 .611-.026.905-.075.153.092.308.18.465.266.155.084.314.162.476.234A6.161 6.161 0 0 1 8 14c-3.308 0-6-2.606-6-5.809a5.641 5.641 0 0 1 .96-3.15c.034.156.073.32.118.493l.053.204.084.315c-.32.67-.487 1.4-.486 2.138 0 2.814 2.365 5.103 5.271 5.103z"}))}}])&&Ot(t.prototype,n),r&&Ot(t,r),a}(o.a.Component);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var i=Mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(a,e);var t,n,r,i=Rt(a);function a(){return St(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",At({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{fillRule:"evenodd",d:"M6.338 3.8h3.047v2.277h2.277v4.585H6.338V3.8zm0-.8h3.816l.064.064 2.244 2.244v6.154H5.538V3h.8zm3.747 2.377V4.062l1.314 1.315h-1.314zm.838 6.854H4v.8h6.923v-.8zM4.8 4.538H4v7.693h.8V4.538z"}))}}])&&It(t.prototype,n),r&&It(t,r),a}(o.a.Component);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,e);var t,n,r,i=Vt(a);function a(){return Lt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Ht({width:"20",height:"20",viewBox:"0 0 20 20"},this.props),o.a.createElement("path",{fillRule:"evenodd",d:"M3.75 7.48a6.25 6.25 0 0 1 12.5.02v1.094c.863 0 1.563.7 1.563 1.562v3.125c0 .863-.7 1.563-1.563 1.563h-2.344v-6.25H15V7.5h.006a5.006 5.006 0 0 0-10.012-.02H5v1.114h1.094v6.25H4.687v2.031h4.454v-.469h2.343v1.719H9.141v-.469H3.906v-2.812H3.75c-.863 0-1.563-.7-1.563-1.563v-3.125c0-.863.7-1.562 1.563-1.562V7.48zm0 2.364h1.094v3.75H3.75a.313.313 0 0 1-.313-.313v-3.125c0-.172.14-.312.313-.312zm11.406 0h1.094c.173 0 .313.14.313.312v3.125c0 .173-.14.313-.313.313h-1.094v-3.75z"}))}}])&&zt(t.prototype,n),r&&zt(t,r),a}(o.a.Component);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var i=Jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(a,e);var t,n,r,i=Qt(a);function a(){return Yt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="aa4de1fd28ed60a1d27b20457d0826450_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",$t({width:"32",height:"13",viewBox:"0 0 32 13"},this.props),o.a.createElement("path",{d:"M3.566 11.588L0 0h30a2 2 0 0 1 2 2v11H5.477a2 2 0 0 1-1.911-1.412z",fill:"url(#".concat(e,")")}),o.a.createElement("path",{d:"M10.826 6.3c-.82-.407-1.23-.957-1.23-1.65 0-.207.044-.403.13-.59.094-.193.224-.363.39-.51.174-.153.377-.273.61-.36.234-.093.497-.14.79-.14.26 0 .497.037.71.11.22.073.407.173.56.3.16.127.284.277.37.45.087.167.13.347.13.54 0 .193-.03.36-.09.5-.053.14-.13.267-.23.38-.1.107-.223.21-.37.31-.146.093-.31.193-.49.3.327.16.584.317.77.47a1.7 1.7 0 0 1 .41.46 1.1 1.1 0 0 1 .17.45c.02.147.03.293.03.44 0 .253-.056.49-.17.71-.106.22-.253.41-.44.57-.18.16-.393.287-.64.38-.246.093-.51.14-.79.14-.293 0-.563-.04-.81-.12-.24-.087-.446-.2-.62-.34a1.474 1.474 0 0 1-.4-.49 1.386 1.386 0 0 1-.14-.61c0-.16.02-.317.06-.47a1.49 1.49 0 0 1 .23-.46c.107-.147.247-.283.42-.41.174-.127.387-.247.64-.36zm.96-.53c.247-.153.424-.33.53-.53.107-.2.16-.45.16-.75 0-.313-.083-.57-.25-.77-.16-.2-.416-.3-.77-.3-.326 0-.566.093-.72.28-.153.18-.23.407-.23.68 0 .273.094.52.28.74.194.213.527.43 1 .65zm-.67.69c-.153.093-.28.193-.38.3-.1.1-.18.21-.24.33a1.58 1.58 0 0 0-.12.38c-.02.133-.03.283-.03.45 0 .407.11.73.33.97.227.24.51.36.85.36.674 0 1.01-.393 1.01-1.18 0-.187-.03-.353-.09-.5a1.185 1.185 0 0 0-.26-.41 2.055 2.055 0 0 0-.44-.36 5.982 5.982 0 0 0-.63-.34zm10.498-3.44c.44-.107 1.226-.503 2.36-1.19.18.153.416.37.71.65.293.28.46.443.5.49.046.047.07.087.07.12s-.067.043-.2.03a4.922 4.922 0 0 0-.48-.02c-.527 0-1.454.053-2.78.16-.08.12-.12.3-.12.54.006.233-.01.743-.05 1.53h2.29c.286-.54.48-.81.58-.81.066 0 .176.07.33.21l.47.42c.173.147.26.27.26.37 0 .093-.09.14-.27.14h-1.24a.447.447 0 0 1-.11.16v4.11l.02.65c0 .06-.014.103-.04.13-.02.033-.097.077-.23.13-.134.06-.287.107-.46.14-.167.04-.304.06-.41.06-.06 0-.09-.04-.09-.12V5.66h-1.12a28.68 28.68 0 0 1-.15 1.98c-.054.493-.16.94-.32 1.34-.154.4-.377.747-.67 1.04-.287.3-.62.553-1 .76-.38.207-.594.31-.64.31-.014 0-.02-.007-.02-.02 0-.02.036-.063.11-.13.44-.407.76-.813.96-1.22.206-.413.346-.983.42-1.71.08-.733.113-1.897.1-3.49h-1.42v1.64c.72-.147 1.103-.22 1.15-.22.046 0 .07.013.07.04 0 .02-.044.05-.13.09-.56.267-.924.447-1.09.54v3.12c0 .307-.03.527-.09.66a.68.68 0 0 1-.26.32c-.12.08-.29.147-.51.2-.22.053-.39.08-.51.08-.114 0-.18-.087-.2-.26-.027-.22-.09-.383-.19-.49-.1-.1-.25-.18-.45-.24-.194-.053-.29-.087-.29-.1 0-.02.033-.03.1-.03l.46.01c.34 0 .56-.037.66-.11.1-.073.15-.21.15-.41v-2.1c-.274.173-.58.383-.92.63-.06.047-.104.07-.13.07-.027 0-.05-.017-.07-.05a60.453 60.453 0 0 0-.18-.43 7.227 7.227 0 0 1-.29-.84l1.59-.26V4.52h-1.14c-.16 0-.304.02-.43.06l-.17-.43c.153.027.32.04.5.04h1.24V3.03c0-.407-.014-.767-.04-1.08.326.013.613.043.86.09.246.04.396.073.45.1.053.02.08.057.08.11s-.074.107-.22.16v1.78h.26c.173-.293.283-.47.33-.53.046-.067.09-.1.13-.1.066 0 .3.19.7.57 0-.513-.01-1.017-.03-1.51.6.147 1.016.28 1.25.4z",fill:"#fff"}),o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:e,x2:"1",y2:"1"},o.a.createElement("stop",{offset:"0",stopColor:"#73b1eb"}),o.a.createElement("stop",{offset:"1",stopColor:"#4a90e2"}))))}}])&&Zt(t.prototype,n),r&&Zt(t,r),a}(o.a.Component);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ln(e);if(t){var i=ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(a,e);var t,n,r,i=on(a);function a(){return nn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="8d693709758c71b1632e28368d43c9b10_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",sn({width:"32",height:"13",viewBox:"0 0 32 13"},this.props),o.a.createElement("path",{d:"M3.566 11.588L0 0h30a2 2 0 0 1 2 2v11H5.477a2 2 0 0 1-1.911-1.412z",fill:"url(#".concat(e,")")}),o.a.createElement("path",{d:"M11.746 6.84c-.18.087-.366.13-.56.13-.24 0-.466-.037-.68-.11a1.577 1.577 0 0 1-.56-.33 1.543 1.543 0 0 1-.38-.56 2.236 2.236 0 0 1-.13-.8c0-.307.054-.59.16-.85.107-.26.25-.483.43-.67.187-.193.4-.34.64-.44.247-.107.507-.16.78-.16.294 0 .564.057.81.17.247.113.457.28.63.5.18.213.32.473.42.78.1.307.15.65.15 1.03 0 .507-.09.99-.27 1.45a4.26 4.26 0 0 1-.72 1.24 4.18 4.18 0 0 1-1.1.91c-.42.24-.873.393-1.36.46l-.04-.22c.414-.107.76-.283 1.04-.53a2.87 2.87 0 0 0 .69-.88c.18-.347.307-.733.38-1.16.08-.433.12-.887.12-1.36 0-.287-.01-.56-.03-.82a3.402 3.402 0 0 0-.1-.7c-.046-.2-.12-.357-.22-.47a.494.494 0 0 0-.4-.18.53.53 0 0 0-.39.16c-.1.107-.183.247-.25.42-.06.167-.103.357-.13.57-.026.213-.04.427-.04.64 0 .18.017.367.05.56.04.187.097.357.17.51.074.153.164.28.27.38.107.1.23.15.37.15.094 0 .167-.01.22-.03l.03.21zm9.868-3.82c.44-.107 1.226-.503 2.36-1.19.18.153.416.37.71.65.293.28.46.443.5.49.046.047.07.087.07.12s-.067.043-.2.03a4.922 4.922 0 0 0-.48-.02c-.527 0-1.454.053-2.78.16-.08.12-.12.3-.12.54.006.233-.01.743-.05 1.53h2.29c.286-.54.48-.81.58-.81.066 0 .176.07.33.21l.47.42c.173.147.26.27.26.37 0 .093-.09.14-.27.14h-1.24a.447.447 0 0 1-.11.16v4.11l.02.65c0 .06-.014.103-.04.13-.02.033-.097.077-.23.13-.134.06-.287.107-.46.14-.167.04-.304.06-.41.06-.06 0-.09-.04-.09-.12V5.66h-1.12a28.68 28.68 0 0 1-.15 1.98c-.054.493-.16.94-.32 1.34-.154.4-.377.747-.67 1.04-.287.3-.62.553-1 .76-.38.207-.594.31-.64.31-.014 0-.02-.007-.02-.02 0-.02.036-.063.11-.13.44-.407.76-.813.96-1.22.206-.413.346-.983.42-1.71.08-.733.113-1.897.1-3.49h-1.42v1.64c.72-.147 1.103-.22 1.15-.22.046 0 .07.013.07.04 0 .02-.044.05-.13.09-.56.267-.924.447-1.09.54v3.12c0 .307-.03.527-.09.66a.68.68 0 0 1-.26.32c-.12.08-.29.147-.51.2-.22.053-.39.08-.51.08-.114 0-.18-.087-.2-.26-.027-.22-.09-.383-.19-.49-.1-.1-.25-.18-.45-.24-.194-.053-.29-.087-.29-.1 0-.02.033-.03.1-.03l.46.01c.34 0 .56-.037.66-.11.1-.073.15-.21.15-.41v-2.1c-.274.173-.58.383-.92.63-.06.047-.104.07-.13.07-.027 0-.05-.017-.07-.05a60.453 60.453 0 0 0-.18-.43 7.227 7.227 0 0 1-.29-.84l1.59-.26V4.52h-1.14c-.16 0-.304.02-.43.06l-.17-.43c.153.027.32.04.5.04h1.24V3.03c0-.407-.014-.767-.04-1.08.326.013.613.043.86.09.246.04.396.073.45.1.053.02.08.057.08.11s-.074.107-.22.16v1.78h.26c.173-.293.283-.47.33-.53.046-.067.09-.1.13-.1.066 0 .3.19.7.57 0-.513-.01-1.017-.03-1.51.6.147 1.016.28 1.25.4z",fill:"#fff"}),o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:e,x2:"1",y2:"1"},o.a.createElement("stop",{offset:"0",stopColor:"#73b1eb"}),o.a.createElement("stop",{offset:"1",stopColor:"#4a90e2"}))))}}])&&rn(t.prototype,n),r&&rn(t,r),a}(o.a.Component);function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gn(e);if(t){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(a,e);var t,n,r,i=bn(a);function a(){return pn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",vn({width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},this.props),o.a.createElement("path",{d:"M7 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm9-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-31 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0-3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0-3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm0-3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-7 31a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-15-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1-7a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",fill:"#c4c4c4"}),o.a.createElement("circle",{cx:"24",cy:"52",r:"2",fill:"#eceded"}),o.a.createElement("circle",{cx:"48",cy:"52",r:"2",fill:"#eceded"}))}}])&&fn(t.prototype,n),r&&fn(t,r),a}(o.a.Component);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var i=kn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return En(this,n)}}function En(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(a,e);var t,n,r,i=xn(a);function a(){return On(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Cn({width:"16",height:"16",viewBox:"0 0 16 16"},this.props),o.a.createElement("path",{d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14z",fill:"#41464B",fillOpacity:".1"}),o.a.createElement("path",{d:"M7.136 10.025V11.5h1.596v-1.475H7.136zM5.5 6.865h1.494c0-.172.02-.332.06-.479.042-.153.103-.284.184-.392a.92.92 0 0 1 .325-.268c.136-.07.295-.106.478-.106.27 0 .48.07.63.211.156.14.233.358.233.651a.722.722 0 0 1-.101.431c-.068.115-.16.22-.275.316-.115.096-.24.192-.376.287-.135.096-.264.211-.386.345-.122.128-.23.284-.325.47a1.94 1.94 0 0 0-.163.689v.43H8.65v-.363a.97.97 0 0 1 .194-.479c.108-.128.23-.24.365-.335.136-.102.278-.201.427-.297.156-.102.295-.223.417-.364.129-.14.234-.31.315-.507.088-.198.132-.45.132-.757 0-.185-.044-.383-.132-.594a1.606 1.606 0 0 0-.417-.603 2.296 2.296 0 0 0-.782-.46c-.319-.127-.718-.191-1.2-.191-.372 0-.71.06-1.016.182a2.26 2.26 0 0 0-.772.488c-.21.211-.376.46-.498.747a2.668 2.668 0 0 0-.183.948z",fill:"#41464B",fillOpacity:".6"}))}}])&&jn(t.prototype,n),r&&jn(t,r),a}(o.a.Component);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=An(e);if(t){var i=An(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(a,e);var t,n,r,i=Pn(a);function a(){return In(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="db94217a774ca59f042c788e197503280_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",Bn({width:"20",height:"20",viewBox:"0 0 20 20"},this.props),o.a.createElement("rect",{width:"20",height:"20",rx:"2",fill:"url(#".concat(e,")")}),o.a.createElement("path",{d:"M7.384 5.984h-2.22a.745.745 0 0 0-.432.132l-.312-.564c.192.024.392.036.6.036h2.364v-.576c0-.264-.012-.556-.036-.876.416.032.772.072 1.068.12.296.048.476.092.54.132.064.032.096.068.096.108 0 .088-.108.176-.324.264v.828h2.184v-.636c0-.264-.012-.556-.036-.876.344.024.68.06 1.008.108.328.048.536.092.624.132.096.04.144.092.144.156s-.116.14-.348.228v.888h1.164c.24-.432.408-.716.504-.852.096-.144.172-.216.228-.216.128 0 .412.196.852.588.448.384.672.636.672.756 0 .08-.084.12-.252.12h-3.168l.012.78c0 .088-.024.156-.072.204-.048.048-.164.1-.348.156a1.967 1.967 0 0 1-.576.084c-.192 0-.308-.016-.348-.048-.04-.04-.06-.144-.06-.312v-.864H8.728v.636c.208.048.476.124.804.228.328.096.508.164.54.204a.163.163 0 0 1 .048.12c0 .04-.06.084-.18.132-.088.04-.26.256-.516.648h3.684c.104-.184.22-.38.348-.588a3.3 3.3 0 0 1 .264-.372c.04-.048.084-.072.132-.072.12 0 .392.184.816.552.424.36.636.604.636.732 0 .096-.108.144-.324.144H9.184c-.312.488-.64.94-.984 1.356.12.056.18.128.18.216 0 .08-.088.164-.264.252v4.668c0 .104-.028.18-.084.228-.048.048-.176.1-.384.156-.208.056-.44.084-.696.084-.12 0-.18-.048-.18-.144l.024-.564c.016-.392.024-.748.024-1.068v-2.4a14.33 14.33 0 0 1-1.5 1.104c-.568.36-.872.536-.912.528h-.012c0-.016.064-.088.192-.216.88-.88 1.62-1.8 2.22-2.76l-.012-.492.276.06c.168-.296.34-.632.516-1.008H5.512a.745.745 0 0 0-.432.132l-.312-.564c.192.024.392.036.6.036h2.388c.152-.384.268-.704.348-.96a8.593 8.593 0 0 1-.588.012c-.112 0-.168-.036-.168-.108l.036-.912zm4.656 4.56l.396-.864H9.784a.745.745 0 0 0-.432.132l-.312-.564c.192.024.392.036.6.036h2.604c.28-.456.464-.684.552-.684.096 0 .312.124.648.372.344.24.6.428.768.564.176.136.264.244.264.324 0 .08-.032.136-.096.168a.335.335 0 0 1-.204.036 1.164 1.164 0 0 0-.228-.024c-.456 0-.984.2-1.584.6.232.064.348.128.348.192s-.064.124-.192.18v.42h1.212c.376-.648.62-.972.732-.972.112 0 .36.172.744.516.384.336.576.564.576.684 0 .112-.076.168-.228.168H12.52v1.932c0 .544-.072.9-.216 1.068-.144.176-.388.308-.732.396-.344.096-.604.144-.78.144-.168 0-.26-.096-.276-.288-.04-.44-.356-.756-.948-.948-.112-.04-.168-.072-.168-.096 0-.016.044-.024.132-.024l.54.012c.304 0 .524-.024.66-.072.144-.048.236-.12.276-.216.048-.104.072-.264.072-.48v-1.428H8.992a.745.745 0 0 0-.432.132l-.312-.564c.192.024.392.036.6.036h2.232c0-.44-.008-.808-.024-1.104.288.056.616.128.984.216z",fill:"#fff"}),o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:e,x2:"1",y2:"1"},o.a.createElement("stop",{offset:"0",stopColor:"#f3833a"}),o.a.createElement("stop",{offset:"1",stopColor:"#faa573"}))))}}])&&Nn(t.prototype,n),r&&Nn(t,r),a}(o.a.Component);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var i=Hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gn(this,n)}}function Gn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(a,e);var t,n,r,i=Un(a);function a(){return zn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Wn({width:"24",height:"24",viewBox:"0 0 24 24"},this.props),o.a.createElement("path",{d:"M0 24L24 0v22a2 2 0 0 1-2 2H0z",fill:"#73b1eb"}),o.a.createElement("path",{d:"M11.607 15.162L10.5 16.279 14.184 20 21 13.118 19.893 12l-5.709 5.764-2.577-2.602z",fill:"#fff"}))}}])&&Fn(t.prototype,n),r&&Fn(t,r),a}(o.a.Component);function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var i=$n(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var er,tr,nr,rr,ir,ar,or,cr,lr,sr,ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(a,e);var t,n,r,i=Xn(a);function a(){return Zn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",ur({width:"24",height:"24",viewBox:"0 0 24 24"},this.props),o.a.createElement("path",{d:"M9.274 14.512a.664.664 0 0 1-.882-.27l-.043-.095-1.82-3.995a.333.333 0 0 1 .5-.408l2.148 1.53a.993.993 0 0 0 .889.102L20.169 6.78C18.358 4.645 15.375 3 12 3 6.477 3 2 6.977 2 11.58c0 2.511 1.347 4.875 3.455 6.402a.666.666 0 0 1 .245.756l-.45 1.681c-.021.079-.054.16-.054.244 0 .184.149.333.333.333a.375.375 0 0 0 .193-.062l2.19-1.264a1.05 1.05 0 0 1 .53-.154c.102 0 .2.016.294.044 1.021.294 2.123.457 3.264.457 5.523 0 10-3.835 10-8.437 0-1.394-.413-2.705-1.14-3.86L9.348 14.47l-.073.042z",fill:"#00c700"}))}}])&&qn(t.prototype,n),r&&qn(t,r),a}(o.a.Component),pr=function(e){var t=e.onClick,n=Object(r.__read)(Object(a.useState)(!1),2),c=n[0],l=n[1];return o.a.createElement(i.u,{trigger:"click",placement:"leftTop",theme:"white",title:o.a.createElement(mr,null,o.a.createElement(br,null,s()("拨打咨询电话，了解更多产品详情")),o.a.createElement(hr,null,o.a.createElement(gr,null,o.a.createElement(vr,null)),o.a.createElement(_r,null,s()("销售顾问"),o.a.createElement("br",null),s()("400-666-9920"))),o.a.createElement(yr,null,o.a.createElement(Or,{onClick:function(){return l(!1)}},s()("我知道了")))),visible:c,onVisibleChange:function(e){return l(e)}},o.a.createElement(fr,{iconBefore:o.a.createElement(Ct,null),onClick:t,"data-test":"contact-button"},s()("联系顾问")))},fr=Object(c.default)(i.l).attrs({type:"minimal",size:"s"}).withConfig({componentId:"sc-1vrHYd",displayName:"StyledButton"})(er||(er=Object(r.__makeTemplateObject)(["padding:1px 7px;svg{fill:rgba(65,70,75,0.9);}"],[""]))),mr=c.default.div.withConfig({componentId:"sc-1vrHYd-1",displayName:"StyledPopover"})(tr||(tr=Object(r.__makeTemplateObject)(["box-sizing:border-box;width:272px;margin:-6px -10px;padding:16px;text-align:left;"],[""]))),br=c.default.div.withConfig({componentId:"sc-1vrHYd-2",displayName:"StyledTitle"})(nr||(nr=Object(r.__makeTemplateObject)(["font-size:13px;font-weight:500;line-height:20px;color:#41464b;"],[""]))),hr=c.default.div.withConfig({componentId:"sc-1vrHYd-3",displayName:"StyledCard"})(rr||(rr=Object(r.__makeTemplateObject)(["display:flex;align-items:center;padding:8px 0;"],[""]))),gr=c.default.div.withConfig({componentId:"sc-1vrHYd-4",displayName:"StyledCardAvatar"})(ir||(ir=Object(r.__makeTemplateObject)(["display:flex;justify-content:center;align-items:center;width:32px;height:32px;margin-right:12px;border-radius:50%;background-image:linear-gradient(to bottom,#6c9fe2,#80b3f5);"],[""]))),vr=Object(c.default)(Wt).withConfig({componentId:"sc-1vrHYd-5",displayName:"StyledCardIcon"})(ar||(ar=Object(r.__makeTemplateObject)(["fill:#fff;"],[""]))),_r=c.default.div.withConfig({componentId:"sc-1vrHYd-6",displayName:"StyledCardContent"})(or||(or=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;font-size:13px;line-height:20px;color:#41464b;"],[""]))),yr=c.default.div.withConfig({componentId:"sc-1vrHYd-7",displayName:"StyledFooter"})(cr||(cr=Object(r.__makeTemplateObject)(["display:flex;justify-content:flex-end;"],[""]))),Or=Object(c.default)(i.l).attrs({type:"minimal",subType:"guidance",size:"s"}).withConfig({componentId:"sc-1vrHYd-8",displayName:"StyledCloseButton"})(lr||(lr=Object(r.__makeTemplateObject)(["padding:1px 7px;"],[""]))),jr=c.default.button.withConfig({componentId:"sc-BT4u",displayName:"ButtonBase"})(sr||(sr=Object(r.__makeTemplateObject)(["margin:0;padding:0;border:none;border-radius:0;font:inherit;color:currentColor;background:none;cursor:pointer;&:disabled{cursor:not-allowed;}"],[""])));jr.defaultProps={type:"button"};var wr,xr,Er,kr,Cr,Tr,Sr=function(e){var t=e.items,n=void 0===t?[]:t,r=e.value,i=void 0===r?null:r,c=e.canNavigate,l=void 0!==c&&c,s=e.onNavigate,u=n.findIndex((function(e){return e.value===i}));return o.a.createElement(Ir,null,n.map((function(e,t){return o.a.createElement(a.Fragment,{key:e.value},0!==t&&o.a.createElement(Nr,{isDisabled:t>u},o.a.createElement(vt,null)),l&&t<u?o.a.createElement(Pr,{onClick:function(){return null==s?void 0:s(e.value)}},o.a.createElement(Mr,null,e.name)):o.a.createElement(Rr,{isDisabled:t>u},o.a.createElement(Mr,null,e.name)))})))},Ir=c.default.div.withConfig({componentId:"sc-clTr0",displayName:"StyledContainer"})(wr||(wr=Object(r.__makeTemplateObject)(["display:flex;"],[""]))),Nr=c.default.div.withConfig({componentId:"sc-clTr0-1",displayName:"StyledSeparator"})(xr||(xr=Object(r.__makeTemplateObject)(["margin:0 8px;padding:4px;svg{display:block;fill:",";}"],["",""])),(function(e){return e.isDisabled?"rgba(65, 70, 75, 0.3);":"rgba(65, 70, 75, 0.9)"})),Rr=c.default.div.withConfig({componentId:"sc-clTr0-2",displayName:"StyledItem"})(Er||(Er=Object(r.__makeTemplateObject)(["color:",";user-select:none;"],["",""])),(function(e){return e.isDisabled?"rgba(65, 70, 75, 0.3);":"rgba(65, 70, 75, 0.9)"})),Pr=Object(c.default)(jr).withConfig({componentId:"sc-clTr0-3",displayName:"StyledLinkItem"})(kr||(kr=Object(r.__makeTemplateObject)(["color:#4583d4;"],[""]))),Mr=c.default.div.withConfig({componentId:"sc-clTr0-4",displayName:"StyledItemName"})(Cr||(Cr=Object(r.__makeTemplateObject)(["font-size:13px;line-height:24px;"],[""])));!function(e){e.Alipay="alipay",e.Wechat="wechat",e.BankTransfer="bank-transfer"}(Tr||(Tr={}));var Ar,Br,Dr,Lr,zr,Fr,Vr,Ur,Gr,Hr,Wr,Kr,Yr,Zr,qr,Qr,Xr,Jr,$r,ei,ti,ni,ri,ii,ai,oi,ci,li,si,ui,di,pi,fi,mi,bi,hi,gi,vi,_i,yi,Oi,ji,wi,xi,Ei,ki,Ci,Ti,Si,Ii,Ni,Ri,Pi,Mi,Ai,Bi,Di,Li,zi,Fi,Vi,Ui,Gi,Hi,Wi,Ki,Yi,Zi,qi,Qi,Xi,Ji,$i,ea,ta,na,ra,ia,aa,oa,ca,la,sa,ua,da,pa,fa,ma,ba,ha,ga,va,_a,ya,Oa,ja,wa,xa,Ea,ka,Ca,Ta,Sa,Ia,Na,Ra=n(91),Pa=(Ar={},Ar[Tr.Alipay]="alipay_qr",Ar[Tr.Wechat]="wx_pub_qr",Ar[Tr.BankTransfer]="offline",Ar),Ma=(Br={},Br[Tr.Alipay]=null,Br[Tr.Wechat]=null,Br[Tr.BankTransfer]="offline",Br),Aa=function(e){return Object(Ra.isMobile)()?Ma[e]:Pa[e]},Ba=c.default.div.withConfig({componentId:"sc-JFVzL",displayName:"Card"})(Dr||(Dr=Object(r.__makeTemplateObject)(["border-radius:4px;background-color:#fff;box-shadow:inset 0 0 0 1px #eceded,0 2px 10px rgba(65,70,75,0.03);"],[""]))),Da=Object(a.createContext)({size:"normal",titleWidth:78}),La=function(e){var t=e.size,n=void 0===t?"normal":t,r=e.titleWidth,i=void 0===r?78:r,a=e.children;return o.a.createElement(Da.Provider,{value:{size:n,titleWidth:i}},o.a.createElement("div",null,a))},za=function(e){var t=e.title,n=e.description,r=Object(a.useContext)(Da),i=r.size,c=r.titleWidth;return o.a.createElement(Fa,{size:i},o.a.createElement(Va,{width:c},t),o.a.createElement(Ua,null,n))},Fa=c.default.div.withConfig({componentId:"sc-3jM_Tg",displayName:"StyledItem"})(zr||(zr=Object(r.__makeTemplateObject)(["display:flex;font-size:13px;line-height:20px;"," & + &{margin-top:8px;}"],["",""])),(function(e){return"large"===e.size&&Object(c.css)(Lr||(Lr=Object(r.__makeTemplateObject)(["font-size:14px;line-height:24px;"],[""])))})),Va=c.default.div.withConfig({componentId:"sc-3jM_Tg-1",displayName:"StyledTitle"})(Fr||(Fr=Object(r.__makeTemplateObject)(["min-width:","px;margin-right:16px;color:rgba(65,70,75,0.6);"],["",""])),(function(e){return e.width})),Ua=c.default.div.withConfig({componentId:"sc-3jM_Tg-2",displayName:"StyledDescription"})(Vr||(Vr=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;color:#41464b;"],[""]))),Ga=function(e){var t=e.method,n=e.icon,r=e.name,i=e.isSelected,a=void 0!==i&&i,c=e.onSelect;return o.a.createElement(Ha,null,o.a.createElement(Wa,{isSelected:a,"data-test":"payment-method-"+t},o.a.createElement(Ka,{type:"radio",name:"payment-method",value:t,checked:a,onChange:function(e){e.target.checked&&(null==c||c())}}),n&&o.a.createElement(Ya,null,o.a.createElement(n,null)),o.a.createElement(Za,{isSelected:a},r)))},Ha=c.default.div.withConfig({componentId:"sc-2JCBkn",displayName:"StyledItemWrapper"})(Ur||(Ur=Object(r.__makeTemplateObject)(["padding:0 8px;"],[""]))),Wa=c.default.label.withConfig({componentId:"sc-2JCBkn-1",displayName:"StyledItem"})(Gr||(Gr=Object(r.__makeTemplateObject)(["position:relative;display:flex;align-items:center;box-sizing:border-box;min-width:120px;padding:8px 12px;border-radius:2px;background-color:#fff;box-shadow:",";cursor:pointer;user-select:none;"],["",""])),(function(e){return e.isSelected?"inset 0 0 0 1.5px #73b1eb":"inset 0 0 0 1px rgba(65, 70, 75, 0.1)"})),Ka=c.default.input.withConfig({componentId:"sc-2JCBkn-2",displayName:"StyledInput"})(Hr||(Hr=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),Ya=c.default.span.withConfig({componentId:"sc-2JCBkn-3",displayName:"StyledIcon"})(Wr||(Wr=Object(r.__makeTemplateObject)(["margin-right:8px;svg{display:block;}"],[""]))),Za=c.default.span.withConfig({componentId:"sc-2JCBkn-4",displayName:"StyledName"})(Kr||(Kr=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:",";"],["",""])),(function(e){return e.isSelected?"#41464b":"rgba(65, 70, 75, 0.6)"})),qa=(Yr={},Yr[Tr.Alipay]=Be,Yr[Tr.Wechat]=dr,Yr[Tr.BankTransfer]=We,Yr),Qa=(Zr={},Zr[Tr.Alipay]=s()("支付宝"),Zr[Tr.Wechat]=s()("微信"),Zr[Tr.BankTransfer]=s()("对公转账"),Zr),Xa=[Tr.Alipay,Tr.Wechat,Tr.BankTransfer],Ja=function(e){var t=e.methods,n=void 0===t?Xa:t,r=e.value,i=void 0===r?null:r,a=e.onChange;return o.a.createElement($a,null,n.map((function(e){return o.a.createElement(Ga,{key:e,method:e,icon:qa[e],name:Qa[e],isSelected:i===e,onSelect:function(){return null==a?void 0:a(e)}})})))},$a=c.default.div.withConfig({componentId:"sc-2x1zRq",displayName:"StyledContainer"})(qr||(qr=Object(r.__makeTemplateObject)(["display:flex;margin:0 -8px;"],[""]))),eo=n(3155),to=n(3173),no=function(e){return Object(eo.a)(e,"yyyy / MM / dd HH:mm:ss",{locale:to.a})},ro=function(e){return void 0===e&&(e="¥"),e},io=function(e){var t=e.amount,n=e.currencyPrecision,r=void 0===n?2:n,i=e.currencySymbol,a=void 0===i?"¥":i,o=e.withSymbol,c=void 0===o||o,l=(t/Math.pow(10,r)).toString();return c&&a&&(l=ro(a)+" "+l),l},ao=function(e){var t=e.me,n=e.order,i=e.initialPaymentMethod,c=e.onConfirm,l=Object(r.__read)(Object(a.useState)(i),2),u=l[0],d=l[1];return o.a.createElement("div",null,o.a.createElement(oo,null,o.a.createElement(co,null,t.name),o.a.createElement(lo,null),o.a.createElement(La,{titleWidth:144},o.a.createElement(za,{title:s()("订单号"),description:n.orderNo}),o.a.createElement(za,{title:s()("下单时间"),description:no(new Date(n.createdAt))}),o.a.createElement(za,{title:s()("订单详情"),description:s()("购买 Canva 会员")}),o.a.createElement(za,{title:o.a.createElement(so,null,s()("支付金额")),description:o.a.createElement(so,null,io({amount:n.amount,currencyPrecision:n.currencyPrecision,currencySymbol:n.currencySymbol}))}))),o.a.createElement(uo,null,o.a.createElement(po,null,s()("支付方式")),o.a.createElement(Ja,{methods:[Tr.Alipay,Tr.Wechat],value:u,onChange:function(e){return d(e)}})),o.a.createElement(fo,null,o.a.createElement(mo,{onClick:function(){Ce.c.trackNew("canva_payment_pay_click",{eventId:231,pageId:57}),c(u)},"data-test":"canva-confirm"},s()("立即支付"))))},oo=Object(c.default)(Ba).withConfig({componentId:"sc-23Mj9B",displayName:"StyledOrderCard"})(Qr||(Qr=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;padding:16px 24px;"],[""]))),co=c.default.div.withConfig({componentId:"sc-23Mj9B-1",displayName:"StyledOrderTitle"})(Xr||(Xr=Object(r.__makeTemplateObject)(["font-size:16px;font-weight:500;line-height:24px;color:rgba(65,70,75,0.9);"],[""]))),lo=c.default.div.withConfig({componentId:"sc-23Mj9B-2",displayName:"StyledOrderSeparator"})(Jr||(Jr=Object(r.__makeTemplateObject)(["position:relative;margin:12px -24px;&::after{content:'';position:absolute;left:0;right:0;top:0;border-top:1px dashed rgba(65,70,75,0.2);}"],[""]))),so=c.default.div.withConfig({componentId:"sc-23Mj9B-3",displayName:"StyledBoldText"})($r||($r=Object(r.__makeTemplateObject)(["font-size:16px;font-weight:500;line-height:24px;"],[""]))),uo=Object(c.default)(Ba).withConfig({componentId:"sc-23Mj9B-4",displayName:"StyledPaymentCard"})(ei||(ei=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;margin-top:16px;padding:16px 24px;"],[""]))),po=c.default.div.withConfig({componentId:"sc-23Mj9B-5",displayName:"StyledPaymentTitle"})(ti||(ti=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:13px;font-weight:500;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),fo=c.default.div.withConfig({componentId:"sc-23Mj9B-6",displayName:"StyledFooter"})(ni||(ni=Object(r.__makeTemplateObject)(["display:flex;justify-content:flex-end;margin-top:24px;"],[""]))),mo=Object(c.default)(i.l).attrs({size:"l"}).withConfig({componentId:"sc-23Mj9B-7",displayName:"StyledConfirmButton"})(ri||(ri=Object(r.__makeTemplateObject)(["width:128px;"],[""]))),bo=function(e){var t=e.amount,n=e.currencyPrecision,r=e.currencySymbol;return o.a.createElement(ho,null,o.a.createElement(go,null,s()("总计：")),o.a.createElement(vo,null,ro(r)),o.a.createElement(_o,null,io({amount:t,currencyPrecision:n,currencySymbol:r,withSymbol:!1})))},ho=c.default.div.withConfig({componentId:"sc-1s8I60",displayName:"StyledPrice"})(ii||(ii=Object(r.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),go=c.default.div.withConfig({componentId:"sc-1s8I60-1",displayName:"StyledPriceLabel"})(ai||(ai=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),vo=c.default.div.withConfig({componentId:"sc-1s8I60-2",displayName:"StyledPriceSymbol"})(oi||(oi=Object(r.__makeTemplateObject)(["margin-right:4px;font-size:12px;line-height:20px;color:#2c3033;"],[""]))),_o=c.default.div.withConfig({componentId:"sc-1s8I60-3",displayName:"StyledPriceNumber"})(ci||(ci=Object(r.__makeTemplateObject)(["font-size:24px;font-weight:500;line-height:24px;font-variant-numeric:tabular-nums;color:#2c3033;"],[""]))),yo=n(3178),Oo=function(e,t){var n=(void 0===t?{}:t).withDistance,i=void 0!==n&&n,a=new Date,o=Object(eo.a)(e,"yyyy / M / d",{locale:to.a});if(i){var c=Object(yo.a)(e,{locale:to.a,unit:"day"});o+=a>e?s()(li||(li=Object(r.__makeTemplateObject)(["（已过期 ","）"],["（已过期 ","）"])),c):s()(si||(si=Object(r.__makeTemplateObject)(["（","后到期）"],["（","后到期）"])),c)}return o},jo=function(e){var t=e.visible,n=void 0===t||t,r=e.onClose;return o.a.createElement(wo,{visible:n,width:492,footer:null,onCancel:function(){null==r||r()}},o.a.createElement(xo,null,"Canva 素材使用协议"),o.a.createElement(Eo,null,"1）仅限个人和注册地为中国的公司通过石墨文档使用 Canva 商用版，且该版权内容仅可在石墨文档中编辑。",o.a.createElement("br",null),"2）Canva 商用版用户不得单独下载素材（在 Canva 设计中下载仅包含一个素材的 Canva 设计，视为对该素材的单独下载）或在石墨文档平台之外编辑、使用素材。",o.a.createElement("br",null),"3）订阅期结束后，您仍可以继续使用您在订阅期内已下载的设计。但是，对于您在订阅期间内尚未下载的设计，以及您在订阅期满后在石墨文档平台通过 Canva 创作的设计，您可能需要另行付费后下载。",o.a.createElement("br",null),"4）通过石墨文档购买的 Canva 商业版仅限该石墨账号使用，不可转移。",o.a.createElement("br",null),"5）其他使用规则请依照",o.a.createElement(ko,{href:"https://www.canva.cn/policies/canva-for-business/",target:"_blank",rel:"noreferrer noopener"},"《Canva 商用版使用条款》")))},wo=Object(c.default)(i.k).withConfig({componentId:"sc-1US62d",displayName:"StyledModal"})(ui||(ui=Object(r.__makeTemplateObject)([".sm-modal-content{padding:24px 32px;}.sm-modal-body{margin:0;}.sm-modal-close{right:32px;top:24px;}"],[""]))),xo=c.default.div.withConfig({componentId:"sc-1US62d-1",displayName:"StyledTitle"})(di||(di=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:20px;font-weight:500;line-height:32px;color:#41464b;"],[""]))),Eo=c.default.div.withConfig({componentId:"sc-1US62d-2",displayName:"StyledContent"})(pi||(pi=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),ko=c.default.a.withConfig({componentId:"sc-1US62d-3",displayName:"StyledLink"})(fi||(fi=Object(r.__makeTemplateObject)(["text-decoration:none;color:#4583d4;"],[""]))),Co=function(e){var t=e.editions,n=e.onSubmit,i=t[0],c=Object(r.__read)(Object(a.useState)(!1),2),l=c[0],u=c[1];return o.a.createElement("div",null,o.a.createElement(To,null,o.a.createElement(So,null,i.name),o.a.createElement(Io,null,s()(mi||(mi=Object(r.__makeTemplateObject)(["有效期至：",""],["有效期至：",""])),Oo(new Date(i.expiredAt)))),o.a.createElement(No,null,o.a.createElement(Ro,{onClick:function(){Ce.c.trackNew("canva_payment_terms_click",{eventId:236,pageId:57}),u(!0)},"data-test":"canva-terms"},s()("Canva 素材使用协议")))),o.a.createElement(Po,null,o.a.createElement(bo,{amount:i.tradeAmount,currencyPrecision:i.currencyPrecision,currencySymbol:i.currencySymbol}),o.a.createElement(Mo,{onClick:function(){Ce.c.trackNew("canva_payment_pay_click",{eventId:231,pageId:57}),n()},"data-test":"canva-submit"},s()("提交订单"))),o.a.createElement(jo,{visible:l,onClose:function(){Ce.c.trackNew("canva_payment_terms_close",{eventId:237,pageId:57}),u(!1)}}))},To=Object(c.default)(Ba).withConfig({componentId:"sc-l9uwM",displayName:"StyledCard"})(bi||(bi=Object(r.__makeTemplateObject)(["padding:16px 24px;"],[""]))),So=c.default.div.withConfig({componentId:"sc-l9uwM-1",displayName:"StyledName"})(hi||(hi=Object(r.__makeTemplateObject)(["font-size:16px;font-weight:500;line-height:24px;color:rgba(65,70,75,0.9);"],[""]))),Io=c.default.div.withConfig({componentId:"sc-l9uwM-2",displayName:"StyledDescription"})(gi||(gi=Object(r.__makeTemplateObject)(["margin-top:8px;font-size:13px;line-height:20px;color:rgba(65,70,75,0.6);"],[""]))),No=c.default.div.withConfig({componentId:"sc-l9uwM-3",displayName:"StyledActions"})(vi||(vi=Object(r.__makeTemplateObject)(["display:flex;margin-top:8px;"],[""]))),Ro=Object(c.default)(jr).withConfig({componentId:"sc-l9uwM-4",displayName:"StyledTermsLink"})(_i||(_i=Object(r.__makeTemplateObject)(["font-size:14px;line-height:24px;color:#4583d4;"],[""]))),Po=c.default.div.withConfig({componentId:"sc-l9uwM-5",displayName:"StyledFooter"})(yi||(yi=Object(r.__makeTemplateObject)(["display:flex;justify-content:flex-end;margin-top:24px;"],[""]))),Mo=Object(c.default)(i.l).attrs({size:"l"}).withConfig({componentId:"sc-l9uwM-6",displayName:"StyledSubmitButton"})(Oi||(Oi=Object(r.__makeTemplateObject)(["width:128px;margin-left:24px;"],[""]))),Ao=n(92),Bo=n(1068),Do=n(3179),Lo=function(e,t){var n=void 0===t?{}:t,r=n.size,i=void 0===r?320:r,a=n.margin;return"/qrcode?size="+i+"&margin="+(void 0===a?0:a)+"&url="+e},zo=function(e){var t=e.name,n=e.icon,i=e.price,a=e.url,c=e.onCheckResult;return o.a.createElement(Fo,null,o.a.createElement(Vo,null,s()("支付金额："),o.a.createElement(Uo,null,i)),o.a.createElement(Go,null,o.a.createElement(Ho,null,n),s.a.x(ji||(ji=Object(r.__makeTemplateObject)(["请用","扫码完成支付"],["请用","扫码完成支付"])),t)),o.a.createElement(Wo,{src:a&&Lo(a,{size:320})}),o.a.createElement(Ko,null,s()("扫码支付后，如果没有自动跳转"),o.a.createElement("br",null),o.a.createElement(Yo,{onClick:c},s()("请点这里"))))},Fo=c.default.div.withConfig({componentId:"sc-1ut_0L",displayName:"StyledContainer"})(wi||(wi=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;"],[""]))),Vo=c.default.div.withConfig({componentId:"sc-1ut_0L-1",displayName:"StyledTitle"})(xi||(xi=Object(r.__makeTemplateObject)(["margin-bottom:16px;font-size:20px;font-weight:500;line-height:24px;color:#2c3033;"],[""]))),Uo=c.default.span.withConfig({componentId:"sc-1ut_0L-2",displayName:"StyledPrice"})(Ei||(Ei=Object(r.__makeTemplateObject)(["font-variant-numeric:tabular-nums;"],[""]))),Go=c.default.div.withConfig({componentId:"sc-1ut_0L-3",displayName:"StyledDescription"})(ki||(ki=Object(r.__makeTemplateObject)(["display:flex;justify-content:center;align-items:center;margin-bottom:16px;font-size:13px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),Ho=c.default.div.withConfig({componentId:"sc-1ut_0L-4",displayName:"StyledIconWrapper"})(Ci||(Ci=Object(r.__makeTemplateObject)(["margin-right:4px;svg{display:block;width:20px;height:20px;}"],[""]))),Wo=c.default.img.withConfig({componentId:"sc-1ut_0L-5",displayName:"StyledQrCode"})(Ti||(Ti=Object(r.__makeTemplateObject)(["width:160px;height:160px;"],[""]))),Ko=c.default.div.withConfig({componentId:"sc-1ut_0L-6",displayName:"StyledFooter"})(Si||(Si=Object(r.__makeTemplateObject)(["margin-top:16px;font-size:13px;line-height:20px;text-align:center;color:rgba(65,70,75,0.6);"],[""]))),Yo=Object(c.default)(jr).withConfig({componentId:"sc-1ut_0L-7",displayName:"StyledCheckResultButton"})(Ii||(Ii=Object(r.__makeTemplateObject)(["color:#4583d4;"],[""]))),Zo=function(e){return e.credential[e.channel]},qo=function(e){var t=e.order,n=e.charge,r=e.onCheckResult;return o.a.createElement(zo,{name:s()("支付宝"),icon:o.a.createElement(Be,null),price:io({amount:t.amount,currencyPrecision:t.currencyPrecision,currencySymbol:t.currencySymbol}),url:Zo(n),onCheckResult:r})},Qo=function(e){var t=e.order,n=e.charge,r=e.onCheckResult;return o.a.createElement(zo,{name:s()("微信"),icon:o.a.createElement(dr,null),price:io({amount:t.amount,currencyPrecision:t.currencyPrecision,currencySymbol:t.currencySymbol}),url:Zo(n),onCheckResult:r})},Xo=function(e){var t=e.order,n=e.charge,i=e.onSuccess,c=Object(a.useRef)(i);c.current=i;var l=Object(a.useCallback)((function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,we.checkChargeResult(n.id)];case 1:return t.sent()&&(null===(e=c.current)||void 0===e||e.call(c)),[2]}}))}))}),[n]);switch(Object(a.useEffect)((function(){var e=Object(Bo.a)(Object(Ao.getSocketHost)(),{path:"/ws",query:{pushClientId:Object(Do.a)()},transports:["websocket","polling"]});return e.on("Payment",l),function(){e.close()}}),[l]),n.channel){case"alipay_qr":return o.a.createElement(qo,{order:t,charge:n,onCheckResult:l});case"wx_pub_qr":return o.a.createElement(Qo,{order:t,charge:n,onCheckResult:l});default:return null}},Jo=function(e){var t=e.order,n=e.charge,r=e.onSuccess,i=e.onChangePaymentMethod;return o.a.createElement("div",null,o.a.createElement($o,null,o.a.createElement(Xo,{order:t,charge:n,onSuccess:r})),o.a.createElement(ec,null,o.a.createElement(tc,{iconBefore:o.a.createElement(st,null),onClick:function(){Ce.c.trackNew("canva_payment_change_payment_method_click",{eventId:232,pageId:57}),i()},"data-test":"canva-change-payment-method"},s()("更换支付方式"))))},$o=Object(c.default)(Ba).withConfig({componentId:"sc-3gp7vL",displayName:"StyledPaymentCard"})(Ni||(Ni=Object(r.__makeTemplateObject)(["padding:24px;"],[""]))),ec=c.default.div.withConfig({componentId:"sc-3gp7vL-1",displayName:"StyledFooter"})(Ri||(Ri=Object(r.__makeTemplateObject)(["display:flex;margin-top:24px;"],[""]))),tc=Object(c.default)(i.l).attrs({type:"minimal",size:"s"}).withConfig({componentId:"sc-3gp7vL-2",displayName:"StyledChangePaymentMethodButton"})(Pi||(Pi=Object(r.__makeTemplateObject)(["svg{fill:rgba(65,70,75,0.9);}"],[""]))),nc=function(e){var t=e.onSuccess,n=Object(r.__read)(Object(a.useState)(null),2),i=n[0],c=n[1];Object(a.useEffect)((function(){ke.getMe().then((function(e){c(e)}))}),[]);var l=Object(r.__read)(Object(a.useState)(null),2),u=l[0],d=l[1];Object(a.useEffect)((function(){xe.getEditions().then((function(e){d(e)}))}),[]);var p=Object(r.__read)(Object(a.useState)("order"),2),f=p[0],m=p[1],b=Object(r.__read)(Object(a.useState)(Tr.Alipay),2),h=b[0],g=b[1],v=Object(r.__read)(Object(a.useState)(null),2),_=v[0],y=v[1],O=Object(r.__read)(Object(a.useState)(null),2),j=O[0],w=O[1];if(!i||!u)return null;var x=null;switch(f){case"order":x=o.a.createElement(Co,{editions:u,onSubmit:function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,xe.createOrder()];case 1:return e=t.sent(),y(e),m("confirm"),[2]}}))}))}});break;case"confirm":x=_&&o.a.createElement(ao,{me:i,order:_,initialPaymentMethod:h,onConfirm:function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return g(e),t=Aa(e),_&&t?[4,xe.createCharge(_.id,t)]:[3,2];case 1:n=r.sent().charge,w(n),m("pay"),r.label=2;case 2:return[2]}}))}))}});break;case"pay":x=_&&j&&o.a.createElement(Jo,{order:_,charge:j,onSuccess:t,onChangePaymentMethod:function(){m("confirm")}})}return o.a.createElement(o.a.Fragment,null,o.a.createElement(rc,null,s()("购买 Canva 会员")),o.a.createElement(ic,null,o.a.createElement(Sr,{items:[{name:s()("提交订单"),value:"order"},{name:s()("确认订单"),value:"confirm"},{name:s()("付款"),value:"pay"}],value:f,canNavigate:!0,onNavigate:function(e){"order"===e&&Ce.c.trackNew("canva_payment_nav_order_click",{eventId:234,pageId:57}),"confirm"===e&&Ce.c.trackNew("canva_payment_nav_confirm_click",{eventId:235,pageId:57}),m(e)}}),o.a.createElement(pr,{onClick:function(){Ce.c.trackNew("canva_payment_contact_click",{eventId:233,pageId:57})}})),o.a.createElement("div",null,x))},rc=c.default.div.withConfig({componentId:"sc-2ttxBT",displayName:"StyledTitle"})(Mi||(Mi=Object(r.__makeTemplateObject)(["margin-bottom:4px;font-size:20px;font-weight:500;line-height:32px;color:#41464b;"],[""]))),ic=c.default.div.withConfig({componentId:"sc-2ttxBT-1",displayName:"StyledNavbar"})(Ai||(Ai=Object(r.__makeTemplateObject)(["display:flex;justify-content:space-between;margin-bottom:12px;"],[""]))),ac=function(e){var t=e.visible,n=void 0===t||t,r=e.onClose,i=e.onSuccess;return Object(a.useEffect)((function(){n&&Ce.c.trackNew("canva_payment_impression",{eventId:228,pageId:57})}),[n]),o.a.createElement(oc,{visible:n,width:492,footer:null,onCancel:function(){Ce.c.trackNew("canva_payment_close",{eventId:229,pageId:57}),null==r||r()}},o.a.createElement(a.Suspense,{fallback:null},o.a.createElement(nc,{onSuccess:function(){return null==i?void 0:i()}})))},oc=Object(c.default)(i.k).withConfig({componentId:"sc-1GNZA5",displayName:"StyledModal"})(Bi||(Bi=Object(r.__makeTemplateObject)([".sm-modal-content{padding:24px 32px;}.sm-modal-body{min-height:244px;margin:0;}.sm-modal-close{right:32px;top:24px;}"],[""]))),cc=function(){var e=Object(r.__read)(function(){var e=Object(r.__read)(Object(a.useState)(!1),2),t=e[0],n=e[1],i=Object(a.useRef)(null),c=Object(a.useCallback)((function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return i.current=ge(),n(!0),[2,i.current.promise]}))}))}),[]);return[t&&o.a.createElement(be,{onClose:function(){var e;n(!1),null===(e=i.current)||void 0===e||e.reject(),i.current=null},onConfirm:function(){var e;n(!1),null===(e=i.current)||void 0===e||e.resolve(),i.current=null}}),c]}(),2),t=e[0],n=e[1],i=Object(r.__read)(function(){var e=Object(r.__read)(Object(a.useState)(!1),2),t=e[0],n=e[1],i=Object(a.useRef)(null),c=Object(a.useCallback)((function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return i.current=ge(),n(!0),[2,i.current.promise]}))}))}),[]);return[t&&o.a.createElement(ac,{onClose:function(){var e;n(!1),null===(e=i.current)||void 0===e||e.reject()},onSuccess:function(){var e;n(!1),null===(e=i.current)||void 0===e||e.resolve()}}),c]}(),2),c=i[0],l=i[1],s=Object(a.useCallback)((function(){return Object(r.__awaiter)(void 0,void 0,Promise,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,xe.createAuthToken()];case 1:if((e=t.sent()).isC4B)return[3,7];t.label=2;case 2:return t.trys.push([2,6,,7]),[4,n()];case 3:return t.sent(),[4,l()];case 4:return t.sent(),[4,xe.createAuthToken()];case 5:return e=t.sent(),[3,7];case 6:return t.sent(),[3,7];case 7:return[2,e]}}))}))}),[n,l]);return[o.a.createElement(o.a.Fragment,null,t,c),s]},lc=function(e){return function(t){var n=Object(r.__read)(cc(),2),i=n[0],a=n[1];return o.a.createElement(e,Object(r.__assign)({},t,{canvaModals:i,showCanvaModal:a}))}},sc=function(e){var t,n=e.me,i=e.orderInfo,c=e.calculatedPrice,l=e.order,u=e.initialPaymentMethod,d=e.initialTermsChecked,p=e.onConfirm,f=e.onCancel,m=Object(r.__read)(Object(a.useState)(u),2),b=m[0],h=m[1],g=Object(r.__read)(Object(a.useState)(d),2),v=g[0],_=g[1],y=Object(r.__read)(Object(a.useState)(!1),2),O=y[0],j=y[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(uc,null,o.a.createElement(dc,null,null===(t=n.team)||void 0===t?void 0:t.name),o.a.createElement(pc,null),o.a.createElement(La,{size:"large",titleWidth:144},o.a.createElement(za,{title:s()("订单号"),description:l.orderNo}),o.a.createElement(za,{title:s()("下单时间"),description:no(new Date(l.createdAt))}),o.a.createElement(za,{title:s()("订单详情"),description:c.items.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},""+e.description+s()(Di||(Di=Object(r.__makeTemplateObject)(["（","）"],["（","）"])),e.label),o.a.createElement("br",null))}))}),o.a.createElement(za,{title:s()("购买后到期时间"),description:Oo(new Date(i.expiredAt))}),o.a.createElement(za,{title:s()("购买后席位总数"),description:s()(Li||(Li=Object(r.__makeTemplateObject)([""," 席"],[""," 席"])),i.seats)}),o.a.createElement(za,{title:o.a.createElement(fc,null,s()("支付金额")),description:o.a.createElement(fc,null,io({amount:c.tradeAmount,currencyPrecision:c.currencyPrecision,currencySymbol:c.currencySymbol}))}))),o.a.createElement(mc,null,o.a.createElement(bc,null,s()("支付方式")),o.a.createElement(Ja,{value:b,onChange:function(e){return h(e)}})),o.a.createElement(hc,null,O&&o.a.createElement(jc,null,s()("请先同意服务协议！")),o.a.createElement(gc,{"data-test":"enterprise-terms"},o.a.createElement(vc,{type:"checkbox",name:"enterprise-terms",checked:v,onChange:function(e){_(e.target.checked),j(!1)}}),o.a.createElement(_c,{checked:v}),o.a.createElement(yc,null,s.a.x(zi||(zi=Object(r.__makeTemplateObject)(["我已阅读并同意签署 ",""],["我已阅读并同意签署 ",""])),o.a.createElement(Oc,{href:"/agreement",target:"_blank"},s()("《服务协议》"))))),o.a.createElement(wc,{onClick:function(){var e;v?(Ce.c.trackNew("enterprise_payment_pay_click",{eventId:171,pageId:49,team_id:null===(e=n.team)||void 0===e?void 0:e.id}),p(b)):j(!0)},"data-test":"enterprise-confirm"},s()("立即支付")),o.a.createElement(xc,{onClick:function(){var e;Ce.c.trackNew("enterprise_payment_cancel_click",{eventId:172,pageId:49,team_id:null===(e=n.team)||void 0===e?void 0:e.id}),f()},"data-test":"enterprise-cancel"},s()("取消"))))},uc=Object(c.default)(Ba).withConfig({componentId:"sc-1zbAjQ",displayName:"StyledOrderCard"})(Fi||(Fi=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;padding:16px 24px;"],[""]))),dc=c.default.div.withConfig({componentId:"sc-1zbAjQ-1",displayName:"StyledOrderTitle"})(Vi||(Vi=Object(r.__makeTemplateObject)(["font-size:16px;font-weight:500;line-height:24px;color:#41464b;"],[""]))),pc=c.default.div.withConfig({componentId:"sc-1zbAjQ-2",displayName:"StyledOrderSeparator"})(Ui||(Ui=Object(r.__makeTemplateObject)(["position:relative;margin:12px -24px;&::after{content:'';position:absolute;left:0;right:0;top:0;border-top:1px dashed rgba(65,70,75,0.2);}"],[""]))),fc=c.default.div.withConfig({componentId:"sc-1zbAjQ-3",displayName:"StyledBoldText"})(Gi||(Gi=Object(r.__makeTemplateObject)(["font-weight:500;"],[""]))),mc=Object(c.default)(Ba).withConfig({componentId:"sc-1zbAjQ-4",displayName:"StyledPaymentCard"})(Hi||(Hi=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;margin-top:16px;padding:16px 24px 20px;"],[""]))),bc=c.default.div.withConfig({componentId:"sc-1zbAjQ-5",displayName:"StyledPaymentTitle"})(Wi||(Wi=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:13px;font-weight:500;line-height:20px;color:#41464b;"],[""]))),hc=c.default.div.withConfig({componentId:"sc-1zbAjQ-6",displayName:"StyledFooter"})(Ki||(Ki=Object(r.__makeTemplateObject)(["position:absolute;left:0;right:0;bottom:0;display:flex;justify-content:flex-end;align-items:center;padding:16px 32px;border-radius:0 0 2px 2px;background:#fff;box-shadow:inset 0 1px #eceded;"],[""]))),gc=c.default.label.withConfig({componentId:"sc-1zbAjQ-7",displayName:"StyledTerms"})(Yi||(Yi=Object(r.__makeTemplateObject)(["position:relative;display:flex;align-items:center;margin-right:16px;cursor:pointer;user-select:none;"],[""]))),vc=c.default.input.withConfig({componentId:"sc-1zbAjQ-8",displayName:"StyledTermsInput"})(Zi||(Zi=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),_c=Object(c.default)(i.p).attrs({type:"check"}).withConfig({componentId:"sc-1zbAjQ-9",displayName:"StyledTermsIcon"})(qi||(qi=Object(r.__makeTemplateObject)(["margin-right:8px;"],[""]))),yc=c.default.div.withConfig({componentId:"sc-1zbAjQ-10",displayName:"StyledTermsText"})(Qi||(Qi=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),Oc=c.default.a.withConfig({componentId:"sc-1zbAjQ-11",displayName:"StyledTermsLink"})(Xi||(Xi=Object(r.__makeTemplateObject)(["text-decoration:none;color:#4583d4;"],[""]))),jc=c.default.div.withConfig({componentId:"sc-1zbAjQ-12",displayName:"StyledTermsWarning"})(Ji||(Ji=Object(r.__makeTemplateObject)(["margin-right:16px;font-size:12px;line-height:20px;color:#cd4747;"],[""]))),wc=Object(c.default)(i.l).attrs({type:"primary",size:"l"}).withConfig({componentId:"sc-1zbAjQ-13",displayName:"StyledConfirmButton"})($i||($i=Object(r.__makeTemplateObject)([""],[""]))),xc=Object(c.default)(i.l).attrs({type:"secondary",size:"l"}).withConfig({componentId:"sc-1zbAjQ-14",displayName:"StyledCancelButton"})(ea||(ea=Object(r.__makeTemplateObject)(["margin-left:12px;"],[""]))),Ec=n(1472),kc=n.n(Ec),Cc=n(3200),Tc=function(e){var t=e.children;return o.a.createElement("div",null,t)},Sc=function(e){var t=e.title,n=e.content,r=e["data-test"];return o.a.createElement(i.u,{placement:"bottomRight",arrowPointAtCenter:!0,overlay:o.a.createElement(Nc,null,t&&o.a.createElement(Rc,null,t),n&&o.a.createElement(Pc,null,n))},o.a.createElement(jr,{"data-test":r},o.a.createElement(Ic,null)))},Ic=Object(c.default)(Tn).withConfig({componentId:"sc-_1rIw",displayName:"StyledIcon"})(ta||(ta=Object(r.__makeTemplateObject)(["display:block;"],[""]))),Nc=c.default.div.withConfig({componentId:"sc-_1rIw-1",displayName:"StyledTooltip"})(na||(na=Object(r.__makeTemplateObject)(["box-sizing:border-box;width:272px;margin:-6px -10px;padding:16px;text-align:left;"],[""]))),Rc=c.default.div.withConfig({componentId:"sc-_1rIw-2",displayName:"StyledTitle"})(ra||(ra=Object(r.__makeTemplateObject)(["margin-bottom:4px;font-size:14px;font-weight:500;line-height:24px;color:#fff;"],[""]))),Pc=c.default.div.withConfig({componentId:"sc-_1rIw-3",displayName:"StyledContent"})(ia||(ia=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:#d9dadb;"],[""]))),Mc=function(e){var t=e.type,n=e.name,r=e.description,i=e.price,a=e.formulaName,c=e.formulaDescription,l=e.formulaDetails;return o.a.createElement(Ac,{"data-type":t&&"cart-item-"+t},o.a.createElement(Bc,null,n,o.a.createElement(Dc,null,o.a.createElement(Sc,{title:a,content:o.a.createElement(o.a.Fragment,null,c,o.a.createElement(Lc,null,l)),"data-test":t&&"info-button-"+t}))),o.a.createElement(zc,null,o.a.createElement(Fc,null,r),o.a.createElement(Vc,null,i)))},Ac=c.default.div.withConfig({componentId:"sc-1gisE1",displayName:"StyledItem"})(aa||(aa=Object(r.__makeTemplateObject)(["& + &{margin-top:24px;}"],[""]))),Bc=c.default.div.withConfig({componentId:"sc-1gisE1-1",displayName:"StyledName"})(oa||(oa=Object(r.__makeTemplateObject)(["font-size:13px;line-height:20px;color:#41464b;"],[""]))),Dc=c.default.span.withConfig({componentId:"sc-1gisE1-2",displayName:"StyledInfoButton"})(ca||(ca=Object(r.__makeTemplateObject)(["display:inline-flex;margin:2px 0 2px 4px;vertical-align:bottom;"],[""]))),Lc=c.default.div.withConfig({componentId:"sc-1gisE1-3",displayName:"StyledDetails"})(la||(la=Object(r.__makeTemplateObject)(["position:relative;padding-left:12px;&::before{content:'•';position:absolute;left:0;top:0;}"],[""]))),zc=c.default.div.withConfig({componentId:"sc-1gisE1-4",displayName:"StyledContent"})(sa||(sa=Object(r.__makeTemplateObject)(["display:flex;margin-top:4px;"],[""]))),Fc=c.default.div.withConfig({componentId:"sc-1gisE1-5",displayName:"StyledDescription"})(ua||(ua=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;font-size:12px;line-height:20px;color:rgba(65,70,75,0.6);"],[""]))),Vc=c.default.div.withConfig({componentId:"sc-1gisE1-6",displayName:"StyledPrice"})(da||(da=Object(r.__makeTemplateObject)(["margin-left:4px;font-size:12px;font-weight:500;font-variant-numeric:tabular-nums;line-height:20px;color:#41464b;"],[""]))),Uc=function(e){var t=e.isCollapsed,n=void 0!==t&&t,r=e.onCollapsedChange,i=e.canCollapse,a=void 0===i||i,c=e.canUncollapse,l=void 0===c||c,s=e.collapseButtonText,u=e.uncollapseButtonText,d=e["data-test"],p=e.header,f=e.children;return o.a.createElement(Ba,{"data-test":d},o.a.createElement(Gc,{isCollapsed:n},p,(a&&s||l&&u)&&o.a.createElement(Hc,null,!n&&a&&s&&o.a.createElement(Wc,{subType:"normal",onClick:function(){return null==r?void 0:r(!0)},"data-test":d&&d+"-collapse"},s),n&&l&&u&&o.a.createElement(Wc,{subType:"guidance",onClick:function(){return null==r?void 0:r(!1)},"data-test":d&&d+"-uncollapse"},u))),o.a.createElement(Kc,{isCollapsed:n},f))},Gc=c.default.div.withConfig({componentId:"sc-iqsYh",displayName:"StyledHeader"})(pa||(pa=Object(r.__makeTemplateObject)(["position:relative;display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;height:44px;padding:12px 24px;&::after{content:'';position:absolute;left:0;right:0;bottom:0;display:",";margin:0 24px;border-bottom:1px dashed #eceded;}"],["",""])),(function(e){return e.isCollapsed?"none":"block"})),Hc=c.default.div.withConfig({componentId:"sc-iqsYh-1",displayName:"StyledButtonContainer"})(fa||(fa=Object(r.__makeTemplateObject)(["position:absolute;right:24px;top:12px;margin:-2px -12px;"],[""]))),Wc=Object(c.default)(i.l).attrs({type:"minimal",size:"s"}).withConfig({componentId:"sc-iqsYh-2",displayName:"StyledButton"})(ma||(ma=Object(r.__makeTemplateObject)(["padding:1px 7px;"],[""]))),Kc=c.default.div.withConfig({componentId:"sc-iqsYh-3",displayName:"StyledContent"})(ba||(ba=Object(r.__makeTemplateObject)(["display:",";padding:12px 24px;"],["",""])),(function(e){return e.isCollapsed?"none":"block"})),Yc=Object(a.createContext)({value:null}),Zc=function(e){var t=e.duration,n=e.name,r=Object(a.useContext)(Yc),i=r.value,c=void 0===i?null:i,l=r.onChange,s=c===t;return o.a.createElement(qc,null,o.a.createElement(Qc,{isSelected:s,"data-test":"enterprise-duration-"+t},o.a.createElement(Xc,{type:"radio",name:"enterprise-duration",value:t,checked:s,onChange:function(e){e.target.checked&&(null==l||l(t))}}),o.a.createElement(Jc,{isSelected:s},n)))},qc=c.default.div.withConfig({componentId:"sc-2zdnH_",displayName:"StyledWrapper"})(ha||(ha=Object(r.__makeTemplateObject)(["padding:0 6px;"],[""]))),Qc=c.default.label.withConfig({componentId:"sc-2zdnH_-1",displayName:"StyledItem"})(ga||(ga=Object(r.__makeTemplateObject)(["position:relative;display:flex;flex-direction:column;box-sizing:border-box;min-width:72px;height:32px;padding:6px 12px;border-radius:2px;background-color:#fff;box-shadow:",";cursor:pointer;user-select:none;"],["",""])),(function(e){return e.isSelected?"inset 0 0 0 1.5px #73b1eb":"inset 0 0 0 1px rgba(65, 70, 75, 0.1)"})),Xc=c.default.input.withConfig({componentId:"sc-2zdnH_-2",displayName:"StyledInput"})(va||(va=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),Jc=c.default.span.withConfig({componentId:"sc-2zdnH_-3",displayName:"StyledName"})(_a||(_a=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:",";"],["",""])),(function(e){return e.isSelected?"#41464b":"rgba(65, 70, 75, 0.6)"})),$c=function(e){var t=e.value,n=void 0===t?null:t,r=e.onChange,i=e.children;return o.a.createElement(Yc.Provider,{value:{value:n,onChange:r}},o.a.createElement(el,null,i))},el=c.default.div.withConfig({componentId:"sc-21E2ty",displayName:"StyledContainer"})(ya||(ya=Object(r.__makeTemplateObject)(["display:flex;margin:0 -6px;"],[""]))),tl=Object(a.createContext)({value:null}),nl=function(e){var t=e.edition,n=e.name,r=e.label,i=e.description,c=e.isRecommended,l=void 0!==c&&c,s=Object(a.useContext)(tl),u=s.value,d=void 0===u?null:u,p=s.onChange,f=d===t;return o.a.createElement(rl,null,o.a.createElement(il,{isSelected:f,"data-test":"enterprise-edition-"+t},o.a.createElement(al,{type:"radio",name:"enterprise-edition",value:t,checked:f,onChange:function(e){e.target.checked&&(null==p||p(t))}}),o.a.createElement(ol,{isSelected:f},n),o.a.createElement(cl,{isSelected:f},r),o.a.createElement(ll,{isSelected:f},i),l&&o.a.createElement(sl,null),f&&o.a.createElement(ul,null)))},rl=c.default.div.withConfig({componentId:"sc-3xUFhk",displayName:"StyledWrapper"})(Oa||(Oa=Object(r.__makeTemplateObject)(["overflow:hidden;box-sizing:border-box;width:50%;padding:0 6px;"],[""]))),il=c.default.label.withConfig({componentId:"sc-3xUFhk-1",displayName:"StyledItem"})(wa||(wa=Object(r.__makeTemplateObject)(["position:relative;display:flex;flex-direction:column;overflow:hidden;padding:12px;border-radius:4px;background:#f9f9fa;cursor:pointer;user-select:none;&:hover{box-shadow:inset 0 0 0 1px #73b1eb;}",""],["",""])),(function(e){return e.isSelected&&Object(c.css)(ja||(ja=Object(r.__makeTemplateObject)(["background-color:#e4f1fb;box-shadow:inset 0 0 0 1px #73b1eb;"],[""])))})),al=c.default.input.withConfig({componentId:"sc-3xUFhk-2",displayName:"StyledInput"})(xa||(xa=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),ol=c.default.div.withConfig({componentId:"sc-3xUFhk-3",displayName:"StyledName"})(Ea||(Ea=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:13px;font-weight:500;line-height:18px;letter-spacing:0.05em;color:",";"],["",""])),(function(e){return e.isSelected?"#4583d4":"rgba(65, 70, 75, 0.9)"})),cl=c.default.div.withConfig({componentId:"sc-3xUFhk-4",displayName:"StyledLabel"})(ka||(ka=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:12px;font-weight:500;line-height:18px;color:",";"],["",""])),(function(e){return e.isSelected?"#4583d4":"rgba(65, 70, 75, 0.9)"})),ll=c.default.div.withConfig({componentId:"sc-3xUFhk-5",displayName:"StyledDescription"})(Ca||(Ca=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;white-space:pre-line;color:",";"],["",""])),(function(e){return e.isSelected?"#4583d4":"rgba(65, 70, 75, 0.6)"})),sl=Object(c.default)(Dn).withConfig({componentId:"sc-3xUFhk-6",displayName:"StyledRecommendedIcon"})(Ta||(Ta=Object(r.__makeTemplateObject)(["position:absolute;right:12px;top:12px;"],[""]))),ul=Object(c.default)(Kn).withConfig({componentId:"sc-3xUFhk-7",displayName:"StyledSelectedIcon"})(Sa||(Sa=Object(r.__makeTemplateObject)(["position:absolute;right:0;bottom:0;"],[""]))),dl=function(e){var t=e.value,n=void 0===t?null:t,r=e.onChange,i=e.children;return o.a.createElement(tl.Provider,{value:{value:n,onChange:r}},o.a.createElement(pl,null,i))},pl=c.default.div.withConfig({componentId:"sc-1ZnBZa",displayName:"StyledContainer"})(Ia||(Ia=Object(r.__makeTemplateObject)(["display:flex;margin:0 -6px;"],[""]))),fl=c.default.input.withConfig({componentId:"sc-3Y_CHM",displayName:"InputBase"})(Na||(Na=Object(r.__makeTemplateObject)(["margin:0;padding:0;border:none;border-radius:0;font:inherit;color:currentColor;background:none;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{margin:0;appearance:none;}"],[""])));function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e,t){return(gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yl(e);if(t){var i=yl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _l(this,n)}}function _l(e,t){return!t||"object"!==ml(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}fl.defaultProps={type:"text"};var Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gl(e,t)}(a,e);var t,n,r,i=vl(a);function a(){return bl(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Ol({width:"12",height:"14",viewBox:"0 0 12 14"},this.props),o.a.createElement("path",{d:"M6 8.563l2.25-2.72h-4.5L6 8.564z"}))}}])&&hl(t.prototype,n),r&&hl(t,r),a}(o.a.Component);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kl(e,t){return(kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sl(e);if(t){var i=Sl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tl(this,n)}}function Tl(e,t){return!t||"object"!==wl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sl(e){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Il,Nl,Rl,Pl,Ml,Al,Bl,Dl,Ll,zl,Fl,Vl,Ul,Gl,Hl,Wl,Kl,Yl,Zl,ql,Ql,Xl,Jl,$l,es,ts,ns,rs,is,as,os,cs,ls,ss,us,ds,ps,fs,ms,bs,hs,gs,vs,_s,ys,Os,js,ws,xs,Es,ks,Cs,Ts,Ss,Is,Ns,Rs,Ps,Ms,As,Bs,Ds,Ls,zs,Fs,Vs,Us,Gs,Hs,Ws,Ks,Ys,Zs,qs,Qs,Xs,Js,$s,eu,tu,nu,ru,iu,au,ou,cu,lu,su,uu,du,pu,fu,mu,bu,hu,gu,vu,_u,yu,Ou,ju,wu,xu,Eu,ku,Cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kl(e,t)}(a,e);var t,n,r,i=Cl(a);function a(){return xl(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("svg",Cu({width:"12",height:"14",viewBox:"0 0 12 14"},this.props),o.a.createElement("path",{d:"M6 6.344l2.25 2.718h-4.5L6 6.345z"}))}}])&&El(t.prototype,n),r&&El(t,r),a}(o.a.Component),Su=function(e){var t=e.value,n=void 0===t?0:t,i=e.onChange,c=e.step,l=void 0===c?1:c,s=e.minValue,u=void 0===s?-1/0:s,d=e.maxValue,p=void 0===d?1/0:d,f=e.isInvalid,m=void 0!==f&&f,b=e.isDisabled,h=void 0!==b&&b,g=e["data-test"],v=Object(a.useRef)(null),_=Object(r.__read)(Object(a.useState)(!1),2),y=_[0],O=_[1],j=Object(r.__read)(Object(a.useState)(!1),2),w=j[0],x=j[1],E=Object(r.__read)(Object(a.useState)(String(n)),2),k=E[0],C=E[1];if(!w&&!Object.is(n,Number(k))){var T=String(n);Object.is(n,Number(T))&&C(T)}var S=u!==-1/0?u:0,I=(n-S)/l,N=n;n>p?N=p:n>u&&(N=S+Math.ceil(I-1)*l)<u&&(N+=l);var R=n;return n<u?R=u:n<p&&(R=S+Math.floor(I+1)*l)>p&&(R-=l),o.a.createElement(Iu,{isHovered:y,isFocused:w,isInvalid:m,isDisabled:h,onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)},onFocus:function(){return x(!0)},onBlur:function(){return x(!1)}},o.a.createElement(Nu,{ref:v,type:"number",value:k,onChange:function(e){var t=e.target.value;C(t),null==i||i(Number(t))},step:l,min:u,max:p,disabled:h,"data-test":g}),o.a.createElement(Ru,null,o.a.createElement(Pu,{disabled:h||Object.is(R,n),onClick:function(){var e;C(String(R)),null==i||i(R),null===(e=v.current)||void 0===e||e.focus()}},o.a.createElement(Tu,null)),o.a.createElement(Pu,{disabled:h||Object.is(N,n),onClick:function(){var e;C(String(N)),null==i||i(N),null===(e=v.current)||void 0===e||e.focus()}},o.a.createElement(jl,null))))},Iu=c.default.div.withConfig({componentId:"sc-1o9CW0",displayName:"StyledContainer"})(Ml||(Ml=Object(r.__makeTemplateObject)(["position:relative;display:flex;border-radius:2px;background-color:#fff;box-shadow:inset 0 0 0 1px #d9dadb,inset 0 1px 3px #e5e5e5;&::before{content:'';position:absolute;right:0;top:0;bottom:0;box-sizing:border-box;width:12px;border-left:1px solid #d9dadb;pointer-events:none;}&::after{content:'';position:absolute;right:0;top:0;bottom:0;width:12px;height:0;margin:auto 0;border-top:1px solid #d9dadb;pointer-events:none;}"," "," "," ",""],["","","","",""])),(function(e){return e.isHovered&&Object(c.css)(Il||(Il=Object(r.__makeTemplateObject)(["box-shadow:inset 0 0 0 1px #b3b5b7,inset 0px 1px 3px #e5e5e5;&::before,&::after{border-color:#b3b5b7;}"],[""])))}),(function(e){return e.isFocused&&Object(c.css)(Nl||(Nl=Object(r.__makeTemplateObject)(["box-shadow:inset 0 0 0 1px #a0a2a5,inset 0px 1px 3px #e5e5e5;&::before,&::after{border-color:#a0a2a5;}"],[""])))}),(function(e){return e.isInvalid&&Object(c.css)(Rl||(Rl=Object(r.__makeTemplateObject)(["box-shadow:inset 0 0 0 1px #cd4747;&::before,&::after{border-color:#cd4747;}"],[""])))}),(function(e){return e.isDisabled&&Object(c.css)(Pl||(Pl=Object(r.__makeTemplateObject)(["box-shadow:inset 0 0 0 1px #d9dadb;&::before,&::after{border-color:#d9dadb;}"],[""])))})),Nu=Object(c.default)(fl).withConfig({componentId:"sc-1o9CW0-1",displayName:"StyledInput"})(Al||(Al=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;padding:4px 4px 4px 8px;font-size:13px;line-height:20px;color:#41464b;&:disabled{color:rgba(65,70,75,0.3);}"],[""]))),Ru=c.default.div.withConfig({componentId:"sc-1o9CW0-2",displayName:"StyledButtons"})(Bl||(Bl=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;"],[""]))),Pu=Object(c.default)(jr).withConfig({componentId:"sc-1o9CW0-3",displayName:"StyledButton"})(Dl||(Dl=Object(r.__makeTemplateObject)(["width:12px;height:14px;&:first-child{border-radius:0 2px 0 0;}&:last-child{border-radius:0 0 2px 0;}svg{display:block;fill:rgba(65,70,75,0.6);}&:not(:disabled){&:hover{background-color:rgba(65,70,75,0.05);svg{fill:#41464b;}}&:active{background-color:rgba(65,70,75,0.1);svg{fill:#41464b;}}}"],[""]))),Mu=function(e,t){var n=e.editionName;return e.accountMetadata.isTrial?n+=s()(Ll||(Ll=Object(r.__makeTemplateObject)(["（","）"],["（","）"])),s()("试用")):e.accountMetadata.isExpired?n+=s()(zl||(zl=Object(r.__makeTemplateObject)(["（","）"],["（","）"])),s()("过期")):n+=s()(Fl||(Fl=Object(r.__makeTemplateObject)(["（","）"],["（","）"])),t.label),n},Au=function(e){var t,n,i,c,l,u,d,p,f,m=e.me,b=e.mine,h=e.currentEdition,g=e.editions,v=e.triggeredBy,_=e.initialEditionState,y=e.onSubmit,O=!m.accountMetadata.isTrial&&!m.accountMetadata.isExpired,j=g.filter((function(e){return e.edition!==h.edition})),w=Object(r.__read)(Object(a.useState)(_?_.edition:"edition"===v&&null!==(n=null===(t=j.find((function(e){return e.recommended})))||void 0===t?void 0:t.edition)&&void 0!==n?n:h.edition),2),x=w[0],E=w[1],k=g.find((function(e){return e.edition===x})),C=k.durationList,T=Object(r.__read)(Object(a.useState)(_?null!==(i=_.duration)&&void 0!==i?i:null:O&&"duration"!==v?null:C[0].duration),2),S=T[0],I=T[1],N=null!==S?C.find((function(e){return e.duration===S})):null,R=b.membership.isOfficial?b.membership.memberCount:0,P=b.membership.isOfficial?b.seatMemberCount:b.memberCount,M=null!==(c=k.minSeatNum)&&void 0!==c?c:0,A=null!==(l=k.maxSeatNum)&&void 0!==l?l:1/0,B=Object(r.__read)(Object(a.useState)(_?null!==(u=_.seats)&&void 0!==u?u:null:0===R||"seats"===v?M:null),2),D=B[0],L=B[1],z=R+(null!==D?kc()(D,M,A):0),F=null!==D&&(D<M||D>A),V=1===R,U=!(x===h.edition&&null===S&&null===D||F||V),G=Object(a.useMemo)((function(){return U?{edition:x,duration:S,seats:D}:null}),[U,x,S,D]),H=Object(a.useMemo)((function(){var e;return{expiredAt:null!==(e=null==N?void 0:N.expiredAt)&&void 0!==e?e:1e3*m.accountMetadata.expiredAt.seconds,seats:z}}),[m,N,z]),W=Object(r.__read)(Object(Cc.a)(G,200,{leading:!0,maxWait:1e3}),1)[0],K=Object(r.__read)(Object(a.useState)(null),2),Y=K[0],Z=K[1];return Object(a.useEffect)((function(){var e=!1;return W?we.calculatePrice(W).then((function(t){e||Z(t)})):F||Z(null),function(){e=!0}}),[W,F]),o.a.createElement(Bu,null,o.a.createElement(Du,null,o.a.createElement(Lu,null,o.a.createElement(Uc,{header:o.a.createElement(La,null,o.a.createElement(za,{title:s()("当前版本"),description:Mu(m,h)})),isCollapsed:0===j.length,canCollapse:x!==h.edition,collapseButtonText:s()("取消升级"),onCollapsedChange:function(e){e&&(E(h.edition),0===h.maxSeatNum&&L(null))},"data-test":"enterprise-edition"},o.a.createElement(zu,null,o.a.createElement(dl,{value:x,onChange:function(e){return E(e)}},j.map((function(e){return o.a.createElement(nl,{key:e.edition,edition:e.edition,name:s()(Vl||(Vl=Object(r.__makeTemplateObject)(["升级至",""],["升级至",""])),e.name),label:e.label,description:e.description,isRecommended:e.recommended})})))),o.a.createElement(Fu,null,o.a.createElement(Vu,{iconAfter:o.a.createElement(vt,null),onClick:function(){return window.open("/pricing","_blank")}},s()("查看详细版本区别"))))),o.a.createElement(Lu,null,o.a.createElement(Uc,{header:o.a.createElement(La,null,o.a.createElement(za,{title:s()("当前到期时间"),description:Oo(new Date(1e3*m.accountMetadata.expiredAt.seconds),{withDistance:!0})})),isCollapsed:null===S,canCollapse:O,collapseButtonText:s()("取消续费"),uncollapseButtonText:s()("续费"),onCollapsedChange:function(e){I(e?null:C[0].duration)},"data-test":"enterprise-duration"},o.a.createElement(La,null,o.a.createElement(za,{title:o.a.createElement(Uu,null,s()("续费时长")),description:o.a.createElement(o.a.Fragment,null,o.a.createElement($c,{value:S,onChange:function(e){return I(e)}},C.map((function(e){return o.a.createElement(Zc,{key:e.duration,duration:e.duration,name:e.name})}))),N&&o.a.createElement(Gu,null,s.a.x(Ul||(Ul=Object(r.__makeTemplateObject)(["续费后 "," 到期"],["续费后 "," 到期"])),o.a.createElement(Zu,null,Oo(new Date(N.expiredAt))))))})))),o.a.createElement(Lu,null,o.a.createElement(Uc,{header:o.a.createElement(La,null,o.a.createElement(za,{title:s()("当前席位数"),description:s()(Gl||(Gl=Object(r.__makeTemplateObject)(["","（已用 ","）"],["","（已用 ","）"])),R,P)})),isCollapsed:null===D,canCollapse:0!==R,canUncollapse:0!==A,collapseButtonText:s()("取消购买"),uncollapseButtonText:s()("购买席位"),onCollapsedChange:function(e){L(e?null:M)},"data-test":"enterprise-seats"},o.a.createElement(La,null,o.a.createElement(za,{title:o.a.createElement(Hu,null,s()("购买席位数")),description:o.a.createElement(Wu,null,o.a.createElement(Ku,null,o.a.createElement(Su,{value:null!=D?D:0,onChange:function(e){return L(e)},minValue:M,maxValue:A,isInvalid:F,"data-test":"enterprise-seats"})),o.a.createElement(Yu,{isInvalid:F},!F&&s.a.x(Hl||(Hl=Object(r.__makeTemplateObject)(["购买后席位总数 ",""],["购买后席位总数 ",""])),o.a.createElement(Zu,null,z)),F&&null!==D&&D<M&&s()(Wl||(Wl=Object(r.__makeTemplateObject)(["需要至少购买 "," 个席位"],["需要至少购买 "," 个席位"])),M),F&&null!==D&&D>A&&s()(Kl||(Kl=Object(r.__makeTemplateObject)(["单次最多购买企业席位为 ",""],["单次最多购买企业席位为 ",""])),A)))}))))),o.a.createElement(qu,null,o.a.createElement(Qu,null,o.a.createElement(Xu,null),o.a.createElement(Ju,null,s()("已选服务"))),o.a.createElement($u,null,Y?o.a.createElement(Tc,null,Y.items.map((function(e,t){return o.a.createElement(Mc,{key:t,type:e.type,name:e.description,description:e.label,price:io({amount:e.amount,currencyPrecision:Y.currencyPrecision,currencySymbol:Y.currencySymbol}),formulaName:e.formula.name,formulaDescription:e.formula.description,formulaDetails:e.formula.details})}))):o.a.createElement(ed,null,o.a.createElement(td,null),o.a.createElement(nd,null,s()("空空如也")))),o.a.createElement(rd,null,o.a.createElement(id,null,o.a.createElement(ad,null,s()("总计：")),o.a.createElement(od,null,ro(null==Y?void 0:Y.currencySymbol)),o.a.createElement(cd,null,io({amount:null!==(d=null==Y?void 0:Y.tradeAmount)&&void 0!==d?d:0,currencyPrecision:null==Y?void 0:Y.currencyPrecision,withSymbol:!1}))),Y&&o.a.createElement(ld,null,s()(Yl||(Yl=Object(r.__makeTemplateObject)(["购买后使用","，有效期至 ","，共 "," 席"],["购买后使用","，有效期至 ","，共 "," 席"])),null!==(p=null==k?void 0:k.name)&&void 0!==p?p:"",Oo(new Date(null!==(f=null==N?void 0:N.expiredAt)&&void 0!==f?f:1e3*m.accountMetadata.expiredAt.seconds)),z)),o.a.createElement(sd,{disabled:!G,onClick:function(){var e;G&&(Ce.c.trackNew("enterprise_payment_submit_click",{eventId:170,pageId:49,team_id:null===(e=m.team)||void 0===e?void 0:e.id}),y(G,H))},"data-test":"enterprise-submit"},s()("立即购买")))))},Bu=c.default.div.withConfig({componentId:"sc-2kBljo",displayName:"StyledContainer"})(Zl||(Zl=Object(r.__makeTemplateObject)(["display:flex;height:500px;"],[""]))),Du=c.default.div.withConfig({componentId:"sc-2kBljo-1",displayName:"StyledOrderList"})(ql||(ql=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;flex:1;overflow:hidden;margin:-8px 0;"],[""]))),Lu=c.default.div.withConfig({componentId:"sc-2kBljo-2",displayName:"StyledOrderItem"})(Ql||(Ql=Object(r.__makeTemplateObject)(["margin:8px 0;"],[""]))),zu=c.default.div.withConfig({componentId:"sc-2kBljo-3",displayName:"StyledEditionContent"})(Xl||(Xl=Object(r.__makeTemplateObject)(["margin:0 -6px;padding:4px 0;"],[""]))),Fu=c.default.div.withConfig({componentId:"sc-2kBljo-4",displayName:"StyledEditionFooter"})(Jl||(Jl=Object(r.__makeTemplateObject)(["display:flex;margin:0 -6px;padding:4px 0;"],[""]))),Vu=Object(c.default)(i.l).attrs({type:"minimal",subType:"guidance",size:"s"}).withConfig({componentId:"sc-2kBljo-5",displayName:"StyledEditionComparisonButton"})($l||($l=Object(r.__makeTemplateObject)(["padding:1px;svg{fill:currentColor;}"],[""]))),Uu=c.default.div.withConfig({componentId:"sc-2kBljo-6",displayName:"StyledDurationName"})(es||(es=Object(r.__makeTemplateObject)(["display:flex;align-items:center;font-weight:500;color:#41464b;&::before{content:'';width:5px;height:5px;margin-right:8px;border-radius:50%;background-color:#5ba0e7;}"],[""]))),Gu=c.default.div.withConfig({componentId:"sc-2kBljo-7",displayName:"StyledDurationDescription"})(ts||(ts=Object(r.__makeTemplateObject)(["margin-top:8px;color:rgba(65,70,75,0.9);"],[""]))),Hu=c.default.div.withConfig({componentId:"sc-2kBljo-8",displayName:"StyledSeatsName"})(ns||(ns=Object(r.__makeTemplateObject)(["display:flex;align-items:center;padding:4px 0;font-weight:500;color:#41464b;&::before{content:'';width:5px;height:5px;margin-right:8px;border-radius:50%;background-color:#5ba0e7;}"],[""]))),Wu=c.default.div.withConfig({componentId:"sc-2kBljo-9",displayName:"StyledSeatsInputGroup"})(rs||(rs=Object(r.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),Ku=c.default.div.withConfig({componentId:"sc-2kBljo-10",displayName:"StyledSeatsInputWrapper"})(is||(is=Object(r.__makeTemplateObject)(["width:80px;"],[""]))),Yu=c.default.div.withConfig({componentId:"sc-2kBljo-11",displayName:"StyledSeatsDescription"})(as||(as=Object(r.__makeTemplateObject)(["margin-left:16px;color:",";"],["",""])),(function(e){return e.isInvalid?"#cd4747":"rgba(65, 70, 75, 0.9)"})),Zu=c.default.span.withConfig({componentId:"sc-2kBljo-12",displayName:"StyledHighlightedText"})(os||(os=Object(r.__makeTemplateObject)(["color:#4583d4;"],[""]))),qu=Object(c.default)(Ba).withConfig({componentId:"sc-2kBljo-13",displayName:"StyledCart"})(cs||(cs=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;width:226px;margin-left:16px;"],[""]))),Qu=c.default.div.withConfig({componentId:"sc-2kBljo-14",displayName:"StyledCartHeader"})(ls||(ls=Object(r.__makeTemplateObject)(["display:flex;align-items:center;padding:16px 12px 8px;"],[""]))),Xu=Object(c.default)(et).withConfig({componentId:"sc-2kBljo-15",displayName:"StyledCartIcon"})(ss||(ss=Object(r.__makeTemplateObject)(["margin-right:4px;"],[""]))),Ju=c.default.div.withConfig({componentId:"sc-2kBljo-16",displayName:"StyledCartTitle"})(us||(us=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;font-size:13px;font-weight:500;line-height:20px;color:#41464b;"],[""]))),$u=c.default.div.withConfig({componentId:"sc-2kBljo-17",displayName:"StyledCartContent"})(ds||(ds=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;flex:1;overflow:hidden;padding:16px;"],[""]))),ed=c.default.div.withConfig({componentId:"sc-2kBljo-18",displayName:"StyledEmptyCart"})(ps||(ps=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;margin:auto 0;"],[""]))),td=Object(c.default)(_n).withConfig({componentId:"sc-2kBljo-19",displayName:"StyledEmptyCartIcon"})(fs||(fs=Object(r.__makeTemplateObject)(["margin-bottom:16px;"],[""]))),nd=c.default.div.withConfig({componentId:"sc-2kBljo-20",displayName:"StyledEmptyCartText"})(ms||(ms=Object(r.__makeTemplateObject)(["font-size:13px;line-height:20px;color:rgba(65,70,75,0.3);"],[""]))),rd=c.default.div.withConfig({componentId:"sc-2kBljo-21",displayName:"StyledCartFooter"})(bs||(bs=Object(r.__makeTemplateObject)(["position:relative;padding:16px 20px;&::before{content:'';position:absolute;left:0;right:0;top:0;border-top:1px dashed rgba(65,70,75,0.1);}"],[""]))),id=c.default.div.withConfig({componentId:"sc-2kBljo-22",displayName:"StyledPrice"})(hs||(hs=Object(r.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:16px;"],[""]))),ad=c.default.div.withConfig({componentId:"sc-2kBljo-23",displayName:"StyledPriceLabel"})(gs||(gs=Object(r.__makeTemplateObject)(["flex:1;overflow:hidden;font-size:12px;line-height:20px;color:#41464b;"],[""]))),od=c.default.div.withConfig({componentId:"sc-2kBljo-24",displayName:"StyledPriceSymbol"})(vs||(vs=Object(r.__makeTemplateObject)(["margin-right:4px;font-size:12px;line-height:20px;color:#41464b;"],[""]))),cd=c.default.div.withConfig({componentId:"sc-2kBljo-25",displayName:"StyledPriceNumber"})(_s||(_s=Object(r.__makeTemplateObject)(["font-size:20px;font-weight:500;font-variant-numeric:tabular-nums;line-height:24px;color:#41464b;"],[""]))),ld=c.default.div.withConfig({componentId:"sc-2kBljo-26",displayName:"StyledOrderDescription"})(ys||(ys=Object(r.__makeTemplateObject)(["margin-bottom:12px;font-size:12px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),sd=Object(c.default)(i.l).attrs({size:"l"}).withConfig({componentId:"sc-2kBljo-27",displayName:"StyledSubmitButton"})(Os||(Os=Object(r.__makeTemplateObject)(["width:100%;"],[""]))),ud=function(e){var t=e.me,n=e.order,a=e.charge,c=e.offlineAccount,l=e.onClose,u=e.onSuccess,d=e.onChangePaymentMethod,p=io({amount:n.amount,currencyPrecision:n.currencyPrecision,currencySymbol:n.currencySymbol}),f=c?[[s()("订单号"),n.orderNo],[s()("转账金额"),p],[s()("收款公司名"),c.bankAccountName],[s()("收款账户"),c.bankAccount],[s()("开户行"),c.bank],[s()("行号"),c.bankNo],[s()("开户地"),c.bankAddress]].map((function(e){var t=Object(r.__read)(e,2),n=t[0],i=t[1];return s()(js||(js=Object(r.__makeTemplateObject)(["","：",""],["","：",""])),n,i)})).join("\n"):"";return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(dd,null,o.a.createElement(Xo,{order:n,charge:a,onSuccess:u})),o.a.createElement(yd,null,o.a.createElement(jd,{onClick:function(){var e;Ce.c.trackNew("enterprise_payment_change_payment_method_click",{eventId:173,pageId:49,team_id:null===(e=t.team)||void 0===e?void 0:e.id}),d()},"data-test":"enterprise-change-payment-method"},s()("更换支付方式")))),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(pd,null,o.a.createElement(fd,null,o.a.createElement(md,null,s.a.x(ws||(ws=Object(r.__makeTemplateObject)(["请于 "," 内完成转账，我们会尽快确认到账并开通服务。"],["请于 "," 内完成转账，我们会尽快确认到账并开通服务。"])),o.a.createElement(hd,null,s()("10 日")))),o.a.createElement(bd,null,s()("如您有任何疑问，请立即联系我们的客户顾问帮助您解决，电话 400-666-9920"))),o.a.createElement(La,{size:"large",titleWidth:96},o.a.createElement(za,{title:s()("订单号"),description:n.orderNo})),o.a.createElement(gd,null),o.a.createElement(vd,null,o.a.createElement(i.b,{text:f},o.a.createElement(_d,{iconBefore:o.a.createElement(Bt,null),onClick:function(){var e;Ce.c.trackNew("enterprise_payment_offline_copy_click",{eventId:176,pageId:49,team_id:null===(e=t.team)||void 0===e?void 0:e.id})},"data-test":"enterprise-offline-copy"},s()("复制信息")))),o.a.createElement(La,{size:"large",titleWidth:96},o.a.createElement(za,{title:s()("转账金额"),description:p}),o.a.createElement(za,{title:s()("收款公司名"),description:c.bankAccountName}),o.a.createElement(za,{title:s()("收款账户"),description:c.bankAccount}),o.a.createElement(za,{title:s()("开户行"),description:c.bank}),o.a.createElement(za,{title:s()("行号"),description:c.bankNo}),o.a.createElement(za,{title:s()("开户地"),description:c.bankAddress}))),o.a.createElement(yd,null,o.a.createElement(Od,{onClick:function(){var e;Ce.c.trackNew("enterprise_payment_offline_ok_click",{eventId:175,pageId:49,team_id:null===(e=t.team)||void 0===e?void 0:e.id}),l()},"data-test":"enterprise-offline-ok"},s()("我知道了")),o.a.createElement(jd,{onClick:function(){var e;Ce.c.trackNew("enterprise_payment_offline_change_payment_method_click",{eventId:174,pageId:49,team_id:null===(e=t.team)||void 0===e?void 0:e.id}),d()},"data-test":"enterprise-offline-change-payment-method"},s()("更换支付方式")))))},dd=Object(c.default)(Ba).withConfig({componentId:"sc-3TWPDR",displayName:"StyledChargeCard"})(xs||(xs=Object(r.__makeTemplateObject)(["padding:32px 24px;"],[""]))),pd=Object(c.default)(Ba).withConfig({componentId:"sc-3TWPDR-1",displayName:"StyledOfflineAccountCard"})(Es||(Es=Object(r.__makeTemplateObject)(["display:flex;flex-direction:column;padding:16px 24px 20px;"],[""]))),fd=c.default.div.withConfig({componentId:"sc-3TWPDR-2",displayName:"StyledHeader"})(ks||(ks=Object(r.__makeTemplateObject)(["margin-bottom:12px;"],[""]))),md=c.default.div.withConfig({componentId:"sc-3TWPDR-3",displayName:"StyledTitle"})(Cs||(Cs=Object(r.__makeTemplateObject)(["font-size:16px;font-weight:500;line-height:24px;color:#41464b;"],[""]))),bd=c.default.div.withConfig({componentId:"sc-3TWPDR-4",displayName:"StyledDescription"})(Ts||(Ts=Object(r.__makeTemplateObject)(["margin-top:4px;font-size:14px;line-height:24px;color:rgba(65,70,75,0.6);"],[""]))),hd=c.default.span.withConfig({componentId:"sc-3TWPDR-5",displayName:"StyledHighlightedText"})(Ss||(Ss=Object(r.__makeTemplateObject)(["color:#4583d4;"],[""]))),gd=c.default.div.withConfig({componentId:"sc-3TWPDR-6",displayName:"StyledSeparator"})(Is||(Is=Object(r.__makeTemplateObject)(["position:relative;margin:16px -24px;&::after{content:'';position:absolute;left:0;right:0;top:0;border-top:1px dashed rgba(65,70,75,0.2);}"],[""]))),vd=c.default.div.withConfig({componentId:"sc-3TWPDR-7",displayName:"StyledCopyButtonWrapper"})(Ns||(Ns=Object(r.__makeTemplateObject)(["display:flex;margin-bottom:12px;"],[""]))),_d=Object(c.default)(i.l).attrs({type:"secondary",size:"m"}).withConfig({componentId:"sc-3TWPDR-8",displayName:"StyledCopyButton"})(Rs||(Rs=Object(r.__makeTemplateObject)(["svg{fill:rgba(65,70,75,0.9);}"],[""]))),yd=c.default.div.withConfig({componentId:"sc-3TWPDR-9",displayName:"StyledFooter"})(Ps||(Ps=Object(r.__makeTemplateObject)(["position:absolute;left:0;right:0;bottom:0;display:flex;justify-content:flex-end;align-items:center;padding:16px 32px;border-radius:0 0 2px 2px;background:#fff;box-shadow:inset 0 1px #eceded;"],[""]))),Od=Object(c.default)(i.l).attrs({type:"primary",size:"l"}).withConfig({componentId:"sc-3TWPDR-10",displayName:"StyledCloseButton"})(Ms||(Ms=Object(r.__makeTemplateObject)(["margin-right:12px;"],[""]))),jd=Object(c.default)(i.l).attrs({type:"secondary",size:"l"}).withConfig({componentId:"sc-3TWPDR-11",displayName:"StyledChangePaymentMethodButton"})(As||(As=Object(r.__makeTemplateObject)([""],[""]))),wd=function(e){var t=e.triggeredBy,n=e.onLoadMe,i=e.onClose,c=e.onSuccess,l=Object(r.__read)(Object(a.useState)(null),2),u=l[0],d=l[1];Object(a.useEffect)((function(){ke.getMe().then((function(e){d(e)}))}),[]),Object(a.useEffect)((function(){u&&n(u)}),[u,n]);var p=Object(r.__read)(Object(a.useState)(null),2),f=p[0],m=p[1];Object(a.useEffect)((function(){Ee.getMine().then((function(e){m(e)}))}),[]);var b=Object(r.__read)(Object(a.useState)(null),2),h=b[0],g=b[1];Object(a.useEffect)((function(){we.getEditions().then((function(e){g(e)}))}),[]);var v=Object(r.__read)(Object(a.useState)("order"),2),_=v[0],y=v[1],O=Object(r.__read)(Object(a.useState)(null),2),j=O[0],w=O[1],x=Object(r.__read)(Object(a.useState)(Tr.Alipay),2),E=x[0],k=x[1],C=Object(r.__read)(Object(a.useState)(!1),2),T=C[0],S=C[1],I=Object(r.__read)(Object(a.useState)(null),2),N=I[0],R=I[1],P=Object(r.__read)(Object(a.useState)(null),2),M=P[0],A=P[1],B=Object(r.__read)(Object(a.useState)(null),2),D=B[0],L=B[1],z=Object(r.__read)(Object(a.useState)(null),2),F=z[0],V=z[1],U=Object(r.__read)(Object(a.useState)(null),2),G=U[0],H=U[1];if(!u||!f||!h)return null;if(!u.accountMetadata.isEnterprise||"creator"!==u.teamRole&&"admin"!==u.teamRole||u.accountMetadata.isDingtalk)return null;var W=h.skus.find((function(e){return e.edition===h.edition})),K=null;switch(_){case"order":K=o.a.createElement(Au,{me:u,mine:f,currentEdition:W,editions:h.skus,triggeredBy:t,initialEditionState:j,onSubmit:function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return w(e),R(t),[4,we.calculatePrice(e)];case 1:return n=r.sent(),A(n),[4,we.createOrder(e,null===(a=u.team)||void 0===a?void 0:a.id)];case 2:return i=r.sent(),L(i),y("confirm"),[2]}}))}))}});break;case"confirm":K=N&&M&&D&&o.a.createElement(sc,{me:u,orderInfo:N,calculatedPrice:M,order:D,initialPaymentMethod:E,initialTermsChecked:T,onConfirm:function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,i,a,o,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return k(e),S(!0),t=Aa(e),D&&t?[4,we.createCharge(D.id,t)]:[3,2];case 1:n=r.sent(),i=n.charge,a=void 0===i?null:i,o=n.offlineAccount,c=void 0===o?null:o,V(a),H(c),y("pay"),r.label=2;case 2:return[2]}}))}))},onCancel:function(){y("order")}});break;case"pay":K=D&&o.a.createElement(ud,{me:u,order:D,charge:F,offlineAccount:G,onClose:i,onSuccess:c,onChangePaymentMethod:function(){y("confirm")}})}return o.a.createElement(o.a.Fragment,null,o.a.createElement(xd,null,s()("购买服务")),o.a.createElement(Ed,null,o.a.createElement(Sr,{items:[{name:s()("提交订单"),value:"order"},{name:s()("确认订单"),value:"confirm"},{name:s()("付款"),value:"pay"}],value:_,canNavigate:!0,onNavigate:function(e){var t,n;"order"===e&&Ce.c.trackNew("enterprise_payment_nav_order_click",{eventId:177,pageId:49,team_id:null===(t=u.team)||void 0===t?void 0:t.id}),"confirm"===e&&Ce.c.trackNew("enterprise_payment_nav_confirm_click",{eventId:178,pageId:49,team_id:null===(n=u.team)||void 0===n?void 0:n.id}),y(e)}}),o.a.createElement(pr,{onClick:function(){var e;Ce.c.trackNew("enterprise_payment_contact_click",{eventId:169,pageId:49,team_id:null===(e=u.team)||void 0===e?void 0:e.id})}})),o.a.createElement(kd,null,K))},xd=c.default.div.withConfig({componentId:"sc-naIZK",displayName:"StyledTitle"})(Bs||(Bs=Object(r.__makeTemplateObject)(["margin-bottom:4px;font-size:20px;font-weight:500;line-height:32px;color:#41464b;"],[""]))),Ed=c.default.div.withConfig({componentId:"sc-naIZK-1",displayName:"StyledNavbar"})(Ds||(Ds=Object(r.__makeTemplateObject)(["display:flex;justify-content:space-between;margin-bottom:12px;"],[""]))),kd=c.default.div.withConfig({componentId:"sc-naIZK-2",displayName:"StyledContent"})(Ls||(Ls=Object(r.__makeTemplateObject)(["height:500px;"],[""]))),Cd=function(e){var t=e.visible,n=void 0===t||t,i=e.triggeredBy,c=void 0===i?null:i,l=e.onClose,s=e.onSuccess,u=Object(r.__read)(Object(a.useState)(null),2),d=u[0],p=u[1],f=Object(a.useCallback)((function(e){p(e)}),[]);return Object(a.useEffect)((function(){var e;n&&d&&Ce.c.trackNew("enterprise_payment_impression",{eventId:167,pageId:49,team_id:null===(e=d.team)||void 0===e?void 0:e.id})}),[n,d]),o.a.createElement(Td,{visible:n,width:754,footer:null,onCancel:function(){var e;Ce.c.trackNew("enterprise_payment_close",{eventId:168,pageId:49,team_id:null===(e=null==d?void 0:d.team)||void 0===e?void 0:e.id}),null==l||l()}},o.a.createElement(a.Suspense,{fallback:null},o.a.createElement(wd,{triggeredBy:c,onLoadMe:f,onClose:function(){return null==l?void 0:l()},onSuccess:function(){return null==s?void 0:s()}})))},Td=Object(c.default)(i.k).withConfig({componentId:"sc-3Ix2Gu",displayName:"StyledModal"})(zs||(zs=Object(r.__makeTemplateObject)([".sm-modal-content{padding:32px;}.sm-modal-body{height:572px;margin:0;}.sm-modal-close{right:32px;top:24px;}"],[""]))),Sd=Object(a.createContext)({value:null}),Id=function(e){var t=e.duration,n=e.name,r=e.label,i=e.discount,c=void 0===i?1:i,l=Object(a.useContext)(Sd),s=l.value,u=void 0===s?null:s,d=l.onChange,p=u===t;return o.a.createElement(Nd,null,o.a.createElement(Rd,{isSelected:p,"data-test":"personal-duration-"+t},o.a.createElement(Pd,{type:"radio",name:"personal-duration",value:t,checked:p,onChange:function(e){e.target.checked&&(null==d||d(t))}}),o.a.createElement(Md,{isSelected:p},n),o.a.createElement(Ad,{isSelected:p},r),.9===c&&o.a.createElement(Bd,{as:un}),.8===c&&o.a.createElement(Bd,{as:en}),p&&o.a.createElement(Dd,null)))},Nd=c.default.div.withConfig({componentId:"sc-2FABbp",displayName:"StyledWrapper"})(Fs||(Fs=Object(r.__makeTemplateObject)(["padding:0 6px;"],[""]))),Rd=c.default.label.withConfig({componentId:"sc-2FABbp-1",displayName:"StyledItem"})(Vs||(Vs=Object(r.__makeTemplateObject)(["position:relative;display:flex;flex-direction:column;box-sizing:border-box;min-width:96px;padding:8px 12px;border-radius:2px;background-color:#fff;box-shadow:",";cursor:pointer;user-select:none;"],["",""])),(function(e){return e.isSelected?"inset 0 0 0 1.5px #73b1eb":"inset 0 0 0 1px rgba(65, 70, 75, 0.1)"})),Pd=c.default.input.withConfig({componentId:"sc-2FABbp-2",displayName:"StyledInput"})(Us||(Us=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),Md=c.default.div.withConfig({componentId:"sc-2FABbp-3",displayName:"StyledName"})(Gs||(Gs=Object(r.__makeTemplateObject)(["font-size:13px;font-weight:500;line-height:20px;color:",";"],["",""])),(function(e){return e.isSelected?"#41464b":"rgba(65, 70, 75, 0.9)"})),Ad=c.default.div.withConfig({componentId:"sc-2FABbp-4",displayName:"StyledLabel"})(Hs||(Hs=Object(r.__makeTemplateObject)(["font-size:12px;line-height:20px;color:",";"],["",""])),(function(e){return e.isSelected?"#41464b":"rgba(65, 70, 75, 0.6)"})),Bd=c.default.svg.withConfig({componentId:"sc-2FABbp-5",displayName:"StyledDiscountIcon"})(Ws||(Ws=Object(r.__makeTemplateObject)(["position:absolute;right:0;top:0;"],[""]))),Dd=Object(c.default)(Kn).withConfig({componentId:"sc-2FABbp-6",displayName:"StyledSelectedIcon"})(Ks||(Ks=Object(r.__makeTemplateObject)(["position:absolute;right:0;bottom:0;"],[""]))),Ld=function(e){var t=e.value,n=void 0===t?null:t,r=e.onChange,i=e.children;return o.a.createElement(Sd.Provider,{value:{value:n,onChange:r}},o.a.createElement(zd,null,i))},zd=c.default.div.withConfig({componentId:"sc-32lI9C",displayName:"StyledContainer"})(Ys||(Ys=Object(r.__makeTemplateObject)(["display:flex;margin:0 -6px;"],[""]))),Fd=Object(a.createContext)({value:null}),Vd=function(e){var t=e.edition,n=e.name,r=e.description,i=e.isRecommended,c=void 0!==i&&i,l=Object(a.useContext)(Fd),s=l.value,u=l.onChange,d=s===t;return o.a.createElement(Ud,null,o.a.createElement(Gd,{isSelected:d,"data-test":"personal-edition-"+t},o.a.createElement(Hd,{type:"radio",name:"personal-edition",value:t,checked:d,onChange:function(e){e.target.checked&&(null==u||u(t))}}),o.a.createElement(Wd,{isSelected:d},n),o.a.createElement(Kd,{isSelected:d},r),c&&o.a.createElement(Yd,null),d&&o.a.createElement(Zd,null)))},Ud=c.default.div.withConfig({componentId:"sc-P6zS6",displayName:"StyledWrapper"})(Zs||(Zs=Object(r.__makeTemplateObject)(["overflow:hidden;box-sizing:border-box;width:50%;padding:0 8px;"],[""]))),Gd=c.default.label.withConfig({componentId:"sc-P6zS6-1",displayName:"StyledItem"})(Qs||(Qs=Object(r.__makeTemplateObject)(["position:relative;display:flex;flex-direction:column;overflow:hidden;padding:12px 16px;border-radius:4px;background:#fff;box-shadow:inset 0 0 0 1px rgba(65,70,75,0.1);cursor:pointer;user-select:none;&:hover{box-shadow:inset 0 0 0 1px #73b1eb;}",""],["",""])),(function(e){return e.isSelected&&Object(c.css)(qs||(qs=Object(r.__makeTemplateObject)(["background-color:#e4f1fb;box-shadow:inset 0 0 0 1px #73b1eb;"],[""])))})),Hd=c.default.input.withConfig({componentId:"sc-P6zS6-2",displayName:"StyledInput"})(Xs||(Xs=Object(r.__makeTemplateObject)(["position:absolute;left:0;top:0;width:0;height:0;appearance:none;"],[""]))),Wd=c.default.div.withConfig({componentId:"sc-P6zS6-3",displayName:"StyledName"})(Js||(Js=Object(r.__makeTemplateObject)(["margin-bottom:8px;font-size:16px;font-weight:500;line-height:22px;letter-spacing:0.05em;color:",";"],["",""])),(function(e){return e.isSelected?"#4583d4":"#41464b"})),Kd=c.default.div.withConfig({componentId:"sc-P6zS6-4",displayName:"StyledDescription"})($s||($s=Object(r.__makeTemplateObject)(["margin-bottom:4px;font-size:12px;line-height:20px;white-space:pre-line;color:",";"],["",""])),(function(e){return e.isSelected?"#4583d4":"rgba(65, 70, 75, 0.6)"})),Yd=Object(c.default)(Dn).withConfig({componentId:"sc-P6zS6-5",displayName:"StyledRecommendedIcon"})(eu||(eu=Object(r.__makeTemplateObject)(["position:absolute;right:14px;top:12px;"],[""]))),Zd=Object(c.default)(Kn).withConfig({componentId:"sc-P6zS6-6",displayName:"StyledSelectedIcon"})(tu||(tu=Object(r.__makeTemplateObject)(["position:absolute;right:0;bottom:0;"],[""]))),qd=function(e){var t=e.value,n=void 0===t?null:t,r=e.onChange,i=e.children;return o.a.createElement(Fd.Provider,{value:{value:n,onChange:r}},o.a.createElement(Qd,null,i))},Qd=c.default.div.withConfig({componentId:"sc-2Gq6Q1",displayName:"StyledContainer"})(nu||(nu=Object(r.__makeTemplateObject)(["display:flex;margin:0 -8px;"],[""]))),Xd=function(e){var t,n,i,c,l,u,d,p=e.me,f=e.editions,m=e.initialEditionState,b=e.initialPaymentMethod,h=e.onSubmit,g=e.onUpgrade,v=Object(r.__read)(Object(a.useState)(null!==(t=null==m?void 0:m.edition)&&void 0!==t?t:f[0].edition),2),_=v[0],y=v[1],O=null!==(n=f.find((function(e){return e.edition===_})))&&void 0!==n?n:null,j=null!==(i=null==O?void 0:O.durationList)&&void 0!==i?i:null,w=Object(r.__read)(Object(a.useState)(null!==(l=null!==(c=null==m?void 0:m.duration)&&void 0!==c?c:null==j?void 0:j[0].duration)&&void 0!==l?l:0),2),x=w[0],E=w[1],k=null!==(u=null==j?void 0:j.find((function(e){return e.duration===x})))&&void 0!==u?u:null,C=Object(r.__read)(Object(a.useState)(b),2),T=C[0],S=C[1];return o.a.createElement("div",null,o.a.createElement(Jd,null,s()("购买服务")),o.a.createElement($d,null,o.a.createElement(ep,{src:p.avatar,alt:""}),o.a.createElement("div",null,o.a.createElement(tp,null,p.name),o.a.createElement(np,null,s()(ru||(ru=Object(r.__makeTemplateObject)(["当前使用",""],["当前使用",""])),p.editionName)))),o.a.createElement(qd,{value:_,onChange:function(e){return y(e)}},f.map((function(e){return o.a.createElement(Vd,{key:e.edition,edition:e.edition,name:e.name,description:e.description,isRecommended:e.recommended})})),o.a.createElement(Vd,{edition:-1,name:s()("试用企业高级版"),description:s()("享有「个人版」所有功能，独有专业文档，企业管理、安全、企业服务"),isRecommended:!0})),o.a.createElement(rp,null,o.a.createElement(ip,{iconAfter:o.a.createElement(vt,null),onClick:function(){return window.open("/pricing","_blank")}},s()("查看详细版本对比"))),O&&o.a.createElement(ap,null,o.a.createElement(op,null,o.a.createElement(cp,null,s()("购买时长")),o.a.createElement(Ld,{value:x,onChange:function(e){return E(e)}},null==j?void 0:j.map((function(e){return o.a.createElement(Id,{key:e.duration,duration:e.duration,name:s()(iu||(iu=Object(r.__makeTemplateObject)(["购买",""],["购买",""])),e.name),label:e.label,discount:e.discount})}))),k&&o.a.createElement(lp,null,s.a.x(au||(au=Object(r.__makeTemplateObject)(["购买后有效期至 ",""],["购买后有效期至 ",""])),o.a.createElement(sp,null,Oo(new Date(k.expiredAt)))))),o.a.createElement(op,null,o.a.createElement(cp,null,s()("支付方式")),o.a.createElement(Ja,{methods:[Tr.Alipay,Tr.Wechat],value:T,onChange:function(e){return S(e)}}))),o.a.createElement(up,null,o.a.createElement(bo,{amount:null!==(d=null==k?void 0:k.tradeAmount)&&void 0!==d?d:0,currencyPrecision:null==k?void 0:k.currencyPrecision,currencySymbol:null==k?void 0:k.currencySymbol}),O?o.a.createElement(dp,{onClick:function(){Ce.c.trackNew("personal_payment_pay_click",{eventId:165,pageId:50}),h({edition:_,duration:x},T,{editionName:O.name})},"data-test":"personal-submit"},s()("立即支付")):o.a.createElement(pp,{onClick:function(){Ce.c.trackNew("personal_payment_upgrade_click",{eventId:166,pageId:50}),g()},"data-test":"personal-upgrade"},s()("免费试用"))))},Jd=c.default.div.withConfig({componentId:"sc-14hruS",displayName:"StyledTitle"})(ou||(ou=Object(r.__makeTemplateObject)(["margin-bottom:12px;font-size:20px;font-weight:500;line-height:32px;color:#41464b;"],[""]))),$d=c.default.div.withConfig({componentId:"sc-14hruS-1",displayName:"StyledUser"})(cu||(cu=Object(r.__makeTemplateObject)(["display:flex;align-items:center;margin-bottom:12px;"],[""]))),ep=c.default.img.withConfig({componentId:"sc-14hruS-2",displayName:"StyledUserAvatar"})(lu||(lu=Object(r.__makeTemplateObject)(["width:32px;height:32px;margin-right:12px;border-radius:50%;"],[""]))),tp=c.default.div.withConfig({componentId:"sc-14hruS-3",displayName:"StyledUserName"})(su||(su=Object(r.__makeTemplateObject)(["font-size:13px;line-height:20px;color:rgba(65,70,75,0.9);"],[""]))),np=c.default.div.withConfig({componentId:"sc-14hruS-4",displayName:"StyledUserEdition"})(uu||(uu=Object(r.__makeTemplateObject)(["margin-top:2px;font-size:12px;line-height:20px;color:rgba(65,70,75,0.6);"],[""]))),rp=c.default.div.withConfig({componentId:"sc-14hruS-5",displayName:"StyledEditionFooter"})(du||(du=Object(r.__makeTemplateObject)(["display:flex;margin:8px -6px 0;"],[""]))),ip=Object(c.default)(i.l).attrs({type:"minimal",subType:"guidance",size:"s"}).withConfig({componentId:"sc-14hruS-6",displayName:"StyledEditionComparisonButton"})(pu||(pu=Object(r.__makeTemplateObject)(["padding:1px;svg{fill:currentColor;}"],[""]))),ap=Object(c.default)(Ba).withConfig({componentId:"sc-14hruS-7",displayName:"StyledOrderList"})(fu||(fu=Object(r.__makeTemplateObject)(["margin-top:8px;padding:16px 24px 20px;"],[""]))),op=c.default.div.withConfig({componentId:"sc-14hruS-8",displayName:"StyledOrderItem"})(mu||(mu=Object(r.__makeTemplateObject)(["& + &{margin-top:16px;}"],[""]))),cp=c.default.div.withConfig({componentId:"sc-14hruS-9",displayName:"StyledOrderItemName"})(bu||(bu=Object(r.__makeTemplateObject)(["margin-bottom:4px;font-size:12px;font-weight:500;line-height:20px;color:#41464b;"],[""]))),lp=c.default.div.withConfig({componentId:"sc-14hruS-10",displayName:"StyledDurationDescription"})(hu||(hu=Object(r.__makeTemplateObject)(["margin-top:8px;font-size:13px;line-height:20px;color:rgba(65,70,75,0.6);"],[""]))),sp=c.default.span.withConfig({componentId:"sc-14hruS-11",displayName:"StyledHighlightedText"})(gu||(gu=Object(r.__makeTemplateObject)(["color:#4583d4;"],[""]))),up=c.default.div.withConfig({componentId:"sc-14hruS-12",displayName:"StyledFooter"})(vu||(vu=Object(r.__makeTemplateObject)(["display:flex;justify-content:flex-end;align-items:center;margin-top:24px;"],[""]))),dp=Object(c.default)(i.l).attrs({size:"l"}).withConfig({componentId:"sc-14hruS-13",displayName:"StyledSubmitButton"})(_u||(_u=Object(r.__makeTemplateObject)(["width:128px;margin-left:24px;"],[""]))),pp=Object(c.default)(i.l).attrs({size:"l"}).withConfig({componentId:"sc-14hruS-14",displayName:"StyledUpgradeButton"})(yu||(yu=Object(r.__makeTemplateObject)(["width:128px;margin-left:24px;"],[""]))),fp=function(e){var t=e.orderInfo,n=e.order,i=e.charge,a=e.onSuccess,c=e.onChangePaymentMethod;return o.a.createElement("div",null,o.a.createElement(mp,null,s()(Ou||(Ou=Object(r.__makeTemplateObject)(["购买",""],["购买",""])),t.editionName)),o.a.createElement(bp,null,o.a.createElement(Xo,{order:n,charge:i,onSuccess:a})),o.a.createElement(hp,null,o.a.createElement(gp,{iconBefore:o.a.createElement(st,null),onClick:function(){Ce.c.trackNew("personal_payment_change_payment_method_click",{eventId:179,pageId:50}),c()},"data-test":"personal-change-payment-method"},s()("更换支付方式"))))},mp=c.default.div.withConfig({componentId:"sc-lObha",displayName:"StyledTitle"})(ju||(ju=Object(r.__makeTemplateObject)(["margin-bottom:16px;font-size:20px;font-weight:500;line-height:32px;color:#41464b;"],[""]))),bp=Object(c.default)(Ba).withConfig({componentId:"sc-lObha-1",displayName:"StyledPaymentCard"})(wu||(wu=Object(r.__makeTemplateObject)(["padding:24px;"],[""]))),hp=c.default.div.withConfig({componentId:"sc-lObha-2",displayName:"StyledFooter"})(xu||(xu=Object(r.__makeTemplateObject)(["display:flex;margin-top:24px;"],[""]))),gp=Object(c.default)(i.l).attrs({type:"minimal",size:"s"}).withConfig({componentId:"sc-lObha-3",displayName:"StyledChangePaymentMethodButton"})(Eu||(Eu=Object(r.__makeTemplateObject)(["svg{fill:rgba(65,70,75,0.9);}"],[""]))),vp=function(e){var t=e.onSuccess,n=e.onUpgrade,i=Object(r.__read)(Object(a.useState)(null),2),c=i[0],l=i[1];Object(a.useEffect)((function(){ke.getMe().then((function(e){l(e)}))}),[]);var s=Object(r.__read)(Object(a.useState)(null),2),u=s[0],d=s[1];Object(a.useEffect)((function(){we.getEditions().then((function(e){d(e)}))}),[]);var p=Object(r.__read)(Object(a.useState)("order"),2),f=p[0],m=p[1],b=Object(r.__read)(Object(a.useState)(null),2),h=b[0],g=b[1],v=Object(r.__read)(Object(a.useState)(Tr.Alipay),2),_=v[0],y=v[1],O=Object(r.__read)(Object(a.useState)(null),2),j=O[0],w=O[1],x=Object(r.__read)(Object(a.useState)(null),2),E=x[0],k=x[1],C=Object(r.__read)(Object(a.useState)(null),2),T=C[0],S=C[1];if(!c||!u)return null;if(c.accountMetadata.isEnterprise)return null;var I=null;switch(f){case"order":I=o.a.createElement(Xd,{me:c,editions:u.skus,initialEditionState:h,initialPaymentMethod:_,onSubmit:function(e,t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,a,o,c,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return g(e),y(t),w(n),(i=Aa(t))?[4,we.createOrderWithCharge(e,i)]:[3,2];case 1:a=r.sent(),o=a.order,c=a.charge,l=void 0===c?null:c,k(o),S(l),m("pay"),r.label=2;case 2:return[2]}}))}))},onUpgrade:n});break;case"pay":I=j&&E&&T&&o.a.createElement(fp,{orderInfo:j,order:E,charge:T,onSuccess:t,onChangePaymentMethod:function(){m("order")}})}return o.a.createElement("div",null,I)},_p=function(e){var t=e.visible,n=void 0===t||t,r=e.onClose,i=e.onSuccess,c=e.onUpgrade;return Object(a.useEffect)((function(){n&&Ce.c.trackNew("personal_payment_impression",{eventId:163,pageId:50})}),[n]),o.a.createElement(yp,{visible:n,width:560,footer:null,onCancel:function(){Ce.c.trackNew("personal_payment_close",{eventId:164,pageId:50}),null==r||r()}},o.a.createElement(a.Suspense,{fallback:null},o.a.createElement(vp,{onSuccess:function(){return null==i?void 0:i()},onUpgrade:function(){return null==c?void 0:c()}})))},yp=Object(c.default)(i.k).withConfig({componentId:"sc-2zOLvo",displayName:"StyledModal"})(ku||(ku=Object(r.__makeTemplateObject)([".sm-modal-content{padding:24px 32px;}.sm-modal-body{min-height:284px;margin:0;}.sm-modal-close{right:32px;top:24px;}"],[""])))},1346:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var r=n(2),i=n(8),a=n.n(i),o=n(91),c=function(){},l={bindKeyDown:c,bindKeyPress:c,unbindKeyDown:c,unbindKeyPress:c},s=a.a.createContext(l),u=function(e){function t(t){var n=e.call(this,t)||this;return n.osx=Object(o.isMac)(),n.keydownHandlers={},n.keyupHandlers={},n.handleKeyDown=function(e){var t=n.keydownHandlers;if("string"==typeof e.key){var r=e.key.toLocaleLowerCase();t[r]&&n.keydownHandlers[r].forEach((function(t){t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey&&t.shiftKey===e.shiftKey&&t.callback(e)}))}},n.handleKeyUp=function(e){var t=n.keyupHandlers;if("string"==typeof e.key){var r=e.key.toLocaleLowerCase();t[r]&&t[r].forEach((function(t){t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey&&t.shiftKey===e.shiftKey&&t.callback(e)}))}},n.bindKeyDown=function(e,t){n.bindKeyEvent("keydownHandlers",e,t)},n.bindKeyPress=function(e,t,r){n.bindKeyEvent("keydownHandlers",e,t),n.bindKeyEvent("keyupHandlers",e,r)},n.bindKeyEvent=function(e,t,i){var a,o=n.formatKey(t),c=n[e],l=c[o.key]?Object(r.__spreadArray)([],Object(r.__read)(c[o.key])):[];l.push({shiftKey:o.shiftKey,altKey:o.altKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,callback:i}),n[e]=Object(r.__assign)(Object(r.__assign)({},c),((a={})[o.key]=l,a))},n.unbindKeyDown=function(e,t){n.unbindKeyEvent("keydownHandlers",e,t)},n.unbindKeyPress=function(e,t,r){n.unbindKeyEvent("keydownHandlers",e,t),n.unbindKeyEvent("keyupHandlers",e,r)},n.unbindKeyEvent=function(e,t,i){var a,o=n.formatKey(t),c=n[e],l=c[o.key];if(l){var s=l.findIndex((function(e){return e.callback===i}));-1!==s&&(n[e]=Object(r.__assign)(Object(r.__assign)({},c),((a={})[o.key]=l.filter((function(e,t){return t!==s})),a)))}},n.state={bindKeyDown:n.bindKeyDown,bindKeyPress:n.bindKeyPress,unbindKeyDown:n.unbindKeyDown,unbindKeyPress:n.unbindKeyPress},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},t.prototype.render=function(){return a.a.createElement(s.Provider,{value:this.state},this.props.children)},t.prototype.formatKey=function(e){var t=(e=e.toLocaleLowerCase()).split("+"),n=t[t.length-1],r=t.indexOf("cmdorctrl")>-1||t.indexOf("ctrlorcmd")>-1;return{altKey:t.indexOf("alt")>-1,shiftKey:t.indexOf("shift")>-1,metaKey:t.indexOf("meta")>-1||r&&this.osx,ctrlKey:t.indexOf("ctrl")>-1||r&&!this.osx,key:n}},t}(a.a.PureComponent);function d(){return function(e){var t=function(t){return a.a.createElement(s.Consumer,null,(function(n){return a.a.createElement(e,Object(r.__assign)({},t,n))}))};return t.displayName="withShortcutsContext",t}}var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.shortKey,n=e.callback;this.props.bindKeyDown(t,n)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.shortKey,n=e.callback;this.props.unbindKeyDown(t,n)},t.prototype.render=function(){return null},t=Object(r.__decorate)([d()],t)}(a.a.PureComponent);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.shortKey,n=e.keyDownCallback,r=e.keyUpCallback;this.props.bindKeyPress(t,n,r)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.shortKey,n=e.keyDownCallback,r=e.keyUpCallback;this.props.unbindKeyPress(t,n,r)},t.prototype.render=function(){return null},t=Object(r.__decorate)([d()],t)}(a.a.PureComponent)},1411:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="eba9f52eb216eca1be337578f9ce9f820_"+this.SVG_COMPONENT_ID++,t="eba9f52eb216eca1be337578f9ce9f821_"+this.SVG_COMPONENT_ID++,n="eba9f52eb216eca1be337578f9ce9f822_"+this.SVG_COMPONENT_ID++,r="eba9f52eb216eca1be337578f9ce9f823_"+this.SVG_COMPONENT_ID++,a="eba9f52eb216eca1be337578f9ce9f824_"+this.SVG_COMPONENT_ID++,o="eba9f52eb216eca1be337578f9ce9f825_"+this.SVG_COMPONENT_ID++,c="eba9f52eb216eca1be337578f9ce9f826_"+this.SVG_COMPONENT_ID++,l="eba9f52eb216eca1be337578f9ce9f827_"+this.SVG_COMPONENT_ID++;return i.a.createElement("svg",p({id:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25"},this.props),i.a.createElement("g",{id:t},i.a.createElement("g",{id:n},i.a.createElement("g",{id:r,transform:"translate(5 6)"},i.a.createElement("path",{id:a,d:"M3.047 11.106a6.462 6.462 0 1 0-1.953-5.124l1.081-.007a5.385 5.385 0 1 1 1.579 4.318l-.707.813z",fill:"#555"}),i.a.createElement("path",{id:o,fill:"#555",d:"M1.885 8.615l1.884-3.23H0z"}),i.a.createElement("path",{id:c,d:"M7.538 3.303v2.706",fill:"none",stroke:"#555",strokeLinecap:"round"}),i.a.createElement("path",{id:l,d:"M9.154 8.077L7.734 6.21",fill:"none",stroke:"#555",strokeLinecap:"round"})))))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1412:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=s(u);function u(){return o(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return i.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),i.a.createElement("path",{d:"M10 17c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm0-1c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6zm-1.5-3.5v-5l4 2.4-4 2.6z",fill:"#555"}))}}])&&c(t.prototype,n),r&&c(t,r),u}(i.a.Component)},1624:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(11);var r,i,a,o,c=n(8),l=n.n(c),s=n(971),u=(n(91),n(2)),d=n(253),p=n(1298);Object(d.default)(s.a).withConfig({componentId:"sc-1Z-gi-",displayName:"StyledButton"})(r||(r=Object(u.__makeTemplateObject)(["position:relative;margin:11px 0;width:38px;min-width:38px;height:28px;white-space:nowrap;"],[""]))),d.default.p.withConfig({componentId:"sc-1Z-gi--1",displayName:"StyledSmallText"})(i||(i=Object(u.__makeTemplateObject)(["transform:scale(0.83);"],[""]))),Object(d.default)(p.a).withConfig({componentId:"sc-1Z-gi--2",displayName:"StyledCommentIcon"})(a||(a=Object(u.__makeTemplateObject)(["opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),d.default.div.withConfig({componentId:"sc-1Z-gi--3",displayName:"StyledUnreadMark"})(o||(o=Object(u.__makeTemplateObject)(["position:absolute;right:5px;top:1px;width:6px;height:6px;border:2px solid #fff;border-radius:100%;background:#8ab3e9;"],[""])));function f(e){var t,n=e.constructor;return(t={})[n.events.SHOW]="onShow",t[n.events.HIDE]="onHide",t[n.events.UNREAD]="onUnread",t[n.events.TOTAL]="onTotal",t}var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ready:!1},t.bindDiscord=function(){t.setState({ready:!0});var e=t.props.discord;if(e){var n=f(e);Object.keys(n).forEach((function(r){var i=n[r],a=t.props[i];a&&e.on(r,a)}))}},t.unbindDiscord=function(){var e=t.props.discord;if(e){var n=f(e);Object.keys(n).forEach((function(r){var i=n[r],a=t.props[i];a&&e.off(r,a)}))}},t}return Object(u.__extends)(t,e),t.prototype.componentDidMount=function(){!this.state.ready&&this.props.discord&&this.bindDiscord()},t.prototype.componentDidUpdate=function(e){var t=this;if(this.state.ready||!this.props.discord){if(this.state.ready&&this.props.discord){var n=f(this.props.discord);Object.keys(n).forEach((function(r){var i=n[r],a=e[i],o=t.props[i];a!==o&&(a&&t.props.discord.off(r,a),o&&t.props.discord.on(r,o))}))}}else this.bindDiscord()},t.prototype.componentWillUnmount=function(){this.state.ready&&this.props.discord&&this.unbindDiscord()},t.prototype.render=function(){return null},t}(l.a.PureComponent)},2755:function(e,t,n){},3142:function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return Oc})),n.d(t,"routes",(function(){return wc})),n.d(t,"redirects",(function(){return xc})),n.d(t,"CoreContext",(function(){return Ec})),n.d(t,"rootRouter",(function(){return kc})),n.d(t,"onAuth",(function(){return Cc})),n.d(t,"onLoadDeps",(function(){return Tc})),n.d(t,"onEnterService",(function(){return Sc}));var r={};n.r(r),n.d(r,"getMenuItem",(function(){return Xe})),n.d(r,"keys",(function(){return tt})),n.d(r,"callbacks",(function(){return nt}));var i={};n.r(i),n.d(i,"getMenuItem",(function(){return it})),n.d(i,"keys",(function(){return at})),n.d(i,"callbacks",(function(){return ot}));var a={};n.r(a),n.d(a,"FILE_MENU_TOGGLE_HISTORY",(function(){return ut})),n.d(a,"FILE_MENU_TOGGLE_COMMENT_LIST",(function(){return dt})),n.d(a,"FILE_MENU_SHOW_HIDE",(function(){return pt})),n.d(a,"FILE_MENU_TOGGLE_COMMENTS",(function(){return ft})),n.d(a,"FILE_MENU_TOGGLE_CATALOGUE",(function(){return mt})),n.d(a,"FILE_MENU_TOGGLE_WRITERS",(function(){return bt})),n.d(a,"FILE_MENU_HISTORY_RELATED",(function(){return ht})),n.d(a,"getMenuItem",(function(){return gt})),n.d(a,"callbacks",(function(){return vt})),n.d(a,"keys",(function(){return _t}));var o={};n.r(o),n.d(o,"FILE_MENU_SAVE_REVISION",(function(){return yt})),n.d(o,"getMenuItem",(function(){return Ot})),n.d(o,"keys",(function(){return jt})),n.d(o,"callbacks",(function(){return wt}));var c={};n.r(c),n.d(c,"SubscribeMenuContainer",(function(){return Rt})),n.d(c,"FILE_MENU_SUBSCRIBE",(function(){return Pt})),n.d(c,"containerRef",(function(){return Mt})),n.d(c,"SUBSCRIBE_FEATURE_KEY",(function(){return At})),n.d(c,"getMenuItem",(function(){return Bt})),n.d(c,"callbacks",(function(){return Dt})),n.d(c,"keys",(function(){return Lt}));var l=n(2),s=n(8),u=n.n(s),d=n(34),p=n(57),f=n(257),m=n.n(f),b=n(1013),h=n(1112),g=n(1067),v=n(255),_=n.n(v),y=n(121),O=n(970),j=n(13),w=n(1344),x=n(1624),E=n(1242),k=n(1254),C=n(1158),T=n(1012),S=n(1312),I=n(123),N=n(254),R=n(1e3),P=n(981),M=n(29),A=n.n(M),B=n(253),D=n(11),L=n.n(D),z=n(977),F=n(985),V=n(1412),U=n(1019),G=n(987),H=n(980),W=n(1001),K=n(1133),Y=n(1157);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,i=J(a);function a(){return q(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="fbd4cbffd82ff431594495ce1ab166070_"+this.SVG_COMPONENT_ID++,t="fbd4cbffd82ff431594495ce1ab166071_"+this.SVG_COMPONENT_ID++,n="fbd4cbffd82ff431594495ce1ab166072_"+this.SVG_COMPONENT_ID++,r="fbd4cbffd82ff431594495ce1ab166073_"+this.SVG_COMPONENT_ID++,i="fbd4cbffd82ff431594495ce1ab166074_"+this.SVG_COMPONENT_ID++,a="fbd4cbffd82ff431594495ce1ab166075_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",te({id:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),u.a.createElement("g",{id:t},u.a.createElement("g",{id:n},u.a.createElement("path",{id:r,fill:"none",d:"M0 0h20v20H0z"}),u.a.createElement("linearGradient",{id:i,gradientUnits:"userSpaceOnUse",x1:"-129.813",y1:"152.313",x2:"-129.813",y2:"151.313",gradientTransform:"matrix(16 0 0 -16 2087 2439)"},u.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),u.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),u.a.createElement("path",{id:a,d:"M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16zM8.833 6.662a.5.5 0 0 0-.5.5v5.676a.499.499 0 0 0 .79.407l3.973-2.838a.5.5 0 0 0 0-.813L9.124 6.755a.504.504 0 0 0-.291-.093z",fill:"url(#".concat(i,")")}))))}}])&&Q(t.prototype,n),r&&Q(t,r),a}(u.a.Component);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var i=se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,n,r,i=ce(a);function a(){return ie(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="261469e644b154fc0fc1ddeebacd61740_"+this.SVG_COMPONENT_ID++,t="261469e644b154fc0fc1ddeebacd61741_"+this.SVG_COMPONENT_ID++,n="261469e644b154fc0fc1ddeebacd61742_"+this.SVG_COMPONENT_ID++,r="261469e644b154fc0fc1ddeebacd61743_"+this.SVG_COMPONENT_ID++,i="261469e644b154fc0fc1ddeebacd61744_"+this.SVG_COMPONENT_ID++,a="261469e644b154fc0fc1ddeebacd61745_"+this.SVG_COMPONENT_ID++,o="261469e644b154fc0fc1ddeebacd61746_"+this.SVG_COMPONENT_ID++,c="261469e644b154fc0fc1ddeebacd61747_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",ue({id:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),u.a.createElement("g",{id:t},u.a.createElement("path",{id:n,fill:"none",d:"M0 0h20v20H0z"}),u.a.createElement("g",{id:r,transform:"translate(2.5 2)"},u.a.createElement("g",{id:i},u.a.createElement("linearGradient",{id:a,gradientUnits:"userSpaceOnUse",x1:"-131.733",y1:"148.164",x2:"-131.733",y2:"147.164",gradientTransform:"matrix(15 0 0 -12.8274 1983.502 1900.561)"},u.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),u.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),u.a.createElement("path",{id:o,d:"M14 0a1 1 0 0 1 1 1v10.827a1 1 0 0 1-1.158.987L7.5 11.8l-6.342 1.015A1 1 0 0 1 0 11.827V1a1 1 0 0 1 1-1h13zM7.5 3.5v1.8a3.6 3.6 0 0 0-3.588 3.892A3.238 3.238 0 0 1 6.78 7.46h.72v1.8l3.6-2.88L7.5 3.5z",fill:"url(#".concat(a,")")}),u.a.createElement("path",{id:c,d:"M4.6 13.894h5.8a.6.6 0 0 1 .6.6v.2a.6.6 0 0 1-.6.6H4.6a.6.6 0 0 1-.6-.6v-.2a.6.6 0 0 1 .6-.6z",fill:"#96999c"})))))}}])&&ae(t.prototype,n),r&&ae(t,r),a}(u.a.Component),pe=Object(B.default)(Y.a).withConfig({componentId:"sc-1FFnRl",displayName:"StyleIconQuestion"})(me||(me=Object(l.__makeTemplateObject)(["width:12px;height:12px;margin-left:5px;&:hover > path{fill:#a0a2a5;}"],[""])));function fe(e){return Boolean(Object(N.bc)(e,"doc_follow_mode")||__RUNTIME_ENV__.DOC_FOLLOW_MODE_FORCE_ENABLE)}var me,be,he,ge,ve,_e,ye,Oe,je,we,xe,Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t.handlePlayDemoScreen=function(){var e=t.props.demoScreen;null==e||e.show()},t.handleMenuClick=function(e){var n=e.key,r=t.props,i=r.demoScreen,a=r.followMode;switch(n){case"MENU_KEY_DEMO_SCREEN":null==i||i.show();break;case"MENU_KEY_FOLLOW_MODE":null==a||a.start()}t.setState({visible:!1})},t.handleOpenMenu=function(){t.setState({visible:!0})},t.handleToggleVisibility=function(e){t.setState({visible:e})},t.renderTooltipTitle=function(e){var n=t.props.isLogin,r=(/Mac/i.test(navigator.platform)?"⌘":"Ctrl")+"+Shift+P";return n?e?null:s.createElement("div",null,s.createElement("p",null,L()("演示")),s.createElement(Te,null,r)):s.createElement("div",null,L()("登录开启更多功能"))},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.isLogin,n=this.state.visible;return s.createElement(K.a,{scopes:[fe]},(function(r){return s.createElement(F.a,{theme:t?"default":"blue",trigger:"hover",title:e.renderTooltipTitle(r),mouseLeaveDelay:0,align:t?{}:{offset:[0,11]}},s.createElement(U.a,{disabled:!r,overlay:e.renderMenu(),placement:"bottomRight",onVisibleChange:e.handleToggleVisibility,visible:n&&t,trigger:["hover"],mouseLeaveDelay:0,showTip:!0},s.createElement(ke,{active:n&&t,onClick:r?e.handleOpenMenu:e.handlePlayDemoScreen,type:"primary",size:"s",disabled:!t},s.createElement(Ce,{width:"20px",height:"20px"}))))}))},t.prototype.renderMenu=function(){return s.createElement("div",{"data-test":"page-header-menu"},s.createElement(Se,{onClick:this.handleMenuClick},s.createElement(H.c,{key:"MENU_KEY_DEMO_SCREEN"},s.createElement(W.c,null,s.createElement(ne,{width:22,height:22}),s.createElement(Ie,null,s.createElement(W.a,null,L()("全屏演示")),s.createElement("div",null,L()("放大文档内容并全屏演示"))))),s.createElement(H.c,{key:"MENU_KEY_FOLLOW_MODE"},s.createElement(W.c,null,s.createElement(de,{width:22,height:22}),s.createElement(Ie,null,s.createElement(W.a,null,L()("跟随模式"),s.createElement("a",{href:"https://shimo.im/docs/QjyYRcjtTYpg9X8p",rel:"noreferrer",target:"_blank",onClick:function(e){return e.stopPropagation()}},s.createElement(pe,null))),s.createElement("div",null,L()("其他成员跟随你的文档位置")))))))},t}(s.Component),ke=Object(B.default)(z.a).withConfig({componentId:"sc-1FFnRl-1",displayName:"StyledBtn"})(be||(be=Object(l.__makeTemplateObject)(["position:relative;width:38px;min-width:38px;height:28px;margin:11px 0 11px 0;",""],["",""])),(function(e){return e.disabled?"path {fill: rgba(65, 70, 75, 0.3);}":""})),Ce=Object(B.default)(V.a).withConfig({componentId:"sc-1FFnRl-2",displayName:"StyledPlayIcon"})(he||(he=Object(l.__makeTemplateObject)(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),Te=B.default.p.withConfig({componentId:"sc-1FFnRl-3",displayName:"SmallText"})(ge||(ge=Object(l.__makeTemplateObject)(["transform:scale(0.83);"],[""]))),Se=Object(B.default)(G.j).withConfig({componentId:"sc-1FFnRl-4",displayName:"StyledMenu"})(ve||(ve=Object(l.__makeTemplateObject)(["padding:5px 0;.sm-menu-item-disabled{color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled{opacity:0.3;color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled span{opacity:0.3;cursor:not-allowed;}.sm-menu-submenu-disabled div{cursor:not-allowed;}.sm-menu-submenu-vertical-left.sm-menu-submenu-active{.sm-menu-vertical-left{width:200px;top:-5px;}}","{min-width:200px;height:38px;padding:0 14px;width:auto;& > svg{min-width:22px;}}","{font-size:12px;color:#41464b;margin-left:0;display:flex;align-items:center;> a{width:12px;height:12px;display:block;> svg{vertical-align:top;}}}"],["","",""])),W.c,W.a),Ie=B.default.div.withConfig({componentId:"sc-1FFnRl-5",displayName:"StyledTextWrapper"})(_e||(_e=Object(l.__makeTemplateObject)(["display:inline-flex;flex-direction:column;color:#a5a5a5;margin-left:5px;"],[""]))),Ne=n(91),Re=n(1298),Pe=Object(B.default)(z.a).withConfig({componentId:"sc-2_aIUE",displayName:"StyledButton"})(ye||(ye=Object(l.__makeTemplateObject)(["position:relative;margin:11px 0;width:38px;min-width:38px;height:28px;white-space:nowrap;",""],["",""])),(function(e){return e.disabled?"path {\n      fill: rgba(65, 70, 75, 0.3);\n      &:nth-last-child(-n+2) {\n        stroke: rgba(65, 70, 75, 0.3);\n      }\n    }":""})),Me=B.default.p.withConfig({componentId:"sc-2_aIUE-1",displayName:"StyledSmallText"})(Oe||(Oe=Object(l.__makeTemplateObject)(["transform:scale(0.83);"],[""]))),Ae=Object(B.default)(Re.a).withConfig({componentId:"sc-2_aIUE-2",displayName:"StyledCommentIcon"})(je||(je=Object(l.__makeTemplateObject)(["opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),Be=B.default.div.withConfig({componentId:"sc-2_aIUE-3",displayName:"StyledUnreadMark"})(we||(we=Object(l.__makeTemplateObject)(["position:absolute;right:5px;top:1px;width:6px;height:6px;border:2px solid #fff;border-radius:100%;background:#8ab3e9;"],[""]))),De=n(1411),Le=Object(B.default)(De.a).withConfig({componentId:"sc-3VQRiO",displayName:"StyledHistoryIcon"})(xe||(xe=Object(l.__makeTemplateObject)(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),ze=function(e){var t,n=e.discordActive,r=e.historyActive,i=e.displayHistoryIcon,a=e.unreadCount;t=n||r?n?L()("关闭讨论"):L()("关闭历史"):i?L()("历史"):a+" "+L()("新讨论");var o=Object(Ne.isMac)()?"⌘":"Ctrl",c=i?o+"+Shift+L":o+"+Shift+D";return u.a.createElement("div",null,u.a.createElement("p",null,t),u.a.createElement(Me,null,c))},Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(l.__extends)(t,e),t.prototype.componentDidUpdate=function(e){0===e.unreadCount&&this.props.unreadCount>0&&this.setState({visible:!0})},t.prototype.render=function(){var e=this.props,t=e.onHistoryClick,n=e.onDiscordClick,r=e.discordActive,i=e.historyActive,a=e.unreadCount,o=e.isLogin,c=0===a&&!r;return u.a.createElement(F.a,{placement:"bottom",mouseLeaveDelay:0,arrowPointAtCenter:!0,theme:a>0||!o?"blue":"default",visible:this.state.visible,onVisibleChange:this.handleVisibleChange,title:o?u.a.createElement(ze,{discordActive:r,historyActive:i,unreadCount:a,displayHistoryIcon:c}):u.a.createElement("div",null,L()("登录开启更多功能")),align:o?{}:{offset:[0,-11]}},u.a.createElement(Pe,{onClick:c?t:n,type:"primary",size:"s",active:r||i,style:{marginRight:"10px"},disabled:!o},c?u.a.createElement(Le,{width:"30px",height:"30px"}):u.a.createElement(Ae,{width:"20px",height:"20px"}),a>0&&u.a.createElement(Be,null)))},t}(u.a.PureComponent),Ve=n(2753),Ue=n(41),Ge=n.n(Ue),He=n(1253),We=n(37),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this.props.file,t="",n=Object(We.typeToText)(e.type),r=window;return t=Ge()(r,"pad.quill.getTextByDelta")?r.pad.quill.getTextByDelta(r.pad.quill.getContents()):this.getTextByDelta(r.pad.quill.getContents()),u.a.createElement(He.a,{file:e},u.a.createElement("div",null,n,L()("总字数：")," ",this.toFriendlyNumber(Object(Ve.countWords)(t))),u.a.createElement("div",null,n,L()("字符数（计空格）：")," ",this.toFriendlyNumber(Object(Ve.countChars)(t))),u.a.createElement("div",null,n,L()("字符数（不计空格）：")," ",this.toFriendlyNumber(Object(Ve.countCharsWithoutSpaces)(t))))},t.prototype.toFriendlyNumber=function(e){return e>=1e10?e.toExponential(2):e.toLocaleString()},t.prototype.getTextByDelta=function(e){var t=this,n="";return e.ops.forEach((function(e){if("insert"===e.action)if("object"!=typeof e.data)n+=e.data;else if("TableOperator"===e.name()){var r=e.getAttributes().guid;if(r&&6===r.length){var i=e.data.cells;i.forEach((function(e){n+=t.getTextByDelta(i.get(e).data)}))}}else e.data.mention?n+=e.data.mention.text:n+="\n"})),n},t}(u.a.PureComponent),Ye=n(71),Ze=n(1190),qe=n(978),Qe=n(1256),Xe=function(e){var t=e.online,n=e.file.permissions.exportable,r=[u.a.createElement(H.c,{key:"FILE_MENU_EXPORT_DOC_PDF",disabled:!t},u.a.createElement(W.e,{disabled:!t},"PDF")),u.a.createElement(H.c,{key:"FILE_MENU_EXPORT_DOC_WORD",disabled:!t},u.a.createElement(W.e,{disabled:!t},"Word")),u.a.createElement(H.c,{key:"FILE_MENU_EXPORT_DOC_IMAGE",disabled:!t},u.a.createElement(W.e,{disabled:!t},L()("图片"))),u.a.createElement(H.c,{key:"FILE_MENU_EXPORT_DOC_MARKDOWN",disabled:!t},u.a.createElement(W.e,{disabled:!t},"Markdown"))];return u.a.createElement(H.d,{key:"FILE_MENU_EXPORT_DOC",disabled:!t||!n,title:u.a.createElement(W.a,null,L()("导出"))},r)};function Je(e,t,n){var r,i;return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,a,o,c,s,u,d;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:e=Number(new Date),a="",o=qe.a.success({content:L()("正在导出，请稍候..."),autoClose:!1}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Object(Qe.b)(n,t)];case 2:if(c=l.sent(),!(s=null!==(r=c.redirectUrl)&&void 0!==r?r:""))throw new Error("");return Object(Ye.d)("export",{guid:n.guid,file_format:t,source_type:Object(We.toFileTypeStr)(n.type,!0),upload_duration:Number(new Date)-e,is_success:"yes",request_id:a,platform:"web"}),function(e,t,n){if(e){var r=t+"."+n,i=document.createElement("a");if(i.href=e,i.download=r,!Object(Ne.detectIE)())return Ze.a(i,"click");window.location=i}}(s,n.name,t),null==o||o.close(),[3,4];case 3:return u=l.sent(),Object(Ye.d)("export",{guid:n.guid,file_format:t,source_type:Object(We.toFileTypeStr)(n.type,!0),upload_duration:Number(new Date)-e,is_success:"no",request_id:a,platform:"web"}),d=L()("导出失败，请尝试导出其他格式或稍后再试"),"string"==typeof u&&u&&(d=u),(null===(i=u)||void 0===i?void 0:i.body)&&(d=u.body.error),null==o||o.close(),qe.a.error({content:d}),[3,4];case 4:return[2]}}))}))}var $e,et,tt=["FILE_MENU_EXPORT_DOC_WORD","FILE_MENU_EXPORT_DOC_PDF","FILE_MENU_EXPORT_DOC_IMAGE","FILE_MENU_EXPORT_DOC_MARKDOWN"],nt=[function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,Je(0,"docx",t.file)]}))}))},function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,Je(0,"pdf",t.file)]}))}))},function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,Je(0,"jpg",t.file)]}))}))},function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,Je(0,"md",t.file)]}))}))}],rt=n(971),it=function(e){var t,n=e.online,r=null===(t=e.file.permissionsAndReasons)||void 0===t?void 0:t.getIn(["canPrint","value"]),i=!n||!r;return u.a.createElement(H.c,{key:"FILE_MENU_PRINT",disabled:i},u.a.createElement(rt.u,{trigger:"hover",title:r?"":L()("没有权限在当前文件内打印，请联系文件管理者"),placement:"left"},u.a.createElement(W.c,{disabled:i},u.a.createElement(W.a,null,L()("打印")),u.a.createElement(W.d,null,(Object(Ne.isMac)()?"⌘":"Ctrl")+"+P"))))},at=["FILE_MENU_PRINT"],ot=[function(){window.print()}],ct=n(1118),lt=Object(B.default)(ct.a).withConfig({componentId:"sc-JpM9s",displayName:"StyledIconMark"})($e||($e=Object(l.__makeTemplateObject)(["width:20px;height:20px;margin-right:7px !important;path{fill:#73a2e3;}"],[""]))),st=B.default.svg.withConfig({componentId:"sc-JpM9s-1",displayName:"IconPlaceholder"})(et||(et=Object(l.__makeTemplateObject)(["width:20px;height:20px;margin-right:7px !important;"],[""]))),ut="FILE_MENU_TOGGLE_HISTORY",dt="FILE_MENU_TOGGLE_COMMENT_LIST",pt="FILE_MENU_SHOW_HIDE",ft="FILE_MENU_TOGGLE_COMMENTS",mt="FILE_MENU_TOGGLE_CATALOGUE",bt="FILE_MENU_TOGGLE_WRITERS",ht="FILE_MENU_HISTORY_RELATED",gt=function(e){var t=e.online,n=e.me,r=e.extra,i=r.historyVisible,a=r.commentListVisible,o=r.commentVisible,c=r.directoryVisible,l=r.writerVisible,d=n&&n.id>0,p=u.a.createElement(H.c,{key:ut,disabled:!t||!d},u.a.createElement(W.c,{disabled:!t||!d,active:i},i?u.a.createElement(lt,null):u.a.createElement(st,null),L()("查看历史"),u.a.createElement(W.d,null,(Object(Ne.isMac)()?"⌘":"Ctrl")+"+Shift+L"))),f=u.a.createElement(H.c,{key:dt,disabled:!t||!d},u.a.createElement(W.c,{disabled:!t||!d,active:a},a?u.a.createElement(lt,null):u.a.createElement(st,null),L()("查看评论列表"))),m=u.a.createElement(H.d,{key:pt,title:u.a.createElement(W.a,null,L()("显示 / 隐藏"))},u.a.createElement(H.c,{key:ft,disabled:!t},u.a.createElement(W.e,{disabled:!t,active:o},o?u.a.createElement(lt,null):u.a.createElement(st,null),L()("显示评论卡片"))),u.a.createElement(H.c,{key:mt},u.a.createElement(W.e,{active:c},c?u.a.createElement(lt,null):u.a.createElement(st,null),L()("显示目录"))),u.a.createElement(H.c,{key:bt},u.a.createElement(W.e,{active:l},l?u.a.createElement(lt,null):u.a.createElement(st,null),L()("显示编写者"))));return u.a.createElement(s.Fragment,{key:ht},p,f,m)},vt=[],_t=[],yt="FILE_MENU_SAVE_REVISION",Ot=function(e){var t=e.online;return u.a.createElement(H.c,{key:yt,disabled:!t},u.a.createElement(W.c,{disabled:!t},u.a.createElement(W.a,null,L()("保存版本")),u.a.createElement(W.d,null,(Object(Ne.isMac)()?"⌘+Opt":"Ctrl+Alt")+"+S")))},jt=[],wt=[],xt=n(1184),Et=n(1185),kt=n(28);function Ct(e){var t=Object(s.useRef)(e);t.current=e;var n=Object(s.useRef)();return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current}var Tt=n(1096),St=n.n(Tt),It=new St.a;var Nt=function(e){var t=this;this.fetchSubscribed=function(){return Object(l.__awaiter)(t,void 0,void 0,(function(){var e;return Object(l.__generator)(this,(function(t){switch(t.label){case 0:return[4,kt.s.get(this.api.getCurrent)];case 1:return[2,!!(null==(e=t.sent())?void 0:e.subscribed)]}}))}))},this.changeSubscribe=function(e){return Object(l.__awaiter)(t,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return t=e?"put":"delete",[4,kt.s[t](this.api.subscribe)];case 1:return n.sent(),[2]}}))}))},this.errorHandler=function(e){},this.api=function(e){return{getCurrent:"/files/"+e+"/update_subscription",subscribe:"/files/"+e+"/update_subscription"}}(e)},Rt=Object(s.forwardRef)((function(e,t){var n=this,r=Object(l.__read)(Object(s.useState)(!1),2),i=r[0],a=r[1],o=Object(l.__read)(Object(s.useState)(!1),2),c=o[0],u=o[1],d=Object(l.__read)(Object(s.useState)(!1),2),p=d[0],f=d[1],m=Object(s.useMemo)((function(){return new Nt(e.file.guid)}),[e.file.guid]),b=Ct((function(){return Object(l.__awaiter)(n,void 0,void 0,(function(){var t,n,r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:if(!e.enabled)return[2];n=!0,a(!0),u(!1),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,m.fetchSubscribed()];case 2:return t=i.sent(),f(t),[3,5];case 3:return r=i.sent(),u(!0),n=!1,m.errorHandler(r),[3,5];case 4:return a(!1),[7];case 5:return[2,n]}}))}))})),h=Ct((function(){return Object(l.__awaiter)(n,void 0,void 0,(function(){var e;return Object(l.__generator)(this,(function(t){switch(t.label){case 0:return e=!p,[4,m.changeSubscribe(e)];case 1:return t.sent(),[4,b()];case 2:return t.sent(),[2]}}))}))})),g=function(){return{subscribed:p,loading:i,errored:c}},v=Ct(g);Object(s.useImperativeHandle)(t,(function(){return{toggleSubscribe:h,getState:v}}));var _=Ct((function(t){var n=t.guid,r=t.state;n===e.file.guid&&f(r)}));return Object(s.useEffect)((function(){return Object(l.__awaiter)(n,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),It.on("update",_),[2]}}))})),function(){It.off("update",_)}}),[b,_,e.enabled]),e.children(g())})),Pt="file-menu-subscribe",Mt=Object(s.createRef)(),At="doc_subscribe",Bt=function(e){var t=e.online,n=e.extra,r=(null==n?void 0:n.toggleSubscribe)||{},i=r.loading,a=r.subscribed,o=i||!t;return u.a.createElement(H.c,{key:Pt,disabled:o},u.a.createElement(W.c,{disabled:o},a?u.a.createElement(u.a.Fragment,null,u.a.createElement(Et.a,{width:"22px",height:"22px"}),L()("取消订阅文档更新")):u.a.createElement(u.a.Fragment,null,u.a.createElement(xt.a,{width:"22px",height:"22px"}),L()("订阅文档更新"))))},Dt=[Object(y.m)((function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var e,n,r,i;return Object(l.__generator)(this,(function(a){switch(a.label){case 0:if((e=t.me)&&e.id<0)return window.location.href="/login?redirect_url="+encodeURIComponent(window.location.href),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,null===(n=Mt.current)||void 0===n?void 0:n.toggleSubscribe()];case 2:return a.sent(),[3,4];case 3:return a.sent(),rt.B.error({content:L()("操作失败")}),[2];case 4:return(null!==(i=null===(r=Mt.current)||void 0===r?void 0:r.getState())&&void 0!==i?i:{}).subscribed?rt.B.success({content:L()("已开启订阅，该文档更新时将向你发送通知")}):rt.B.success({content:L()("已关闭订阅")}),[2]}}))}))}))],Lt=[Pt],zt=y.g.isFileAuthorized,Ft=y.g.isFilePublicEditable,Vt=y.g.isFilePublicReadOnly,Ut=y.g.isFileManageable,Gt=C.toggleShortcut,Ht=C.toggleStar,Wt=C.move,Kt=C.toggleLock,Yt=C.duplicate,Zt=C.help,qt=C.deleteFile,Qt=C.divider,Xt=C.fileReport,Jt=C.saveTemplate,$t=C.fileInfo,en=C.createShortcut;function tn(e,t,n){void 0===n&&(n={});var l=zt(e)?function(e){var t=e.isFromSVC&&(Ft(e)||Vt(e));return[Gt,c,Ht,Qt,Wt,en,Kt,t?void 0:Yt,r,i,Qt,Jt,o,Qt,a,$t,Qt,Zt,Qt,qt].filter((function(e){return!!e}))}(e):Vt(e)?Ut(e)&&!e.isFromSVC?function(e){var t=e.isFromSVC&&(Ft(e)||Vt(e));return[c,Ht,t?void 0:Yt,en,Qt,qt].filter((function(e){return!!e}))}(e):function(e,t){var n=e.isFromSVC&&(Ft(e)||Vt(e));return[(null==t?void 0:t.id)>0?c:void 0,Ht,n?void 0:Yt,en,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Qt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Xt].filter((function(e){return!!e}))}(e,t):Ft(e)?t&&t.get("id")>0?Ut(e)&&!e.isFromSVC?function(e){var t=e.isFromSVC&&(Ft(e)||Vt(e));return[c,Ht,Qt,Wt,t?void 0:Yt,en,r,i,Qt,Jt,o,Qt,a,$t,Qt,Zt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Qt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Xt].filter((function(e){return!!e}))}(e):function(e){var t=e.isFromSVC&&(Ft(e)||Vt(e));return[c,Ht,Qt,Wt,t?void 0:Yt,en,r,i,Qt,Jt,o,Qt,a,$t,Qt,Zt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Qt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Xt].filter((function(e){return!!e}))}(e):function(e){return[e.isFromSVC&&(Ft(e)||Vt(e))?void 0:Yt,en,i,Qt,a,$t,Qt,Zt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Qt,__RUNTIME_ENV__.PRIVATE_DEPLOY?void 0:Xt].filter((function(e){return!!e}))}(e):[];return n.enableSubscribe||(l=l.filter((function(e){return e!==c}))),l}var nn,rn=n(1346),an=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpenDesktop=function(){window.open(location.origin+"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:""))},t.handlePlayDemo=function(){var e=t.props.demoScreen;e&&e.show()},t.handleToggleUserGuide=function(){t.props.onToggleUserGuide("shortkey")},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return u.a.createElement(rn.b,null,u.a.createElement(rn.a,{shortKey:"shift+ctrlorcmd+e",callback:this.handleOpenDesktop}),u.a.createElement(rn.a,{shortKey:"ctrlorcmd+/",callback:this.handleToggleUserGuide}),u.a.createElement(rn.a,{shortKey:"shift+ctrlorcmd+p",callback:this.handlePlayDemo}),this.props.children)},t}(u.a.PureComponent);!function(e){e.Discord="discord",e.History="history",e.Reversion="reversion",e.Comment="comment"}(nn||(nn={}));var on=n(1262),cn=n(77),ln=n.p+"static/lizard-one/assets/formatpainter.ee09fbcb.svg",sn=n.p+"static/lizard-one/assets/media.39fee8d1.svg",un=n.p+"static/lizard-one/assets/header.4a5be3b6.svg",dn=n.p+"static/lizard-one/assets/fontStyle.70dc7535.svg",pn=n.p+"static/lizard-one/assets/list.919b2138.svg",fn=n.p+"static/lizard-one/assets/reorder.003a3258.svg",mn=n.p+"static/lizard-one/assets/task.912cce4b.svg",bn=n.p+"static/lizard-one/assets/mention.02aea778.svg",hn=n.p+"static/lizard-one/assets/image.0e0ebf75.svg",gn=n.p+"static/lizard-one/assets/table.e212d123.svg",vn=n.p+"static/lizard-one/assets/attachment.f0300d62.svg",_n=n.p+"static/lizard-one/assets/date.99c1403f.svg",yn=n.p+"static/lizard-one/assets/audio2text.816f9600.svg",On=n.p+"static/lizard-one/assets/location.6c465f5c.svg",jn=n.p+"static/lizard-one/assets/code.af4d0ddb.svg",wn=n.p+"static/lizard-one/assets/quote.b9e9c919.svg",xn=n.p+"static/lizard-one/assets/replacement.83435ca8.svg",En=n.p+"static/lizard-one/assets/history.629f3bc2.svg",kn=n.p+"static/lizard-one/assets/version.c1cd4fd8.svg",Cn=n.p+"static/lizard-one/assets/comment.64fe5cfa.svg",Tn=n.p+"static/lizard-one/assets/export.1421afa1.svg",Sn=n.p+"static/lizard-one/assets/translation.dbf154b4.svg",In=n.p+"static/lizard-one/assets/discord.b9401c77.svg",Nn=n.p+"static/lizard-one/assets/share.b79f9279.svg",Rn=n.p+"static/lizard-one/assets/teamwork.34c67839.svg",Pn=n.p+"static/lizard-one/assets/bold.09553c02.svg",Mn=n.p+"static/lizard-one/assets/italic.d56d4f8d.svg",An=n.p+"static/lizard-one/assets/underline.14c19bb2.svg",Bn=n.p+"static/lizard-one/assets/strike.0fa43da9.svg",Dn=n.p+"static/lizard-one/assets/background.6d32b348.svg",Ln=n.p+"static/lizard-one/assets/size.0843ed35.svg",zn=n.p+"static/lizard-one/assets/mention.92e667b9.svg",Fn=n.p+"static/lizard-one/assets/comment.64fe5cfa.svg",Vn=n.p+"static/lizard-one/assets/link.19c3d263.svg",Un=n.p+"static/lizard-one/assets/position.6c465f5c.svg",Gn=n.p+"static/lizard-one/assets/header1.f2508a91.svg",Hn=n.p+"static/lizard-one/assets/header2.c2cbcce1.svg",Wn=n.p+"static/lizard-one/assets/header3.f9fbeb6a.svg",Kn=n.p+"static/lizard-one/assets/header4.2b22111a.svg",Yn=n.p+"static/lizard-one/assets/blockquote.394d0ff3.svg",Zn=n.p+"static/lizard-one/assets/code.af4d0ddb.svg",qn=n.p+"static/lizard-one/assets/divide.f3decfe1.svg",Qn=n.p+"static/lizard-one/assets/header.baecd410.svg",Xn=n.p+"static/lizard-one/assets/indent.7713168d.svg",Jn=n.p+"static/lizard-one/assets/outdent.26a2de2f.svg",$n=n.p+"static/lizard-one/assets/undo.e4c404e2.svg",er=n.p+"static/lizard-one/assets/redo.3b3f97b7.svg",tr=n.p+"static/lizard-one/assets/search.83435ca8.svg",nr=n.p+"static/lizard-one/assets/replacement.2ca63397.svg",rr=n.p+"static/lizard-one/assets/revision.1f0b95ff.svg",ir=n.p+"static/lizard-one/assets/history.006b713d.svg",ar=n.p+"static/lizard-one/assets/directory.bad5cd44.svg",or=n.p+"static/lizard-one/assets/demoScreen.9a7bb9c5.svg",cr=n.p+"static/lizard-one/assets/desktop.38bbc27c.svg",lr=n.p+"static/lizard-one/assets/shortKey.001f3e3d.svg",sr=n.p+"static/lizard-one/assets/list-order.541cc93e.svg",ur=n.p+"static/lizard-one/assets/list-bullet.c4e4a2c9.svg",dr=n.p+"static/lizard-one/assets/list-check.bc21d494.svg",pr=n.p+"static/lizard-one/assets/header-normal.a00cf74d.svg",fr=Object(Ne.isMac)(),mr=fr?"Cmd":"Ctrl",br=fr?"Opt":"Alt",hr=!__RUNTIME_ENV__.PRIVATE_DEPLOY?[{type:L()("文档功能"),content:[{name:L()("格式刷"),svg:ln,desc:L()("可快速复制一段文字的格式给另一段文字，双击 “格式刷” 按钮可连续使用。"),video:"https://assets.shimonote.com/lizards/doc/doc-brush.mp4"},{name:L()("标题"),svg:un,desc:L()("选中文字，点击工具栏的 “标题” 按钮，即可在下拉菜单中应用多种标题类型。"),video:"https://assets.shimonote.com/lizards/doc/doc-title.mp4"},{name:L()("文本样式"),svg:dn,desc:L()("选中文字，点击工具栏的 “字体”、“字号”、“粗体”、“斜体”、“下划线” 、“中划线” 等按钮，即可应用多种文本样式。"),video:"https://assets.shimonote.com/lizards/doc/doc-text-style.mp4"},{name:L()("有序列表 / 无序列表"),svg:pn,desc:L()("点击工具栏 “有序列表” 或 “无序列表” 按钮，即可创建有序列表或者无序列表。"),video:"https://assets.shimonote.com/lizards/doc/doc-sequence.mp4"},{name:L()("有序列表重新编号"),svg:fn,desc:L()("光标定位至有序列表或选中有序列表，点击工具栏 “有序列表”  -  “重新编号” ，输入起始编号并点击 “确认” 即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-renumber.mp4"},{name:L()("待办事项"),svg:mn,desc:L()("光标定位至文字处或选中一段内容，点击工具栏 “任务列表” 按钮，即可创建待办事项。点击左侧小方块可标记为完成状态。"),video:"https://assets.shimonote.com/lizards/doc/doc-todos.mp4"},{name:L()("提及某人"),svg:bn,desc:L()("输入 “@” + 姓名即可提及他人，被提及的人会收到消息提醒。"),video:"https://assets.shimonote.com/lizards/doc/doc-user.mp4"},{name:L()("提及文件"),svg:bn,desc:L()("输入 “@” + 文件名称，可以链接到被提及的文档、表格和文件夹。点击可快速打开被提及的文件。"),video:"https://assets.shimonote.com/lizards/doc/doc-file.mp4"},{name:L()("插入本地图片"),svg:hn,desc:L()("点击工具栏 “插入”  -  “图片” - “上传本地图片” ，可选择图片上传。选中图片激活图片工具栏，可剪裁或设置图片的边距、边框及对齐方式。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-local-image.mp4"},{name:L()("搜索网络图片"),svg:hn,desc:L()("点击工具栏“插入” - “图片” - “搜索网络图片”，输入关键词搜索图片，选取图片快速插入文档。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-online-image.mp4",type:"searchImages"},{name:L()("插入表格"),svg:gn,desc:L()("点击工具栏 “插入“ - ”表格“，可插入表格。选中单元格，可在工具栏合并单元格或设置文本样式。"),video:"https://assets.shimonote.com/lizards/doc/doc-mini-sheet.mp4"},{name:L()("插入附件"),svg:vn,desc:L()("点击工具栏 “插入” - “附件”，可选择文件上传。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-attachment.mp4"},{name:L()("插入日期和时间"),svg:_n,desc:L()("点击工具栏“插入”-“日期”，在面板中选择日期和时间。勾选「提醒我」后，将会在时间到期时发送消息通知您。如未设置具体时间，将会在当天上午八点发送通知。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-date.mp4"},{name:L()("插入在线媒体"),svg:sn,desc:L()("点击工具栏“插入”-“媒体”-“在线媒体”，粘贴媒体链接即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-online-assets.mp4",type:"insertMedia"},{name:L()("插入本地音频"),svg:sn,desc:L()("点击工具栏“插入”-“媒体”-“本地音频”，可选择本地音频上传。上传完成后，可点击播放或下载音频。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-local-assets.mp4"},{name:L()("音频转文本"),svg:yn,desc:L()("本地音频播放器上点击“更多操作”按钮，选择“音频转文本”，转换完成后可将文本插入文档。暂仅支持中文转换。"),video:"https://assets.shimonote.com/lizards/doc/doc-audio-to-text.mp4"},{name:L()("插入位置"),svg:On,desc:L()("点击工具栏“插入”-“位置”，可搜索地理位置并插入。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert.mp4"},{name:L()("插入代码块"),svg:jn,desc:L()("点击工具栏 “插入” - “代码块” 可插入代码块。支持JavaScript、SQL、Java、Python等176种编程语言。"),video:"https://assets.shimonote.com/lizards/doc/doc-code.mp4"},{name:L()("插入引用"),svg:wn,desc:L()("光标定位至文字处或选中一段内容，点击工具栏 “插入” - “引用” 即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-quotation.mp4"},{name:L()("查找替换"),svg:xn,desc:L()("点击 “查找替换” 按钮，可对文档内容进行查找，搜索结果以颜色高亮显示。点击 “查找” 右侧小三角可展开“替换“功能，对查找结果进行替换。"),video:"https://assets.shimonote.com/lizards/doc/doc-replacement.mp4"},{name:L()("查看历史"),svg:En,desc:L()("点击右上角 “更多” -  “查看历史” ，可查看文档全部编辑历史。点击历史卡片右上角 “还原” 可还原文档。"),video:"https://assets.shimonote.com/lizards/doc/doc-history.mp4"},{name:L()("保存版本"),svg:kn,desc:L()("点击右上角 “更多” -  “保存版本” ，可将当前内容保存为版本。点击 “更多” - “查看历史“ - ”版本“ 可预览或还原保存的版本。"),video:"https://assets.shimonote.com/lizards/doc/doc-version.mp4"},{name:L()("划词评论"),svg:Cn,desc:L()("选择文档中的文字或图片，点击右侧的 “评论” 按钮，添加划词评论。"),video:"https://assets.shimonote.com/lizards/doc/doc-commentation.mp4"},{name:L()("导出"),svg:Tn,desc:L()("点击右上角 “更多“ - ”导出“，可将文档导出为 PDF、Word 和 JPG 三种格式。"),video:"https://assets.shimonote.com/lizards/doc/doc-export.mp4"},{name:L()("翻译"),svg:Sn,desc:L()("点击工具栏 “翻译” - “翻译所选内容”，选中编辑区域的文本，翻译结果将根据设置的语种显示在右侧面板，并支持插入到光标所在位置；点击工具栏 “翻译” - “翻译文档”，在弹窗中设置语种，点击 “翻译” 即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-translation.mp4"}]},{type:L()("协作功能"),content:[{name:L()("讨论"),svg:In,desc:L()("点击右上角“查看讨论”按钮，可查看或参与讨论"),video:"https://assets.shimonote.com/lizards/doc/doc-discuss-tooltip.mp4"},{name:L()("分享"),svg:Nn,desc:L()("点击右上角 “分享” 按钮，设置分享的类型和权限，扫描二维码或复制链接即可与他人共享文档。"),video:"https://assets.shimonote.com/lizards/doc/doc-share.mp4"},{name:L()("添加协作者"),svg:Rn,desc:L()("点击右上角 “协作”  - “添加协作者”，可通过输入邮箱或搜索姓名快速添加协作者。支持为协作者设置 “可以编辑”、“只能评论” 或 “只能阅读”  三种不同的访问权限。"),video:"https://assets.shimonote.com/lizards/doc/doc-add-collab.mp4"}]}]:[{type:L()("文档功能"),content:[{name:L()("格式刷"),svg:ln,desc:L()("可快速复制一段文字的格式给另一段文字，双击 “格式刷” 按钮可连续使用。"),video:"https://assets.shimonote.com/lizards/doc/doc-brush.mp4"},{name:L()("标题"),svg:un,desc:L()("选中文字，点击工具栏的 “标题” 按钮，即可在下拉菜单中应用多种标题类型。"),video:"https://assets.shimonote.com/lizards/doc/doc-title.mp4"},{name:L()("文本样式"),svg:dn,desc:L()("选中文字，点击工具栏的 “字体”、“字号”、“粗体”、“斜体”、“下划线” 、“中划线” 等按钮，即可应用多种文本样式。"),video:"https://assets.shimonote.com/lizards/doc/doc-text-style.mp4"},{name:L()("有序列表 / 无序列表"),svg:pn,desc:L()("点击工具栏 “有序列表” 或 “无序列表” 按钮，即可创建有序列表或者无序列表。"),video:"https://assets.shimonote.com/lizards/doc/doc-sequence.mp4"},{name:L()("有序列表重新编号"),svg:fn,desc:L()("光标定位至有序列表或选中有序列表，点击工具栏 “有序列表”  -  “重新编号” ，输入起始编号并点击 “确认” 即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-renumber.mp4"},{name:L()("待办事项"),svg:mn,desc:L()("光标定位至文字处或选中一段内容，点击工具栏 “任务列表” 按钮，即可创建待办事项。点击左侧小方块可标记为完成状态。"),video:"https://assets.shimonote.com/lizards/doc/doc-todos.mp4"},{name:L()("提及某人"),svg:bn,desc:L()("输入 “@” + 姓名即可提及他人，被提及的人会收到消息提醒。"),video:"https://assets.shimonote.com/lizards/doc/doc-user.mp4"},{name:L()("提及文件"),svg:bn,desc:L()("输入 “@” + 文件名称，可以链接到被提及的文档、表格和文件夹。点击可快速打开被提及的文件。"),video:"https://assets.shimonote.com/lizards/doc/doc-file.mp4"},{name:L()("插入本地图片"),svg:hn,desc:L()("点击工具栏 “插入”  -  “图片” - “上传本地图片” ，可选择图片上传。选中图片激活图片工具栏，可剪裁或设置图片的边距、边框及对齐方式。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-local-image.mp4"},{name:L()("插入表格"),svg:gn,desc:L()("点击工具栏 “插入“ - ”表格“，可插入表格。选中单元格，可在工具栏合并单元格或设置文本样式。"),video:"https://assets.shimonote.com/lizards/doc/doc-mini-sheet.mp4"},{name:L()("插入附件"),svg:vn,desc:L()("点击工具栏 “插入” - “附件”，可选择文件上传。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-attachment.mp4"},{name:L()("插入日期和时间"),svg:_n,desc:L()("点击工具栏“插入”-“日期”，在面板中选择日期和时间。勾选「提醒我」后，将会在时间到期时发送消息通知您。如未设置具体时间，将会在当天上午八点发送通知。"),video:"https://assets.shimonote.com/lizards/doc/doc-insert-date.mp4"},{name:L()("插入代码块"),svg:jn,desc:L()("点击工具栏 “插入” - “代码块” 可插入代码块。支持JavaScript、SQL、Java、Python等176种编程语言。"),video:"https://assets.shimonote.com/lizards/doc/doc-code.mp4"},{name:L()("插入引用"),svg:wn,desc:L()("光标定位至文字处或选中一段内容，点击工具栏 “插入” - “引用” 即可。"),video:"https://assets.shimonote.com/lizards/doc/doc-quotation.mp4"},{name:L()("查找替换"),svg:xn,desc:L()("点击 “查找替换” 按钮，可对文档内容进行查找，搜索结果以颜色高亮显示。点击 “查找” 右侧小三角可展开“替换“功能，对查找结果进行替换。"),video:"https://assets.shimonote.com/lizards/doc/doc-replacement.mp4"},{name:L()("查看历史"),svg:En,desc:L()("点击右上角 “更多” -  “查看历史” ，可查看文档全部编辑历史。点击历史卡片右上角 “还原” 可还原文档。"),video:"https://assets.shimonote.com/lizards/doc/doc-history.mp4"},{name:L()("保存版本"),svg:kn,desc:L()("点击右上角 “更多” -  “保存版本” ，可将当前内容保存为版本。点击 “更多” - “查看历史“ - ”版本“ 可预览或还原保存的版本。"),video:"https://assets.shimonote.com/lizards/doc/doc-version.mp4"},{name:L()("划词评论"),svg:Cn,desc:L()("选择文档中的文字或图片，点击右侧的 “评论” 按钮，添加划词评论。"),video:"https://assets.shimonote.com/lizards/doc/doc-commentation.mp4"},{name:L()("导出"),svg:Tn,desc:L()("点击右上角 “更多“ - ”导出“，可将文档导出为 PDF、Word 和 JPG 三种格式。"),video:"https://assets.shimonote.com/lizards/doc/doc-export.mp4"}]},{type:L()("协作功能"),content:[{name:L()("讨论"),svg:In,desc:L()("点击右上角“查看讨论”按钮，可查看或参与讨论"),video:"https://assets.shimonote.com/lizards/doc/doc-discuss-tooltip.mp4"},{name:L()("分享"),svg:Nn,desc:L()("点击右上角 “分享” 按钮，设置分享的类型和权限，扫描二维码或复制链接即可与他人共享文档。"),video:"https://assets.shimonote.com/lizards/doc/doc-share.mp4"},{name:L()("添加协作者"),svg:Rn,desc:L()("点击右上角 “协作”  - “添加协作者”，可通过输入邮箱或搜索姓名快速添加协作者。支持为协作者设置 “可以编辑”、“只能评论” 或 “只能阅读”  三种不同的访问权限。"),video:"https://assets.shimonote.com/lizards/doc/doc-add-collab.mp4"}]}],gr=[{type:L()("文字格式"),content:[{name:L()("粗体"),style:{fontWeight:700},svg:Pn,key:[mr,"B"]},{name:L()("斜体"),style:{fontStyle:"italic"},svg:Mn,key:[mr,"I"]},{name:L()("下划线"),style:{textDecoration:"underline"},svg:An,key:[mr,"U"]},{name:L()("中划线"),style:{textDecoration:"line-through"},svg:Bn,key:[mr,"Shift","S"]},{name:L()("文本高亮"),style:{backgroundColor:"#f9eda6",width:"auto"},svg:Dn,key:[mr,br,"H"]},{name:L()("字号"),svg:Ln,key:[mr,"Shift","↑/↓"]}]},{type:L()("插入"),content:[{name:L()("提及某人 / 文件"),svg:zn,key:["@"]},{name:L()("划词评论"),svg:Fn,key:[mr,"Shift","M"]},{name:L()("超链接"),style:{color:"#5d94dd",textDecoration:"underline"},svg:Vn,key:[mr,"K"]},!Object(cn.isSelfHosted)()&&{name:L()("位置"),svg:Un,key:[mr,"Shift","G"]}].filter(Boolean)},{type:L()("markdown 格式"),content:[{name:L()("标题1"),style:{fontSize:"16px",fontWeight:700},svg:Gn,key:["#","Space"]},{name:L()("标题2"),style:{fontSize:"15px",fontWeight:700},svg:Hn,key:["##","Space"]},{name:L()("标题3"),style:{fontSize:"14px",fontWeight:700},svg:Wn,key:["###","Space"]},{name:L()("标题4"),style:{fontSize:"14px",fontWeight:700},svg:Kn,key:["####","Space"]},{name:L()("有序列表"),svg:sr,key:["1.","Space"]},{name:L()("无序列表"),svg:ur,key:["*/-","Space"]},{name:L()("任务列表"),svg:dr,key:["[]","Space"]},{name:L()("引用"),style:{borderLeft:"3px solid #f0f0f0",color:"#adadad",lineHeight:"18px",paddingLeft:"6px"},svg:Yn,key:[">","Space"]},{name:L()("代码块"),style:{border:"1px solid #d6d6d6",backgroundColor:"#f7f7f7",lineHeight:"18px"},svg:Zn,key:["```","Space"]},{name:L()("分隔线"),svg:qn,key:["---","Space"]}]},{type:L()("段落格式"),content:[{name:L()("设置标题"),svg:Qn,key:[mr,"Shift","K"]},{name:L()("标题1"),style:{fontSize:"16px",fontWeight:700},svg:Gn,key:[mr,br,"1"]},{name:L()("标题2"),style:{fontSize:"15px",fontWeight:700},svg:Hn,key:[mr,br,"2"]},{name:L()("标题3"),style:{fontSize:"14px",fontWeight:700},svg:Wn,key:[mr,br,"3"]},{name:L()("标题4"),style:{fontSize:"14px",fontWeight:700},svg:Kn,key:[mr,br,"4"]},{name:L()("正文"),svg:pr,key:[mr,br,"0"]},{name:L()("有序列表"),svg:sr,key:[mr,"Shift","U"]},{name:L()("无序列表"),svg:ur,key:[mr,"Shift","I"]},{name:L()("任务列表"),svg:dr,key:[mr,"Shift","Y"]},{name:L()("增加缩进"),svg:Xn,key:["TAB"]},{name:L()("减少缩进"),svg:Jn,key:["Shift","TAB"]}]},{type:L()("编辑"),content:[{name:L()("撤销"),svg:$n,key:[mr,"Z"]},{name:L()("重做"),svg:er,key:[mr,"Y"]},{name:L()("查找"),svg:tr,key:[mr,"F"]},{name:L()("查找并替换"),svg:nr,key:[mr,"H"]}]},{type:L()("操作"),content:[{name:L()("将当前内容保存为版本"),svg:rr,key:[mr,br,"S"]},{name:L()("打开 / 关闭 历史"),svg:ir,key:[mr,"Shift","L"]},{name:L()("打开 / 关闭 目录"),svg:ar,key:[mr,"Shift","O"]},{name:L()("进入演示模式"),svg:or,key:[mr,"Shift","P"]},{name:L()("新标签打开石墨桌面"),svg:cr,key:[mr,"Shift","E"]},{name:L()("打开 / 关闭 快捷键面板"),svg:lr,key:[mr,"/"]}]}],vr=[{name:L()("使用指南"),key:"userguide",component:u.a.createElement(on.b,{data:hr})},{name:L()("快捷键"),key:"shortkey",component:u.a.createElement(on.a,{data:gr})}];function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Er(e);if(t){var i=Er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xr(this,n)}}function xr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(a,e);var t,n,r,i=wr(a);function a(){return yr(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return u.a.createElement("svg",kr({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},this.props),u.a.createElement("path",{fill:"rgba(85, 85, 85, 0.5)",d:"M6.9 9.94h1.53v6.12H6.9a.51.51 0 0 1-.51-.51v-5.1a.51.51 0 0 1 .51-.51zm2.7-.66l3.263-3.264c.09-.09.232-.1.334-.024l.435.326a.766.766 0 0 1 .282.8l-.588 2.311h3.264c.563 0 1.02.457 1.02 1.02v1.073c0 .134-.026.266-.077.389l-1.578 3.832a.51.51 0 0 1-.472.316H9.96a.51.51 0 0 1-.51-.51V9.64c0-.135.054-.265.15-.36z"}))}}])&&Or(t.prototype,n),r&&Or(t,r),a}(u.a.Component);function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var i=Mr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(a,e);var t,n,r,i=Rr(a);function a(){return Sr(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return u.a.createElement("svg",Ar({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},this.props),u.a.createElement("path",{fill:"#C6C7C9",d:"M12 11.257l-3.465 3.465-.99-.99L12 9.278l4.455 4.454-.99.99z"}))}}])&&Ir(t.prototype,n),r&&Ir(t,r),a}(u.a.Component);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gr(e);if(t){var i=Gr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ur(this,n)}}function Ur(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(a,e);var t,n,r,i=Vr(a);function a(){return Lr(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="4a28862e3271f25a3669eef7cc7e32d90_"+this.SVG_COMPONENT_ID++,t="4a28862e3271f25a3669eef7cc7e32d91_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",Hr({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"25",viewBox:"0 0 24 25"},this.props),u.a.createElement("defs",null,u.a.createElement("filter",{id:e,width:"127.5%",height:"238.9%",x:"-13.7%",y:"-63.9%",filterUnits:"objectBoundingBox"},u.a.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),u.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"8"}),u.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"})),u.a.createElement("rect",{id:t,width:"182",height:"36",rx:"18"})),u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("path",{fill:"#FAFAFA",d:"M-1251-550H189v800h-1440z"}),u.a.createElement("path",{d:"M0 .5h24v24H0z",opacity:".4"}),u.a.createElement("g",{transform:"translate(-8 -5.5)"},u.a.createElement("use",{fill:"#000",filter:"url(#".concat(e,")"),xlinkHref:"#"+t}),u.a.createElement("use",{fill:"#FFF",xlinkHref:"#"+t})),u.a.createElement("g",{opacity:".4"},u.a.createElement("path",{d:"M0 .5h24v24H0z"}),u.a.createElement("path",{fill:"#555",fillRule:"nonzero",d:"M15.314 12.122l-.381-.382-5.346 5.346H7.296v-2.291l6.109-6.11 3.055 3.055c.21.21.21.553 0 .764l-3.818 3.818-.764-.764 3.436-3.436zm.382-4.964l1.528 1.527c.21.211.21.553 0 .764l-.764.764-2.291-2.291.764-.764a.54.54 0 0 1 .763 0z"}))))}}])&&zr(t.prototype,n),r&&zr(t,r),a}(u.a.Component);function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jr(e);if(t){var i=Jr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(a,e);var t,n,r,i=Qr(a);function a(){return Yr(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="473cf6924fd1b60d3473ccfc71ac230f0_"+this.SVG_COMPONENT_ID++,t="473cf6924fd1b60d3473ccfc71ac230f1_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",$r({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"25",viewBox:"0 0 24 25"},this.props),u.a.createElement("defs",null,u.a.createElement("filter",{id:e,width:"127.5%",height:"238.9%",x:"-13.7%",y:"-63.9%",filterUnits:"objectBoundingBox"},u.a.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),u.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"8"}),u.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"})),u.a.createElement("rect",{id:t,width:"182",height:"36",rx:"18"})),u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("path",{fill:"#FAFAFA",d:"M-1312-550H128v800h-1440z"}),u.a.createElement("g",{transform:"translate(-69 -5.5)"},u.a.createElement("use",{fill:"#000",filter:"url(#".concat(e,")"),xlinkHref:"#"+t}),u.a.createElement("use",{fill:"#FFF",xlinkHref:"#"+t})),u.a.createElement("g",{opacity:".4"},u.a.createElement("path",{d:"M0 .5h24v24H0z"}),u.a.createElement("path",{d:"M0 .5h24v24H0z"}),u.a.createElement("path",{fill:"#555",fillRule:"nonzero",d:"M6.05 12.5a6.051 6.051 0 0 1 11.9 0 6.051 6.051 0 0 1-11.9 0zM12 15.25a2.75 2.75 0 1 0 0-5.5 2.75 2.75 0 0 0 0 5.5zm0-1.1a1.65 1.65 0 1 1 0-3.3 1.65 1.65 0 0 1 0 3.3z"}))))}}])&&Zr(t.prototype,n),r&&Zr(t,r),a}(u.a.Component);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ci(e);if(t){var i=ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(a,e);var t,n,r,i=ai(a);function a(){return ni(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="28717ad7e97a7017f62fd0491c1a4b270_"+this.SVG_COMPONENT_ID++,t="28717ad7e97a7017f62fd0491c1a4b271_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",li({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"25",viewBox:"0 0 24 25"},this.props),u.a.createElement("defs",null,u.a.createElement("filter",{id:e,width:"127.5%",height:"238.9%",x:"-13.7%",y:"-63.9%",filterUnits:"objectBoundingBox"},u.a.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),u.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"8"}),u.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"})),u.a.createElement("rect",{id:t,width:"182",height:"36",rx:"18"})),u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("path",{fill:"#FAFAFA",d:"M-1354-550H86v800h-1440z"}),u.a.createElement("g",{transform:"translate(-111 -5.5)"},u.a.createElement("use",{fill:"#000",filter:"url(#".concat(e,")"),xlinkHref:"#"+t}),u.a.createElement("use",{fill:"#FFF",xlinkHref:"#"+t})),u.a.createElement("g",{opacity:".4"},u.a.createElement("path",{d:"M0 .5h24v24H0z"}),u.a.createElement("path",{fill:"#555",fillRule:"nonzero",d:"M9.006 16.14L6.6 18.03V8.04a.54.54 0 0 1 .54-.54h9.72a.54.54 0 0 1 .54.54v7.56a.54.54 0 0 1-.54.54H9.006zm.294-4.86v1.08h1.08v-1.08H9.3zm2.16 0v1.08h1.08v-1.08h-1.08zm2.16 0v1.08h1.08v-1.08h-1.08z"}))))}}])&&ri(t.prototype,n),r&&ri(t,r),a}(u.a.Component),ui=n(125),di={wordCount:0,contributorCount:0,viewCount:0,viewerCount:0,commentCount:0,commenterCount:0,users:{},contributorUsers:[],viewerUsers:[],commenterUsers:[],like:!1,likeCount:0,likeUsers:[],update:n.n(ui).a},pi=u.a.createContext(di);pi.displayName="StoreContext";var fi,mi,bi,hi,gi,vi,_i,yi,Oi,ji,wi,xi,Ei=function(e){var t=e.children,n=Object(l.__read)(u.a.useState(di),2),r=n[0],i=n[1];return u.a.createElement(pi.Provider,{value:Object(l.__assign)(Object(l.__assign)({},r),{update:function(e){i(Object(l.__assign)(Object(l.__assign)({},r),e))}})},t)},ki=B.default.div.withConfig({componentId:"sc-1k286C",displayName:"StyleWrapper"})(fi||(fi=Object(l.__makeTemplateObject)(["position:relative;overflow:visible;user-select:none;height:46px;line-height:46px;display:flex;background:#fff;border-radius:18px;box-sizing:border-box;box-shadow:0 2px 16px 0 rgba(0,0,0,0.08);padding:8px 30px 8px 6px;align-items:center;justify-content:center;z-index:100;font-size:13px;margin-right:8px;"],[""]))),Ci=Object(B.default)(Wr).withConfig({componentId:"sc-1k286C-1",displayName:"StyleIconPen"})(mi||(mi=Object(l.__makeTemplateObject)([""],[""]))),Ti=Object(B.default)(ei).withConfig({componentId:"sc-1k286C-2",displayName:"StyleIconEye"})(bi||(bi=Object(l.__makeTemplateObject)([""],[""]))),Si=Object(B.default)(si).withConfig({componentId:"sc-1k286C-3",displayName:"StyleIconComment"})(hi||(hi=Object(l.__makeTemplateObject)([""],[""]))),Ii=Object(B.default)(Cr).withConfig({componentId:"sc-1k286C-4",displayName:"StyleIconLike"})(gi||(gi=Object(l.__makeTemplateObject)([""],[""]))),Ni=B.default.div.withConfig({componentId:"sc-1k286C-5",displayName:"StyleItem"})(vi||(vi=Object(l.__makeTemplateObject)(["color:#41464b;display:flex;align-items:center;font-size:12px;margin-right:5px;",",",",",",","{width:24px;height:24px;}"],["","","","",""])),Ci,Ti,Si,Ii),Ri=Object(B.default)(Br).withConfig({componentId:"sc-1k286C-6",displayName:"StyleExpandIcon"})(_i||(_i=Object(l.__makeTemplateObject)(["cursor:pointer;position:absolute;right:6px;top:50%;margin-top:-13px;width:24px;height:24px;&:hover{> path{fill:#666;}}"],[""]))),Pi=function(e){var t=e.count,n="";return n=t<1e4?String(t):t<1e8?String(Math.floor(t/1e3)/10)+"万":String(Math.floor(t/1e7)/10)+"亿",u.a.createElement("span",null,n)},Mi=function(e){var t=e.onExpand,n=u.a.useContext(pi),r=n.wordCount,i=n.viewCount,a=n.commentCount,o=n.likeCount;return u.a.createElement(ki,null,u.a.createElement(Ni,null,u.a.createElement(rt.u,{title:L()("总字数")},u.a.createElement(Ci,null)),u.a.createElement(Pi,{count:r})),u.a.createElement(Ni,null,u.a.createElement(rt.u,{title:L()("阅读次数")},u.a.createElement(Ti,null)),u.a.createElement(Pi,{count:i})),u.a.createElement(Ni,null,u.a.createElement(rt.u,{title:L()("评论次数")},u.a.createElement(Si,null)),u.a.createElement(Pi,{count:a})),u.a.createElement(Ni,null,u.a.createElement(rt.u,{title:L()("点赞数")},u.a.createElement(Ii,null)),u.a.createElement(Pi,{count:o})),u.a.createElement(rt.u,{title:L()("展开")},u.a.createElement(Ri,{onClick:t})))},Ai=B.default.div.withConfig({componentId:"sc-1xM-WR",displayName:"StyleItem"})(yi||(yi=Object(l.__makeTemplateObject)(["margin-top:10px;line-height:20px;color:#555;font-size:12px;display:inline-flex;z-index:101;white-space:nowrap;"],[""]))),Bi=B.default.img.withConfig({componentId:"sc-1xM-WR-1",displayName:"StyleAvatar"})(Oi||(Oi=Object(l.__makeTemplateObject)(["width:20px;height:20px;border-radius:50%;margin-right:6px;"],[""]))),Di=B.default.span.withConfig({componentId:"sc-1xM-WR-2",displayName:"StyleName"})(ji||(ji=Object(l.__makeTemplateObject)(["display:inline-block;box-sizing:border-box;padding-right:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],[""]))),Li=B.default.div.withConfig({componentId:"sc-1xM-WR-3",displayName:"StyleCreatorIcon"})(wi||(wi=Object(l.__makeTemplateObject)(["border:2px solid #999;border-radius:4px;transform:scale(0.5) translate(-30px,-13px);width:64px;min-width:64px;height:30px;text-align:center;color:#999;font-size:18px;display:inline-flex;box-sizing:border-box;margin-bottom:-15px;margin-left:-6px;justify-content:center;align-items:center;"],[""]))),zi=B.default.div.withConfig({componentId:"sc-1xM-WR-4",displayName:"StyleWordCount"})(xi||(xi=Object(l.__makeTemplateObject)(["color:#a5a5a5;margin-left:auto;"],[""]))),Fi=function(e){var t=e.user,n=e.className,r=e.showCreatorIcon,i=e.children,a=Boolean(r&&t.isCreator);return u.a.createElement(Ai,{className:n},u.a.createElement(Bi,{src:t.avatar}),u.a.createElement(Di,null,t.name),a&&u.a.createElement(Li,null,L()("创建者")),i)};function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yi(e);if(t){var i=Yi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zi,qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(a,e);var t,n,r,i=Wi(a);function a(){return Ui(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="b382e8a48fb463fecf13333b1d4c95fc0_"+this.SVG_COMPONENT_ID++,t="b382e8a48fb463fecf13333b1d4c95fc1_"+this.SVG_COMPONENT_ID++;return u.a.createElement("svg",qi({id:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),u.a.createElement("path",{fill:"#c6c7c9",d:"M10.564 2.559L7.071 6.053h-.142L3.436 2.559l-.877.877 3.494 3.493v.142l-3.494 3.493.877.877 3.493-3.494h.142l3.493 3.494.877-.877-3.494-3.493v-.142l3.494-3.493z",id:t}))}}])&&Gi(t.prototype,n),r&&Gi(t,r),a}(u.a.Component),Xi=n(193);function Ji(e){function t(){return e}return void 0===e&&(e={}),{add:function n(r){return null==r||r.forEach((function(t){e[t.id]=Object(l.__assign)(Object(l.__assign)({},e[t.id]),{id:t.id,name:t.name,avatar:t.avatar}),t.word_count&&(e[t.id].wordCount=t.word_count),t.comment_count&&(e[t.id].commentCount=t.comment_count),t.view_count&&(e[t.id].viewCount=t.view_count),t.is_creator&&(e[t.id].isCreator=t.is_creator)})),{add:n,get:t}},get:t}}!function(e){e.View="view",e.Comment="comment",e.Contrib="contrib",e.Like="like"}(Zi||(Zi={}));var $i,ea,ta,na,ra,ia,aa,oa,ca,la,sa,ua,da,pa,fa,ma,ba,ha,ga,va,_a,ya,Oa,ja,wa,xa,Ea,ka,Ca,Ta=B.default.div.withConfig({componentId:"sc-PO76x",displayName:"StyleSection"})($i||($i=Object(l.__makeTemplateObject)(["position:relative;box-sizing:border-box;font-size:0;"],[""]))),Sa=B.default.div.withConfig({componentId:"sc-PO76x-1",displayName:"StyleSectionTitle"})(ea||(ea=Object(l.__makeTemplateObject)(["font-size:12px;font-weight:500;line-height:18px;color:#555;"],[""]))),Ia=B.default.span.withConfig({componentId:"sc-PO76x-2",displayName:"StyleSectionMore"})(ta||(ta=Object(l.__makeTemplateObject)(["display:inline-block;font-size:12px;line-height:18px;color:#8ab3e9;float:right;cursor:pointer;"],[""]))),Na=B.default.div.withConfig({componentId:"sc-PO76x-3",displayName:"StyleEmpty"})(na||(na=Object(l.__makeTemplateObject)(["color:#c6c7c9;font-size:12px;text-align:center;position:absolute;width:100%;display:flex;align-items:center;justify-content:center;top:20px;left:0;bottom:0;"],[""]))),Ra=B.default.div.withConfig({componentId:"sc-PO76x-4",displayName:"StyleBody"})(ra||(ra=Object(l.__makeTemplateObject)(["overflow:auto;"],[""]))),Pa=function(e){var t=e.title,n=e.emptyText,r=e.users,i=e.more,a=e.className,o=e.onMore,c=e.children;return u.a.createElement(Ta,{className:a},u.a.createElement(Sa,null,t,i&&u.a.createElement(Ia,{onClick:o},L()("更多"))),u.a.createElement(Ra,null,r.map((function(e){return c(e)}))),0===r.length&&u.a.createElement(Na,null,n))},Ma=B.default.div.withConfig({componentId:"sc-1IGXhu",displayName:"StyleWrapper"})(ia||(ia=Object(l.__makeTemplateObject)(["position:absolute;user-select:none;right:10px;top:100px;z-index:101;width:246px;border-radius:4px;box-shadow:0 2px 16px 0 rgba(0,0,0,0.08);border:solid 0.5px #e5e5e5;background-color:#fff;padding:0 12px 2px;box-sizing:border-box;"],[""]))),Aa=B.default.div.withConfig({componentId:"sc-1IGXhu-1",displayName:"StyleTitle"})(aa||(aa=Object(l.__makeTemplateObject)(["line-height:44px;text-align:center;font-size:14px;font-weight:500;color:#41464b;"],[""]))),Ba=B.default.span.withConfig({componentId:"sc-1IGXhu-2",displayName:"StyleCloseIcon"})(oa||(oa=Object(l.__makeTemplateObject)(["& > svg{position:absolute;top:13px;right:13px;width:14px;height:14px;cursor:pointer;&:hover{> path{fill:#666;}}}"],[""]))),Da=Object(B.default)(Fi).withConfig({componentId:"sc-1IGXhu-3",displayName:"StyleSingleUserItem"})(ca||(ca=Object(l.__makeTemplateObject)(["width:100%;"],[""]))),La=Object(B.default)(Fi).withConfig({componentId:"sc-1IGXhu-4",displayName:"StyleDoubleUserItem"})(la||(la=Object(l.__makeTemplateObject)(["width:50%;"],[""]))),za=Object(B.default)(Pa).withConfig({componentId:"sc-1IGXhu-5",displayName:"StyleSection"})(sa||(sa=Object(l.__makeTemplateObject)(["border-radius:4px;background-color:#fafafa;padding:12px;min-height:132px;margin:0 auto 10px;"],[""]))),Fa=function(e){var t=e.onMore,n=u.a.useContext(pi),r=n.wordCount,i=n.contributorCount,a=n.contributorUsers,o=n.users,c=a.slice(0,3).map((function(e){return o[e]}));return u.a.createElement(za,{title:L()(ua||(ua=Object(l.__makeTemplateObject)(["总字数: ",""],["总字数: ",""])),r),more:i>3,emptyText:L()("无字数"),users:c,onMore:t},(function(e){return u.a.createElement(Da,{key:e.id,user:e,showCreatorIcon:!0},e.wordCount&&u.a.createElement(zi,null,L()(da||(da=Object(l.__makeTemplateObject)([""," 字"],[""," 字"])),e.wordCount)))}))},Va=function(e){var t=e.onMore,n=u.a.useContext(pi),r=n.viewCount,i=n.viewerCount,a=n.viewerUsers,o=n.users,c=a.slice(0,3).map((function(e){return o[e]}));return u.a.createElement(za,{title:L()(pa||(pa=Object(l.__makeTemplateObject)(["阅读次数: ",""],["阅读次数: ",""])),r),more:i>3,emptyText:L()("无阅读"),users:c,onMore:t},(function(e){return u.a.createElement(Da,{key:e.id,user:e,showCreatorIcon:!0},e.viewCount&&u.a.createElement(zi,null,L()(fa||(fa=Object(l.__makeTemplateObject)([""," 次"],[""," 次"])),e.viewCount)))}))},Ua=function(e){var t=e.onMore,n=u.a.useContext(pi),r=n.commentCount,i=n.commenterCount,a=n.commenterUsers,o=n.users,c=a.slice(0,3).map((function(e){return o[e]}));return u.a.createElement(za,{title:L()(ma||(ma=Object(l.__makeTemplateObject)(["评论次数: ",""],["评论次数: ",""])),r),more:i>3,emptyText:L()("无评论"),users:c,onMore:t},(function(e){return u.a.createElement(Da,{key:e.id,user:e,showCreatorIcon:!0},e.commentCount&&u.a.createElement(zi,null,L()(ba||(ba=Object(l.__makeTemplateObject)([""," 次"],[""," 次"])),e.commentCount)))}))},Ga=function(e){var t=e.onMore,n=u.a.useContext(pi),r=n.likeCount,i=n.likeUsers,a=n.users,o=i.slice(0,6).map((function(e){return a[e]}));return u.a.createElement(za,{title:L()(ha||(ha=Object(l.__makeTemplateObject)(["点赞数: ",""],["点赞数: ",""])),r),more:r>3,emptyText:L()("无点赞"),users:o,onMore:t},(function(e){return u.a.createElement(La,{key:e.id,user:e})}))},Ha=function(e){var t,n,r=e.onCollapse,i=e.onOpenDetailModal,a=e.guid,o=(t=Object(Xi.a)(),n=u.a.useContext(pi),function(e){var r,i,a,o;return Object(l.__awaiter)(this,void 0,void 0,(function(){var c,s,u,d;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return c="/reaction/files/"+e+"/overview",[4,t(Object(N.A)(c))];case 1:return s=l.sent(),u=Ji(n.users).add(s.contrib.users).add(s.view.users).add(s.comment.users).add(s.like.users).get(),d={wordCount:s.contrib.word_count,contributorCount:s.contrib.contributor_count,viewCount:s.view.view_count,viewerCount:s.view.viewer_count,commentCount:s.comment.comment_count,commenterCount:s.comment.commenter_count,likeCount:s.like.like_count,users:u,contributorUsers:null===(r=s.contrib.users)||void 0===r?void 0:r.map((function(e){return e.id})),viewerUsers:null===(i=s.view.users)||void 0===i?void 0:i.map((function(e){return e.id})),commenterUsers:null===(a=s.comment.users)||void 0===a?void 0:a.map((function(e){return e.id})),likeUsers:null===(o=s.like.users)||void 0===o?void 0:o.map((function(e){return e.id}))},n.update(d),[2]}}))}))}),c=u.a.useRef();function s(e){return function(){i(e)}}return u.a.useEffect((function(){var e;o(a).catch(console.error),null===(e=c.current)||void 0===e||e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),r()}))}),[a]),u.a.createElement(Ma,null,u.a.createElement(Aa,null,L()("文档信息")),u.a.createElement(Ba,{ref:c},u.a.createElement(Qi,null)),u.a.createElement(Fa,{onMore:s(Zi.Contrib)}),u.a.createElement(Va,{onMore:s(Zi.View)}),u.a.createElement(Ua,{onMore:s(Zi.Comment)}),u.a.createElement(Ga,{onMore:s(Zi.Like)}))},Wa=n(1005),Ka=Object(B.default)(rt.k).withConfig({componentId:"sc-UghU1",displayName:"StyleModal"})(ga||(ga=Object(l.__makeTemplateObject)(["user-select:none;.sm-modal-close{top:26px;right:30px;}.sm-modal-content{padding:14px 30px;}"],[""]))),Ya=Object(B.default)(Wa.b).withConfig({componentId:"sc-UghU1-1",displayName:"StyleTabs"})(va||(va=Object(l.__makeTemplateObject)([".sm-tab-navtabs{border-bottom:1px solid #e5e5e5;}.sm-tab-navtab{padding-bottom:7px;margin-right:24px;margin-bottom:-1px;}"],[""]))),Za=Object(B.default)(Pa).withConfig({componentId:"sc-UghU1-2",displayName:"StyleSection"})(_a||(_a=Object(l.__makeTemplateObject)(["padding-top:20px;","{margin-bottom:10px;}","{height:370px;}"],["","",""])),Sa,Ra),qa=Object(B.default)(Fi).withConfig({componentId:"sc-UghU1-3",displayName:"StyleUserItem"})(ya||(ya=Object(l.__makeTemplateObject)(["width:100%;","{margin-right:10px;}"],["",""])),Bi),Qa=function(){var e=u.a.useContext(pi),t=e.wordCount,n=e.contributorUsers,r=e.users,i=n.map((function(e){return r[e]}));return u.a.createElement(Za,{title:L()(Oa||(Oa=Object(l.__makeTemplateObject)(["总字数: ",""],["总字数: ",""])),t),emptyText:L()("无字数"),users:i},(function(e){return u.a.createElement(qa,{key:e.id,user:e,showCreatorIcon:!0},e.wordCount&&u.a.createElement(zi,null,L()(ja||(ja=Object(l.__makeTemplateObject)([""," 字"],[""," 字"])),e.wordCount)))}))},Xa=function(){var e=u.a.useContext(pi),t=e.viewCount,n=e.viewerUsers,r=e.users,i=n.map((function(e){return r[e]}));return u.a.createElement(Za,{title:L()(wa||(wa=Object(l.__makeTemplateObject)(["阅读次数: ",""],["阅读次数: ",""])),t),emptyText:L()("无阅读"),users:i},(function(e){return u.a.createElement(qa,{key:e.id,user:e,showCreatorIcon:!0},e.viewCount&&u.a.createElement(zi,null,L()(xa||(xa=Object(l.__makeTemplateObject)([""," 次"],[""," 次"])),e.viewCount)))}))},Ja=function(){var e=u.a.useContext(pi),t=e.commentCount,n=e.commenterUsers,r=e.users,i=n.map((function(e){return r[e]}));return u.a.createElement(Za,{title:L()(Ea||(Ea=Object(l.__makeTemplateObject)(["评论次数: ",""],["评论次数: ",""])),t),emptyText:L()("无评论"),users:i},(function(e){return u.a.createElement(qa,{key:e.id,user:e,showCreatorIcon:!0},e.commentCount&&u.a.createElement(zi,null,L()(ka||(ka=Object(l.__makeTemplateObject)([""," 次"],[""," 次"])),e.commentCount)))}))},$a=function(){var e=u.a.useContext(pi),t=e.likeCount,n=e.likeUsers,r=e.users,i=n.map((function(e){return r[e]}));return u.a.createElement(Za,{title:L()(Ca||(Ca=Object(l.__makeTemplateObject)(["点赞数: ",""],["点赞数: ",""])),t),emptyText:L()("无点赞"),users:i},(function(e){return u.a.createElement(qa,{key:e.id,user:e,showCreatorIcon:!0})}))},eo=function(e){var t=e.category,n=e.onChange;return u.a.createElement(Ya,{activeKey:t,onChange:n},u.a.createElement(Wa.a,{tab:L()("总字数"),key:Zi.Contrib},u.a.createElement(Qa,null)),u.a.createElement(Wa.a,{tab:L()("阅读次数"),key:Zi.View},u.a.createElement(Xa,null)),u.a.createElement(Wa.a,{tab:L()("评论次数"),key:Zi.Comment},u.a.createElement(Ja,null)),u.a.createElement(Wa.a,{tab:L()("点赞数"),key:Zi.Like},u.a.createElement($a,null)))},to=function(e){var t=e.visible,n=e.category,r=e.onCancel,i=e.onChange,a=u.a.useContext(pi);return u.a.createElement(Ka,{footer:null,onCancel:r,visible:t},u.a.createElement(pi.Provider,{value:a},u.a.createElement(eo,{category:n,onChange:i})))};function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lo(e);if(t){var i=lo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return co(this,n)}}function co(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var so,uo,po,fo,mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(a,e);var t,n,r,i=oo(a);function a(){return ro(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return u.a.createElement("svg",mo({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},this.props),u.a.createElement("path",{fill:"rgba(85, 85, 85, 0.5)",d:"M3.567 10.246h2.53v10.12h-2.53a.843.843 0 0 1-.843-.843V11.09a.842.842 0 0 1 .843-.844zM8.03 9.155l5.397-5.397a.422.422 0 0 1 .552-.04l.719.54c.409.307.593.829.466 1.324l-.972 3.82h5.397c.932 0 1.687.755 1.687 1.687v1.774c0 .22-.043.439-.127.643l-2.61 6.338a.843.843 0 0 1-.78.522H8.627a.843.843 0 0 1-.843-.843V9.752a.841.841 0 0 1 .246-.597z"}))}}])&&io(t.prototype,n),r&&io(t,r),a}(u.a.Component),ho=B.default.div.withConfig({componentId:"sc-vEs7S",displayName:"FloatContainer"})(so||(so=Object(l.__makeTemplateObject)(["position:absolute;bottom:40px;right:15px;display:flex;justify-content:flex-end;z-index:102;"],[""]))),go=B.default.div.withConfig({componentId:"sc-vEs7S-1",displayName:"FloatBtn"})(uo||(uo=Object(l.__makeTemplateObject)(["width:46px;height:46px;box-shadow:0 2px 16px 0 rgba(0,0,0,0.08);border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;z-index:101;cursor:pointer;&.disabled{opacity:0.3;cursor:not-allowed;}"],[""]))),vo=Object(B.default)(bo).withConfig({componentId:"sc-OBlHy",displayName:"StyleIconLike"})(po||(po=Object(l.__makeTemplateObject)([""],[""]))),_o=Object(B.default)(go).withConfig({componentId:"sc-OBlHy-1",displayName:"StyleLike"})(fo||(fo=Object(l.__makeTemplateObject)(["margin-right:8px;","{& > path{fill:",";}&:hover{& > path{fill:",";}}}"],["","","",""])),vo,(function(e){return e.active?"#6da0e3":"rgba(85, 85, 85, 0.5)"}),(function(e){return e.active?"#6da0e3":"rgba(85, 85, 85, 0.6)"})),yo=function(e){var t,n,r=e.guid,i=u.a.useContext(pi).like,a=(t=Object(Xi.a)(),n=u.a.useContext(pi),function(e,r){var i;return Object(l.__awaiter)(this,void 0,void 0,(function(){var a,o,c,s;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return a="reaction/files/"+e+"/"+(r?"like":"unlike"),[4,t(Object(N.Gb)(a))];case 1:return l.sent(),o="/reaction/files/"+e+"/details?category="+Zi.Like,[4,t(Object(N.A)(o))];case 2:return c=l.sent(),s=Ji(n.users).add(c.users).get(),n.update({like:r,users:s,likeCount:c.like_count,likeUsers:null===(i=c.users)||void 0===i?void 0:i.map((function(e){return e.id}))}),[2]}}))}))});return u.a.createElement(_o,{active:i,onClick:function(){a(r,!i).catch((function(){G.w.error(L()("点赞失败"))}))}},u.a.createElement(vo,null))},Oo=n(2754),jo=n.n(Oo);function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=So(e);if(t){var i=So(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return To(this,n)}}function To(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io,No,Ro,Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(a,e);var t,n,r,i=Co(a);function a(){return xo(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return u.a.createElement("svg",Po({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},this.props),u.a.createElement("path",{fill:"rgba(85, 85, 85, 0.5)",d:"M21.136 4.5v14.357l-10.214-.001-4.128 4.128v-4.128l-3.93.001V4.5h18.272zM8.737 10.373h-2.61v2.61h2.61v-2.61zm4.568 0h-2.61v2.61h2.61v-2.61zm4.568 0h-2.61v2.61h2.61v-2.61z"}))}}])&&Eo(t.prototype,n),r&&Eo(t,r),a}(u.a.Component),Ao=Object(B.default)(Mo).withConfig({componentId:"sc-2zJH0f",displayName:"StyleIconDiscord"})(Io||(Io=Object(l.__makeTemplateObject)([""],[""]))),Bo=Object(B.default)(go).withConfig({componentId:"sc-2zJH0f-1",displayName:"StyleDiscordBtn"})(No||(No=Object(l.__makeTemplateObject)(["position:relative;","{& > path{fill:",";}&:hover{& > path{fill:",";}}}"],["","","",""])),Ao,(function(e){return e.active?"#6da0e3":"rgba(85, 85, 85, 0.5)"}),(function(e){return e.active?"#6da0e3":"rgba(85, 85, 85, 0.6)"})),Do=B.default.div.withConfig({componentId:"sc-2zJH0f-2",displayName:"Badge"})(Ro||(Ro=Object(l.__makeTemplateObject)(["position:absolute;right:5px;top:7px;min-width:16px;height:16px;color:#fff;font-size:10px;text-align:center;line-height:14px;padding:0 3px;border:solid 1px #fff;border-radius:8px;transform:translateX(50%);overflow:hidden;white-space:nowrap;box-sizing:border-box;background-image:linear-gradient(to bottom,#6c9fe2,#80b3f5);"],[""]))),Lo=function(e){var t=e.disabled,n=e.discordUnread,r=e.onToggleDiscord;return u.a.createElement(Bo,{onClick:function(){t||r()},className:jo()({disabled:t})},u.a.createElement(G.u,{title:L()("评论")},u.a.createElement(Ao,null)),n?u.a.createElement(Do,null,n>99?"99+":n):null)};function zo(e){var t,n,r=Object(l.__read)(u.a.useState(!1),2),i=r[0],a=r[1],o=Object(l.__read)(u.a.useState(!1),2),c=o[0],s=o[1],d=(t=Object(Xi.a)(),n=u.a.useContext(pi),function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return r="reaction/files/"+e+"/stats",[4,t(Object(N.A)(r))];case 1:return i=o.sent(),a={wordCount:i.contrib.word_count,contributorCount:i.contrib.contributor_count,viewCount:i.view.view_count,viewerCount:i.view.viewer_count,commentCount:i.comment.comment_count,commenterCount:i.comment.commenter_count,likeCount:i.like.like_count,like:i.current_user.liked},n.update(a),[2,a]}}))}))});u.a.useEffect((function(){s(!1),d(e).then((function(e){var t,n,r;a((t=e.contributorCount,n=e.viewerCount,r=e.commenterCount,t>1||n>1||r>1)),s(!0)})).catch(console.error)}),[e]);return{expand:i,ready:c,onExpand:function(){return a(!0)},onCollapse:function(){return a(!1)}}}var Fo=function(e){var t,n,r=e.guid,i=e.isLogin,a=e.discordUnread,o=e.sidebarVisible,c=e.publicReadOnly,s=e.onToggleDiscord,d=zo(r),p=d.expand,f=d.ready,m=d.onExpand,b=d.onCollapse,h=Object(l.__read)(u.a.useState(Zi.Contrib),2),g=h[0],v=h[1],_=Object(l.__read)(u.a.useState(!1),2),y=_[0],O=_[1],j=(t=Object(Xi.a)(),n=u.a.useContext(pi),function(e,r){var i,a,o,c;return Object(l.__awaiter)(this,void 0,void 0,(function(){var s,u,d,p;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return s="/reaction/files/"+e+"/details?category="+r,[4,t(Object(N.A)(s))];case 1:switch(u=l.sent(),d=Ji(n.users).add(u.users).get(),r){case Zi.Contrib:p={wordCount:u.word_count,contributorCount:u.contributor_count,users:d,contributorUsers:null===(i=u.users)||void 0===i?void 0:i.map((function(e){return e.id}))},n.update(p);break;case Zi.View:p={viewCount:u.view_count,viewerCount:u.viewer_count,users:d,viewerUsers:null===(a=u.users)||void 0===a?void 0:a.map((function(e){return e.id}))},n.update(p);break;case Zi.Comment:p={commentCount:u.comment_count,commenterCount:u.commenter_count,users:d,commenterUsers:null===(o=u.users)||void 0===o?void 0:o.map((function(e){return e.id}))},n.update(p);break;case Zi.Like:p={likeCount:u.like_count,users:d,likeUsers:null===(c=u.users)||void 0===c?void 0:c.map((function(e){return e.id}))},n.update(p)}return[2]}}))}))});function w(e){j(r,e).catch(console.error),v(e)}return function(){function e(){document.documentElement.scrollTop=0}u.a.useEffect((function(){return document.addEventListener("exitFullscreen",e),document.removeEventListener("exitFullscreen",e)}),[])}(),!f||o?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(ho,null,p?null:u.a.createElement(Mi,{onExpand:m}),u.a.createElement(yo,{guid:r}),u.a.createElement(Lo,{disabled:!i||c,discordUnread:a,onToggleDiscord:s})),p?u.a.createElement(Ha,{onCollapse:b,onOpenDetailModal:function(e){w(e),O(!0)},guid:r}):null,u.a.createElement(to,{category:g,onChange:w,onCancel:function(){O(!1)},visible:y}))},Vo=n(1172),Uo=n.n(Vo),Go=n(122),Ho=n(1027),Wo=n(1104),Ko=B.default.div.attrs({className:"follow-mode-avatar"}).withConfig({componentId:"sc-31oGw7",displayName:"StyleFollowMode"})(Xo||(Xo=Object(l.__makeTemplateObject)(["margin:14px 0 14px 0;transform:translate(0,0);cursor:pointer;"],[""]))),Yo=B.default.div.withConfig({componentId:"sc-31oGw7-1",displayName:"StyleFollowModeTip"})(Jo||(Jo=Object(l.__makeTemplateObject)(["display:flex;align-items:center;"],[""]))),Zo=B.default.span.withConfig({componentId:"sc-31oGw7-2",displayName:"StyleName"})($o||($o=Object(l.__makeTemplateObject)(["display:inline-block;overflow:hidden;text-overflow:ellipsis;max-width:86px;white-space:nowrap;"],[""]))),qo=Object(B.default)(Qi).withConfig({componentId:"sc-31oGw7-3",displayName:"StyleIconClose"})(ec||(ec=Object(l.__makeTemplateObject)(["width:12px;height:12px;vertical-align:middle;margin-left:6px;margin-top:-1px;cursor:pointer;> path{fill:#fff;}"],[""]))),Qo=B.default.div.withConfig({componentId:"sc-31oGw7-4",displayName:"StyledLoginIframeContainer"})(tc||(tc=Object(l.__makeTemplateObject)(["width:100%;height:100%;position:fixed;z-index:10000;display:flex;justify-content:center;align-items:center;top:0;.iframe-wrapper{position:absolute;z-index:999;background:#fff;transition:0.3s all ease-out;left:50%;top:50%;transform:translate(-50%,-50%);max-height:100%;overflow:auto;> span{position:absolute;width:12px;height:12px;top:23px;right:28px;z-index:999;cursor:pointer;path{fill:#c2c2c2;}}}.background{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(65,70,75,0.5);}"],[""])));var Xo,Jo,$o,ec,tc,nc,rc,ic,ac=function(e){var t=e.followUser,n=e.showTip,r=e.onEnterFollowMode,i=e.onCloseTip;return t?u.a.createElement(G.u,{theme:"blue",visible:n,placement:"bottom",overlay:u.a.createElement(Yo,null,u.a.createElement(Zo,null,t.name),L()("正在演示，点击头像进入"),u.a.createElement(qo,{onClick:i}))},u.a.createElement(G.u,{placement:"bottom",trigger:"hover",overlay:"@ "+String(t.name)},u.a.createElement(Ko,{onClick:function(){r(),i()}},u.a.createElement("img",{src:String(t.avatar)})))):null},oc=function(e){var t=e.followMode,n=e.socket,r=e.guid,i=e.currentUserId,a=e.children,o=Object(l.__read)(u.a.useState([]),2),c=o[0],s=o[1],d=function(e,t,n){var r=Object(l.__read)(u.a.useState([]),2),i=r[0],a=r[1],o=u.a.useRef();function c(e){a(Object(l.__spreadArray)([],Object(l.__read)(e)))}return u.a.useEffect((function(){if(e&&!o.current){o.current=new Uo.a({ws:e,fileGuid:t,currentUserId:n});var r=o.current;r.on("UserEnter",(function(e){c(e.collaborators)})),r.on("UserLeave",(function(e){c(e.collaborators)})),r.start()}return function(){var e;null===(e=o.current)||void 0===e||e.removeAllListeners()}}),[e]),{collaborators:i}}(n,r,i).collaborators,p=function(e){var t=Object(l.__read)(u.a.useState(0),2),n=t[0],r=t[1],i=Object(l.__read)(u.a.useState(!1),2),a=i[0],o=i[1];function c(e){var t=e.userId,n=e.showTip;r(t),o(n)}function s(){r(0)}return u.a.useEffect((function(){return null==e||e.on("highlight_user_head",c),null==e||e.on("unhighlight_user_head",s),function(){null==e||e.off("highlight_user_head",c),null==e||e.off("unhighlight_user_head",s)}}),[e]),{followUserId:n,showTip:a,closeTip:function(){return o(!1)}}}(t),f=p.followUserId,m=p.showTip,b=p.closeTip,h=function(e){var t=u.a.useRef(new St.a);return u.a.useEffect((function(){t.current.emit("UserEnter",{collaborators:e})}),[e]),{on:t.current.on.bind(t.current),off:t.current.off.bind(t.current),getCollaborators:function(){return e},start:function(){}}}(c),g=u.a.useRef(),v=Object(l.__read)(u.a.useState(!1),2),_=v[0],y=v[1];u.a.useEffect((function(){var e,t,n=f>0?d.filter((function(e){return e.id!==f})):d;s(n);i&&i===f?null===(e=document.querySelector('[data-test="account-icon"]'))||void 0===e||e.classList.add("follow-mode-avatar"):null===(t=document.querySelector('[data-test="account-icon"]'))||void 0===t||t.classList.remove("follow-mode-avatar")}),[f,d]),u.a.useEffect((function(){var e=document.querySelector('[data-test="file-header-collaborators-bar"]');if(null==e?void 0:e.parentElement){var t=document.createElement("div"),n=Array.from(e.parentElement.children).indexOf(e);n<e.parentElement.children.length-1?e.parentElement.insertBefore(t,e.parentElement.children[n+1]):e.parentElement.appendChild(t),g.current=t}}),[]);var O=d.find((function(e){return e.id===f}));return u.a.createElement(u.a.Fragment,null,a(h),g.current&&O?Object(Go.createPortal)(u.a.createElement(ac,{followUser:O,showTip:m,onCloseTip:b,onEnterFollowMode:function(){i<0?__RUNTIME_ENV__.PRIVATE_DEPLOY?G.w.warning({content:L()("进行后续操作请先登录")}):y(!0):null==t||t.enter()}}),g.current):null,_&&u.a.createElement(Qo,null,u.a.createElement("div",{className:"iframe-wrapper"},u.a.createElement("span",{onClick:function(){y(!1)}},u.a.createElement(Ho.a,null)),u.a.createElement(Wo.b,{defaultPage:Wo.e.LoginByPassword,crmExtra:{shimo_file:r},onStatusChange:function(e){e.messageType===Wo.c.LOGINED&&window.location.reload()}})),u.a.createElement("div",{className:"background"})))},cc=n(1857),lc=y.g.isNewFilePublicReadOnly,sc=C.composeMenuItems,uc=C.composeMenuCallback,dc=T.d,pc=T.m,fc=T.k,mc=(u.a.createContext({}),function(e){function t(t){var n=e.call(this,t)||this;return n.state={rev:null,isLoading:!0,isCollabSocketReady:!1,ready:!1,fileInfoModalVisible:!1,discordUnread:0,commentVisible:!1,directoryVisible:!1,writerVisible:!1,sidebarVisible:!1,sidebarActiveKey:nn.Discord},n.unMountActions=[],n.getMenu=Object(cc.a)((function(e){var t=n.props,r=tn(t.file,t.me,{enableSubscribe:e}),i=sc(r),a=uc(r);return n.menuCallback=a,{menuOptions:i,menuCallback:a}})),n.toggleUserGuide=function(e){var t=n.props,r=t.userGuidePanelActiveKey,i=t.userGuidePanelVisible,a=t.changeUserGuidePanelActiveKey,o=t.changeUserGuidePanelVisible;i&&r===e?o(!1):(o(!0),a(e))},n.handleMenuClick=function(e,t,r){var i=n.state,a=i.sidebarVisible,o=i.sidebarActiveKey,c=i.sideBarManager,l=i.commentVisible,s=i.comment,u=i.directoryVisible,d=i.tableOfContent,p=i.writerVisible,f=i.collaborator,m=i.revision;switch(e){case dc:n.setState({fileInfoModalVisible:!0});break;case ut:a&&o===nn.History?c.hide("discordpanel"):c.show("discordpanel","history");break;case dt:a&&o===nn.Comment?c.hide("discordpanel"):c.show("discordpanel","comment");break;case ft:l?n.setState({commentVisible:!1},(function(){null==s||s.hide(null,"comment"),sessionStorage.removeItem("commentEnable")})):n.setState({commentVisible:!0},(function(){null==s||s.show(null,"comment"),sessionStorage.setItem("commentEnable","true")}));break;case mt:u?n.setState({directoryVisible:!1},(function(){return null==d?void 0:d.hide()})):n.setState({directoryVisible:!0},(function(){return null==d?void 0:d.show()}));break;case bt:p?n.setState({writerVisible:!1},(function(){return null==f?void 0:f.hide()})):n.setState({writerVisible:!0},(function(){return null==f?void 0:f.show()}));break;case yt:null==m||m.save();break;case pc:n.toggleUserGuide("userguide");break;case fc:n.toggleUserGuide("shortkey")}return n.menuCallback&&n.menuCallback(e,t,r)},n.handleToggleDiscord=function(){var e=n.state,t=e.sidebarActiveKey,r=e.sidebarVisible,i=e.sideBarManager;r&&t===nn.Discord?null==i||i.hide("discordpanel"):null==i||i.show("discordpanel","discord")},n.handleToggleHistory=function(){var e=n.state,t=e.sidebarActiveKey,r=e.sidebarVisible,i=e.sideBarManager;r&&t===nn.History?null==i||i.hide("discordpanel"):null==i||i.show("discordpanel","history")},n.handleDiscordUnread=function(e){n.setState({discordUnread:e})},n.handleFileInfoModalClose=function(){n.setState({fileInfoModalVisible:!1})},n.handleToggleUserGuideSideBar=function(e){n.toggleUserGuide(e)},n}return Object(l.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e,r=t.ready,i=t.title,a=n.file;return r&&a&&i.setValue(a.name),{}},t.prototype.loadDoc=function(){return Object(l.__awaiter)(this,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.deps];case 1:return e.sent(),[2,window.SDKDoc]}}))}))},t.prototype.initDoc=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,o,c,s,u,d,p,f,m,b,h,g,v,_,y=this;return Object(l.__generator)(this,(function(O){switch(O.label){case 0:return t=this.props,n=t.me,r=t.file,i=t.getContent,a=t.initContentStorage,o=t.createStorage,c=t.subscribeContentChange,s=t.dispatch,u=t.showCanvaModal,d=n&&n.id>0,p=r.guid,f=null==r?void 0:r.permissions,m=null==f?void 0:f.editable,b=lc(r),h=b||!m,g=r.contentUrl,v=!r.role&&!r.permissions.editable&&!r.permissions.commentable,[4,a(p)];case 1:return O.sent(),[4,i(g)];case 2:return(_=O.sent())&&A()(r,_),[2,this.loadDoc().then((function(t){if(_){var i=t.launch,a={host:__RUNTIME_ENV__.UPLOADER_HOST,type:__RUNTIME_ENV__.UPLOADER_TYPE,tokenPath:__RUNTIME_ENV__.UPLOADER_TOKEN_PATH};return i({guid:p,user:Object.assign(n,{teamId:n.team}),file:r,readOnly:h,socket:e,storage:o(),uploader:a,watermarkStatus:!!r.watermark,locale:"ja"===document.documentElement.lang?"jp":document.documentElement.lang,plugins:{canva:{showCanvaPaymentModal:d?u:null}}})}})).then((function(t){return Object(l.__awaiter)(y,void 0,void 0,(function(){var n,i,a,o,u,d,f,m,b=this;return Object(l.__generator)(this,(function(h){switch(h.label){case 0:return window.editorWrapper=t,n=t.sideBarManager,i=t.tableOfContent,a=t.collab,o=t.editor,this.loadAd(r),v||(c(o,a,a.clientId),n.on(n.constructor.events.BOARD_VISIBLE,(function(e){var t=e.name,n=e.visible;"discordpanel"!==t||n||b.setState({sidebarVisible:n})})),n.on(n.constructor.events.TAB_VISIBLE,(function(e){var t=e.visibleTab;b.setState({sidebarActiveKey:t,sidebarVisible:!0})})),i.on(i.constructor.events.SHOW,(function(){b.setState({directoryVisible:!0})})),i.on(i.constructor.events.HIDE,(function(){b.setState({directoryVisible:!1})})),(u=t.comment)&&(u.on(u.constructor.events.SHOW,(function(e){"comment"===e&&(sessionStorage.setItem("commentEnable","true"),b.setState({commentVisible:!0}))})),u.show(null,"comment"),sessionStorage.setItem("commentEnable","true"),this.setState({commentVisible:!0})),(d=t.revision)&&(d.on(d.constructor.events.ENTER,(function(){document.querySelector(".file-page-header").classList.add("hide")})),d.on(d.constructor.events.QUIT,(function(){var e=document.querySelector(".file-page-header");if(Array.from(e.classList).includes("hide")){var t=document.querySelector(".page-header-container");t.lastChild.style.setProperty("pointer-events","none");var n=function(){t.lastChild.style.setProperty("pointer-events","auto"),t.removeEventListener("mousemove",n)};t.addEventListener("mousemove",n)}e.classList.remove("hide")}))),(f=t.collaborator).on(f.constructor.events.SHOW,(function(){b.setState({writerVisible:!0})})),f.on(f.constructor.events.HIDE,(function(){b.setState({writerVisible:!1})})),(m=t.title).on(m.constructor.events.CHANGE,(function(e){s(Object(N.Sc)(p,e))}))),(null==r?void 0:r.content)?t.editor.setContentAsync?[4,t.editor.setContentAsync(r.content)]:[3,2]:[3,4];case 1:return h.sent(),[3,4];case 2:return[4,t.editor.setContent(r.content)];case 3:h.sent(),h.label=4;case 4:return this.setState(Object(l.__assign)(Object(l.__assign)({},t),{ready:!0,isLoading:!1,socket:e})),[2]}}))}))})).catch((function(e){}))]}}))}))},t.prototype.loadAd=function(e){if(lc(e)){var t=document.getElementById("sm-docs-footer"),n=function(n){var r=document.createElement("div");return r.className="sm-ad-wrapper pos-"+n,r.style.cssText="max-width: 980px; margin: 15px auto",t.insertBefore(r,t.firstElementChild&&t.firstElementChild.nextSibling),Object(O.a)({dom:r,position:n,query:{fileId:e.id}}).catch((function(e){})),r};if(t){var r=n(j.b.PCReadonlyDocBottom2),i=n(j.b.PCReadonlyDocBottom);this.ad=[i,r]}}},Object.defineProperty(t.prototype,"enableSubscribe",{get:function(){return(this.props.features.data||[]).includes(At)||!!__RUNTIME_ENV__[At.toUpperCase()]},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e,t;return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:n=this.props,r=n.file,i=n.dispatch,Object(I.redirectUrlFromShare)("docs",r.guid),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i(Object(N.nb)(r.guid))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[4,Object(b.i)()];case 5:return a=o.sent(),[4,this.initDoc(a)];case 6:return o.sent(),null===(t=null===(e=window.editorWrapper)||void 0===e?void 0:e.emit)||void 0===t||t.call(e,"lo-init-doc-success"),function(e){null==e||e.on("UpdateSubscription",(function(e){if(["create","destroy"].includes(e.action)){var t=e.data.fileGuid,n="create"===e.action;It.emit("update",{guid:t,state:n})}}))}(a),this.unMountActions.push((function(){!function(e){null==e||e.off("UpdateSubscription")}(a)})),[2]}}))}))},t.prototype.componentWillUnmount=function(){this.ad&&this.ad.length&&this.ad.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.unMountActions.forEach((function(e){return e()}))},t.prototype.render=function(){var e=this,t=this.props,n=t.me,r=t.file,i=t.online,a=t.canvaModals,o=this.state,c=o.editor,l=o.collab,s=o.isLoading,d=o.socket,p=o.discord,f=o.commentVisible,m=o.directoryVisible,b=o.writerVisible,h=o.sidebarVisible,g=o.sidebarActiveKey,v=o.revision,_=o.demoScreen,y=o.followMode,O=o.fileInfoModalVisible,j=o.discordUnread,w=lc(r),C=n&&n.id>0,T=this.getMenu(this.enableSubscribe).menuOptions;return u.a.createElement(bc,null,s?u.a.createElement(gc,null):null,u.a.createElement(an,{me:n,file:r,online:i,revision:v,demoScreen:_,onToggleDiscord:this.handleToggleDiscord,onToggleHistory:this.handleToggleHistory,onToggleUserGuide:this.handleToggleUserGuideSideBar},u.a.createElement(oc,{followMode:y,guid:r.guid,currentUserId:n.id,socket:d},(function(t){return u.a.createElement(Rt,{ref:Mt,me:n,file:r,enabled:e.enableSubscribe},(function(i){return u.a.createElement(E.a,{me:n,file:r,socket:d,collab:l,editor:c,customButtonPanel:e.renderCustomButtonPanel(),getMenuItems:T,onMenuClick:e.handleMenuClick,menuExtraProps:{historyVisible:h&&g===nn.History,commentVisible:f,directoryVisible:m,writerVisible:b,commentListVisible:h&&g===nn.Comment,toggleSubscribe:i},handleToggleUserGuideSideBar:e.handleToggleUserGuideSideBar,collaboratorsClient:t})}))}))),u.a.createElement(hc,null,u.a.createElement("div",{id:"app-container"}),u.a.createElement(k.a,{file:r,visible:O,onClose:this.handleFileInfoModalClose},u.a.createElement(Ke,{file:r})),u.a.createElement(x.a,{discord:p,onUnread:this.handleDiscordUnread})),__RUNTIME_ENV__.STAT_TRAY_ENABLE&&u.a.createElement(Ei,null,u.a.createElement(Fo,{isLogin:C,publicReadOnly:w,guid:r.guid,sidebarVisible:h,discordUnread:j,onToggleDiscord:this.handleToggleDiscord})),u.a.createElement(qe.a.ToastsContainer,null),a)},t.prototype.renderCustomButtonPanel=function(){var e=this.props,t=e.file,n=e.me,r=this.state,i=r.sidebarVisible,a=r.sidebarActiveKey,o=r.discordUnread,c=r.demoScreen,l=r.followMode,s=lc(t),d=n&&n.id>0;return u.a.createElement(u.a.Fragment,null,!s&&u.a.createElement(Fe,{discordActive:i&&a===nn.Discord,historyActive:i&&a===nn.History,onDiscordClick:this.handleToggleDiscord,onHistoryClick:this.handleToggleHistory,unreadCount:o,isLogin:d}),u.a.createElement(Ee,{demoScreen:c,followMode:l,isLogin:d}))},t=Object(l.__decorate)([Object(S.a)(vr),Object(l.__metadata)("design:paramtypes",[Object])],t)}(s.Component)),bc=B.default.div.withConfig({componentId:"sc-UZTbA",displayName:"Page"})(nc||(nc=Object(l.__makeTemplateObject)(["height:100%;"],[""]))),hc=B.default.div.withConfig({componentId:"sc-UZTbA-1",displayName:"StyledContainer"})(rc||(rc=Object(l.__makeTemplateObject)(["overflow-x:auto;height:calc(100% - 51px);display:flex;flex-flow:column nowrap;align-items:stretch;position:relative;"],[""]))),gc=Object(B.default)(R.a).withConfig({componentId:"sc-UZTbA-2",displayName:"StyledLoading"})(ic||(ic=Object(l.__makeTemplateObject)(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]))),vc=Object(P.a)((function(e,t){return{online:e.status.online,team:Object(N.jc)(e),features:e.features,alphaFeatures:e.alphaFeatures,file:Object(N.cc)(e,t.guid)}}))(Object(w.d)(mc)),_c=(n(2755),y.l.apiLog);window.cow={},window._=_.a;var yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.componentDidCatch=function(e){_c("Lizard Doc Service Error",{err:e})},t.prototype.render=function(){var e=this;return u.a.createElement(Ec.Consumer,null,(function(t){var n,r=t.deps,i=t.coreData;return u.a.createElement(y.c,null,u.a.createElement(vc,Object(l.__assign)({guid:Object(b.f)()},null===(n=i.file)||void 0===n?void 0:n.contentStorageInstance,e.props,{deps:r})))}))},t}(u.a.PureComponent),Oc="doc",jc=Object(p.createBrowserHistory)();m()(window,"shimo.history",jc);var wc=[{path:["/docs/:guid"],exact:!1,lazy:!1,devices:["pc"],component:yc}],xc=[],Ec=Object(s.createContext)({deps:null,coreData:{context:{}}}),kc=function(e){return function(t){return u.a.createElement(d.Router,{history:jc},u.a.createElement(d.Switch,null,wc.map((function(n,r){return u.a.createElement(d.Route,{key:r,path:n.path,exact:n.exact,render:function(r){if("component"in n){var i=n.component;return u.a.createElement(Ec.Provider,{value:{deps:e,coreData:t}},u.a.createElement(i,Object(l.__assign)({},r)))}return"render"in n?u.a.createElement(Ec.Provider,{value:{deps:e,coreData:t}},n.render(Object(l.__assign)({},r))):null}})}))),u.a.createElement(d.Switch,null,xc.map((function(e,t){return u.a.createElement(d.Redirect,{key:t,exact:e.exact,from:e.from,to:e.to})}))))}},Cc=function(e){return function(t,n){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var t,r,i,a,o,c,s;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return[4,Object(b.d)()];case 1:return(t=u.sent()).passed?(i=t.store,[4,Object(b.e)({store:i,fileType:"newdoc"})]):(r=t.failureElement,[2,n(e,!1,(function(e){return function(){return r}}))]);case 2:return a=u.sent(),o=a.passed,c=a.element,o?(s=Object(l.__assign)(Object(l.__assign)({},e),{store:i}),[2,n(s,!0,null)]):[2,n(e,!1,(function(e){return function(){return c}}))]}}))}))}},Tc=function(e){return function(t){return t(e,"parallel",(function(){return function(){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return[4,Object(h.g)()];case 1:return e.sent(),[2,Object(h.d)("lizard-service-doc-sdk")]}}))}))]}))}))}}))}},Sc=function(e){return function(t,n){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var r,i,a,o;return Object(l.__generator)(this,(function(c){return r=e.store,i=e.context,Object(b.l)(r,i),a=Object(b.k)({store:r,docType:"richdoc",fileType:"newdoc"}),o=Object(l.__assign)(Object(l.__assign)({},e),{file:a}),[2,n(o,u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,null),u.a.createElement(b.a,{store:r},u.a.createElement(b.b,{store:r,fileType:"newdoc"},t(o)))))]}))}))}}},971:function(e,t,n){"use strict";n.d(t,"z",(function(){return i.a})),n.d(t,"x",(function(){return a.a})),n.d(t,"A",(function(){return f})),n.d(t,"a",(function(){return m.a})),n.d(t,"b",(function(){return m.b})),n.d(t,"y",(function(){return m.v})),n.d(t,"c",(function(){return m.c})),n.d(t,"d",(function(){return m.d})),n.d(t,"g",(function(){return m.g})),n.d(t,"h",(function(){return m.h})),n.d(t,"i",(function(){return m.i})),n.d(t,"j",(function(){return m.j})),n.d(t,"k",(function(){return m.k})),n.d(t,"n",(function(){return m.n})),n.d(t,"o",(function(){return m.o})),n.d(t,"p",(function(){return m.p})),n.d(t,"r",(function(){return m.r})),n.d(t,"B",(function(){return m.w})),n.d(t,"u",(function(){return m.u})),n.d(t,"s",(function(){return m.s})),n.d(t,"q",(function(){return m.q})),n.d(t,"l",(function(){return m.l})),n.d(t,"f",(function(){return m.f})),n.d(t,"m",(function(){return m.m})),n.d(t,"e",(function(){return m.e})),n.d(t,"t",(function(){return m.t})),n.d(t,"v",(function(){return b.a})),n.d(t,"w",(function(){return b.c}));var r,i=n(1004),a=n(992),o=(n(1018),n(2)),c=n(253),l=n(1051),s=n(1052),u=n(1053),d=n(1043),p=n(1016),f=Object(c.css)(r||(r=Object(o.__makeTemplateObject)([""," "," "," "," "," ",""],["","","","","","",""])),s.c,l.b,u.g,u.g,d.g,p.b),m=n(987),b=(n(984),n(990))},974:function(e,t,n){"use strict";var r,i,a,o,c,l,s,u,d,p;n.d(t,"j",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"t",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"x",(function(){return s})),n.d(t,"y",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"m",(function(){return p})),function(e){e.Private="private",e.Readonly="readonly",e.Editable="editable",e.Commentable="commentable",e.EnterpriseReadonly="enterprise_readonly",e.EnterpriseEditable="enterprise_editable",e.EnterpriseCommentable="enterprise_commentable"}(r||(r={})),function(e){e[e.Unknown=0]="Unknown",e[e.FolderOrSpace=1]="FolderOrSpace",e[e.ShimoFile=2]="ShimoFile",e[e.CloudFile=3]="CloudFile"}(i||(i={})),function(e){e[e.shortcut=-12]="shortcut",e[e.table=-11]="table",e[e.presentation=-10]="presentation",e[e.board=-9]="board",e[e.form=-8]="form",e[e.mindmap=-7]="mindmap",e[e.modoc=-6]="modoc",e[e.slide=-5]="slide",e[e.mosheet=-4]="mosheet",e[e.sheet=-3]="sheet",e[e.newdoc=-2]="newdoc",e[e.spreadsheet=-1]="spreadsheet",e[e.document=0]="document",e[e.folder=1]="folder",e[e.space=2]="space",e[e.img=3]="img",e[e.pdf=4]="pdf",e[e.xls=5]="xls",e[e.docx=6]="docx",e[e.ppt=7]="ppt",e[e.mp3=8]="mp3",e[e.zip=9]="zip",e[e.mp4=10]="mp4",e[e.wps=11]="wps",e[e.xmind=12]="xmind",e[e.unknown=-999]="unknown"}(a||(a={})),function(e){e.Space="Space",e.Folder="Folder",e.ShimoFile="ShimoFile",e.CloudFile="CloudFile"}(o||(o={})),function(e){e[e.User=1]="User",e[e.Department=2]="Department",e[e.Team=3]="Team"}(c||(c={})),function(e){e.owner="owner",e.editor="editor",e.commentator="commentator",e.reader="reader"}(l||(l={})),function(e){e.owner="owner",e.editor="editor",e.commentator="commentator",e.reader="reader",e.unknown="unknown_role",e.inherited="inherited",e.none="none"}(s||(s={})),function(e){e.used="used",e.updated="updated",e.created="created",e.shared="shared"}(u||(u={})),function(e){e[e.update=1]="update",e[e.comment=2]="comment",e[e.discussion=3]="discussion"}(d||(d={})),function(e){e[e.update=1]="update",e[e.comment=2]="comment",e[e.discussion=3]="discussion",e[e.create=4]="create"}(p||(p={}))},975:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p}));var r="#41464b",i="#676b6f",a="#333",o="#666",c="#a5a5a5",l="#ccc",s="#ddd",u="#e5e5e5",d="#f7f7f7",p="#6da0e3";t.k={SHIMO_120:"#2c3033",SHIMO_110:"#363b3e",SHIMO_100:r,SHIMO_80:i,SHIMO_50:"#a0a2a5",SHIMO_30:"#c6c7c9",SHIMO_20:"#d9dadb",SHIMO_10:"#ececed",BLACK_120:"#000",BLACK_110:a,BLACK_100:"#494949",BLACK_80:o,BLACK_50:c,BLACK_30:l,BLACK_20:s,BLACK_10:u,BLACK_5:d,BLUE_120:"#6886aa",BLUE_110:"#6290cc",BLUE_100:p,BLUE_50:"#abc7ee",BLUE_30:"#d8ebff",BLUE_20:"#e2ecf9",RED_120:"#cd4747",RED_100:"#e95555",RED_30:"#f8cccc",RED_20:"#fbdddd",RED_10:"#fceeee",YELLOW_100:"#f5d57a",YELLOW_70:"#f8e1a1",YELLOW_30:"#fcf2d7",YELLOW_20:"#fdf7e5",GREEN_100:"#66b165"}},976:function(e,t,n){"use strict";var r,i,a,o,c;n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return h})),function(e){e.TeamName="teamName",e.Name="name",e.Mobile="mobile",e.Email="email",e.Account="account",e.Password="password",e.VerifyCode="verifyCode"}(r||(r={})),function(e){e.Button="button",e.ChangeRegisterType="changeRegisterType",e.PasswordSingle="passwordSingle",e.VerifyCodeSingle="verifyCodeSingle",e.Agreement="agreement",e.ThirdQRCode="thirdQRCode",e.ThirdLogin="thirdLogin",e.Avatar="avatar"}(i||(i={})),function(e){e.NormalLogin="normalLogin",e.NormalRegister="normalRegister",e.NormalText="normalText",e.SelfHostLogin="selfHostLogin",e.RegisterOnlyPersonal="registerOnlyPersonal",e.RegisterOnlyTeam="registerOnlyTeam"}(a||(a={})),function(e){e.LoginByMobile="loginByMobile",e.LoginByPassword="loginByPassword",e.LoginByDingding="loginByDingding",e.LoginByWechat="loginByWechat",e.LoginSelfHost="loginSelfHost",e.RegisterByEmailPersonal="registerByEmailPersonal",e.RegisterByMobilePersonal="registerByMobilePersonal",e.RegisterByMobileTeam="registerByMobileTeam",e.VerifyCode="verifyCode",e.VerifyCodeWithAgreePersonal="verifyCodeWithAgreePersonal",e.VerifyCodeWithAgreeTeam="verifyCodeWithAgreeTeam",e.VerifyPasswordWithAgree="verifyPasswordWithAgree",e.CompleteMessagePersonal="completeMessagePersonal",e.CompleteMessageTeam="completeMessageTeam",e.RiskWarning="riskWarning",e.ResetPasswordByMobile="resetPasswordByMobile",e.ResetPasswordByEmail="resetPasswordByEmail",e.ResetPasswordSuccess="resetPasswordSuccess",e.SingleLoginByMobile="singleLoginByMobile",e.SingleLoginByPassword="singleLoginByPassword",e.SinglePersonalRegisterByMobile="singlePersonalRegisterByMobile",e.SinglePersonalRegisterByEmail="singlePersonalRegisterByEmail",e.SingleTeamRegister="singleTeamRegister"}(o||(o={})),function(e){e.LoginByMobile="loginByMobile",e.LoginByPassword="loginByPassword",e.LoginSelfHost="loginSelfHost",e.RegisterByEmailPersonal="registerByEmailPersonal",e.RegisterByMobilePersonal="registerByMobilePersonal",e.RegisterByMobileTeam="registerByMobileTeam",e.CompleteMessagePersonal="completeMessagePersonal",e.RiskWarning="riskWarning",e.ResetPasswordByMobile="resetPasswordByMobile",e.ResetPasswordByEmail="resetPasswordByEmail",e.SingleLoginByMobile="singleLoginByMobile",e.SingleLoginByPassword="singleLoginByPassword",e.SinglePersonalRegisterByMobile="singlePersonalRegisterByMobile",e.SinglePersonalRegisterByEmail="singlePersonalRegisterByEmail",e.SingleTeamRegister="singleTeamRegister"}(c||(c={}));var l,s,u,d,p,f={loginByMobile:[o.LoginByMobile,o.VerifyCode],loginByPassword:[o.LoginByPassword],loginSelfHost:[o.LoginSelfHost],registerByEmailPersonal:[o.RegisterByEmailPersonal,o.VerifyPasswordWithAgree],registerByMobilePersonal:[o.RegisterByMobilePersonal,o.VerifyCodeWithAgreePersonal],registerByMobileTeam:[o.RegisterByMobileTeam,o.VerifyCodeWithAgreeTeam],completeMessagePersonal:[o.CompleteMessagePersonal],riskWarning:[o.RiskWarning],resetPasswordByEmail:[o.ResetPasswordByEmail,o.ResetPasswordSuccess],resetPasswordByMobile:[o.ResetPasswordByMobile,o.ResetPasswordSuccess],singleLoginByMobile:[o.SingleLoginByMobile],singleLoginByPassword:[o.SingleLoginByPassword],singlePersonalRegisterByMobile:[o.SinglePersonalRegisterByMobile],singlePersonalRegisterByEmail:[o.SinglePersonalRegisterByEmail],singleTeamRegister:[o.SingleTeamRegister]};!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.PARAM_ERROR=2]="PARAM_ERROR",e[e.USER_NOT_FOUND=3]="USER_NOT_FOUND",e[e.PASSWORD_WRONG=4]="PASSWORD_WRONG",e[e.NEED_CAPTCHA=5]="NEED_CAPTCHA",e[e.IP_NOT_IN_TEAM_WHITELIST=6]="IP_NOT_IN_TEAM_WHITELIST",e[e.WRONG_CAPTCHA=7]="WRONG_CAPTCHA",e[e.SMS_RATE_LIMIT=8]="SMS_RATE_LIMIT",e[e.VOICE_CODE_ONLY_SUPPORT_CHINA=9]="VOICE_CODE_ONLY_SUPPORT_CHINA",e[e.CODE_WRONG=10]="CODE_WRONG",e[e.MOBILE_EXIST=18]="MOBILE_EXIST",e[e.EMAIL_EXIST=19]="EMAIL_EXIST",e[e.PASSWORD_ERROR_TIMES=20]="PASSWORD_ERROR_TIMES",e[e.ACCOUNT_OR_PASSWORD_ERROR=21]="ACCOUNT_OR_PASSWORD_ERROR",e[e.BLACK_MOBILE=31]="BLACK_MOBILE"}(l||(l={})),function(e){e[e.ERROR_ONLY=1]="ERROR_ONLY",e[e.ERROR_WITH_ERRORMAP=2]="ERROR_WITH_ERRORMAP",e[e.ERROR_WITH_MODAL=3]="ERROR_WITH_MODAL"}(s||(s={})),function(e){e.LOGIN="login",e.REGISTER="register",e.RESET="reset"}(u||(u={})),function(e){e.SMS="sms",e.VOICE="voice",e.EMAIL="email"}(d||(d={})),function(e){e.CHECK_ACCOUNT_RESULT_ERROR="check_account_result_error",e.CHECK_ACCOUNT="check_account",e.VIEW_LOGIN_BY_MOBILE="view_login_by_mobile",e.VIEW_VERIFY_CODE="view_verify_code",e.VIEW_LOGIN_BY_PASSWORD="view_login_by_password",e.VIEW_REGISTER_BY_MOBILE="view_register_by_mobile",e.VIEW_REGISTER_BY_EMAIL="view_register_by_email",e.VIEW_VERIFY_PASSWORD="view_verify_password",e.VIEW_COMPLETE_MESSAGE="view_complete_message",e.GO_TO_REGISTER="go_to_register",e.GO_TO_THIRD_LOGIN="go_to_third_login",e.GO_TO_LOGIN_BY_PASSWORD="go_to_login_by_password",e.GO_TO_REGISTER_BY_ERROR="go_to_register_by_error",e.GO_TO_LOGIN_BY_MOBILE="go_to_login_by_mobile",e.GO_TO_COMPANY_REGISTER="go_to_company_register",e.GO_TO_LOGIN="go_to_login",e.GO_TO_REGISTER_BY_EMAIL="go_to_register_by_email",e.GO_TO_LOGIN_BY_ERROR="go_to_login_by_error",e.GO_TO_REGISTER_BY_MOBILE="go_to_register_by_mobile",e.GO_TO_PERSONAL_REGISTER="go_to_personal_register",e.LOGIN_SUCCESS="login_success",e.REGISTER_SUCCESS="register_success"}(p||(p={}));var m={check_account_result_error:{eventId:109,pageId:6},check_account:{eventId:216,pageId:6},view_login_by_mobile:{eventId:180,pageId:51},view_verify_code:[{eventId:181,pageId:51},{eventId:194,pageId:53},{eventId:198,pageId:55}],view_login_by_password:{eventId:187,pageId:52},view_register_by_mobile:[{eventId:193,pageId:53},{eventId:197,pageId:55}],view_register_by_email:{eventId:195,pageId:54},view_verify_password:{eventId:196,pageId:54},view_complete_message:{eventId:199,pageId:55},go_to_register:[{eventId:182,pageId:51},{eventId:188,pageId:52}],go_to_third_login:[{eventId:183,pageId:51},{eventId:189,pageId:52},{eventId:203,pageId:53},{eventId:213,pageId:54}],go_to_login_by_password:{eventId:184,pageId:51},go_to_register_by_error:[{eventId:185,pageId:51},{eventId:191,pageId:52}],go_to_login_by_mobile:{eventId:190,pageId:52},go_to_company_register:[{eventId:200,pageId:53},{eventId:211,pageId:54}],go_to_login:[{eventId:201,pageId:53},{eventId:212,pageId:54},{eventId:205,pageId:55}],go_to_login_by_error:[{eventId:204,pageId:53},{eventId:214,pageId:54},{eventId:206,pageId:55}],go_to_register_by_email:{eventId:202,pageId:53},go_to_register_by_mobile:{eventId:215,pageId:54},go_to_personal_register:{eventId:207,pageId:55},login_success:[{eventId:186,pageId:51},{eventId:192,pageId:52}],register_success:[{eventId:208,pageId:53},{eventId:210,pageId:54},{eventId:209,pageId:55}]},b=n(91),h=Object(b.isMobile)()?355:410},977:function(e,t,n){"use strict";var r,i,a=n(1006),o=n(2),c=n(8),l=n.n(c),s=n(253),u=s.default.div.withConfig({componentId:"sc-3u128L",displayName:"StyledButtonGroup"})(i||(i=Object(o.__makeTemplateObject)(["display:inline-block;"," .sm-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;}.sm-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0;}&:hover{.sm-button{border-color:#d6d6d6;}}"],["",""])),(function(e){return!e.isShowBorder&&Object(s.css)(r||(r=Object(o.__makeTemplateObject)([".sm-button{border-color:transparent;}"],[""])))})),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.children,i=e.isShowBorder,a=t+" "+n;return l.a.createElement(u,{isShowBorder:i,className:a},r)},t.defaultProps={prefixCls:"sm-btn-group",isShowBorder:!1,className:""},t}(l.a.Component);a.a.Group=d;t.a=a.a},978:function(e,t,n){"use strict";var r=n(2),i=n(8),a=n.n(i),o=n(1095),c=n.n(o),l=n(1077),s=n(1043),u=(n(1128),{autoClose:3e3,transition:Object(l.b)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit",duration:50,appendPosition:!1}),closeButton:!1,draggable:!1,hideProgressBar:!0,draggablePercent:0}),d=new(function(){function e(){this.toasts={}}return e.prototype.success=function(e){return this.emitToast(c()({},e,{type:"success"}))},e.prototype.error=function(e){return this.emitToast(c()({},e,{type:"error"}))},e.prototype.warning=function(e){return this.emitToast(c()({},e,{type:"warning"}))},e.prototype.closeAll=function(){l.c.dismiss()},e.prototype.getHash=function(e){return JSON.stringify(e)},e.prototype.emitToast=function(e){var t,n,i=this,a=this.getHash(e),o=this.getConfig(e);if(o.onClose=this.handleClose.bind(this,a),null===(t=this.toasts[a])||void 0===t?void 0:t.toastId){var c=this.toasts[a].toastId;return this.updateToast(this.toasts[a],o),{close:function(){return l.c.dismiss(c)},updateSameToast:function(e){i.updateToast(i.toasts[a],Object(r.__assign)(Object(r.__assign)({},o),e))}}}var s=Object(l.c)((function(e){return i.toasts[a].self=e,i.assembleToast(o,e)}),Object(r.__assign)(Object(r.__assign)({},o),{closeButton:!1})),u=o.needMask;return this.toasts[a]=Object(r.__assign)(Object(r.__assign)({},this.toasts[a]),{hash:a,toastId:s,needMask:!!u}),u&&(null===(n=document.getElementById("ToastsContainer_ShimoUI"))||void 0===n||n.classList.add("Toast_mask")),{close:function(){l.c.dismiss(s)},updateSameToast:function(e){return i.updateToast(i.toasts[a],Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},o),e),{closeButton:!1}))}}},e.prototype.updateToast=function(e,t){if(e){var n=e.toastId,i=e.self,a=Object(r.__assign)(Object(r.__assign)({},t),{closeButton:!1,render:this.assembleToast(t,i,!0)});l.c.update(n,Object(r.__assign)(Object(r.__assign)({},a),{closeButton:!1}))}},e.prototype.assembleToast=function(e,t,n){void 0===n&&(n=!1);var r,i=e.content,o=e.operation,c=e.type,l=void 0===c?"info":c,u=[a.a.createElement("span",{key:1},i,o?a.a.createElement(s.e,{onClick:function(){var e;o.callback(),null===(e=t.closeToast)||void 0===e||e.call(t)}},o.text):null)];switch(e.closeButton&&u.push(a.a.createElement(s.c,{key:2,onClick:function(){var e;null===(e=t.closeToast)||void 0===e||e.call(t)}})),l){case"success":r=a.a.createElement(s.b,null,u);break;case"error":r=a.a.createElement(s.b,null,a.a.createElement(s.d,null),u);break;case"warning":r=a.a.createElement(s.f,null,u);break;default:r=a.a.createElement(s.b,null,u)}return n?a.a.createElement(s.a,{key:Date.now()},r):r},e.prototype.getConfig=function(e){var t=c()({},u,e),n=e.content,r=void 0===n?"":n,i="string"==typeof r?r.length:0;return t.closeButton&&(t.autoClose=!1),t.autoClose?t:!1===t.autoClose?(t.closeOnClick=!1,t):(t.autoClose=i<=15?3e3:1e3*(3+(i-15)/17*2),t)},e.prototype.handleClose=function(e){var t;delete this.toasts[e],Object.values(this.toasts).some((function(e){return e.needMask}))||null===(t=document.getElementById("ToastsContainer_ShimoUI"))||void 0===t||t.classList.remove("Toast_mask")},e}()),p=n(1076);t.a={success:function(e,t){return"object"==typeof e?d.success(e):d.success({content:e,autoClose:t})},error:function(e,t){return"object"==typeof e?d.error(e):d.error({content:e,autoClose:t})},warning:function(e){return d.warning(e)},closeAll:function(){d.closeAll()},destroy:function(){d.closeAll()},ToastsContainer:p.a}},979:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"A",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"y",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"t",(function(){return j})),n.d(t,"r",(function(){return w})),n.d(t,"C",(function(){return C})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return M})),n.d(t,"B",(function(){return D})),n.d(t,"i",(function(){return V})),n.d(t,"q",(function(){return U})),n.d(t,"f",(function(){return Y})),n.d(t,"z",(function(){return q})),n.d(t,"x",(function(){return Q})),n.d(t,"n",(function(){return X})),n.d(t,"D",(function(){return $})),n.d(t,"E",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"u",(function(){return re})),n.d(t,"v",(function(){return oe})),n.d(t,"w",(function(){return ce})),n.d(t,"s",(function(){return se})),n.d(t,"o",(function(){return de})),n.d(t,"d",(function(){return pe})),n.d(t,"j",(function(){return fe}));var r=60,i=function(e,t){var n=location.pathname.includes("login");sessionStorage.setItem((n?"LOGIN":"REGIST")+"_"+e+"_VERIFY_COUNT_START",String(t))},a=function(e){var t=(location.pathname.includes("login")?"LOGIN":"REGIST")+"_"+e+"_VERIFY_COUNT_START",n=sessionStorage.getItem(t),r=Number(new Date);return n?Math.ceil((r-Number(n))/1e3):0},o=function(){return{msg:a("MSG"),voice:a("VOICE")}},c=function(e){var t=location.pathname.includes("login");sessionStorage.removeItem((t?"LOGIN":"REGIST")+"_"+e+"_VERIFY_COUNT_START")},l=function(e){sessionStorage.setItem("LAST_VERIFY_MOBILE",e)},s=function(){return sessionStorage.getItem("LAST_VERIFY_MOBILE")},u=n(82),d=/^https?:\/\/([^/]+\.)?(shimo\.im|shimodev\.com|shimorelease\.com)(\/|$)/;var p=["/login","/loginByPassword","/loginByCode","/loginByCode/verifyCode","/personalRegist","/personalRegist/verifyCode","/personalRegistByEmail","/personalRegistByEmail/password","/companyRegist","/companyRegist/verifyCode","/companyRegist/complete","/completeMessage","/joinCompany/riskWarning"];function f(){return p.includes(location.pathname)||location.pathname.includes("/joinCompany")}function m(e){void 0===e&&(e=location.search);var t=Object(u.b)(e.substr(1)).redirect_url,n=void 0===t?"":t;return f()?function(e){if(!e||e.startsWith("javascript:"))return"";if(e.startsWith("http")||e.startsWith("//"))try{var t=decodeURIComponent(e);return d.test(window.location.href)?d.test(t)?e:"":t.startsWith(window.location.origin)?e:""}catch(e){return""}return e}(n):location.href}function b(e){return void 0===e&&(e=location.search),Object(u.b)(e.substr(1))}var h,g=n(2),v=n(11),_=n.n(v),y=n(976),O=/[·`~!@#$%^&*()+=[\]{}\\|;:'",<.>/?！～……（）——「」【】『』、；：，。《》／？]/g,j=function(e){return/^1[0-9]{10}$/.test(e.trim())},w=function(e){var t=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),n=e.trim();return n.length<=255&&t.test(n)},x=/^[a-zA-Z0-9·`~!@#$%^&*()-_+=[\]{}\\|;:'",<.>/?\s\uFEFF\xA0]*$/,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function k(e,t){void 0===t&&(t={});var n=t.isSingle,r=t.stepType,i=e.trim(),a=r===y.k.LoginByPassword?6:8;return i?x.test(e)?E.test(e)?_()("密码首尾不能是空格"):i.length<a?n?" ":_()(h||(h=Object(g.__makeTemplateObject)(["密码不能少于","位字符"],["密码不能少于","位字符"])),a):i.length>72?_()("密码太长了，请不要超过72位字符"):/[0-9]/.test(i)&&/[a-z]/.test(i)&&/[A-Z]/.test(i)||r===y.k.LoginByPassword?null:n?" ":_()("密码必须包含数字、英文大写字母和小写字母"):_()("密码包含不支持的特殊符号"):_()("密码不能为空")}function C(e,t){return function(n){var r,i,a,o,c,l="";switch(e){case y.d.TeamName:(null==n?void 0:n.trim())||(l=_()("请填写企业或团队名称")),(null==n?void 0:n.length)>50&&(l=_()("团队名称长度不能超过 50 个字符"));break;case y.d.Password:l=null!==(r=k(n,{stepType:t}))&&void 0!==r?r:"";break;case y.d.Mobile:j(null==n?void 0:n.trim())||(l=n?_()("手机号码格式不正确，请重新填写"):_()("请填写手机号"));break;case y.d.Email:l=n?t===y.k.ResetPasswordByEmail?w(n)?"":_()("邮箱格式不正确，请重新填写"):(c=n.trim()).length<=255&&/^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/.test(c)?"":_()("邮箱格式不正确，请重新填写"):_()("请填写邮箱");break;case y.d.VerifyCode:(o=n)&&4===o.length&&/^([0-9])+$/.test(o)||(l=n?_()("验证码应为4位数字"):_()("请填写验证码"));break;case y.d.Account:l=n?/^1[0-9]*$/.test(n.trim())?j(n)?"":_()("账号格式不正确，请重新填写"):w(n)?"":_()("账号格式不正确，请重新填写"):_()("请填写手机号或邮箱");break;case y.d.Name:(!(a=n)||O.test(a))&&(l=n?_()("用户名包含不支持的符号，请检查并重新填写"):_()("请填写用户名")),(null==n?void 0:n.length)>20&&(l=_()("用户名长度保持在1～20之间"));break;case y.e.PasswordSingle:l=null!==(i=k(n,{isSingle:!0}))&&void 0!==i?i:""}return l||!0}}var T,S,I=function(e,t){var n=e.errorCode,r=e.remainLockTime,i={};switch(n){case y.a.SMS_RATE_LIMIT:return{verifyCode:_()("短信发送过于频繁")};case y.a.MOBILE_EXIST:return{mobile:_()("注册手机号已存在")};case y.a.EMAIL_EXIST:return{email:_()("注册邮箱已存在")};case y.a.PASSWORD_WRONG:return{password:_()("密码错误，请重新输入")};case y.a.IP_NOT_IN_TEAM_WHITELIST:return{account:_()("登录的 IP 地址不在企业白名单中")};case y.a.CODE_WRONG:return{verifyCode:_()("验证码错误，请重新输入")};case y.a.PASSWORD_ERROR_TIMES:return{password:_()(T||(T=Object(g.__makeTemplateObject)(["错误次数过多，请","后再重新输入"],["错误次数过多，请","后再重新输入"])),Y(null!=r?r:0))};case y.a.ACCOUNT_OR_PASSWORD_ERROR:return{account:_()("用户名或密码错误")};case y.a.USER_NOT_FOUND:return i[null!=t?t:"mobile"]=_()("用户不存在"),i;default:return{}}},N=n(91),R=Object(N.isMobile)(),P="shimo.im"===location.hostname?60:42,M=function(e){var t=e.withTeam,n=e.extra,r=e.behaviors,i=e.crmExtra,a=m(),o=b(),c=o.from,l=o.shimo_file,s=o.referer,d=o.inviter,p=o.activityName,f=o.crmParams,h=Object(g.__assign)({from:c,shimo_file:l,showAgreementPrompt:Boolean(null==n?void 0:n.showAgreementPrompt)},i);if(a){var v=a.split("?")[1]||"",_=Object(u.b)(v).action;_&&("modal"===_?h.label="分享链路,直接弹窗路径":(h.label="分享链路,收藏路径",h.action=_))}if(t){h=Object(g.__assign)({primarySource:1,secondarySource:R?4:5,sourceNotes:""},h);var y=localStorage.getItem("TEMP_SEM_TRACK_DATA");y&&(h.primarySource=4,h.secondarySource=7,h.sem=y)}if(s&&(h.referer=s),d&&(h.inviter=d),p)if(t)h=Object(g.__assign)(Object(g.__assign)({},h),JSON.parse(null!=f?f:"{}"));else{var O=JSON.parse(null!=f?f:"{}"),j=O.label;h={utm_id:O.utm_id,label:j}}var w=null==r?void 0:r.find((function(e){return e.testId===P}));return w&&(h.test_id=w.testId,h.group_id=w.groupId),h},A=n(71),B=((S={})[y.h.LoginByMobile]=51,S[y.h.LoginByPassword]=52,S[y.h.RegisterByMobilePersonal]=53,S[y.h.RegisterByEmailPersonal]=54,S[y.h.RegisterByMobileTeam]=55,S),D=function(e){return function(t,n){var r,i=null!==(r=B[e])&&void 0!==r?r:0,a=y.i[t];if(Array.isArray(a)){var o=a.find((function(e){return e.pageId===i}));if(!o)return;a=o}A.c.trackNew(t,Object(g.__assign)(Object(g.__assign)({},a),{ext:JSON.stringify(Object(g.__assign)({page_type:e},n))}))}},L=n(77);function z(){return"object"==typeof window&&window&&window.electronSdk}function F(){return"object"!=typeof window?{env:{}}:(window.process||(window.process=window.electronSdk.getGlobal("process")),window.process)}function V(){return z()?F().env.APP_URL:location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}function U(){return z()?"development"===F().env.NODE_ENV:Object(L.getBoolean)("IS_DEV")}var G,H,W,K,Y=function(e){var t=Math.floor(e/60),n=Math.floor(t/60);return n>0?""+_()(G||(G=Object(g.__makeTemplateObject)(["","小时"],["","小时"])),n)+_()(H||(H=Object(g.__makeTemplateObject)(["","分钟"],["","分钟"])),t-60*n):t<1?_()(W||(W=Object(g.__makeTemplateObject)(["","秒"],["","秒"])),e):_()(K||(K=Object(g.__makeTemplateObject)(["","分钟"],["","分钟"])),t)},Z="LAST_STEP_INFO",q=function(e){sessionStorage.setItem(Z,JSON.stringify(e))},Q=function(){sessionStorage.removeItem(Z)},X=function(e){var t=sessionStorage.getItem(Z);if(t){var n=JSON.parse(t);return n.type!==e&&Q(),n.type===e?n:null}return null},J=n(983),$=function(e,t){void 0===t&&(t=!1);var n=m(),r=b().from;if(!e&&!n&&t){var i="?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY;n="/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?i:"")}location.pathname.includes("celebration")&&(n="/celebration?showResultMessage=true&from="+(null!=r?r:"")),Object(J.i)(e||n)},ee=function(){var e=m();if(e.includes("oAuth"))try{e=decodeURIComponent(e)}catch(t){e=""}else e="";Object(J.m)(e)},te=function(){var e=null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase(),t=Object(N.isIOS)(),n=t&&!/MQQBrowser/i.test(e)?"uniLink":"scheme",r=/micromessenger|QQ\/|Weibo/i.test(e),i="http://a.app.qq.com/o/simple.jsp?pkgname=chuxin.shimo.shimowendang",a="scheme"===n?"shimo://":"https://app.shimo.im/";if(r)location.href=t?a+"/?target=invokeMask":i+"&android_schema="+encodeURIComponent(a);else if(t&&"uniLink"===n)location.href=a+"/?target=appOrDownload";else{var o="hidden",c="visibilitychange";void 0===window.document.hidden&&void 0!==document.webkitHidden&&(o="webkitHidden",c="webkitvisibilitychange");var l=setTimeout((function(){document[o]||(location.href=i)}),3e3);document.addEventListener(c,(function(){clearTimeout(l)})),location.href=a}},ne=[y.h.RegisterByMobileTeam,y.h.SingleTeamRegister],re=function(e){return!ne.includes(e)},ie=[y.h.RegisterByEmailPersonal,y.h.RegisterByMobilePersonal,y.h.RegisterByMobileTeam,y.h.SingleTeamRegister,y.h.SinglePersonalRegisterByEmail,y.h.SinglePersonalRegisterByMobile],ae=[y.h.RegisterByEmailPersonal,y.h.RegisterByMobilePersonal,y.h.SinglePersonalRegisterByEmail,y.h.SinglePersonalRegisterByMobile],oe=function(e){return ie.includes(e)},ce=function(e){return ne.includes(e)},le=[y.h.LoginByMobile,y.h.LoginByPassword,y.h.SingleLoginByMobile,y.h.SingleLoginByPassword],se=function(e){return le.includes(e)},ue=[y.h.SingleLoginByMobile,y.h.SingleLoginByPassword,y.h.SinglePersonalRegisterByEmail,y.h.SinglePersonalRegisterByMobile,y.h.SingleTeamRegister],de=function(e,t,n){return void 0===n&&(n=!1),r=e,ae.includes(r)&&n?function(e){return ue.includes(e)}(t)?y.h.SingleTeamRegister:y.h.RegisterByMobileTeam:e;var r},pe=function(e){!function(e){sessionStorage.setItem("LOGOUT_REDIRECT_FROM_LOGIN",e)}(e),location.replace("/logout")},fe=function(){var e=sessionStorage.getItem("LOGOUT_REDIRECT_FROM_LOGIN");return sessionStorage.removeItem("LOGOUT_REDIRECT_FROM_LOGIN"),null!=e?e:""}},980:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u.a})),n.d(t,"a",(function(){return i.a}));var r=n(1028),i=n(991),a=n(2),o=n(8),c=n.n(o),l=n(1040);function s(e){var t=e.popupOffset,n=void 0===t?[0,0]:t,r=Object(a.__rest)(e,["popupOffset"]);return c.a.createElement(l.c,Object(a.__assign)({popupOffset:n},r))}var u=n(1003);t.e=r.a},981:function(e,t,n){"use strict";var r=n(1061);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},982:function(e,t,n){"use strict";var r=n(1082);t.a=r.a},983:function(e,t,n){"use strict";n.d(t,"l",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return O})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"m",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"e",(function(){return S})),n.d(t,"o",(function(){return I})),n.d(t,"d",(function(){return N})),n.d(t,"a",(function(){return M})),n.d(t,"n",(function(){return A}));var r=n(82),i=n(979),a=function(){return function(){try{var e=JSON.parse(__RUNTIME_ENV__.PRIVATE_DEPLOY_DINGTALK_LOGIN);if(e.appId)return e.appId}catch(e){return""}}()||(Object(i.q)()?"dingoa2665h4q2nuew5uv7":"dingoayhauhwzrdgty3mo9")};var o=!1,c=function(){var e=Object(i.i)(),t=function(){try{var e=JSON.parse(__RUNTIME_ENV__.PRIVATE_DEPLOY_DINGTALK_LOGIN);if(e.redirectUri)return e.redirectUri}catch(e){return""}}()||Object(i.l)()||"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"");t.startsWith("http")||(t=""+e+String(t));var n=e+"/lizard-api/auth/dingtalk/login/qr_code_login?redirect_url="+encodeURIComponent(t);o||(o=!0,window.addEventListener("message",(function(e){if("https://login.dingtalk.com"===e.origin){var t=e.data;location.href=Object(r.a)(n,{login_tmp_code:t})}}),!1)),function(e){var t=document.createElement("iframe"),n="https://login.dingtalk.com/login/qrcode.htm?goto="+e.goto;n+=e.style?"&style="+encodeURIComponent(e.style):"",n+=e.href?"&href="+e.href:"",t.src=n,t.frameBorder="0",t.allowTransparency="true",t.scrolling="no",t.width=e.width?e.width+"px":"365px",t.height=e.height?e.height+"px":"400px";var r=document.getElementById(e.id);r&&(r.innerHTML="",r.appendChild(t))}({id:"dingtalk-login-qrcode",goto:encodeURIComponent("https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid="+String(a())+"&response_type=code&scope=snsapi_login&state=STATE&redirect_uri="+Object(i.i)()+"/lizard-api/auth/dingtalk/login/qr"),style:"margin: 0; padding: 0; background: #fff; border: 0; margin-top: -40px;",width:240,height:280})},l=n(2),s=n(11),u=n.n(s),d=n(1035),p=n(28),f=n(987);function m(e){return void 0===e&&(e="web_login"),Object(l.__awaiter)(this,void 0,Promise,(function(){var t;return Object(l.__generator)(this,(function(n){return t="/auth/geetest/captcha?scene="+e+"&t="+(new Date).getTime(),[2,p.s.get(t)]}))}))}var b,h=function(){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e=document.getElementById("geetestCaptcha"),[4,m()];case 1:return t=o.sent(),[4,Object(d.b)(t,e)];case 2:if((n=o.sent()).status===d.a.Success&&n.result)return[2,n.result];throw new Error(u()("验证失败"));case 3:throw r=o.sent(),i=(r||{}).message,a=void 0===i?"":i,f.w.error({content:a||u()("验证失败")}),new Error(r);case 4:return[2]}}))}))},g=n(976);!function(e){e.password="/auth/password/login",e.code="/auth/code/login"}(b||(b={}));var v=function(e){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r,a;return Object(l.__generator)(this,(function(o){return t=e.data,n=e.isPassword,r=e.code,a=e.setErrorMap,[2,new Promise((function(e,o){(function(e,t,n){return void 0===t&&(t=!1),Object(l.__awaiter)(void 0,void 0,void 0,(function(){var r;return Object(l.__generator)(this,(function(i){return r=t?b.password:b.code,[2,p.s.post(r,Object(l.__assign)({},e),{headers:{"X-Skip-Captcha-Token":n}})]}))}))})(t,n,r).then((function(){return Object(i.c)("MSG"),Object(i.c)("VOICE"),e()})).catch((function(c){var s=c.data,u=s.errorCode,d=s.remainLockTime;if(u||o(new Error),[g.a.NEED_CAPTCHA,g.a.WRONG_CAPTCHA].includes(u))h().then((function(i){var c=i,s=Object(l.__assign)(Object(l.__assign)({},t),c);v({data:s,isPassword:n,code:r,setErrorMap:a}).then(e,o)})).catch(o);else{var p=Object(i.e)({errorCode:u,remainLockTime:d});null==a||a(p),o(new Error)}}))}))]}))}))},_=function(e,t,n){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var r,a,o;return Object(l.__generator)(this,(function(c){return r=e.data,a=e.extra,o=function(e){var t=Object(l.__assign)({},e);return e.mobile&&(t.mobile="+86"+String(e.mobile).trim()),e.verifyCode&&(t.code=e.verifyCode,delete t.verifyCode),e.account&&(Object(i.t)(e.account)&&(t.mobile="+86"+String(e.account).trim()),Object(i.r)(e.account)&&(t.email=e.account.trim()),delete t.account),t}(r),[2,v({data:o,isPassword:t,code:null==a?void 0:a.code,setErrorMap:n})]}))}))},y=function(e){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r;return Object(l.__generator)(this,(function(a){return t=e.data,n=e.code,r=e.setErrorMap,[2,new Promise((function(e,a){(function(e,t){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){return Object(l.__generator)(this,(function(n){return[2,p.s.post("/auth/password/register",Object(l.__assign)({},e),{headers:{"X-Skip-Captcha-Token":t}})]}))}))})(t,n).then((function(){return Object(i.c)("MSG"),Object(i.c)("VOICE"),e()})).catch((function(o){var c=o.data.errorCode;if(c||a(new Error),[g.a.NEED_CAPTCHA,g.a.WRONG_CAPTCHA].includes(c))h().then((function(i){var o=i,c=Object(l.__assign)(Object(l.__assign)({},t),o);y({data:c,code:n,setErrorMap:r}).then(e,a)})).catch(a);else{var s=Object(i.e)({errorCode:c});null==r||r(s),a(new Error)}}))}))]}))}))},O=function(e,t,n){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var r,i,a;return Object(l.__generator)(this,(function(o){return r=e.data,i=e.extra,a=function(e,t){var n=Object(l.__assign)({},e),r=t.withTeam,i=t.crm_extra;return e.mobile&&(n.mobile="+86"+String(e.mobile).trim(),n.name=""+String(n.mobile).trim()),e.email&&(n.email=e.email.trim(),n.name=e.email.trim().split("@")[0]),e.verifyCode&&(n.mobileVerifyCode=e.verifyCode,delete n.verifyCode),e.teamName&&(n.teamName=e.teamName.trim()),n.withTeam=r,n.crm_extra=i,n}(r,t),[2,y({data:a,code:null==i?void 0:i.code,setErrorMap:n})]}))}))},j={login:"/auth/code/send_verification_code",register:"/auth/password/register/send_verification_code",reset:"/auth/password/send_reset_code"};var w=function(e){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r,a,o,c,s,d,m,b;return Object(l.__generator)(this,(function(v){if(t=e.mobile,n=e.scene,r=e.type,a=e.errKey,o=void 0===a?"mobile":a,c=e.setVerifyByMsg,s=e.setError,(d=Object(i.k)())&&d===t){if(m=Object(i.g)(),b=m.msg)if(b>=i.a)Object(i.c)("MSG");else if("msg"===r)return[2,Promise.resolve()]}else Object(i.y)(t),Object(i.c)("MSG"),Object(i.c)("VOICE");return[2,new Promise((function(t,a){(function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,o,c;return Object(l.__generator)(this,(function(s){return t=e.mobile,n=e.email,r=e.type,i=e.geetestHeaders,a=e.code,o=e.scene,c=j[o],n?[2,p.s.post(c,Object(l.__assign)({email:n},i))]:[2,p.s.post(c,Object(l.__assign)({mobile:t,type:null!=r?r:"sms"},i),{headers:{"X-Skip-Captcha-Token":a}})]}))}))})(e).then((function(){return n!==g.l.RESET&&Object(i.A)("msg"===r?"MSG":"VOICE",Number(new Date)),t()})).catch((function(r){var i,d,p,m,b,v;String(r.status).includes("400")?(null===(i=r.data)||void 0===i?void 0:i.errorCode)===g.a.USER_NOT_FOUND?(null==s||s("mobile",u()("用户不存在")),a({type:g.b.ERROR_WITH_ERRORMAP})):n===g.l.LOGIN||(null===(d=r.data)||void 0===d?void 0:d.errorCode)===g.a.NEED_CAPTCHA?h().then((function(n){var r=n;w(Object(l.__assign)(Object(l.__assign)({},e),{geetestHeaders:r})).then(t,a)})).catch((function(){return a({type:g.b.ERROR_ONLY})})):(null===(p=r.data)||void 0===p?void 0:p.errorCode)===g.a.BLACK_MOBILE&&(null==s||s("mobile",u()("手机号存在异常，不允许注册，请切换手机号注册")),a({type:g.b.ERROR_WITH_ERRORMAP})):String(r.status).includes("428")?(f.k.open({title:u()("错误"),body:u()("短信验证码发送失败，试一试语音验证码吧"),okText:u()("知道了"),cancelText:u()("发送语音验证码"),onCancel:function(){return null==c?void 0:c(!1)}}),a({type:g.b.ERROR_WITH_MODAL})):(null===(m=r.data)||void 0===m?void 0:m.errorCode)===g.a.SMS_RATE_LIMIT?(null==s||s(o,u()("短信发送过于频繁")),a({type:g.b.ERROR_WITH_ERRORMAP})):(f.w.error({content:null===(b=r.data)||void 0===b?void 0:b.message}),a({type:g.b.ERROR_ONLY,message:null===(v=r.data)||void 0===v?void 0:v.message}))}))}))]}))}))},x=function(e){return void 0===e&&(e="/login"),Object(i.i)()+"/lizard-api/auth/wechat/login?redirect_url="+encodeURIComponent(e)},E=function(e){void 0===e&&(e="/login"),location.href=x(e)},k=function(e,t){return void 0===t&&(t=""),Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(n){return[2,p.s.post("/wechat/action/app_auth_v2",{type:e||"binding_shimo",userId:"",redirectUrl:t||""})]}))}))},C=function(e){void 0===e&&(e="");var t=Object(i.i)();location.href=t+"/lizard-api/auth/wework/login/qr/connect?redirect_url="+encodeURIComponent(t+(e||"/desktop"+(__RUNTIME_ENV__.WX_UNBLOCKED_QUERY?"?"+__RUNTIME_ENV__.WX_UNBLOCKED_QUERY:"")))},T=function(e){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){return[2,p.s.post("/users/me/action/join_team_by_invite_guid",Object(l.__assign)({},e))]}))}))},S=function(e){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){return[2,p.s.get("teams/invite?inviteGuid="+e)]}))}))},I=function(e){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){return[2,p.s.patch("/users/me",Object(l.__assign)({},e))]}))}))},N=function(){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,p.s.get("/users/me")]}))}))},R=function(e){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){return[2,p.s.post("/auth/password/check_account",Object(l.__assign)({},e))]}))}))},P=function(e){var t=e.res,n=e.scene,r=e.isMobile,i=e.account,a=t.exist;return{result:"login"===n&&a||"register"===n&&!a,isMobile:r,token:t.token,account:i}},M=function(e){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r,a;return Object(l.__generator)(this,(function(o){return t=e.account,n=e.scene,r=Object(i.t)(t),a={account:r?"+86"+t:t,account_type:r?"mobile":"email"},[2,new Promise((function(e,i){R(a).then((function(i){return e(P({res:i,account:t,isMobile:r,scene:n}))})).catch((function(o){var c;String(o.status).includes("400")&&(null===(c=o.data)||void 0===c?void 0:c.errorCode)===g.a.NEED_CAPTCHA&&h().then((function(o){var c=o;R(Object(l.__assign)(Object(l.__assign)({},a),c)).then((function(i){return e(P({res:i,account:t,isMobile:r,scene:n}))}),i)})).catch(i)}))}))]}))}))},A=function(e,t){return Object(l.__awaiter)(void 0,void 0,Promise,(function(){var n,r,a,o,c;return Object(l.__generator)(this,(function(s){return n=e.data,r=n.verifyCode,a=n.password,o=n.email,c=n.mobile,o&&(o=o.trim()),c&&(c="+86"+c.trim()),[2,new Promise((function(e,n){var s;(s={email:o,mobile:c,verifyCode:r},Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return[2,p.s.post("/auth/password/verify_reset_code",Object(l.__assign)({},s))]}))}))).then((function(r){var s=r.token;(function(e){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){return[2,p.s.post("/auth/password/reset",Object(l.__assign)({},e))]}))}))})({email:o,mobile:c,token:s,password:a}).then(e).catch((function(e){var r=e.data.errorCode;r||n(new Error);var a=Object(i.e)({errorCode:r},o?"email":"mobile");null==t||t(a),n(new Error)}))})).catch((function(e){var r=e.data.errorCode;r||n(new Error);var a=Object(i.e)({errorCode:r});null==t||t(a),n(new Error)}))}))]}))}))}},984:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b.a}));var r=n(2),i=n(8),a=(n(1014),n(1039),function(e){return i.createElement("svg",Object(r.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},e),i.createElement("path",{fillRule:"evenodd",d:"M7.44 8.768l4.242-4.243 1.414 1.414-4.242 4.243-1.415 1.414-3.535-3.535 1.414-1.415 2.121 2.122z"}))}),o=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 14 12",fill:"currentColor",width:"1em",height:"1em"},e),i.createElement("path",{d:"M5.5 7.4l5.1-5.1 1.2 1.2-6.3 6.4-.6-.6L2 6.4l1.2-1.2 2.3 2.2z"}))},c=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 14 12",enableBackground:"new 0 0 14 12",width:"1em",height:"1em"},e),i.createElement("filter",{filterUnits:"objectBoundingBox",height:"240%",id:"CheckRaisedOutlined__a",width:"177.8%",x:"-38.9%",y:"-50%"},i.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),i.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.254901961 0 0 0 0 0.274509804 0 0 0 0 0.294117647 0 0 0 1 0"})),i.createElement("path",{d:"M4.2 5.7h7.2v1.7h-9v-5h1.7v3.3z",filter:"url(#CheckRaisedOutlined__a)",transform:"rotate(-45 6.95 4.95)"}),i.createElement("path",{d:"M5.536 7.425l5.091-5.092 1.202 1.203-6.364 6.363-.566-.565-2.97-2.97 1.203-1.202 2.333 2.333z",fill:"#f7f7f7"}))},l=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 14 12",fill:"currentColor",width:"1em",height:"1em"},e),i.createElement("path",{d:"M5.5 7L4.1 5.6c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l2.1 2.1c.2.2.5.3.7.3s.5-.1.7-.3l3.9-3.9c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5.5 7z"}))},s=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 14 12",enableBackground:"new 0 0 14 12",width:"1em",height:"1em"},e),i.createElement("filter",{filterUnits:"objectBoundingBox",height:"240%",id:"CheckRoundRaisedOutlined__a",width:"193.3%",x:"-46.7%",y:"-50%"},i.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),i.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.254901961 0 0 0 0 0.274509804 0 0 0 0 0.294117647 0 0 0 1 0"})),i.createElement("path",{d:"M4.7 5.9v-2c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .3.1.5.3.7.2.2.4.3.7.3h5.5c.6 0 1-.4 1-1s-.4-1-1-1H4.7z",filter:"url(#CheckRoundRaisedOutlined__a)",transform:"rotate(-45 6.42 5.42)"}),i.createElement("path",{d:"M5.543 6.975L4.13 5.561c-.424-.424-.99-.424-1.414 0-.424.424-.424.99 0 1.414l2.121 2.121c.212.213.425.283.707.283.283 0 .495-.07.708-.283l3.889-3.889c.424-.424.424-.99 0-1.414s-.99-.424-1.415 0L5.543 6.975z",fill:"#f7f7f7"}))},u=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 10 10",width:"1em",height:"1em"},e),i.createElement("linearGradient",{id:"CircleOutlined__a",gradientUnits:"userSpaceOnUse",x1:-242.833,y1:356.557,x2:-242.833,y2:355.557,gradientTransform:"matrix(6 0 0 -6 1462 2140.34)"},i.createElement("stop",{offset:0,stopColor:"#a0a2a5"}),i.createElement("stop",{offset:1,stopColor:"#c6c7c9"})),i.createElement("circle",{cx:5,cy:4,r:3,fill:"url(#CircleOutlined__a)"}))},d=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 10 10",enableBackground:"new 0 0 10 10",width:"1em",height:"1em"},e),i.createElement("filter",{filterUnits:"objectBoundingBox",height:"216.7%",id:"CircleRaisedOutlined__a",width:"216.7%",x:"-58.3%",y:"-41.7%"},i.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),i.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.403921569 0 0 0 0 0.419607843 0 0 0 0 0.435294118 0 0 0 1 0"})),i.createElement("circle",{cx:5,cy:4,r:3,filter:"url(#CircleRaisedOutlined__a)"}),i.createElement("circle",{cx:5,cy:4,r:3,fill:"#f7f7f7"}))},p=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 12 12",fill:"currentColor",width:"1em",height:"1em"},e),i.createElement("path",{d:"M6 12c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S8.8 1 6 1 1 3.2 1 6s2.2 5 5 5zm-.5-6.8c0-.4.2-.7.7-.7h.2c.4 0 .6.3.6.7L6.5 7H6l-.5-2.8zm0 4c0-.4.3-.8.8-.8.4.1.7.4.7.8 0 .5-.3.8-.8.8-.4 0-.7-.3-.7-.8z"}))},f=function(e){return i.createElement("svg",Object(r.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.002 2a5.002 5.002 0 013.82 8.232l.943.943a.825.825 0 01.801.212l1.193 1.193a.825.825 0 010 1.165l-.014.014a.824.824 0 01-1.165 0l-1.193-1.193a.825.825 0 01-.212-.8l-.943-.944A5.002 5.002 0 117.002 2zm0 .834a4.169 4.169 0 100 8.337 4.169 4.169 0 000-8.337z"}))},m=function(e){return i.createElement("svg",Object(r.__assign)({viewBox:"0 0 32 32",fill:"currentColor",width:"1em",height:"1em"},e),i.createElement("path",{d:"M18.263 16l3.399-3.399a1.607 1.607 0 00-.005-2.258c-.607-.607-1.636-.627-2.258-.005L16 13.737l-3.399-3.399a1.607 1.607 0 00-2.258.005c-.607.607-.627 1.636-.005 2.258L13.737 16l-3.399 3.399a1.607 1.607 0 00.005 2.258c.607.607 1.636.627 2.258.005L16 18.263l3.399 3.399c.611.611 1.633.62 2.258-.005.607-.607.627-1.636.005-2.258L18.263 16zM16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z"}))},b=n(1015)},985:function(e,t,n){"use strict";var r=n(1025);t.a=r.a},986:function(e,t,n){"use strict";n.d(t,"g",(function(){return a.a})),n.d(t,"d",(function(){return Ze})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return V})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return ae})),n.d(t,"i",(function(){return oe})),n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return qe.a}));var r={};n.r(r),n.d(r,"UserMeta",(function(){})),n.d(r,"UserBasic",(function(){})),n.d(r,"UserExtra",(function(){})),n.d(r,"UserData",(function(){})),n.d(r,"User",(function(){})),n.d(r,"OpenFileLocation",(function(){return N})),n.d(r,"ClickFileArea",(function(){return R})),n.d(r,"HomePage",(function(){return P})),n.d(r,"Channel",(function(){return M})),n.d(r,"ChannelMapping",(function(){})),n.d(r,"UserApi",(function(){return H})),n.d(r,"UserStore",(function(){return W})),n.d(r,"UserService",(function(){return Q})),n.d(r,"UserQuery",(function(){return X})),n.d(r,"UserFacade",(function(){return J})),n.d(r,"DefaultChannelMappings",(function(){return Y}));var i=n(988),a=n(1106),o=n(2),c=n(3107),l=n(1002),s=function(e){var t=e.store,n=e.service,r=e.query,i=e.facade,a=e.api,o=e.sos;this.store=t,this.service=n,this.query=r,this.facade=i,this.api=a,this.sos=o};var u=n(996),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.create=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("files/"+e+"/desktop_shortcuts",{body:{before:t}})]}))}))},t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/desktop_shortcuts?pagesize=-1")]}))}))},t.prototype.remove=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.delete("/files/"+e+"/desktop_shortcuts/verbose")]}))}))},t.prototype.move=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.patch("/files/"+e+"/desktop_shortcuts/verbose",{before:t})]}))}))},t}(u.a),p=n(973),f=n(3109),m=n(997),b=n(1023),h=function(e,t,n){if(t<0||t>e.length-1||n<-1||n>e.length-1)throw new Error("[utils.array] index out of range");if(t===n||t===n+1)return e;var r=Object(o.__spreadArray)([],Object(o.__read)(e));return r.splice.apply(r,Object(o.__spreadArray)([t<n?n:n+1,0],Object(o.__read)(r.splice(t,1)))),r},g=function(e){function t(t,n,r){var i=e.call(this,t,"quickAccess")||this;return i.store=t,i.api=n,i.sos=r,i}return Object(o.__extends)(t,e),t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.api.getAll()];case 1:return e=a.sent(),t=e.rows.map((function(e){return{guid:e.file.guid}})),n=e.rows.map((function(e){return Object(l.convertFileFromNumberType)(e.file)})),[4,this.getFileContainer()];case 2:return r=a.sent(),Object(p.h)((function(){i.store.set(t),i.store.update((function(e){e.guids=Object(f.a)(Object(o.__spreadArray)(Object(o.__spreadArray)([],Object(o.__read)(e.guids)),Object(o.__read)(t.map((function(e){return e.guid})))))})),r.store.upsertMany(n)})),[2,t]}}))}))},t.prototype.create=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return Object(o.__generator)(this,(function(i){switch(i.label){case 0:return n=Object(b.b)(e)?Object(b.a)(e).guid:e,this.store.getValue().guids.includes(n)?[2]:[4,this.api.create(n,t)];case 1:return i.sent(),Object(p.h)((function(){r.store.add({guid:n}),r.store.update((function(e){e.guids.push(n)}))})),[2]}}))}))},t.prototype.remove=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.remove(e)];case 1:return n.sent(),Object(p.h)((function(){t.store.remove((function(t){return t.guid===e})),t.store.update((function(t){var n=t.guids.findIndex((function(t){return t===e}));n>=0&&t.guids.splice(n,1)}))})),[2]}}))}))},t.prototype.move=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return e===t?[2]:[4,this.api.move(e,t)];case 1:return n.sent(),this.store.update((function(n){var r=n.guids,i=r.findIndex((function(t){return t===e})),a=t?r.findIndex((function(e){return e===t}))-1:r.length-1;n.guids=h(r,i,a)})),[2]}}))}))},t.prototype.getFileContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t}(m.a),v={guids:[]},_=function(e){function t(t){return void 0===t&&(t=v),e.call(this,t)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"quickAccess",producerFn:i.c,idKey:"guid"}),Object(o.__metadata)("design:paramtypes",[Object])],t)}(p.a),y=n(3108),O=function(e){function t(t,n){var r=e.call(this,t)||this;return r.store=t,r.sos=n,r}return Object(o.__extends)(t,e),t.prototype.selectAllWithFiles=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.sos.getContainer("file")];case 1:return e=t.sent(),[2,this.select("guids").pipe(Object(y.a)((function(t){return e.query.selectMany(t)})))]}}))}))},t}(p.c),j=n(993),w=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.selectAllWithFiles()]}))}))}))},enumerable:!1,configurable:!0}),t.prototype.create=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.create(e,t)]}))}))},t.prototype.remove=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.remove(e)]}))}))},t.prototype.move=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.move(e,t)]}))}))},t}(j.a);var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/users/me/settings")]}))}))},t.prototype.update=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.put("/users/me/settings",{data:e})]}))}))},t}(u.a),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"setting",producerFn:i.c})],t)}(p.d),k=function(e){function t(t,n,r){var i=e.call(this,t,"settings")||this;return i.store=t,i.api=n,i.query=r,i}return Object(o.__extends)(t,e),t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.getAll()];case 1:e=n.sent();try{t=JSON.parse(e.data),this.store.update(t)}catch(e){}return[2]}}))}))},t.prototype.set=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(o.__generator)(this,(function(c){switch(c.label){case 0:return n=this.query.getValue(),r=Object(o.__assign)(Object(o.__assign)({},n),((a={})[e]=t,a)),i=JSON.stringify(r),this.store.update(r),[4,this.api.update(i)];case 1:return c.sent(),[2]}}))}))},t}(m.a),C=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),t}(p.b),T=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(e){return e.select()}))},enumerable:!1,configurable:!0}),t.prototype.set=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.set(e,t)]}))}))},t}(j.a);var S,I,N,R,P,M,A=n(1057),B=n(974),D=n(1044),L={pinnedIds:[],spaceIds:[],timeType:D.a},z=function(e){function t(t){return void 0===t&&(t=L),e.call(this,t)||this}return Object(o.__extends)(t,e),t.prototype.akitaPreAddEntity=function(e){return Object(o.__assign)(Object(o.__assign)({},e),{isSpace:!0,kind:B.t.Space,createdAt:Object(A.b)(e.createdAt),updatedAt:Object(A.b)(e.updatedAt),sharedAt:Object(A.b)(e.sharedAt),created:e.created?Object(o.__assign)(Object(o.__assign)({},e.created),{time:Object(A.b)(e.created.time)}):void 0,updated:e.updated?Object(o.__assign)(Object(o.__assign)({},e.updated),{time:Object(A.b)(e.updated.time)}):void 0,shared:e.shared?Object(o.__assign)(Object(o.__assign)({},e.shared),{time:Object(A.b)(e.shared.time)}):void 0})},t.prototype.akitaPreUpdateEntity=function(e,t){return Object(o.__assign)(Object(o.__assign)(Object(o.__assign)({},e),t),{isSpace:!0,kind:B.t.Space,createdAt:Object(A.b)(t.createdAt),updatedAt:Object(A.b)(t.updatedAt),sharedAt:Object(A.b)(t.sharedAt),created:t.created?Object(o.__assign)(Object(o.__assign)({},t.created),{time:Object(A.b)(t.created.time)}):void 0,updated:t.updated?Object(o.__assign)(Object(o.__assign)({},t.updated),{time:Object(A.b)(t.updated.time)}):void 0,shared:t.shared?Object(o.__assign)(Object(o.__assign)({},t.shared),{time:Object(A.b)(t.shared.time)}):void 0})},t=Object(o.__decorate)([Object(p.e)({name:"space",producerFn:i.c,idKey:"guid"}),Object(o.__metadata)("design:paramtypes",[Object])],t)}(p.a),F=n(255),V=n(1087);!function(e){e.Male="Male",e.Female="Female"}(I||(I={})),function(e){e.CurrentTab="currentTab",e.NewTab="newTab"}(N||(N={})),function(e){e.Name="name",e.NameAndIcon="nameAndIcon"}(R||(R={})),function(e){e.Desktop="desktop",e.Recent="recent",e.Space="space"}(P||(P={})),function(e){e.Comment="Comment",e.Desktop="Desktop",e.Sms="Sms"}(M||(M={}));var U,G=((S={})[M.Comment]="comment",S[M.Desktop]="desktop",S[M.Sms]="sms",S),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.me=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/users/me")]}))}))},t.prototype.storageSpaces=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/spaces/size")]}))}))},t.prototype.bindMobile=function(e){var t=e.mobile,n=e.mobileVerifyCode,r=e.password,i=e.filing,a=void 0===i||i;return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.post("/users/me/action/bind_mobile",{mobile:t,mobileVerifyCode:n,password:r,filing:a})]}))}))},t.prototype.getUserFeatures=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/user/features")]}))}))},t.prototype.getUserPreferencesSettings=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/user/preferences_settings")]}))}))},t.prototype.getWechatBindStatus=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/users/me/wechat")]}))}))},t.prototype.setUserPreferencesSettings=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.patch("/user/preferences_settings",e)]}))}))},t.prototype.getSubscription=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/subscribe")]}))}))},t.prototype.setSubscription=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/subscribe",{channel:e,action:t})]}))}))},t.prototype.setAvatar=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.patch("/users/me",{avatar:e})]}))}))},t.prototype.setNickName=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.patch("/users/me",{name:e})]}))}))},t.prototype.unbind=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/users/me/action/unbind",{type:e,authToken:t})]}))}))},t.prototype.changePassword=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/auth/password/change",{currentPassword:e,password:t})]}))}))},t.prototype.bindEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/users/me/action/bind_email",e)]}))}))},t.prototype.resetPassword=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/users/action/reset_password_by_code",e)]}))}))},t.prototype.changeEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/users/me/action/change_email",e)]}))}))},t.prototype.changeMobile=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/users/me/action/change_mobile",e)]}))}))},t}(u.a),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.akitaPreAddEntity=function(e){return Object(o.__assign)(Object(o.__assign)({},e),{createdAt:Object(A.b)(e.createdAt),updatedAt:Object(A.b)(e.updatedAt),deletedAt:Object(A.b)(e.deletedAt),gender:e.gender?I.Male:I.Female,avatarUrl:e.avatar})},t=Object(o.__decorate)([Object(p.e)({name:"user",producerFn:i.c})],t)}(p.a),K={canUpgradeToPremium:"upgrade_to_premium",unzip:"unzip",fileAdvancePermissions:"file_advance_permissions",batchDownload:"batch_download"},Y=((U={})[M.Comment]=!0,U[M.Desktop]=!0,U[M.Sms]=!0,U),Z=function(e){var t=Object(o.__assign)({},Y);return e.reduce((function(e,t){var n=t.channel,r=t.isDelete,i=e;return i[function(e){switch(e){case"comment":return M.Comment;case"desktop":return M.Desktop;case"sms":return M.Sms;default:return null}}(n)]=!!r,i}),t)};var q,Q=function(e){function t(t,n){var r=e.call(this,t,"user")||this;return r.store=t,r.api=n,r}return Object(o.__extends)(t,e),t.prototype.getMe=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.me()];case 1:return e=r.sent(),[4,this.api.getUserFeatures()];case 2:return t=r.sent().data.features,Object(p.h)((function(){var r=e.editionName;n.store.upsert(e.id,Object(o.__assign)(Object(o.__assign)({},e),{userFeature:n.convertUserFeature(null!=t?t:[]),editionName:r})),n.store.update((function(t){t.myId=e.id}))})),[4,this.getMyStorageSpaces()];case 3:return r.sent(),[4,this.getUserPreferencesSettings()];case 4:return r.sent(),[4,this.getSubscription()];case 5:return r.sent(),[4,this.getWechatBindStatus()];case 6:return r.sent(),[2]}}))}))},t.prototype.getMyStorageSpaces=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.store.getValue().myId)?[4,this.api.storageSpaces()]:[2];case 1:return t=n.sent(),this.store.update(e,{storageSpaces:t}),[2]}}))}))},t.prototype.bindMobile=function(e){var t=e.mobile,n=e.mobileVerifyCode,r=e.password,i=e.filing;return Object(o.__awaiter)(this,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:return(e=this.store.getValue().myId)?[4,this.api.bindMobile({mobile:t,mobileVerifyCode:n,password:r,filing:i})]:[2];case 1:return a.sent(),this.store.update(e,(function(e){e.mobileAccount=t,e.requiresIdentityVerification=!1})),[2]}}))}))},t.prototype.getUserPreferencesSettings=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.store.getValue().myId)?[4,this.api.getUserPreferencesSettings()]:[2];case 1:return t=n.sent().data,this.store.update(e,(function(e){e.preferencesSettings=Object(o.__assign)(Object(o.__assign)({},t),{createFileByTemplate:!!__RUNTIME_ENV__.CREATE_FROM_TEMPLATE||t.createFileByTemplate})})),[2]}}))}))},t.prototype.getWechatBindStatus=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.store.getValue().myId)?[4,this.api.getWechatBindStatus()]:[2];case 1:return t=n.sent().bound,this.store.update(e,(function(e){e.isBindWechat=t})),[2]}}))}))},t.prototype.setUserPreferencesSettings=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a;return Object(o.__generator)(this,(function(c){switch(c.label){case 0:return t=this.store.getValue(),n=t.entities,r=t.myId,n&&r?(i=n[r].preferencesSettings)?(a=Object(o.__assign)(Object(o.__assign)({},i),e),Object(F.isEqual)(a,i)?[2]:[4,this.api.setUserPreferencesSettings(a)]):[2]:[2];case 1:return c.sent(),this.store.update(r,(function(e){e.preferencesSettings=a})),[2]}}))}))},t.prototype.getSubscription=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return(e=this.store.getValue().myId)?[4,this.api.getSubscription()]:[2];case 1:return t=r.sent(),n=Z(t),this.store.update(e,(function(e){e.subscription={channel:n}})),[2]}}))}))},t.prototype.setSubscription=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,c,l,s;return Object(o.__generator)(this,(function(u){switch(u.label){case 0:return n=this.store.getValue(),r=n.entities,i=n.myId,r&&i?(a=r[i].subscription)?(c=a.channel,[4,this.api.setSubscription(G[e],t?"turnon":"turnoff")]):[2]:[2];case 1:return u.sent(),l={channel:Object(o.__assign)(Object(o.__assign)({},c),(s={},s[e]=t,s))},this.store.update(i,(function(e){e.subscription=Object(o.__assign)(Object(o.__assign)({},a),l)})),[2]}}))}))},t.prototype.setAvatar=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.setAvatar(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(t){t.avatarUrl=e})),[2]}}))}))},t.prototype.setNickName=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.setNickName(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(t){t.name=e})),[2]}}))}))},t.prototype.unbind=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return(n=this.store.getValue().myId)?[4,this.api.unbind(e,t)]:[2];case 1:return r.sent(),this.store.update(n,(function(t){switch(e){case"wechat":t.isBindWechat=!1;break;case"mobile":t.mobileAccount="";break;case"email":t.email=""}})),[2]}}))}))},t.prototype.changePassword=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.changePassword(e,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.bindEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.bindEmail(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(t){t.email=e.email,t.hasPassword=!0})),[2]}}))}))},t.prototype.resetPassword=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.resetPassword(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(e){e.hasPassword=!0})),[2]}}))}))},t.prototype.changeEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.changeEmail(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(t){t.email=e.email})),[2]}}))}))},t.prototype.changeMobile=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.store.getValue().myId)?[4,this.api.changeMobile(e)]:[2];case 1:return n.sent(),this.store.update(t,(function(t){t.mobileAccount=e.mobile})),[2]}}))}))},t.prototype.convertUserFeature=function(e){var t={};return Object.keys(K).forEach((function(n){t[n]=e.includes(K[n])})),t},t}(m.a),X=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"me$",{get:function(){return this.select((function(e){var t;if(e.myId)return null===(t=e.entities)||void 0===t?void 0:t[e.myId]}))},enumerable:!1,configurable:!0}),t}(p.c),J=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getMe",{get:function(){var e=this;return this.getOrAddResource("me",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getMe()]}))}))}),(function(e){return e.me$}))},enumerable:!1,configurable:!0}),t.prototype.bindMobile=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.bindMobile(e)]}))}))},t.prototype.setUserPreferencesSettings=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.setUserPreferencesSettings(e)]}))}))},t.prototype.setSubscription=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.setSubscription(e,t)]}))}))},t.prototype.setAvatar=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.setAvatar(e)]}))}))},t.prototype.setNickName=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.setNickName(e)]}))}))},t.prototype.unbind=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.unbind(e,t)]}))}))},t.prototype.changePassword=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.changePassword(e,t)]}))}))},t.prototype.bindEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.bindEmail(e)]}))}))},t.prototype.resetPassword=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.resetPassword(e)]}))}))},t.prototype.changeEmail=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.changeEmail(e)]}))}))},t.prototype.changeMobile=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.changeMobile(e)]}))}))},t}(j.a);!function(e){e.creator="creator",e.admin="admin",e.member="member",e.disabled="disabled",e.pending="pending"}(q||(q={}));var $,ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.mine=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/teams/mine")]}))}))},t.prototype.acceptTeamInvitation=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/users/me/action/join_team_by_invitation",{teamId:e})]}))}))},t.prototype.deleteTeam=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.delete("/teams/mine",{data:{action:e}})]}))}))},t}(u.a),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"team",producerFn:i.c})],t)}(p.a),ne=function(e){function t(t,n){var r=e.call(this,t,"team")||this;return r.store=t,r.api=n,r}return Object(o.__extends)(t,e),t.prototype.getMine=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.mine()];case 1:return e=n.sent(),Object(p.h)((function(){t.store.upsert(e.id,e),t.store.update((function(t){t.myId=e.id}))})),[2]}}))}))},t.prototype.acceptTeamInvitation=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.acceptTeamInvitation(e)];case 1:return t.sent(),[4,this.getMine()];case 2:return t.sent(),[2]}}))}))},t.prototype.deleteTeam=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.api.deleteTeam(e)];case 1:return t.sent(),[2]}}))}))},t}(m.a),re=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"mine$",{get:function(){return this.select((function(e){var t;if(e.myId)return null===(t=e.entities)||void 0===t?void 0:t[e.myId]}))},enumerable:!1,configurable:!0}),t}(p.c),ie=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getMine",{get:function(){var e=this;return this.getOrAddResource("mine",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getMine()]}))}))}),(function(e){return e.mine$}))},enumerable:!1,configurable:!0}),t.prototype.acceptTeamInvitation=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.acceptTeamInvitation(e)]}))}))},t.prototype.deleteTeam=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.deleteTeam(e)]}))}))},t}(j.a),ae=n(1107),oe=n(1060),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.getAlphaFeature=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.get("/alpha_features/"+e)]}))}))},t}(u.a),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"alphaFeature",producerFn:i.c})],t)}(p.d),se=n(3188),ue={liteTable:"lite_table",professionalDocsPersonal:"professional_docs_personal",professionalDocs:"professional_docs?ver=2",forceUseNewDesktop:"force_use_new_desktop"},de=function(e){function t(t,n){var r=e.call(this,t,"alphaFeature")||this;return r.store=t,r.api=n,r}return Object(o.__extends)(t,e),t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return e=Object.values(ue),[4,Promise.all(e.map((function(e){return Object(o.__awaiter)(n,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.api.getAlphaFeature(e).catch((function(e){}))]}))}))})))];case 1:return t=r.sent(),this.store.update(Object(se.a)(Object.keys(ue),t)),[2]}}))}))},t}(m.a),pe=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),t}(p.b),fe=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(e){return e.select()}))},enumerable:!1,configurable:!0}),t}(j.a),me=n(1073),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.getTeamPermission=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/teams/mine/permissions")]}))}))},t}(u.a),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"teamPermission",producerFn:i.c})],t)}(p.d),ge=function(e){function t(t,n){var r=e.call(this,t,"teamPermission")||this;return r.store=t,r.api=n,r.formatRoles=function(e){var t=e.reduce((function(e,t){switch(t){case"creator":e.add(me.a.Creator);break;case"admin":e.add(me.a.Admin);break;case"member":e.add(me.a.Member);break;case"outsider":e.add(me.a.Outsider)}return e}),new Set);return Array.from(t)},r}return Object(o.__extends)(t,e),t.prototype.get=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.getTeamPermission().catch((function(e){}))];case 1:return(e=n.sent())&&this.store.update((function(n){return Object(o.__assign)(Object(o.__assign)({},n),{whoCanCreateSpace:e.createSpace&&t.formatRoles(e.createSpace)})})),[2]}}))}))},t}(m.a),ve=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),t}(p.b),_e=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"get",{get:function(){var e=this;return this.getOrAddResource("get",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.get()]}))}))}),(function(e){return e.select()}))},enumerable:!1,configurable:!0}),t}(j.a),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.renameCustomTemplate=function(e){var t=e.guid,n=e.name;return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.patch("templates/"+t,{name:n})]}))}))},t.prototype.removeCustomTemplate=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.delete("templates/"+e)]}))}))},t.prototype.getTemplate=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("templates/v2")]}))}))},t.prototype.createFileByTemplate=function(e){var t=e.templateGuid,n=e.parentGuid,r=e.after;return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.post("files/action/create_by_template",{templateGuid:t,parentGuid:n,after:r})]}))}))},t}(u.a),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"template",producerFn:i.c})],t)}(p.d),je=function(e){function t(t,n,r,i){var a=e.call(this,t,"template")||this;return a.store=t,a.api=n,a.query=r,a.sos=i,a}return Object(o.__extends)(t,e),t.prototype.getTemplate=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.getTemplate().catch((function(e){}))];case 1:return e=n.sent(),Object(p.h)((function(){e&&t.store.update(e)})),[2]}}))}))},t.prototype.createFileByTemplate=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.getFileContainer()];case 1:return t=a.sent(),[4,this.getTreeContainer()];case 2:return n=a.sent(),[4,this.api.createFileByTemplate(e)];case 3:return(null==(r=a.sent())?void 0:r.guid)?[4,t.service.getOne(r.guid)]:[3,5];case 4:(i=a.sent())&&n.service.addFile(i,e.parentGuid),a.label=5;case 5:return[2,r]}}))}))},t.prototype.renameCustomTemplate=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.renameCustomTemplate(e)];case 1:return n.sent(),Object(p.h)((function(){t.store.update((function(t){var n=t.customTemplates.find((function(t){return t.guid===e.guid}));return n&&(n.name=e.name),t}))})),[2]}}))}))},t.prototype.removeCustomTemplate=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.removeCustomTemplate(e)];case 1:return n.sent(),Object(p.h)((function(){t.store.update((function(t){var n;return t.customTemplates=Object(p.j)(null!==(n=t.customTemplates)&&void 0!==n?n:[],(function(t){return t.guid===e})),t}))})),[2]}}))}))},t.prototype.getFileContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t.prototype.getTreeContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("tree")]}))}))},t}(m.a),we=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),t}(p.b),xe=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),t.prototype.getTemplate=function(){var e=this;return this.getOrAddResource("get",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getTemplate()]}))}))}),(function(e){return e.select()}))},t.prototype.createFileByTemplate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){return[2,(t=this.service).createFileByTemplate.apply(t,Object(o.__spreadArray)([],Object(o.__read)(e)))]}))}))},t.prototype.renameCustomTemplate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){return[2,(t=this.service).renameCustomTemplate.apply(t,Object(o.__spreadArray)([],Object(o.__read)(e)))]}))}))},t.prototype.removeCustomTemplate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){return[2,(t=this.service).removeCustomTemplate.apply(t,Object(o.__spreadArray)([],Object(o.__read)(e)))]}))}))},t}(j.a),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.getAll=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/sas/scripts/bindings")]}))}))},t.prototype.executeScript=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/sas/scripts/"+e+"/onPost",{context:{guid:t.guid},args:[t.toGuid,t.name]})]}))}))},t}(u.a),ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t=Object(o.__decorate)([Object(p.e)({name:"binding",producerFn:i.c})],t)}(p.d),Ce=function(e){function t(t,n,r){var i=e.call(this,t,"settings")||this;return i.store=t,i.api=n,i.sos=r,i}return Object(o.__extends)(t,e),t.prototype.getAll=function(){var e;return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,c,l,s,u;return Object(o.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.getUserContainer()];case 1:return t=d.sent(),n=t.store.getValue(),r=n.myId,i=void 0===r?"":r,a=n.entities,(c=(void 0===a?{}:a)[i])&&(null===(e=c.accountMetadata)||void 0===e?void 0:e.isEnterprise)?[4,this.api.getAll()]:[2];case 2:return l=d.sent(),Array.isArray(l)&&1===l.length&&(s=Object(o.__read)(l,1),(u=s[0])&&this.store.update({copyFolder:u})),[2]}}))}))},t.prototype.executeScript=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.api.executeScript(e,Object(o.__assign)(Object(o.__assign)({},t),{guid:Object(b.b)(t.guid)?Object(b.a)(t.guid).guid:t.guid,toGuid:Object(b.b)(t.toGuid)?Object(b.a)(t.toGuid).guid:t.toGuid}))]}))}))},t.prototype.getUserContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t}(m.a),Te=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),t}(p.b),Se=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(e){return e.select()}))},enumerable:!1,configurable:!0}),t.prototype.executeScript=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.executeScript(e,t)]}))}))},t}(j.a);!function(e){e.User="user",e.Enterprise="enterprise"}($||($={}));var Ie={baseURL:"/panda-api/file"},Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.create=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/spaces",{name:e})]}))}))},t.prototype.getAll=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(t={},e.sortBy){case oe.SortBy.UPDATED_AT:t.orderBy="updatedAt";break;case oe.SortBy.FILE_NAME:t.orderBy="name";break;case oe.SortBy.CREATED_AT:t.orderBy="createdAt"}if(t.orderBy)switch(e.sortOrder){case oe.SortOrder.Up:t.orderBy+="+asc";break;case oe.SortOrder.Down:}return[2,this.get("/spaces",Object(F.isEmpty)(t)?void 0:t,Ie)]}))}))},t.prototype.getAllPinned=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.get("/pinned_spaces",void 0,Ie)]}))}))},t.prototype.update=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.patch("/spaces/"+e,t)]}))}))},t.prototype.pin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/spaces/"+e+"/action/pin",void 0,Ie)]}))}))},t.prototype.unpin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.post("/spaces/"+e+"/action/unpin",void 0,Ie)]}))}))},t.prototype.movePinned=function(e,t){return void 0===t&&(t="FIRST"),Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/spaces/"+e+"/action/move",{afterGuid:t},Ie)]}))}))},t.prototype.removeSpace=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.delete("/spaces/"+e)]}))}))},t.prototype.setAnnouncement=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.put("/files/"+e+"/announcements",{announcement:t},Ie)]}))}))},t.prototype.getAnnouncement=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.get("/files/"+e+"/announcements",void 0,Ie)]}))}))},t.prototype.markAnnouncementAsRead=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.post("/files/"+e+"/announcements/"+t+"/action/read",void 0,Ie)]}))}))},t}(u.a),Re=n(3111),Pe=n(3189),Me=function(e){function t(t,n,r){var i=e.call(this,t,"space")||this;return i.store=t,i.api=n,i.sos=r,i}return Object(o.__extends)(t,e),t.prototype.upsertSpaces=function(e,t){var n=this;Object(p.h)((function(){n.store.upsertMany(e),n.store.update((function(n){n.pinnedIds=Object(Re.a)(n.pinnedIds,t),n.spaceIds=Object(Re.a)(n.spaceIds,e.map((function(e){return e.guid})))}))}))},t.prototype.create=function(e){var t,n;return Object(o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,c,s,u,d;return Object(o.__generator)(this,(function(p){switch(p.label){case 0:return[4,this.api.create(e)];case 1:return r=p.sent(),[4,this.sos.getContainer("user")];case 2:return i=p.sent(),a=i.store.getValue(),c=a.myId,s=void 0===c?"":c,u=a.entities,d=void 0===u?{}:u,this.upsertSpaces([Object(o.__assign)(Object(o.__assign)({},r),{admins:[{id:s,name:null!==(n=null===(t=d[s])||void 0===t?void 0:t.name)&&void 0!==n?n:"",type:l.AdminType.User}],isAdmin:!0})]),[2,r]}}))}))},t.prototype.getAll=function(e){var t;return void 0===e&&(e={}),Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,c;return Object(o.__generator)(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.api.getAll(e),this.api.getAllPinned()])];case 1:return n=o.__read.apply(void 0,[l.sent(),2]),r=n[0],i=n[1],a=Object(o.__spreadArray)(Object(o.__spreadArray)([],Object(o.__read)(i.spaces.map((function(e){return Object(o.__assign)(Object(o.__assign)({},e),{isPinned:!0})})))),Object(o.__read)(null!==(t=r.spaces)&&void 0!==t?t:[])),c=i.spaces.map((function(e){return e.guid})),this.upsertSpaces(a,c),[2]}}))}))},t.prototype.fetchByOrder=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(o.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.getUserConfigContainer()];case 1:return[4,(e=i.sent().service).getByKey("spaceFilterOptions")];case 2:return t=i.sent(),n=t.timeType,[4,e.getByGuid(oe.SPACE_KEY)];case 3:return r=i.sent(),[4,this.updateByOrder(r,n)];case 4:return i.sent(),[2]}}))}))},t.prototype.updateByOrder=function(e,t){var n;return void 0===e&&(e={}),Object(o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,c=this;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.api.getAll(e)];case 1:return r=o.sent(),i=null!==(n=r.spaces)&&void 0!==n?n:[],a=i.map((function(e){return e.guid})),Object(p.h)((function(){c.store.upsertMany(i),c.store.update((function(e){e.spaceIds=a,t&&(e.timeType=t)}))})),[2]}}))}))},t.prototype.update=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.update(e,t)];case 1:return n.sent(),this.store.update(e,t),[2]}}))}))},t.prototype.pin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return this.store.getValue().pinnedIds.includes(e)?[2]:[4,this.api.pin(e)];case 1:return n.sent(),Object(p.h)((function(){t.store.update((function(t){t.pinnedIds=Object(o.__spreadArray)(Object(o.__spreadArray)([],Object(o.__read)(t.pinnedIds)),[e])})),t.store.update(e,(function(e){e.isPinned=!0}))})),[2]}}))}))},t.prototype.unpin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return this.store.getValue().pinnedIds.includes(e)?[4,this.api.unpin(e)]:[2];case 1:return n.sent(),Object(p.h)((function(){t.store.update((function(t){t.pinnedIds=t.pinnedIds.filter((function(t){return t!==e}))})),t.store.update(e,(function(e){e.isPinned=!1}))})),[2]}}))}))},t.prototype.movePinned=function(e,t){return void 0===t&&(t="FIRST"),Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return e===t?[2]:[4,this.api.movePinned(e,t)];case 1:return n.sent(),this.store.update((function(n){var r=n.pinnedIds;if(r.includes(e)&&("FIRST"===t||r.includes(t))){var i=r.findIndex((function(t){return t===e})),a="FIRST"===t?-1:r.findIndex((function(e){return e===t}));n.pinnedIds=h(r,i,a)}})),[2]}}))}))},t.prototype.removeSpace=function(e){var t;return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,c=this;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return n=this.store.getValue(),(null===(t=n.entities)||void 0===t?void 0:t[e])?[4,this.api.removeSpace(e)]:[2];case 1:return o.sent(),[4,this.getFileContainer()];case 2:return r=o.sent(),[4,this.getUserContainer()];case 3:return i=o.sent(),a=i.store.getValue().myId,Object(p.h)((function(){c.store.update((function(t){t.pinnedIds=Object(Pe.a)(t.pinnedIds,e),t.spaceIds=Object(Pe.a)(t.spaceIds,e)})),c.store.update(e,{isDelete:1,deletedBy:a}),r.store.update((function(t){t.trashIds=Object(p.i)(t.trashIds,e)}))})),[2]}}))}))},t.prototype.setAnnouncement=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.setAnnouncement(e,t)];case 1:return n=r.sent().data.announcement,this.upsertAnnouncement(e,n),[2]}}))}))},t.prototype.getAnnouncement=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.api.getAnnouncement(e)];case 1:return t=r.sent().data.announcements,Object(p.h)((function(){t.forEach((function(t){n.upsertAnnouncement(e,t)}))})),[2,t]}}))}))},t.prototype.markAnnouncementAsRead=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.api.markAnnouncementAsRead(e,t)];case 1:return n.sent(),this.store.update(e,(function(e){e.announcement&&(e.announcement.isRead=!0)})),[2]}}))}))},t.prototype.upsertAnnouncement=function(e,t){var n=this;Object(p.h)((function(){n.store.upsert(e,{announcement:t?Object(o.__assign)(Object(o.__assign)({},t),{createdAt:Object(A.b)(t.createdAt)}):void 0})}))},t.prototype.getUserConfigContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("userConfig")]}))}))},t.prototype.getFileContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("file")]}))}))},t.prototype.getUserContainer=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,this.sos.getContainer("user")]}))}))},t}(m.a),Ae=n(1707),Be=n(3182),De=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"pinnedIds$",{get:function(){return this.select("pinnedIds")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceIds$",{get:function(){return this.select("spaceIds")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaces$",{get:function(){return this.selectAll().pipe(Object(Ae.a)((function(e){return e.filter((function(e){return!e.isDelete}))})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pinned$",{get:function(){return Object(p.l)([this.pinnedIds$,this.spaces$]).pipe(Object(Ae.a)((function(e){var t=Object(o.__read)(e,2),n=t[0],r=t[1];return n.map((function(e){return r.find((function(t){return t.guid===e}))}))})),Object(Be.a)([]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unpinned$",{get:function(){return Object(p.l)([this.spaceIds$,this.pinnedIds$,this.spaces$]).pipe(Object(Ae.a)((function(e){var t=Object(o.__read)(e,3),n=t[0],r=t[1],i=t[2],a=[],c=[];return i.forEach((function(e){var t=n.findIndex((function(t){return t===e.guid}));r.includes(e.guid)||(t>-1?a[t]=e:c.push(e))})),Object(o.__spreadArray)(Object(o.__spreadArray)([],Object(o.__read)(c)),Object(o.__read)(a)).filter(Boolean)})),Object(Be.a)([]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"all$",{get:function(){return Object(p.l)([this.pinned$,this.unpinned$,this.select("timeType")]).pipe(Object(Ae.a)((function(e){var t=Object(o.__read)(e,3);return{pinned:t[0],unpinned:t[1],timeType:t[2]}})),Object(Be.a)({pinned:[],unpinned:[],timeType:D.a}))},enumerable:!1,configurable:!0}),t.prototype.announcement$=function(e){return this.selectEntity(e).pipe(Object(Ae.a)((function(e){return null==e?void 0:e.announcement})))},t}(p.c),Le=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.store=t,i.service=n,i.query=r,i}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"getAll",{get:function(){var e=this;return this.getOrAddResource("getAll",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(e){return e.all$}))},enumerable:!1,configurable:!0}),t.prototype.getAllData=function(){var e=this;return this.getOrAddResource("getAllData",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.getAll()]}))}))}),(function(e){return e.all$}))},t.prototype.getAllDataByOrder=function(){var e=this;return this.getOrAddResource("getAllDataByOrder",(function(t){return Object(o.__awaiter)(e,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return[2,t.fetchByOrder()]}))}))}),(function(e){return e.all$}))},t.prototype.updateByOrder=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.updateByOrder(e,t)]}))}))},t.prototype.create=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.create(e)]}))}))},t.prototype.update=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.update(e,t)]}))}))},t.prototype.pin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.pin(e)]}))}))},t.prototype.unpin=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.unpin(e)]}))}))},t.prototype.movePinned=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.movePinned(e,t)]}))}))},t.prototype.removeSpace=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.service.removeSpace(e)]}))}))},t.prototype.getAnnouncement=function(e){var t=this;return this.getOrAddResource("spaceAnnouncement:"+e,(function(n){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,n.getAnnouncement(e)]}))}))}),(function(t){return t.announcement$(e)}))},t.prototype.setAnnouncement=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.setAnnouncement(e,t)]}))}))},t.prototype.markAnnouncementAsRead=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.service.markAnnouncementAsRead(e,t)]}))}))},t}(j.a);var ze=n(1075),Fe=n(1093),Ve=n(1090),Ue=n(1091),Ge=n(1092);var He=n(1252),We=n.n(He),Ke=function(){function e(e){this.name=e.name,this.store=this.createStore()}return e.prototype.get=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.store.getItem(e)]}))}))},e.prototype.set=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){return[2,this.store.setItem(e,t)]}))}))},e.prototype.remove=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,this.store.removeItem(e)]}))}))},e.prototype.createStore=function(){return We.a.createInstance({name:this.name})},e}();var Ye=function(){function e(){this.containers={},this.ready$=new c.a(!1),this.init()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},Object.defineProperty(e.prototype,"ready",{get:function(){return this.ready$.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyPromise",{get:function(){return this.ready$.toPromise()},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(e){return Object(o.__awaiter)(this,void 0,Promise,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return this.ready?[2,this.containers[e]]:[4,this.readyPromise];case 1:return t.sent(),[2,this.containers[e]]}}))}))},e.prototype.init=function(){var e,t,n,r,i,a;this.containers.file=(e=this,t=new l.FileStore,n=new l.FileApi,r=new l.FileQuery(t,e),i=new l.FileService(t,n,r,e),a=new l.FileFacade(t,i,r),new s({store:t,service:i,query:r,api:n,facade:a,sos:e})),this.containers.space=function(e){var t=new z,n=new Ne,r=new Me(t,n,e),i=new De(t),a=new Le(t,r,i);return new s({store:t,service:r,query:i,api:n,facade:a,sos:e})}(this),this.containers.quickAccess=function(e){var t=new _,n=new d,r=new g(t,n,e),i=new O(t,e),a=new w(t,r,i);return new s({store:t,service:r,query:i,api:n,facade:a,sos:e})}(this),this.containers.tree=function(e){var t=new V.TreeStore,n=new V.TreeApi,r=new V.TreeQuery(t,e),i=new V.TreeService(t,n,r,e),a=new V.TreeFacade(t,i,r);return new s({store:t,service:i,query:r,api:n,facade:a,sos:e})}(this),this.containers.user=function(e){var t=new W,n=new H,r=new X(t),i=new Q(t,n),a=new J(t,i,r);return new s({store:t,service:i,query:r,api:n,facade:a,sos:e})}(this),this.containers.team=function(e){var t=new te,n=new ee,r=new re(t),i=new ne(t,n),a=new ie(t,i,r);return new s({store:t,service:i,query:r,api:n,facade:a,sos:e})}(this),this.containers.settings=function(e){var t=new x,n=new E({}),r=new C(n),i=new k(n,t,r),a=new T(n,i,r);return new s({store:n,service:i,query:r,api:t,facade:a,sos:e})}(this),this.containers.notice=function(e){var t=new Ue.a,n=new ze.b,r=new Fe.a(n,t,e),i=new Ve.a(n,e),a=new Ge.a(n,r,i);return new s({store:n,service:r,query:i,api:t,facade:a,sos:e})}(this),this.containers.userConfig=function(e){var t=new Ke({name:D.c}),n=new oe.UserConfigApi,r=new oe.UserConfigStore,i=new oe.UserConfigService(r,t,e),a=new oe.UserConfigQuery(r),o=new oe.UserConfigFacade(r,i,a);return new s({store:r,service:i,query:a,facade:o,api:n,sos:e})}(this),this.containers.alphaFeature=function(e){var t=new ce,n=new le({}),r=new de(n,t),i=new pe(n),a=new fe(n,r,i);return new s({store:n,service:r,query:i,facade:a,api:t,sos:e})}(this),this.containers.teamPermission=function(e){var t=new be,n=new he({}),r=new ge(n,t),i=new ve(n),a=new _e(n,r,i);return new s({store:n,service:r,query:i,facade:a,api:t,sos:e})}(this),this.containers.template=function(e){var t=new ye,n=new Oe({}),r=new we(n),i=new je(n,t,r,e),a=new xe(n,i,r);return new s({store:n,service:i,query:r,facade:a,api:t,sos:e})}(this),this.containers.binding=function(e){var t=new Ee,n=new ke({}),r=new Ce(n,t,e),i=new Te(n),a=new Se(n,r,i);return new s({store:n,service:r,query:i,facade:a,api:t,sos:e})}(this),this.setReady()},e.prototype.setReady=function(){this.ready$.next(!0)},e}();function Ze(){return Ye.getInstance()}Ye.getInstance();var qe=n(1056);Object(i.b)()},987:function(e,t,n){"use strict";n.d(t,"a",(function(){return se.a})),n.d(t,"b",(function(){return ue.a})),n.d(t,"v",(function(){return de.a})),n.d(t,"c",(function(){return pe.a})),n.d(t,"d",(function(){return fe.a})),n.d(t,"g",(function(){return je})),n.d(t,"h",(function(){return we.a})),n.d(t,"i",(function(){return he.a})),n.d(t,"j",(function(){return xe.e})),n.d(t,"k",(function(){return Ee.a})),n.d(t,"n",(function(){return ke.a})),n.d(t,"o",(function(){return Ce.a})),n.d(t,"p",(function(){return Te.a})),n.d(t,"r",(function(){return Se.b})),n.d(t,"w",(function(){return Ie.a})),n.d(t,"u",(function(){return Ne.a})),n.d(t,"s",(function(){return Se.a})),n.d(t,"q",(function(){return Xe.a})),n.d(t,"l",(function(){return Je.a})),n.d(t,"f",(function(){return ot})),n.d(t,"m",(function(){return gt})),n.d(t,"e",(function(){return Rt})),n.d(t,"t",(function(){return zt}));var r,i,a,o,c=n(2),l=n(8),s=n.n(l),u=n(11),d=n.n(u),p=n(253),f=n(1014),m=n.p+"static/lizard-one/assets/top@2x.84e29454.png",b=n.p+"static/lizard-one/assets/top-jp@2x.a35e56b1.png",h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hover:!1},t.lastTime=0,t.timer=null,t.handleMouseEnter=function(){var e=Date.now();e-t.lastTime>500&&t.setState({hover:!0}),t.timer=window.setTimeout((function(){t.setState({hover:!0})}),10),t.lastTime=e},t.handleMouseLeave=function(){t.setState({hover:!1}),t.timer&&window.clearTimeout(t.timer)},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.state.hover,t=y();return s.a.createElement(g,{className:e?"hover":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e?s.a.createElement(_,null):s.a.createElement(v,null),s.a.createElement(t,{className:e?"hover":""}))},t}(l.Component),g=p.default.div.withConfig({componentId:"sc-2I_o8Y",displayName:"Flex"})(r||(r=Object(c.__makeTemplateObject)(["display:flex;flex-direction:column;align-items:center;transition:all 0.3s ease;padding-top:14px;&.hover{padding-top:6px;height:44px;}"],[""]))),v=Object(p.default)(f.a).withConfig({componentId:"sc-2I_o8Y-1",displayName:"Arrow"})(i||(i=Object(c.__makeTemplateObject)(["width:14px;height:22px;display:inline-block;transition:all 0.3s ease;path{opacity:0.3;}"],[""]))),_=Object(p.default)(f.a).withConfig({componentId:"sc-2I_o8Y-2",displayName:"ArrowActive"})(a||(a=Object(c.__makeTemplateObject)(["width:14px;height:22px;display:inline-block;"],[""]))),y=function(){var e=d.a.getLocale().toLowerCase(),t=e.includes("jp")||e.includes("ja")?b:m;return p.default.p.withConfig({componentId:"sc-2I_o8Y-3",displayName:"getButtonText"})(o||(o=Object(c.__makeTemplateObject)(["margin:0;padding:0;transition:all 0.3s ease;opacity:",";width:22px;height:15px;background:url(",");background-size:100% 100%;"],["","",""])),(function(e){return e.className?1:0}),t)};function O(e,t,n,r){var i=n-t,a=e/(r/2);return a<1?i/2*a*a*a+t:i/2*((a-=2)*a*a+2)+t}var j=["moz","ms","webkit"];function w(e,t){if("undefined"==typeof window)return 0;var n=t?"scrollTop":"scrollLeft",r=e===window,i=r?e[t?"pageYOffset":"pageXOffset"]:e[n];return r&&"number"!=typeof i&&(i=window.document.documentElement[n]),i}var x,E,k,C,T,S=Object(p.keyframes)(x||(x=Object(c.__makeTemplateObject)(["   0%{opacity:0;visibility:hidden;transform:translateY(18px);}100%{opacity:1;visibility:visible;transform:translateY(0);}"],[""]))),I=Object(p.keyframes)(E||(E=Object(c.__makeTemplateObject)(["0%{opacity:1;visibility:visible;transform:translateY(0);}100%{opacity:0;visibility:hidden;transform:translateY(0);}"],[""]))),N=p.default.div.withConfig({componentId:"sc-15UfmA",displayName:"BackTopBtn"})(T||(T=Object(c.__makeTemplateObject)(["width:50px;height:50px;background:#fff;border:1px solid rgba(0,0,0,0.05);box-shadow:0 5px 10px 0 rgba(0,0,0,0.05);border-radius:4px;box-sizing:border-box;cursor:pointer;position:fixed;right:20px;bottom:92px;visibility:hidden;opacity:0;transition:box-shadow 0.55s ease;transform:translateY(0);animation:",";&:hover{box-shadow:0 5px 10px 0 rgba(0,0,0,0.14);}"],["",""])),(function(e){var t=e.isInit,n=e.visible;return t?"none":n?Object(p.css)(k||(k=Object(c.__makeTemplateObject)([""," 0.5s both"],["",""])),S):Object(p.css)(C||(C=Object(c.__makeTemplateObject)([""," 0.3s both"],["",""])),I)})),R=function(){if("undefined"!=typeof window){if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var e,t=Object(c.__read)(j.filter((function(e){return e+"RequestAnimationFrame"in window})),1)[0];return t?window[t+"RequestAnimationFrame"]:(e=0,function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),i=window.setTimeout((function(){t(n+r)}),r);return e=n+r,i})}}();function P(){return window}!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,isInit:!0},t.backTopEle=s.a.createRef(),t.getScrollTarget=function(){var e=t.props.target;return(null!=e?e:P)()},t.getCurrentScrollTop=function(){var e=t.getScrollTarget();return e===window?window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop:e.scrollTop},t.handleScrollToTop=function(e){var n=t.props.onClick,r=t.getCurrentScrollTop(),i=Date.now(),a=function(){var e=Date.now()-i;t.setScrollTop(O(e,r,0,450)),e<450&&(null==R||R(a))};null==R||R(a),null==n||n(e)},t.handleScroll=function(){var e=t.props,n=e.visibilityHeight,r=e.target,i=void 0===r?P:r,a=t.state.isInit,o=w(i(),!0);t.setState({visible:o>n,isInit:!(o>n)&&a})},t}Object(c.__extends)(t,e),t.prototype.setScrollTop=function(e){var t=this.getScrollTarget();t===window?(document.body.scrollTop=e,document.documentElement.scrollTop=e):t.scrollTop=e},t.prototype.componentDidMount=function(){this.getScrollTarget().addEventListener("scroll",this.handleScroll),this.handleScroll()},t.prototype.componentWillUnmount=function(){this.getScrollTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=void 0===t?"sm-back-top":t,r=e.className,i=void 0===r?"":r,a=e.children,o=this.state,c=o.visible,l=o.isInit,u=n+" "+i;return s.a.createElement(N,{visible:c,isInit:l,className:u,onClick:this.handleScrollToTop,ref:this.backTopEle},null!=a?a:s.a.createElement(h,null))},t.defaultProps={visibilityHeight:400}}(l.PureComponent);var M,A,B,D,L,z,F,V,U,G,H,W,K,Y,Z,q,Q,X,J,$,ee,te,ne,re,ie,ae,oe,ce,le,se=n(977),ue=(n(1045),n(1032)),de=n(1024),pe=(n(1046),n(1011)),fe=n(1019),me=(n(1049),n(1086)),be=n.n(me),he=n(1e3),ge=n(975),ve=p.default.div.withConfig({componentId:"sc-3zDCjH",displayName:"StyledInfiniteScroll"})(M||(M=Object(c.__makeTemplateObject)(["overflow:hidden;position:relative;overflow-y:scroll;",";",";"],["","",""])),(function(e){var t=e.height;return t&&"\n    height: "+t+";\n  "}),(function(e){var t=e.maxHeight;return t&&"\n    max-height: "+t+";\n  "})),_e=p.default.div.withConfig({componentId:"sc-3zDCjH-1",displayName:"LoadIndicatorContainer"})(A||(A=Object(c.__makeTemplateObject)(["text-align:center;padding:10px 0;color:",";font-size:12px;"],["",""])),ge.f),ye=function(){return s.a.createElement(_e,null,s.a.createElement(he.a,null))},Oe=function(){return s.a.createElement(_e,null,d()("没有更多的内容了"))},je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadingNode=s.a.createRef(),t.doHandleScroll=be()((function(e){var n=t.props,r=n.threshold,i=n.onLoadMore,a=n.hasMore,o=n.isLoading;if(a&&!o){var c=e.currentTarget;c.scrollHeight-c.scrollTop-c.clientHeight>=r||null==i||i()}}),t.props.throttle),t.handleScroll=function(e){e.persist(),t.doHandleScroll(e)},t.renderLoadingNode=function(e){return s.a.createElement("div",{ref:t.loadingNode},e)},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.prefixCls,i=e.height,a=e.maxHeight,o=e.loadingState,c=e.noMoreState,l=e.isLoading,u=e.hasMore,d=e.style;return s.a.createElement(ve,{height:i,maxHeight:a,className:n+" "+r,onScroll:this.handleScroll,style:d},t,l?this.renderLoadingNode(o):null,u||l?null:c)},t.defaultProps={prefixCls:"sm-infinite-scroll",className:"",hasMore:!1,isLoading:!1,onLoadMore:function(){},loadingState:s.a.createElement(ye,null),noMoreState:s.a.createElement(Oe,null),threshold:100,throttle:1e3/60},t}(s.a.Component),we=n(1010),xe=(n(1029),n(1037),n(980)),Ee=n(982),ke=n(1030),Ce=n(1041),Te=(n(1034),n(1007)),Se=n(1005),Ie=n(978),Ne=n(985),Re=(p.default.div.withConfig({componentId:"sc-K_nUX",displayName:"StyledTruncate"})(B||(B=Object(c.__makeTemplateObject)(["position:relative;width:100%;height:100%;overflow:hidden;"],[""]))),p.default.div.withConfig({componentId:"sc-K_nUX-1",displayName:"StyledAdjustment"})(D||(D=Object(c.__makeTemplateObject)(["position:absolute;overflow:visible;width:100%;height:auto;"],[""]))),n(984)),Pe=p.default.div.withConfig({componentId:"sc-1haulb",displayName:"ColorPickerWrapper"})(L||(L=Object(c.__makeTemplateObject)(["width:176px;padding:8px 0;"],[""]))),Me=Object(p.css)(z||(z=Object(c.__makeTemplateObject)(["position:absolute;left:0;top:0;width:100%;height:100%;"],[""]))),Ae=Object(p.default)(Re.a).withConfig({componentId:"sc-1haulb-1",displayName:"CheckBoldRaised"})(F||(F=Object(c.__makeTemplateObject)([""," > path{fill:#fff;}"],["",""])),Me),Be=Object(p.default)(Re.a).withConfig({componentId:"sc-1haulb-2",displayName:"CheckBoldIcon"})(V||(V=Object(c.__makeTemplateObject)(["",""],["",""])),Me),De=p.default.div.withConfig({componentId:"sc-1haulb-3",displayName:"HoverShadow"})(U||(U=Object(c.__makeTemplateObject)(["display:inline-block;position:relative;width:16px;height:16px;overflow:hidden;box-sizing:border-box;&:hover{box-shadow:0 1px 5px #00000091;}"],[""]))),Le=Object(p.default)(pe.a).withConfig({componentId:"sc-1haulb-4",displayName:"StyledDivider"})(G||(G=Object(c.__makeTemplateObject)(["margin:0 4px;line-height:16px;&::after{height:9px;}"],[""]))),ze=p.default.div.withConfig({componentId:"sc-1haulb-5",displayName:"InputWrapper"})(H||(H=Object(c.__makeTemplateObject)(["display:flex;justify-content:center;align-items:center;margin-top:8px;"],[""]))),Fe=Object(p.default)(we.a).withConfig({componentId:"sc-1haulb-6",displayName:"StyledInput"})(W||(W=Object(c.__makeTemplateObject)(["& > .sm-input-wrapper{min-height:20px;max-height:20px;width:60px;& > input{padding-left:3px;padding-right:3px;}}"],[""]))),Ve=p.default.div.withConfig({componentId:"sc-1haulb-7",displayName:"ColorRowWrapper"})(K||(K=Object(c.__makeTemplateObject)(["height:20px;"],[""]))),Ue=p.default.div.withConfig({componentId:"sc-1haulb-8",displayName:"TransparentDivider"})(Y||(Y=Object(c.__makeTemplateObject)(["position:absolute;left:-1px;top:-2px;width:22px;height:2px;background-color:#d06063;transform:rotateZ(45deg);transform-origin:0;"],[""]))),Ge=n(1048),He=n.n(Ge),We=function(){return[{color:"#ffffff",title:d()("白")},{color:"#000000",title:d()("漆黑")},{color:"#ff0000",title:d()("红")},{color:"#ff7800",title:d()("橙")},{color:"#ffd900",title:d()("黄")},{color:"#a3e043",title:d()("葱绿")},{color:"#37d9f0",title:d()("湖蓝")},{color:"#4da8ee",title:d()("天色")},{color:"#956fe7",title:d()("藤紫")},{color:"#f3f3f4",title:d()("白练")},{color:"#cccccc",title:d()("白鼠")},{color:"#fef2f0",title:d()("樱")},{color:"#fef5e7",title:d()("缟")},{color:"#fefcd9",title:d()("练")},{color:"#edf6e8",title:d()("芽")},{color:"#e6fafa",title:d()("水")},{color:"#ebf4fc",title:d()("缥")},{color:"#f0edf6",title:d()("丁香")},{color:"#d7d8d9",title:d()("灰青")},{color:"#a5a5a5",title:d()("鼠")},{color:"#fbd4d0",title:d()("虹")},{color:"#ffd7b9",title:d()("落柿")},{color:"#f9eda6",title:d()("花叶")},{color:"#d4e9d6",title:d()("白绿")},{color:"#c7e6ea",title:d()("天青")},{color:"#cce0f1",title:d()("天空")},{color:"#dad5e9",title:d()("水晶")},{color:"#7b7f83",title:d()("薄钝")},{color:"#494949",title:d()("墨")},{color:"#ee7976",title:d()("甚三红")},{color:"#faa573",title:d()("珊瑚")},{color:"#e6b322",title:d()("金")},{color:"#98c091",title:d()("薄青")},{color:"#79c6cd",title:d()("白群")},{color:"#6eaad7",title:d()("薄花")},{color:"#9c8ec1",title:d()("紫苑")},{color:"#41464b",title:d()("石墨")},{color:"#333333",title:d()("黑")},{color:"#be1a1d",title:d()("绯红")},{color:"#b95514",title:d()("棕黄")},{color:"#ad720e",title:d()("土黄")},{color:"#1c7231",title:d()("苍翠")},{color:"#1c7892",title:d()("孔雀")},{color:"#19439c",title:d()("琉璃")},{color:"#511b78",title:d()("青莲")}]},Ke=function(){return d()("无填充")},Ye=function(e){var t=e.color,n=e.title,r=e.selected,i=e.extraStyle,a=e.onClick,o=("transparent"===t?"#fff":t)||"#fff",l=He.a.hex.rgb(o),u="transparent"===t?Be:He.a.hex.hsl(t)[2]<80?Ae:Be;return s.a.createElement(Ne.a,{title:a&&(n||t),placement:"bottom",notTouchable:!0,mouseLeaveDelay:0},s.a.createElement(De,{className:"sm-color-cell",style:Object(c.__assign)({backgroundColor:"rgb("+l[0]+", "+l[1]+", "+l[2]+")",border:"FFFFFF"===He.a.rgb.hex(l)?"1px solid #f2f2f2":"none",cursor:a?"pointer":"default"},i),onClick:a},"transparent"===t&&s.a.createElement(Ue,null),r&&s.a.createElement(u,null)))},Ze=n(1097),qe=n.n(Ze),Qe=function(e){var t=e.colorItems,n=e.selectedColorHex,r=e.onClick;return s.a.createElement(Ve,{className:"sm-color-row"},t.map((function(e,t){var i=e.color;return s.a.createElement(Ye,Object(c.__assign)({},e,{key:i,selected:"transparent"===n?n===i:qe()(He.a.hex.rgb(n),He.a.hex.rgb(i)),extraStyle:{marginLeft:t?"4px":"0"},onClick:function(){null==r||r(i)}}))})))},Xe=(function(e){function t(t){var n,r,i=e.call(this,t)||this;return i.renderCustomColorRow=function(){var e=i.props.customColors,t=i.state.userInput;return e?s.a.createElement(s.a.Fragment,null,s.a.createElement(Qe,{colorItems:e,selectedColorHex:t,onClick:i.handleChange}),s.a.createElement(Le,null)):null},i.handleChange=function(e){i.setState({userInput:e.replace("#","")},(function(){i.sanitizeAndNotify()}))},i.sanitizeAndNotify=function(e){void 0===e&&(e=!1);var t=i.props,n=t.onChange,r=t.allowTransparency,a=i.state.userInput;if("transparent"===a&&r)null==n||n({color:"transparent",title:Ke()});else{var o,c,l="#"+a,s=He.a.hex.rgb(l),u=He.a.rgb.hex(s).toLowerCase();null==n||n({color:"#"+u,title:(o="#"+u,c=We().filter((function(e){return e.color===o}))[0],null==c?void 0:c.title)}),e&&i.setState({userInput:u})}},i.handleKeyDown=function(e){var t;if("enter"===e.key.toLowerCase()){var n=null===(t=e.currentTarget)||void 0===t?void 0:t.value.trim();i.setState({userInput:n},(function(){i.sanitizeAndNotify(!0)}))}},i.state={userInput:(null!==(r=null!==(n=i.props.defaultColor)&&void 0!==n?n:i.props.color)&&void 0!==r?r:"#000").replace("#","")},i.rows=We().reduce((function(e,t){var n;return 0===e.length||e[e.length-1].length>=9?(n=[],e.push(n)):n=e[e.length-1],n.push(t),e}),[]),i}Object(c.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.userInput,n=this.props.allowTransparency;return s.a.createElement(Pe,null,this.renderCustomColorRow(),this.rows.map((function(n,r){return s.a.createElement(Qe,{key:r,colorItems:n,selectedColorHex:t,onClick:e.handleChange})})),s.a.createElement(ze,null,n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ye,{color:"transparent",title:Ke(),selected:"transparent"===this.state.userInput,onClick:function(){return e.handleChange("transparent")}}),s.a.createElement("span",{style:{flex:1}})),("transparent"!==t||!n)&&s.a.createElement(Ye,{color:"#"+t}),s.a.createElement("span",{style:{color:"#b0b0b1",fontSize:"13px",margin:"0 3px 0 12px"}},"#"),s.a.createElement(Fe,{value:"transparent"===t?Ke():t,onChange:function(t){e.setState({userInput:t.trim()})},onBlur:function(){e.sanitizeAndNotify(!0)},onKeyDown:this.handleKeyDown})))}}(s.a.Component),n(1137),p.default.div.withConfig({componentId:"sc-c8V5g",displayName:"StyledSticky"})(Z||(Z=Object(c.__makeTemplateObject)(["position:sticky;top:","px;z-index:",";"],["","",""])),(function(e){return e.top}),(function(e){return e.zIndex})),n(1036)),Je=n(1042),$e=n(992),et=$e.a.button,tt=$e.a.gray,nt=$e.a.blue,rt=$e.a.icon,it=$e.a.transparency,at=p.default.button.withConfig({componentId:"sc-34KL7w",displayName:"StyledButton"})(ie||(ie=Object(c.__makeTemplateObject)(["box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;cursor:pointer;outline:none;user-select:none;border-style:solid;&:focus{outline:none;}&[disabled]{cursor:not-allowed;}"," ",""],["","",""])),(function(e){return function(e){var t=e.size,n=Object(p.css)(q||(q=Object(c.__makeTemplateObject)(["border-width:1px;border-radius:2px;.sm-icon-button-icon{font-size:16px;width:16px;height:16px;}"],[""])));switch(t){case"s":n=Object(p.css)(Q||(Q=Object(c.__makeTemplateObject)([""," height:24px;padding:3px;"],["",""])),n);break;case"m":n=Object(p.css)(X||(X=Object(c.__makeTemplateObject)([""," height:28px;padding:5px;"],["",""])),n);break;case"l":n=Object(p.css)(J||(J=Object(c.__makeTemplateObject)([""," height:32px;padding:7px;"],["",""])),n);break;case"xl":default:n=Object(p.css)($||($=Object(c.__makeTemplateObject)([""," .sm-icon-button-icon{font-size:20px;width:20px;height:20px;}height:40px;padding:9px;"],["",""])),n)}return n}({size:e.size})}),(function(e){return function(e){var t,n=e.type,r=e.active,i=void 0!==r&&r;switch(n){case"secondary":t=Object(p.css)(ee||(ee=Object(c.__makeTemplateObject)([""," color:",";border-color:",";background:",";&:hover{background:",";}&:active{background:",";}&[disabled]{border-color:",";background:",";color:",";}"],["","","","","","","","","",""])),t,rt.default,it.transparency20,et.secondary,tt.gray0,tt.gray5,it.transparency5,it.transparency5,rt.disabled);break;case"minimal":t=Object(p.css)(te||(te=Object(c.__makeTemplateObject)([""," border-color:transparent;background:transparent;color:",";&:hover{background:",";}&:active{background:",";}&[disabled]{border-color:transparent;background:transparent;color:",";}"],["","","","","",""])),t,rt.default,it.transparency5,tt.gray10,rt.disabled);break;case"accessory":default:t=Object(p.css)(ne||(ne=Object(c.__makeTemplateObject)([""," border-color:transparent;background:transparent;color:",";&:hover{color:",";}&:active{color:",";}&[disabled]{color:",";}"],["","","","","",""])),t,rt.selected,rt.default,it.transparency120,rt.disabled)}return i&&(t=Object(p.css)(re||(re=Object(c.__makeTemplateObject)([""," border-color:",";background:",";color:",";&:hover{border-color:",";background:",";}&:active{border-color:",";background:",";}&[disabled]{border-color:",";background:",";color:",";}"],["","","","","","","","","","","",""])),t,nt.blue1,nt.blue1,nt.blue8,nt.blue2,nt.blue2,nt.blue1,nt.blue1,it.transparency5,it.transparency5,rt.disabled)),t}({type:e.customType,active:e.active})})),ot=function(e){var t=e.icon,n=e.active,r=void 0!==n&&n,i=e.prefixCls,a=void 0===i?"sm-icon-button":i,o=e.disabled,l=void 0!==o&&o,u=e.size,d=void 0===u?"l":u,p=e.type,f=void 0===p?"secondary":p,m=e.className,b=void 0===m?"":m,h=e.children,g=Object(c.__rest)(e,["icon","active","prefixCls","disabled","size","type","className","children"]);return s.a.createElement(at,Object(c.__assign)({className:a+" "+b,customType:f,active:r,size:d,disabled:l},g),h,s.a.createElement("span",{className:"sm-icon-button-icon"},t))},ct=n(1080),lt=n.n(ct),st=n(1138),ut=n.n(st),dt=n(1018),pt=$e.a.gray,ft=$e.a.text,mt=$e.a.transparency,bt=$e.a.red,ht=p.default.div.withConfig({componentId:"sc-avuRv",displayName:"InputWrapper"})(le||(le=Object(c.__makeTemplateObject)(["box-sizing:border-box;display:inline-flex;align-items:center;border-width:1px;border-style:solid;border-color:",";background:",";box-shadow:inset 0 1px 3px #e5e5e5;border-radius:2px;height:",";font-size:12px;line-height:24px;padding:3px ",";color:",";&:hover{border-color:",";}"," "," "," .sm-input{flex:1 1 auto;width:100%;border:none;outline:none;padding:0;font-size:inherit;line-height:inherit;font-family:inherit;background:transparent;color:",";&::placeholder{color:",";}&[disabled]{color:",";cursor:not-allowed;}}.sm-input-suffix{margin-right:-8px;margin-left:8px;flex:none;&.sm-input-clear{margin-right:-7.5px;margin-left:8.5px;color:",";font-size:13px;cursor:pointer;&:hover{color:",";}}}.sm-input-prefix{flex:none;margin-left:-8px;margin-right:8px;}"],["","","","","","","","","","","","","","",""])),mt.transparency10,pt.gray0,dt.a.xl,dt.a.m,ft.default,mt.transparency30,(function(e){return e.focus&&Object(p.css)(ae||(ae=Object(c.__makeTemplateObject)(["border-color:",";&:hover{border-color:",";}"],["","",""])),mt.transparency50,mt.transparency50)}),(function(e){return e.alert&&Object(p.css)(oe||(oe=Object(c.__makeTemplateObject)(["border-color:",";box-shadow:inset 0 1px 3px ",";&:hover{border-color:",";}"],["","","",""])),bt.red8,bt.red8,bt.red8)}),(function(e){return e.disabled&&Object(p.css)(ce||(ce=Object(c.__makeTemplateObject)(["box-shadow:none;cursor:not-allowed;background:",";border-color:",";color:",";&:hover{border-color:",";}"],["","","","",""])),pt.gray6,mt.transparency10,ft.disabled,mt.transparency10)}),ft.selected,ft.disabled,ft.disabled,mt.transparency60,mt.transparency100),gt=Object(l.forwardRef)((function(e,t){var n,r,i,a=e.value,o=e.prefix,u=e.suffix,d=e.disabled,p=void 0!==d&&d,f=e.className,m=void 0===f?"":f,b=e.prefixCls,h=void 0===b?"sm-input":b,g=e.alert,v=void 0!==g&&g,_=e.allowClear,y=void 0!==_&&_,O=e.defaultValue,j=e.type,w=void 0===j?"text":j,x=e.style,E=e.onFocus,k=e.onBlur,C=e.onChange,T=e.onKeyDown,S=e.onPressEnter,I=Object(c.__rest)(e,["value","prefix","suffix","disabled","className","prefixCls","alert","allowClear","defaultValue","type","style","onFocus","onBlur","onChange","onKeyDown","onPressEnter"]),N=Object(c.__read)(Object(l.useState)(null!==(i=null!=a?a:O)&&void 0!==i?i:""),2),R=N[0],P=N[1],M=Object(c.__read)(Object(l.useState)(!1),2),A=M[0],B=M[1],D=Object(l.useRef)();Object(l.useEffect)((function(){ut()(a)||a===R||P(a)}),[R,a]);var L=lt()(((n={})[h+"-wrapper"]=!0,n[h+"-"+w]=!0,n)),z=lt()(((r={})[h]=!0,r)),F=u&&s.a.cloneElement(u,{className:"sm-input-suffix"}),V=R?s.a.createElement(Re.j,{className:"sm-input-suffix sm-input-clear",onClick:function(e){P(""),D.current.focus();var t=Object.create(e);t.target=D.current,t.target.value="",t.currentTarget=t.target,null==C||C(t)}}):null,U=y?V:F,G=o&&s.a.cloneElement(o,{className:"sm-input-prefix"});return s.a.createElement(ht,{ref:t,className:L+" "+m,style:x,disabled:p,focus:A,alert:!p&&v},G,s.a.createElement("input",Object(c.__assign)({className:z,value:R,onFocus:function(e){B(!0),null==E||E(e)},onBlur:function(e){B(!1),null==k||k(e)},onChange:function(e){P(e.target.value),null==C||C(e)},onKeyDown:function(e){"Enter"===e.key&&S&&S(e),null==T||T(e)},disabled:p,ref:D},I)),U)})),vt=n(1004),_t=vt.a.family,yt=vt.a.size,Ot={serif:_t.serif,"sans-serif":_t["sans-serif"]},jt={1:yt.xl,2:yt.l,3:yt.m,4:yt.s,5:yt.xs},wt={1:"32px",2:"24px",3:"24px",4:"20px",5:"20px"};function xt(e){var t=e.fontWeight,n=void 0===t?"normal":t,r=e.fontFamily,i=void 0===r?"default":r,a=e.level,o=void 0===a?2:a,l=Ot[i],s=jt[o],u=wt[o];return Object(p.css)(Et||(Et=Object(c.__makeTemplateObject)([""," font-size:",";font-weight:",";line-height:",";"],["","","","",""])),l&&"font-family: "+l+";",s,n,u)}var Et,kt,Ct,Tt,St,It,Nt={1:p.default.h1.withConfig({componentId:"sc-M4HdP",displayName:"H1"})(kt||(kt=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return xt(e)})),2:p.default.h2.withConfig({componentId:"sc-M4HdP-1",displayName:"H2"})(Ct||(Ct=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return xt(e)})),3:p.default.h3.withConfig({componentId:"sc-M4HdP-2",displayName:"H3"})(Tt||(Tt=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return xt(e)})),4:p.default.h4.withConfig({componentId:"sc-M4HdP-3",displayName:"H4"})(St||(St=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return xt(e)})),5:p.default.h5.withConfig({componentId:"sc-M4HdP-4",displayName:"H5"})(It||(It=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return xt(e)}))},Rt=function(e){var t=e.fontWeight,n=void 0===t?"normal":t,r=e.fontFamily,i=void 0===r?"default":r,a=e.level,o=void 0===a?2:a,l=e.className,u=void 0===l?"":l,d=e.prefixCls,p=void 0===d?"sm-heading":d,f=e.children,m=Object(c.__rest)(e,["fontWeight","fontFamily","level","className","prefixCls","children"]),b=Nt[o];return s.a.createElement(b,Object(c.__assign)({className:p+" "+u,fontWeight:n,fontFamily:i,level:o},m),f)},Pt=vt.a.size,Mt={l:Pt.m,m:Pt.s,s:Pt.xs},At={l:"24px",m:"24px",s:"20px"};var Bt,Dt,Lt=p.default.span.withConfig({componentId:"sc-1Asg1h",displayName:"StyledText"})(Dt||(Dt=Object(c.__makeTemplateObject)(["",""],["",""])),(function(e){return n=(t=e).fontWeight,r=void 0===n?"normal":n,i=t.size,a=void 0===i?"m":i,Object(p.css)(Bt||(Bt=Object(c.__makeTemplateObject)(["font-size:",";font-weight:",";line-height:",";"],["","","",""])),Mt[a],r,At[a]);var t,n,r,i,a})),zt=function(e){var t=e.size,n=void 0===t?"m":t,r=e.fontWeight,i=void 0===r?"normal":r,a=e.children,o=e.className,l=void 0===o?"":o,u=e.prefixCls,d=void 0===u?"sm-text":u,p=Object(c.__rest)(e,["size","fontWeight","children","className","prefixCls"]);return s.a.createElement(Lt,Object(c.__assign)({size:n,fontWeight:i,className:d+" "+l},p),a)}},989:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r,i,a=n(2),o=n(253),c=function(e){var t;switch(e){case"h1":t=18;break;case"h2":t=16;break;case"h3":t=14;break;case"h4":t=12;break;default:t=18}return Object(o.css)(r||(r=Object(a.__makeTemplateObject)(["font-size:","px;font-weight:bold;line-height:1.4;"],["",""])),t)},l=function(e){var t;switch(e){case"p2":t=16;break;case"p3":t=14;break;case"p4":t=12;break;default:t=14}return Object(o.css)(i||(i=Object(a.__makeTemplateObject)(["font-size:","px;font-weight:normal;line-height:1.7;"],["",""])),t)}},990:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r=1e3,i=1050,a=1060,o=1060},991:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var r,i,a,o,c,l=n(2),s=n(1040),u=n(253),d=n(975),p=n(989),f=Object(u.default)(s.d).withConfig({componentId:"sc-1MQsbD",displayName:"StyledMenu"})(i||(i=Object(l.__makeTemplateObject)(["outline:none;margin:0;padding:5px 0;list-style:none;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);border-radius:2px;",""],["",""])),(function(e){var t=e.prefixCls;return Object(u.css)(r||(r=Object(l.__makeTemplateObject)([".","-submenu.","-submenu-popup{position:absolute;}.","-submenu-title{padding:6px 20px;color:",";position:relative;","  &:hover{background-color:",";}&::after{content:' ';display:inline-block;width:0;height:0;border-top:4px solid transparent;border-left:4px solid #676b6f;border-bottom:4px solid transparent;position:absolute;right:25px;transform:translateY(50%);}}.","-hidden{display:none;}.","-submenu{cursor:pointer;transition:all 0.3s;}.","-submenu .","-sub{cursor:initial;}.","-submenu-vertical.","-submenu-active,.","-submenu-vertical-left.","-submenu-active,.","-submenu-vertical-right.","-submenu-active{background-color:",";svg{margin-right:10px;}}.","-vertical,.","-vertical-left,.","-vertical-right{box-sizing:border-box;outline:none;padding:5px 0;margin:0;list-style:none;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);border-radius:2px;}"],["","","","","","","","","","","","","","","","","","","","",""])),t,t,t,d.k.BLACK_80,Object(p.b)("p4"),d.k.BLACK_5,t,t,t,t,t,t,t,t,t,t,d.k.BLACK_5,t,t,t)})),m=Object(u.default)(s.b).withConfig({componentId:"sc-1MQsbD-1",displayName:"StyledItem"})(o||(o=Object(l.__makeTemplateObject)(["padding:6px 45px 6px 20px;color:",";"," cursor:pointer;transition:all 0.3s;white-space:nowrap;&:hover{background-color:",";}",";"],["","","","",""])),d.k.BLACK_80,Object(p.b)("p4"),d.k.BLACK_5,(function(e){var t=e.rootPrefixCls;return Object(u.css)(a||(a=Object(l.__makeTemplateObject)(["&.","-item-disabled{color:",";cursor:not-allowed;background:none;}&.","-item-selected{position:relative;&::after{content:'';position:absolute;right:20px;top:6px;width:20px;height:20px;background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2hlY2tfYmxhY2s8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iNC44IiBzdHJva2UtbWl0ZXJsaW1pdD0iNCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIGQ9Ik0yOC42OTEgOC44NDdsLTE1Ljg2MiAxNS44NjItNy45Mi03LjkyIj48L3BhdGg+Cjwvc3ZnPgo=');background-size:10px 10px;background-repeat:no-repeat;background-position:center;}}"],["","","",""])),t,d.k.BLACK_50,t)})),b=Object(u.default)(s.a).withConfig({componentId:"sc-1MQsbD-2",displayName:"StyledDivider"})(c||(c=Object(l.__makeTemplateObject)(["height:1px;overflow:hidden;margin:5px 15px;background-color:",";line-height:0;"],["",""])),d.k.BLACK_10)},992:function(e,t,n){"use strict";var r={gray120:"#2C3033",gray110:"#363B3E",gray100:"#41464B",gray90:"#54585D",gray80:"#676B6F",gray70:"#7A7E81",gray60:"#8D9093",gray50:"#A0A2A5",gray40:"#B3B5B7",gray30:"#C6C8C9",gray20:"#D9DADB",gray10:"#ECEDED",gray9:"#EEEEEE",gray8:"#F0F0F1",gray7:"#F2F2F2",gray6:"#F4F4F4",gray5:"#F6F6F6",gray4:"#F7F7F7",gray3:"#F9F9FA",gray2:"#FBFBFB",gray1:"#FDFDFD",gray0:"#FFFFFF"},i={red10:"#AF3A37",red9:"#C04140",red8:"#CD4747",red7:"#E0504E",red6:"#EE5750",red5:"#E96465",red4:"#DE7F83",red3:"#E9A2A5",red2:"#FAD2D8",red1:"#FDEDF0"},a={yellow10:"#D78539",yellow9:"#E0A849",yellow8:"#E5BE52",yellow7:"#E9D45C",yellow6:"#EBE361",yellow5:"#EEE874",yellow4:"#F1ED8B",yellow3:"#F4F2AA",yellow2:"#F8F7CB",yellow1:"#FCFCEA"},o={green10:"#1E541D",green9:"#30732E",green8:"#3A8438",green7:"#459542",green6:"#4EA44B",green5:"#66B165",green4:"#80BE7F",green3:"#A4D0A3",green2:"#C7E2C7",green1:"#E8F3E8"},c={blue10:"#2D448F",blue9:"#3861AF",blue8:"#3E72C1",blue7:"#4583D4",blue6:"#4A90E2",blue5:"#5BA0E7",blue4:"#73B1EB",blue3:"#98C7F1",blue2:"#BFDCF7",blue1:"#E4F1FB"},l={transparency120:"#2C3033",transparency110:"#363B3E",transparency100:"#41464B",transparency90:"rgba(65, 70, 75, 0.9)",transparency80:"rgba(65, 70, 75, 0.8)",transparency70:"rgba(65, 70, 75, 0.7)",transparency60:"rgba(65, 70, 75, 0.6)",transparency50:"rgba(65, 70, 75, 0.5)",transparency40:"rgba(65, 70, 75, 0.4)",transparency30:"rgba(65, 70, 75, 0.3)",transparency20:"rgba(65, 70, 75, 0.2)",transparency15:"rgba(65, 70, 75, 0.15)",transparency10:"rgba(65, 70, 75, 0.1)",transparency5:"rgba(65, 70, 75, 0.05)",transparency2:"rgba(65, 70, 75, 0.02)"},s={selected:l.transparency100,default:l.transparency90,secondary:l.transparency60,disabled:l.transparency30,white:r.gray0,alert:i.red8,guidance:c.blue7},u={blue:c,green:o,yellow:a,red:i,purple:{purple10:"#000A6D",purple9:"#10147B",purple8:"#221A83",purple7:"#31218B",purple6:"#3A2590",purple5:"#59439E",purple4:"#7562AB",purple3:"#9C8EC1",purple2:"#C3BBDA",purple1:"#E7E3F0"},cyan:{cyan10:"#006C72",cyan9:"#008FA0",cyan8:"#00A3B8",cyan7:"#00B9D4",cyan6:"#00C9E8",cyan5:"#00D2EC",cyan4:"#37D9F0",cyan3:"#7AE6F5",cyan2:"#B1EFF8",cyan1:"#E0F9FD"},orange:{orange10:"#AB3300",orange9:"#C24100",orange8:"#CF4900",orange7:"#DC5000",orange6:"#E65600",orange5:"#ED6B00",orange4:"#F3833A",orange3:"#FAA573",orange2:"#FDC8AB",orange1:"#FDE7E1"},gray:r,transparency:l,brand:r.gray100,common:{normal:r.gray120,notice:c.blue5,success:o.green6,warning:a.yellow8,alert:i.red8,guidance:c.blue7},link:{guidance:{default:c.blue7,hover:c.blue5,pressed:c.blue8},alert:{default:i.red8,hover:i.red6,pressed:i.red9}},text:s,icon:s,divider:{lighter:l.transparency10,light:l.transparency20},border:{input:{normal:l.transparency10,hover:l.transparency30,active:l.transparency50,disabled:l.transparency10},button:{normal:r.gray120,guidance:c.blue7,alert:i.red8,secondary:l.transparency20,disabled:l.transparency20,blueDisabled:c.blue2,redDisabled:i.red2}},button:{main:"linear-gradient(360deg, "+r.gray120+" -0.09%, "+r.gray90+" 100%)",guidance:"linear-gradient(360deg, "+c.blue7+" -0.09%, "+c.blue5+" 100%)",alert:"linear-gradient(360deg, "+i.red8+" -0.09%, "+i.red6+" 100%)",secondary:"linear-gradient(360deg, "+r.gray5+" -0.09%, "+r.gray0+" 100%)"}};t.a=u},993:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(3107),a=n(1101),o=function(){function e(e,t,n,r){var o=this;void 0===r&&(r=null),this.facade=e,this.fetcher=t,this.getter=n,this.loading=!1,this.cached=!1,this.data$=new i.a(r);var c=n(e.query);Object(a.c)(c)?c.then((function(e){return e.subscribe(o.data$)})):c.subscribe(this.data$)}return Object.defineProperty(e.prototype,"data",{get:function(){return this.data$.getValue()},enumerable:!1,configurable:!0}),e.prototype.callAction=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:this.loading=!0,this.cached=!0,this.promise=this.fetcher(this.facade.service),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,this.promise];case 2:return e.sent(),[3,5];case 3:return e.sent(),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.cleanCache=function(){this.cached=!1},e}(),c=function(){function e(e,t,n){this.store=e,this.service=t,this.query=n,this.resources={}}return e.prototype.addResource=function(e,t,n,r){this.resources[e]=new o(this,t,n,r)},e.prototype.getOrAddResource=function(e,t,n,r){return this.resources[e]||this.addResource(e,t,n,r),this.resources[e]},e}()},996:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(262),a=n.n(i),o=n(28),c=function(){function e(){this.http=Object(o.n)(e.defaultConfig)}return e.prototype.request=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.http.request(e)]}))}))},e.prototype.get=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return[2,this.http.get(e+(t?"?"+a.a.stringify(t):""),n)]}))}))},e.prototype.post=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return[2,this.http.post(e,t,n)]}))}))},e.prototype.put=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return[2,this.http.put(e,t,n)]}))}))},e.prototype.patch=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return[2,this.http.patch(e,t,n)]}))}))},e.prototype.delete=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return[2,this.http.delete(e,t)]}))}))},e.defaultConfig={headers:{"X-Requested-With":"SOS 2.0"}},e}()},997:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){this.store=e,this.name=t}},999:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(2),i=n(28),a=n(1096),o=n.n(a),c=Object(i.n)(),l=new o.a;["get","post","put","delete","patch"].forEach((function(e){return function(e){var t=this,n=c[e];c[e]=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,n.apply(void 0,Object(r.__spreadArray)([i],Object(r.__read)(a)))];case 1:return t=o.sent(),l.emit("request",{method:e,url:i}),[2,t]}}))}))}}(e)}))}}]);