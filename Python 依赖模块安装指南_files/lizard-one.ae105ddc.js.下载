/*! For license information please see lizard-one.ae105ddc.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(282),i=Object(r.initActionTypes)({LOGOUT:"",REMOVE_CURRENT_USER:"",REGISTER:"",GENERIC_LOGIN:"",LOGIN_WITH_CORS_SESSION:"",LOGIN_WITH_DING_TALK:"",SET_CURRENT_USER:"",GET_USER:"",GET_USER_BY_EMAIL:"",GET_USER_BY_MOBILE:"",GET_WECHAT_BINDING_STATUS:"",BIND_WECHAT:"",UNBIND_WECHAT:"",UPDATE_EMAIL:"",BIND_ACCOUNT_EMAIL:"",CHECK_REGISTRATION_BY_EMAIL:"",CHECK_REGISTRATION_BY_MOBILE:"",UPDATE_USERNAME:"",GET_RECENT_CONTACTS:"",DELETE_RECENT_CONTACT:"",GET_ADD_USER_INVITATION_LINK:"",CLOSE_INVITATION_LINK:"",OPEN_INVITATION_LINK:"",GET_TEAM_FROM_INVITATION_LINK:"",INVITE_TEAM_MEMBERS:"",RESET_PASSWORD:"",RESET_PASSWORD_BY_CODE:"",UPDATE_PASSWORD:"",UPLOAD_AVATAR:"",UPDATE_USER_AVATAR:"",SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS:"",SEND_MOBILE_CAPTCHA:"",SEND_EMAIL_CAPTCHA:"",GET_GEETEST_CAPTCHA:"",VERIFY_CAPTCHA:"",VERIFY_ACCOUNT_PASSWORD:"",BIND_MOBILE_NUMBER:"",BIND_MOBILE_ACCOUNT:"",UPDATE_MOBILE:"",SET_MERGE_VIEWED:"",MERGE_ACCOUNT:"",GET_BINDING_INFO_BY_CODE:"",GET_BINDING_INFO_BY_EMAIL:"",GET_BINDING_INFO_BY_MOBILE:"",GET_DING_TALK_TEAM_LIST_BY_CODE:"",SET_ANONYMOUS_USER:"",GET_TEAM_SETTINGS_BY_URL:"",GET_ACTIVITIES_LIST:"",STAR_FILE:"",UNSTAR_FILE:"",MUTE_FILE:"",UNMUTE_FILE:"",UPDATE_FILE_NAME:"",UPDATE_FILE_SHARE_MODE:"",NEW_UPDATE_FILE_SHARE_MODE:"",UPDATE_FILE_SHARE_EXPIRE:"",SET_FILE_PASSWORD_PROTECTED:"",SET_FILE_PASSWORD_UNPROTECTED:"",UPDATE_FILE_SHARE_PASSWORD:"",GET_STARRED_FILES:"",GET_DELETED_FILES:"",GET_RECENT_FILES:"",GET_USED_FILES:"",GET_UPDATED_FILES:"",GET_CREATED_FILES:"",GET_SHARED_FILES:"",GET_UNREAD_SHARED_FILES:"",GET_FILE_CHILDREN:"",GET_FILE:"",GET_FILES_GUIDE:"",CREATE_FILE:"",CREATE_FILE_SYNCHRONOUSLY:"",DUPLICATE_FILE:"",DUPLICATE_FILES:"",REMOVE_FILE:"",REMOVE_FILES:"",DELETE_TRASH:"",EMPTY_TRASH:"",CANCEL_DELETE:"",MARK_FILE:"",MARK_ALL_SHARED_FILES:"",EXIT_FILE:"",MOVE_FILES:"",MOVE_FILE:"",SORT_FILE:"",SEARCH_FILE:"",SAVE_TEMPLATE:"",GET_TEMPLATE_LIMITS:"",RENAME_CUSTOM_TEMPLATE:"",REMOVE_CUSTOM_TEMPLATE:"",GET_FILE_ANCESTORS:"",GET_WECHAT_SHARE_LINK:"",GET_WECHAT_SHARE_QR_LINK:"",GET_SHORTCUTS:"",CREATE_SHORTCUT:"",UPDATE_SHORTCUT:"",REMOVE_SHORTCUT:"",UPDATE_CURRENT_FOLDER:"",BG_SYNC_FILE:"",PUSH_DESTROY_FILE:"",PUSH_CREATE_FILE:"",PUSH_CHECK_FILE_MOVED:"",PUSH_SORT_FILE:"",PUSH_STAR_FILE:"",PUSH_UNSTAR_FILE:"",PUSH_MARK_FILE:"",PUSH_MARK_ALL_FILES_WITH_IDS:"",PUSH_UPDATE_COLLABORATOR_COUNT:"",VERIF_PASSWORD:"",VALIDATE_PASSWORD:"",IS_INCLUDE_LINK_FILE:"",DO_EXPORT_FILE:"",GET_CONTENT:"",SET_CONTENT:"",REMOVE_CONTENT:"",LOCK_CONTENT:"",UNLOCK_CONTENT:"",BG_SYNC_CONTENT:"",PULL_FILE_CONTENTS:"",GET_PENDING_CHANGES:"",BULK_RESTORE:"",RESTORE_DIFF:"",RECOVER_STATE_BY_REMOVING_DIFF:"",RECOVER_STATE_BY_MARKING_MODEL:"",RESTORE_SCHEMA:"",PERSIST:"",MERGE_ENTITIES:"",LOCAL_SYNC:"",API_REQUEST:"",API_REQUEST_GET:"",API_REQUEST_POST:"",API_REQUEST_PATCH:"",API_REQUEST_PUT:"",API_REQUEST_HEAD:"",API_REQUEST_DELETE:"",SET_UNPEEKED_COUNT:"",GET_UNPEAKED_NOTIFICATION_COUNT:"",GET_UNREAD_NOTIFICATION_COUNT:"",GET_NOTIFICATIONS:"",MARK_NOTIFICATIONS_READ:"",MARK_NOTIFICATIONS_ALL_READ:"",GET_COLLABORATORS:"",ADD_COLLABORATOR:"",REMOVE_COLLABORATOR:"",UPDATE_COLLABORATOR_ROLE:"",TRANSFER_OWNER_ROLE:"",ADD_COLLABORATORS:"",GET_SPACE_COLLABORATORS:"",GET_EXTRA_CHILDREN_COLLABORATORS:"",ADD_SPACE_COLLABORATORS:"",REMOVE_SPACE_COLLABORATOR:"",ACCEPT_TEAM_INVITATION:"",JOIN_TEAM_BY_INVITE_GUID:"",GET_TEAM_MEMBERS:"",ADD_TEAM_MEMBERS:"",SEARCH_TEAM_MEMBERS:"",GET_MY_TEAM:"",GET_MY_TEAM_ORDERS:"",SET_ANONYMOUS_TEAM:"",MARK_DATA_LOADED:"",INCREASE_PENDING_REQUESTS:"",DECREASE_PENDING_REQUESTS:"",SET_ONLINE_STATUS:"",SET_PHYSICAL_ONLINE_STATUS:"",PARTIALLY_SYNCHRONIZATION:"",FULL_SYNCHRONIZATION:"",GET_WECHAT_BINDING_QRCODE:"",GET_WECHAT_BINDING_URL:"",GET_WECHAT_INVITE_INFO:"",WIN_PERSONAL_PREMIUM_VERSION:"",WECHAT_REWARDED:"",WECHAT_REWARD_BY_INVITOR:"",WECHAT_NO_REWARD:"",GET_WECHAT_SCAN_INFO:"",GET_USER_GUIDE_INFO:"",UPDATE_USER_GUIDE_INFO:"",GET_FLASH_MESSAGES:"",SET_FLASH_MESSAGE_READ:"",GET_BLUE_TIP:"",CLOSE_BLUE_TIP:"",GET_BULLETIN:"",CLOSE_BULLETIN:"",UPDATE_MAINTENANCE:"",GET_ALPHA_FEATURES:"",GET_ALPHA_FEATURES_BY_URL:"",GET_SUBSCRIPTIONS:"",SWITCH_SUBSCRIPTIONS:"",START_RECEIVE_DISCUSSIONS:"",STOP_RECEIVE_DISCUSSIONS:"",GET_DISCUSSIONS:"",SEND_DISCUSSION:"",MARK_VIEWED_DISCUSSIONS:"",PUSH_CREATE_DISCUSSION:"",PUSH_DELETE_DISCUSSION:"",GET_TEMPLATES:"",CREATE_FILE_BY_TEMPLATE:"",GET_SETTINGS:"",SET_SETTINGS:"",PRELOAD:"",DEMO_FILE:"",GET_SPACES:"",GET_SPACE_TEAM:"",CREATE_SPACE:"",UPDATE_SPACE:"",COVERT_TO_SPACE:"",GET_SUB_DEPT:"",GET_COLLABDEPTS:"",ADD_COLLABDEPTS:"",REMOVE_COLLABDEPT:"",UPDATE_COLLABDEPT_ROLE:"",SPACE:{GET_SIZE:"",SORT:""},LOCK_FILE:"",UNLOCK_FILE:"",GET_WATERMARK:"",UPDATE_TEAM_INFO:"",CREATE_TEAM:"",GET_FILE_CREATOR:"",REMOVE_FILE_SHORTCUT:"",GET_SCRIPTS:"",EXECUTE_SCRIPTS:"",GET_ANNOUNCEMENT:"",CLOSE_ANNOUNCEMENT:"",GET_FEATURES:"",CREATE_REAL_SHORTCUT:""},"$SOS","_")},1:function(e,t,n){"use strict";(function(e,r){n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return E})),n.d(t,"m",(function(){return O})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"l",(function(){return T})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return S})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"k",(function(){return y}));var i=n(2),a=n(150),o=n.n(a),c=n(5),u=n(29),s=n.n(u),d=n(55),f=n.n(d),l=n(76),p=n(259),_=n(377);n.d(t,"f",(function(){return _.a}));var b=new p.TinyEmitter;function m(e,t){var n={};return e.forEach((function(e){n[e]=void 0})),Object(c.Record)(s()(n,t))}function E(t,n){void 0===n&&(n=f.a);var r=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a=n.apply(void 0,Object(i.__spreadArray)([],Object(i.__read)(e))),o={type:t};return void 0!==a&&(o.payload=a),"function"==typeof a&&(o.args=e),o};return r.toString=function(){return void 0!==e&&e&&e.env,t},r.payload=function(e){return{type:t,payload:e}},r.reply=function(e,n){return{type:t,payload:{args:e,result:n}}},r}function O(e){var t=e.local,n=e.remote;return t?t.then((function(e){return n.catch((function(t){if(401===t.status||403===t.status||404===t.status||410===t.status)throw t;return e}))})).catch((function(){return n})).then((function(){})):n}Object(l.b)((function(e){var t=null,n=null,r=function(e,n){return Object(c.is)(e,t&&t[n])};return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(null===t||t.length!==a.length||!a.every(r)){var u=e.apply(void 0,Object(i.__spreadArray)([],Object(i.__read)(a)));Object(c.is)(u,n)||(n=u)}return t=a,n}}));function g(e,t){return function(n,r){void 0===n&&(n=e);var i=r.type,a=r.payload,o=t[i];return o?o(n,a):n}}function v(){return"production"}function T(e,t){"error"!==e&&"warn"!==e||b.emit(e,t)}function h(e){return o.a.find(e)?o.a.find(e).name:e}function S(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}var j=20,I=function(e){void 0===e&&(e=100);var t=2;return{page:function(){return t},addPage:function(){t++},pageSize:function(){return e},resetPage:function(){t=2}}};function y(e){return Boolean(c.List.isList(e)||c.Map.isMap(e)||c.Set.isSet(e)||c.OrderedSet.isOrderedSet(e)||c.OrderedMap.isOrderedMap(e))}}).call(this,n(93),n(70))},10:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return k}));var r,i=n(2),a=n(1),o={readable:!0,editable:!0,commentable:!0,canDuplicate:!0,manageable:!0,sheetLockable:!0,exitable:!1,collaboratorManageable:!0,outsiderAddable:!1,childFileCreatable:!0,shareModeManageable:!0,teamShareModeManageable:!1,moveable:!0,copyable:!0,exportable:!0,lockable:!1,unlockable:!1,adminManageable:!1,removable:!0,downloadable:!0},c=Object.keys(o),u=c.length,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.checkEqual=function(e){for(var t=0;t<u;t+=1){var n=c[t];if(this.get(n)!==e[n])return!1}return!0},t}(Object(a.e)([],o)),d={canManageAdmin:{value:!1,reason:"UNKNOWN"},canCreateChildFile:{value:!1,reason:"UNKNOWN"},canManageCollaborator:{value:!1,reason:"UNKNOWN"},canComment:{value:!1,reason:"UNKNOWN"},canCopy:{value:!1,reason:"UNKNOWN"},canDownload:{value:!1,reason:"UNKNOWN"},canEdit:{value:!1,reason:"UNKNOWN"},canExit:{value:!1,reason:"UNKNOWN"},canExport:{value:!1,reason:"UNKNOWN"},canSetFileAuth:{value:!1,reason:"UNKNOWN"},canLock:{value:!1,reason:"UNKNOWN"},canUnlock:{value:!1,reason:"UNKNOWN"},canManage:{value:!1,reason:"UNKNOWN"},canAddOutsider:{value:!1,reason:"UNKNOWN"},canUsePasswordShareFileFeature:{value:!1,reason:"UNKNOWN"},canRead:{value:!1,reason:"UNKNOWN"},canRemove:{value:!1,reason:"UNKNOWN"},canChangeShareMode:{value:!1,reason:"UNKNOWN"},canUseSheetLockFeature:{value:!1,reason:"UNKNOWN"},canChangeTeamShareMode:{value:!1,reason:"UNKNOWN"},canUseMoveFeature:{value:!1,reason:"UNKNOWN"},canUseChangeRoleFeature:{value:!1,reason:"UNKNOWN"},canModifyAdvancedPermission:{value:!1,reason:"UNKNOWN"},canCustomizeAdvancedPermission:{value:!1,reason:"UNKNOWN"},canPrint:{value:!1,reason:"UNKNOWN"},canDuplicate:{value:!1,reason:"UNKNOWN"}},f=Object.keys(d),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.checkEqual=function(e){for(var t=0;t<f.length;t+=1){var n=f[t];if(this.get(n)!==e[n])return!1}return!0},t}(Object(a.e)([],d)),p=Object(a.e)(["role","permission","created"]),_=["canAdmin","canComment","canEdit","canExit","canLock","canModifyAdmins","canModifyCollaborators","canModifyOwner","canRead","canRemove","canSee","canUnlock"],b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.checkEqual=function(e){if(!e)return!0;if(this.get("role")!==e.role)return!1;if(this.getIn(["created","time"])!==e.created.time||this.getIn(["created","userId"])!==e.created.userId)return!1;for(var t=0;t<_.length;t++){var n=_[t];if(this.getIn(["permission",n])!==e.permission[n])return!1}return!0},t}(p),m=Object(a.e)(["guid","name","type","subType","url"]),E=new s;!function(e){e[e.shortcut=-12]="shortcut",e[e.table=-11]="table",e[e.presentation=-10]="presentation",e[e.board=-9]="board",e[e.form=-8]="form",e[e.mindmap=-7]="mindmap",e[e.modoc=-6]="modoc",e[e.slide=-5]="slide",e[e.mosheet=-4]="mosheet",e[e.sheet=-3]="sheet",e[e.newdoc=-2]="newdoc",e[e.spreadsheet=-1]="spreadsheet",e[e.document=0]="document",e[e.folder=1]="folder",e[e.space=2]="space",e[e.img=3]="img",e[e.pdf=4]="pdf",e[e.xls=5]="xls",e[e.docx=6]="docx",e[e.ppt=7]="ppt",e[e.mp3=8]="mp3",e[e.zip=9]="zip",e[e.mp4=10]="mp4",e[e.wps=11]="wps",e[e.xmind=12]="xmind",e[e.unknown=-999]="unknown"}(r||(r={}));var O=["id","guid","name","type","subType","thumbnailUrl","downloadUrl","fileSize","user","preview","updatedUser","teamId","parentId","shareMode","password","role","lastUsedAt","lastAction","createdAt","updatedAt","sharedAt","moment","excerpt","sharedUser","passwordProtected","sortName","duplicateAction","created","updated","deleted","contentKey","hasPassword","privilege","isSpace","isFromSVC","supportPDFPreview","isLocked","lockedUser","lockedAt","isShortcut","shortcutSource","watermark","onlyAdminsCanModifyCollaborators","hasUnprivilegedParent","parentRole","team","isAdmin","shareModeExpireDuration","shareModeExpiredAt","permissionsAndReasons","shortcutSource"],g={isNew:!1,starred:!1,watched:!1,mute:!1,requirePassword:!1,collaboratorCount:0,departmentCollaboratorCount:0,views:0,marked:!1,hasDesktopShortcut:!1,permissions:E,contentUrl:"",creator:null},v=Object.keys(g);function T(e){var t=e.set("downloadable",e.get("exportable"));return t instanceof s?t:new s(t)}function h(e){return e instanceof l?e:new l(e)}var S=function(e){function t(t){return t&&(t.permissions&&(t.permissions=T(t.permissions)),t.permissionsAndReasons&&(t.permissionsAndReasons=h(t.permissionsAndReasons))),e.call(this,t)||this}return Object(i.__extends)(t,e),t.prototype.set=function(t,n){return O.includes(t)||v.includes(t)?"permissions"===t?e.prototype.set.call(this,"permissions",T(n)):"privilege"===t?e.prototype.set.call(this,"privilege",(r=n)instanceof b?r:new b(r)):"type"===t?e.prototype.set.call(this,"type",Object(a.b)(n)):"shortcutSource"===t?e.prototype.set.call(this,"shortcutSource",function(e){return e instanceof m?e:new m(e)}(n)):"permissionsAndReasons"===t?e.prototype.set.call(this,"permissionsAndReasons",h(n)):e.prototype.set.call(this,t,n):this;var r},t.prototype.checkFieldEqual=function(e,t){if("sortName"===t)return this.checkFieldEqual(e,"name");var n=e[t],r=this.get(t);return"permissions"===t&&r&&n||"privilege"===t&&r&&n?r.checkEqual(n):("updated"===t||"created"===t)&&r&&n?r.get("time")===n.time:"team"===t&&r&&n?r.get("id")===n.id:"type"===t?r===Object(a.b)(n):r===n},t}(Object(a.e)(O,g)),j=Object(a.e)(["createdAt","data","id","isRead","name","updatedAt","userId"]),I=Object(a.e)(["id","token","stale"]),y=n(29),A=n.n(y),N=Object(a.e)(["id","type","file","fileId","user","msg","msgType","teamName","link","createdAt","targetType","targetId","commentId","discussionId","discussionUnixus","selectionTitle","status","action","remindAt","like","path","isFromSVC","isSpace","fileName","withContent","text","actionType","value","roleApply","anonymousCount","nicknames","senderIds"]),R=Object(a.e)(["guid","name","type","mute","isFromSVC","isSpace"]),L=function(e){function t(t){var n=Object.assign({},t);return t.team&&(n.teamId=t.team.id,n.teamName=t.team.name),e.call(this,n)||this}return Object(i.__extends)(t,e),t}(Object(a.e)(["id","name","avatar","email","teamId","teamName"])),C=function(e){function t(t){var n,r=this,i=t.notification;if(i)i.file=Object.assign({guid:i.fileGuid,type:Object(a.b)(i.fileType)},i.file,{isSpace:i.isSpace,isFromSVC:i.isFromSVC,name:i.fileName||(null===(n=i.file)||void 0===n?void 0:n.name)||""}),r=e.call(this,{id:t.id,fileId:null==i?void 0:i.fileId,file:(null==i?void 0:i.file)&&new R(i.file),user:(null==i?void 0:i.user)&&new L(i.user),msg:null==i?void 0:i.msg,type:null==i?void 0:i.type,msgType:null==i?void 0:i.msgType,teamName:null==i?void 0:i.teamName,targetType:null==i?void 0:i.targetType,targetId:null==i?void 0:i.targetId,commentId:null==i?void 0:i.commentId,discussionId:null==i?void 0:i.discussionId,discussionUnixus:null==i?void 0:i.discussionUnixus,selectionTitle:null==i?void 0:i.selectionTitle,link:null==i?void 0:i.link,status:t.status,createdAt:t.createdAt,action:null==i?void 0:i.action,remindAt:null==i?void 0:i.remindAt,like:null==i?void 0:i.like,path:null==i?void 0:i.path,withContent:null==i?void 0:i.withContent,text:null==i?void 0:i.text,actionType:null==i?void 0:i.actionType,value:null==i?void 0:i.value,roleApply:null==i?void 0:i.roleApply,anonymousCount:null==i?void 0:i.anonymousCount,nicknames:null==i?void 0:i.nicknames,senderIds:null==i?void 0:i.senderIds})||this;else{var o=A()({user:void 0},t);o.file=t.file&&new R(t.file),o.user=t.user&&new L(t.user),r=e.call(this,o)||this}return r}return Object(i.__extends)(t,e),t}(N),P=(n(149),Object(a.e)(["id","enterpriseId","name","type","scale","scaleNum","createdAt","membership","quickAction","dingtalkCorp","weworkCorp","seatMemberCount","settings","resources","isMerged"])),D=["accountType","accountTypeExpiredAt","isOfficial","isNewDing","isEnterprisePremium"],w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.checkEqual=function(e){for(var t=0;t<D.length;t++){var n=D[t];if(this.get(n)!==e[n])return!1}return!0},t}(Object(a.e)(D)),x=["isDingtalk","isEnterprise","isEnterprisePremium","isExpired","isFreeEnterprise","isPersonalPremium","isTrial","isWework"],U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.checkEqual=function(e){for(var t=x,n=0;n<t.length;n++){var r=t[n];if(this.get(r)!==e[r])return!1}return!0},t}(Object(a.e)(x));function M(e){return e instanceof w?e:new w(e)}function F(e){return e instanceof U?e:new U(e)}var k=function(e){function t(t){return t&&(!t.team&&t.teamId&&(t.team=t.teamId),t.membership&&(t.membership=M(t.membership)),t.accountMetadata&&(t.accountMetadata=F(t.accountMetadata))),e.call(this,t)||this}return Object(i.__extends)(t,e),t.prototype.set=function(t,n){return"membership"===t&&(n=M(n)),"accountMetadata"===t&&(n=F(n)),e.prototype.set.call(this,t,n)},t.prototype.checkFieldEqual=function(e,t){var n=e[t],r=this.get(t);return"membership"===t&&r&&n||"accountMetadata"===t&&r&&n?r.checkEqual(n):r===n},t}(Object(a.e)(["id","name","email","hiddenEmail","mobileAccount","mobile","hiddenMobile","hasPassword","avatar","membership","accountMetadata","team","teamRole","teamTime","status","wechatBound","isOutsider","isSeat","createdAt","mergedInto","role","activitiesList","editionName","requiresIdentityVerification"]))},11:function(e,t){e.exports=s18n},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(46),i=new r.Schema("users"),a=new r.Schema("teams"),o=new r.Schema("files","guid");i.define({team:a}),o.define({user:i,updatedUser:i,sharedUser:i})},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.d})),n.d(t,"s",(function(){return i.e})),n.d(t,"q",(function(){return a.b})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return _})),n.d(t,"r",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"o",(function(){return E})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return C}));var r={};n.r(r),n.d(r,"FunctionLazyLoader",(function(){return h})),n.d(r,"zhiChiLoader",(function(){return S})),n.d(r,"feedbackUrlLoader",(function(){return j}));var i=n(279),a=(n(260),n(193)),o=n(2),c=n(8),u=n(28),s=n(92);function d(e){var t=Object(o.__read)(Object(c.useState)(""),2),n=t[0],r=t[1];return Object(c.useEffect)((function(){(function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2,u.s.post("/files/"+e+"/invite_links")]}))}))})(e).then((function(e){var t=e.wechatQRLink,n=114*window.devicePixelRatio;r(Object(s.getHost)()+"/qrcode?size="+n+"&margin=0&url="+t)}),(function(){r("")}))}),[e]),n}var f=n(124),l=n(37),p=n(268),_=n(272),b=n(276),m=n(264),E=n(123),O=n(285);n(261);function g(e){var t=null;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t)return t;var i=e.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(n)));return i instanceof Promise&&(t=i,i.then((function(){t=null})).catch((function(){t=null}))),i}}var v=n(36),T=n.n(v);var h=function(){function e(){this.pendingCalls=[]}return e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.myFunction?this.myFunction.apply(this,Object(o.__spreadArray)([],Object(o.__read)(e))):this.pendingCalls.push(new Promise((function(t){t(e)})))},e.prototype.bindCall=function(e){var t=this;this.myFunction=e,Promise.all(this.pendingCalls).then((function(n){n.forEach((function(t){e.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)))})),t.pendingCalls=[]})).catch(console.error)},e}(),S=new h,j=new h,I=T()("2021/06/24 00:00:00");function y(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){return __RUNTIME_ENV__.PRIVATE_DEPLOY?[2,!0]:[2,u.s.get("/alpha_features/force_use_new_desktop")]}))}))}function A(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,u.s.get("/users/me/settings")];case 1:return e=t.sent().data,[2,JSON.parse(e)];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function N(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([A(),u.s.get("/users/me"),y()])];case 1:return e=o.__read.apply(void 0,[i.sent(),3]),t=e[0],n=e[1],r=e[2],[2,{settings:t,me:n,forceUseNewDesktop:r}]}}))}))}function R(e){var t;return null!==(t=null==e?void 0:e.useDesktop2_5)&&void 0!==t&&t}function L(e){return!T()(e.createdAt).isBefore(I)}function C(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(o.__generator)(this,(function(i){switch(i.label){case 0:return[4,N()];case 1:return e=i.sent(),t=e.settings,n=e.me,r=e.forceUseNewDesktop,__RUNTIME_ENV__.FORCE_DESKTOP_LEGACY?[2,!1]:[2,[R(t),L(n),r].reduce((function(e,t){return t||e}),!1)]}}))}))}},123:function(e,t,n){"use strict";n.r(t),n.d(t,"redirectTo",(function(){return a})),n.d(t,"createWindowOpener",(function(){return o})),n.d(t,"getCompleteUrl",(function(){return c})),n.d(t,"redirectUrlFromShare",(function(){return u}));var r=n(91),i=n(92);function a(e){window.location.href=e}function o(){if(Object(r.isDingtalk)())return a;if(navigator.userAgent.includes("Electron"))return function(e){window.open(e)};var e=window.open("","_blank");return function(t){e?e.location.href=t:location.href=t}}function c(e){return e.includes("://")?e:(e.startsWith("/")||(e="/"+e),Object(i.getHost)()+e)}function u(e,t){var n="/"+e+"/"+t+location.search+location.hash;history.replaceState(null,document.title,n)}},124:function(e,t,n){"use strict";n.r(t),n.d(t,"formatDate",(function(){return _})),n.d(t,"isSame",(function(){return b})),n.d(t,"getDistanceBetweenDays",(function(){return m})),n.d(t,"about",(function(){return E})),n.d(t,"formatTime",(function(){return O}));var r,i,a,o,c,u,s=n(2),d=n(11),f=n.n(d),l=n(36),p=n.n(l),_=function(e,t,n){void 0===t&&(t=p()()),void 0===n&&(n=6e5);var a=p()(e);if(a.isAfter(t))return a.diff(t,"millisecond")<=n?f()("刚刚"):a.format(f()("M月D日 H:mm"));var o=p()(t).subtract(1,"day");return t.diff(a,"second")<=60?f()("刚刚"):t.isSame(a,"day")?f()(r||(r=Object(s.__makeTemplateObject)(["今天",""],["今天",""])),a.format(" H:mm")):o.isSame(a,"day")?f()(i||(i=Object(s.__makeTemplateObject)(["昨天",""],["昨天",""])),a.format(" H:mm")):t.diff(a,"month",!0)<=2?a.format(f()("M月D日 H:mm")):t.isSame(a,"year")?a.format(f()("M月D日")):a.format(f()("YYYY年M月D日"))},b=function(e,t){return p()(e).isSame(t)},m=function(e,t){var n=t?p()(t):p()(),r=p()(e);return Math.abs(n.diff(r,"day"))},E=function(e){var t=e/1e3,n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%86400%3600/60),a=Math.floor(t%86400%3600%60);return n>0?""+n+f()("天"):r>0?""+r+f()("时"):i>0?""+i+f()("分钟"):""+a+f()("秒")},O=function(e){var t=Math.floor(e/60),n=Math.floor(t/60);return n>0?""+f()(a||(a=Object(s.__makeTemplateObject)(["","小时"],["","小时"])),n)+f()(o||(o=Object(s.__makeTemplateObject)(["","分钟"],["","分钟"])),t-60*n):t<1?f()(c||(c=Object(s.__makeTemplateObject)(["","秒"],["","秒"])),e):f()(u||(u=Object(s.__makeTemplateObject)(["","分钟"],["","分钟"])),t)}},146:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(2),i=function(e){e.interceptors.response.use((function(e){var t=e.data;return function(e){return[204,205,304].includes(e)}(e.status)?null:t}),(function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,Promise.reject(e)]}))}))}),{synchronous:!0})},a=function(e){e.interceptors.response.use(void 0,(function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return(t=e.response)?[2,Promise.reject(t)]:[2,Promise.reject(e)]}))}))}))},o=function(e,t){var n=0;e.interceptors.response.use(void 0,(function(i){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var a;return Object(r.__generator)(this,(function(r){return a=i.config,n<t?(n+=1,[2,new Promise((function(t){t(e(a))}))]):[2,Promise.reject(i)]}))}))}))},c=function(t){t.interceptors.response.use(void 0,(function(t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,a,o,c,u;return Object(r.__generator)(this,(function(r){return 401===(null==(n=t.response)?void 0:n.status)&&(null==(i=null!==(o=null===(a=null===window||void 0===window?void 0:window.shimo)||void 0===a?void 0:a.emitter)&&void 0!==o?o:null===(u=null===(c=e)||void 0===c?void 0:c.shimo)||void 0===u?void 0:u.emitter)||i.emit("auth.failure")),[2,Promise.reject(t)]}))}))}))}}).call(this,n(70))},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i=Object(r.e)([],{online:!0,physicalOnline:!0,pendingRequests:0,dataLoaded:!0,pushClientId:Object(r.h)()})},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p}));var r,i=n(2),a=n(8),o=n.n(a),c=(r=o.a.createContext({})).Provider,u=r.Consumer,s={};function d(e,t){var n=s[e];n&&n.forEach((function(e){return e(t)}))}var f=function(e){var t=e.children;return o.a.createElement(c,{value:{publishEvent:d}},t)},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.topic,n=e.onMessage;this.dispose=function(e,t){var n=s[e];return n||(n=[],s[e]=n),n.push(t),function(){n.splice(n.indexOf(t),1)}}(t,n)},t.prototype.componentWillUnmount=function(){var e;null===(e=this.dispose)||void 0===e||e.call(this)},t.prototype.render=function(){return null},t}(o.a.Component);function p(e){var t=function(t){return o.a.createElement(u,null,(function(n){var r=Object(i.__assign)(Object(i.__assign)({},n),t);return o.a.createElement(e,Object(i.__assign)({},r))}))};return t.displayName="withMessenger",t}},17:function(e,t,n){"use strict";function r(e){var t=e.accountMetadata;if(!t)return{};var n=t.isExpired,r=t.isDingtalk,i=t.isWework,a=t.isEnterprise,o=t.isFreeEnterprise,c=t.isTrial,u=t.isPersonalPremium,s=t.isEnterprisePremium;return{isDingtalk:r,isWework:i,isTrial:c,isExpired:n,isPersonalPremium:u,isEnterprise:a,enterprise:a?{isFreeEnterprise:o,isEnterprisePremium:s}:void 0}}n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return p})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return b}));var i=function(e){return!!(e&&e.membership&&e.membership.isNewDing)},a=function(e){var t=r(e),n=t.isDingtalk,i=t.isEnterprise,a=t.enterprise;return!!(n&&i&&a&&a.isFreeEnterprise)},o=function(e){return!r(e).isEnterprise},c=function(e){var t=r(e),n=t.isEnterprise,i=t.isPersonalPremium;return!n&&!i},u=function(e){return!!r(e).isPersonalPremium},s=function(e){return!!r(e).isEnterprise},d=function(e){var t=r(e),n=t.isEnterprise,i=t.enterprise;return!(!n||!i||i.isFreeEnterprise||i.isEnterprisePremium)},f=function(e){var t=r(e),n=t.isEnterprise,i=t.enterprise;return!!(n&&i&&i.isEnterprisePremium)},l=function(e){return!!r(e).isExpired},p=function(e){return!!r(e).isTrial},_=function(e){return!(!e||!e.dingtalkCorp)},b=function(e){return!_(e)}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(17),n(24);var r=function(e,t){var n,r=null===(n=null==t?void 0:t.settings)||void 0===n?void 0:n.invite,i=e.teamRole;return!(!r||!i||"disabled"===i)&&r.indexOf(i)>=0}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(11),i=n.n(r),a=n(46),o=n(12),c=n(4),u=n(1),s=n(0),d=n(7),f=n(21),l=Object(u.c)(s.a.GET_COLLABORATORS,(function(e){if(!e)throw new Error('"fileId" is required');return function(t){var n=t.dispatch,r=t.next,i=(0,t.getState)(),a=i.collaborators,s=i.files;e=c.b.mirrorId(s,e);var l=c.a.get(a,e),p=e.startsWith("-")?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):n(Object(d.get)("files/"+e+"/collaborators",{schema:[{user:o.c}],transformResponseBody:function(e){return e.map((function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}}))}})).then((function(t){r({fileId:e,collaborators:t})}));return Object(u.m)({local:l&&n(Object(f.g)(l.toJS(),[{user:o.c}])),remote:p})}})),p=(Object(u.c)(s.a.ADD_COLLABORATOR,(function(e,t){return function(n){var r=n.dispatch,a=n.getState,u=n.next;return(e=c.b.mirrorId(a().files,e)).startsWith("-")?Promise.reject(new Error(i()("文件还未同步，请等待文件同步后重试"))):r(Object(d.post)("files/"+e+"/collaborators",{body:t,schema:o.c})).then((function(n){return u({fileId:e,data:{user:n,role:t.role,fromParent:!1,permission:"editable",owner:!1}})}))}})),Object(u.c)(s.a.REMOVE_COLLABORATOR,(function(e,t){return function(n){var r=n.dispatch,a=n.next,o=n.getState;return(e=c.b.mirrorId(o().files,e)).startsWith("-")?Promise.reject(new Error(i()("文件还未同步，请等待文件同步后重试"))):r(Object(d.destroy)("files/"+e+"/collaborators/"+t)).then((function(){a({fileId:e,userId:t})}))}})));Object(u.c)(s.a.UPDATE_COLLABORATOR_ROLE,(function(e,t,n){return function(r){var a=r.dispatch,o=r.next,u=r.getState;return(e=c.b.mirrorId(u().files,e)).startsWith("-")?Promise.reject(new Error(i()("文件还未同步，请等待文件同步后重试"))):a(Object(d.patch)("files/"+e+"/collaborators/"+t,{body:{role:n}})).then((function(){o({fileId:e,userId:t,role:n})}))}})),Object(u.c)(s.a.TRANSFER_OWNER_ROLE,(function(e,t,n){return void 0===n&&(n=!1),function(r){var a=r.dispatch,o=r.next,u=r.getState;if((e=c.b.mirrorId(u().files,e)).startsWith("-"))return Promise.reject(new Error(i()("文件还未同步，请等待文件同步后重试")));var s=n?"spaces/"+e+"/owner":"files/"+e;return a(Object(d.patch)(s,{body:{userId:t}})).then((function(n){o({fileId:e,userId:t,file:n})}))}})),Object(u.c)(s.a.ADD_COLLABORATORS,(function(e,t,n){return void 0===n&&(n="web"),function(r){var i=r.dispatch,c=r.next,u="files/"+e+"/collaborators/batch",s={collaborators:t};"wework"===n&&(u="files/"+e+"/collaborators/batch_wework",s={departments:t.departments,users:t.users});return i(Object(d.post)(u,{body:s})).then((function(t){var n=[],r=t.reduce((function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)}),[]),u=Object(a.wormalize)(r,[{user:o.c}]),s=u.result,d=u.entities;return i(Object(f.g)(s,[{user:o.c}],d)).then((function(){i(Object(f.c)(d))})),c({fileId:e,data:s}),{successCount:s?s.length:0,errors:n}}))}})),Object(u.c)(s.a.GET_SPACE_COLLABORATORS,(function(e){if(!e)throw new Error('"fileId" is required');return function(t){var n=t.dispatch,r=t.next,i=(0,t.getState)(),a=i.collaborators,s=i.files;e=c.b.mirrorId(s,e);var l=c.a.get(a,e),p=e.startsWith("-")?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):n(Object(d.get)("space_files/"+e+"/collaborators",{schema:[{user:o.c}],transformResponseBody:function(e){return e.map((function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}}))}})).then((function(t){r({spaceId:e,collaborators:t})}));return Object(u.m)({local:l&&n(Object(f.g)(l.toJS(),[{user:o.c}])),remote:p})}})),Object(u.c)(s.a.GET_EXTRA_CHILDREN_COLLABORATORS,(function(e){return function(t){return(0,t.dispatch)(Object(d.get)("files/"+e+"/children/collaborators")).then((function(e){return e}))}})),Object(u.c)(s.a.ADD_SPACE_COLLABORATORS,(function(e,t){return function(n){var r=n.dispatch,i=n.next;return r(Object(d.post)("space_files/"+e+"/collaborators",t)).then((function(t){var n=[],c=t.reduce((function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)}),[]),u=Object(a.wormalize)(c,[{user:o.c}]),s=u.result,d=u.entities;return r(Object(f.g)(s,[{user:o.c}],d)).then((function(){r(Object(f.c)(d))})),i({fileId:e,data:s}),{successCount:s?s.length:0,errors:n}}))}})),Object(u.c)(s.a.REMOVE_SPACE_COLLABORATOR,(function(e,t){return function(n){var r=n.dispatch,i=n.next,a=n.getState;return e=c.b.mirrorId(a().files,e),r(Object(d.destroy)("space_files/"+e+"/collaborators/"+t)).then((function(){i({spaceId:e,userId:t})}))}}))},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={OUTSIDER_CANNOT_ADD_USER:"OUTSIDER_CANNOT_ADD_USER",DISABLED_CANNOT_ADD_USER:"DISABLED_CANNOT_ADD_USER",EXPIRED_CANNOT_ADD_USER:"EXPIRED_CANNOT_ADD_USER",NOT_ON_SEAT_CANNOT_ADD_USER:"NOT_ON_SEAT_CANNOT_ADD_USER",NO_ACCESS_ADD_OUTSIDER:"NO_ACCESS_ADD_OUTSIDER",NO_ACCESS_ADD_USER:"NO_ACCESS_ADD_USER",PERSONAL_VERSION_CANNOT_ADD_USER:"PERSONAL_VERSION_CANNOT_ADD_USER",ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER:"ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER",NO_ACCESS_TRANSFER:"NO_ACCESS_TRANSFER",NO_ACCESS_EDIT:"NO_ACCESS_EDIT",NO_ACCESS_MODIFY:"NO_ACCESS_MODIFY",OUTSIDER_CANNOT_MODIFY_ROLE:"OUTSIDER_CANNOT_MODIFY_ROLE",TOO_MANY_COLLABORATORS:"TOO_MANY_COLLABORATORS",EXPIRED_CANNOT_MODIFY_ROLE:"EXPIRED_CANNOT_MODIFY_ROLE",ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE:"ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE",FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:"FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE",FAILURE_PERSONAL_FREE:"FAILURE_PERSONAL_FREE",FAILURE_READ_ONLY:"FAILURE_READ_ONLY",FAILURE_TRIAL_EXPIRED:"FAILURE_TRIAL_EXPIRED",FAILURE_NOT_ON_SEAT:"FAILURE_NOT_ON_SEAT",FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:"FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN",FAILURE_ENTERPRISE_EXPIRED_MEMBER:"FAILURE_ENTERPRISE_EXPIRED_MEMBER",NO_ACCESS_DELETE:"NO_ACCESS_DELETE",DELETE_FILE_OR_EXIT_SHARE:"DELETE_FILE_OR_EXIT_SHARE",ONLY_DELETE_FILE:"ONLY_DELETE_FILE",ONLY_EXIT_SHARE:"ONLY_EXIT_SHARE",NO_ACCESS_MOVE_FOLDER:"NO_ACCESS_MOVE_FOLDER",NO_ACCESS_MOVE_FILE:"NO_ACCESS_MOVE_FILE",NO_ACCESS_CREATE_OR_UPLOAD_FILE:"NO_ACCESS_CREATE_OR_UPLOAD_FILE",FAILURE_ENTERPRISE_DINGTALK:"FAILURE_ENTERPRISE_DINGTALK"};t.b=r},193:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var r,i=n(2),a=n(8),o=n.n(a),c=n(125),u=n.n(c),s=function(){function e(e,t){var n=this;this.onStateChange=u.a,this.callbacks=[],this.onChange=function(){n.callbacks.forEach((function(e){return e()}))},this.store=e,this.parentSubscriber=null!=t?t:this}return e.prototype.trySubscribe=function(){this.parentSubscriber.subscribe(this.onStateChange),this.parentSubscriber===this&&this.store.subscribe(this.onChange)},e.prototype.tryUnsubscribe=function(){this.parentSubscriber.unsubscribe(this.onStateChange)},e.prototype.subscribe=function(e){this.callbacks.push(e)},e.prototype.unsubscribe=function(e){this.callbacks=this.callbacks.filter((function(t){return t!==e}))},e}();function d(e,t){return e===t}var f="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.a.useLayoutEffect:o.a.useEffect;function l(e,t){var n,a;void 0===t&&(t=d);var c,u=window.shimo.store,l=Object(i.__read)(o.a.useReducer((function(e){return e+1}),0),2)[1],p=o.a.useMemo((function(){return function(e){return r?new s(e,r):r=new s(e,void 0)}(u)}),[u]),_=o.a.useRef(),b=o.a.useRef(),m=o.a.useRef(),E=o.a.useRef(),O=u.getState();try{c=e!==b.current||O!==m.current||_.current?e(O):E.current}catch(e){if(_.current){var g=null!==(a=null===(n=_.current)||void 0===n?void 0:n.stack)&&void 0!==a?a:"unknown error";e.message+="\nThe error may be correlated with this previous error:\n"+g+"\n\n"}throw e}return f((function(){b.current=e,m.current=O,E.current=c,_.current=void 0})),f((function(){function e(){try{var e=b.current(u.getState());if(t(e,E.current))return;E.current=e}catch(e){_.current=e}l()}return p.onStateChange=e,p.trySubscribe(),e(),function(){return p.tryUnsubscribe()}}),[u,p]),c}function p(){return window.shimo.store.dispatch}},207:function(e,t,n){"use strict";var r=n(271);n.d(t,"b",(function(){return r}));var i=n(19);n.d(t,"a",(function(){return i.a}))},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return O}));var r=n(2),i=n(0),a=n(29),o=n.n(a),c=n(251),u=n.n(c),s=n(46),d=n(4),f=n(1),l=(Object(f.c)(i.a.GET_PENDING_CHANGES,(function(){return function(e){var t=(0,e.getState)().files,n={total:0,files:{remove:0,insert:0,update:0}};return t.get("diff").forEach((function(e){e&&(n.total+=1,e.has("isNew")?n.files.insert+=1:n.files.update+=1)})),n}})),Object(f.c)(i.a.BULK_RESTORE,(function(e){return function(t){var n=t.next,r=t.storage;return r?r.mget(e.map((function(e){return"sos:"+e}))).then((function(t){n(u()(e,t))})):Promise.resolve()}}))),p=Object(f.c)(i.a.RESTORE_DIFF,(function(e){return function(t){var n=t.next,r=t.storage;return Promise.all(e.map((function(e){return r?r.get("sos:"+e+":diff"):null}))).then((function(t){n(u()(e,t))}))}})),_=(Object(f.c)(i.a.RECOVER_STATE_BY_REMOVING_DIFF),Object(f.c)(i.a.RECOVER_STATE_BY_MARKING_MODEL)),b=Object(f.c)(i.a.RESTORE_SCHEMA,(function(e,t,n){return function(i){var a=i.next,c=i.storage,u=i.getState,f={};function l(e){return 0===e.length?Promise.resolve(!0):(c?c.mget(e.map((function(e){var t=Object(r.__read)(e,2);return"sos:"+t[0]+":data:"+t[1]}))):Promise.resolve(new Array(e.length))).then((function(t){for(var n=0;n<t.length;n++){var i=t[n],a=Object(r.__read)(e[n],2),c=a[0],u=a[1];f[c]||(f[c]={}),i?"object"!=typeof i||Array.isArray(i)?f[c][u]=i:f[c][u]=o()(f[c][u]||{},i):f[c][u]=null}return!1}))}function p(n){return void 0===n&&(n=1),function(){var n=u(),r=[];return Object(s.dewormalize)(e,t,(function(e,t){return d.b.has(n[e],t)?null:f[e]&&void 0!==f[e][t]?f[e][t]:(r.push([e,t]),null)})),l(r)}().then((function(e){if(!e){if(n>10)throw new Error("max level reached");return p(n+1)}}))}var _=[];if(n){var b=u();Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"files"!==e&&(t=Number(t)),d.b.has(b[e],t)||_.push([e,t])}))}))}return l(_).then((function(){return p().then((function(){return Object.keys(f).length>0&&a(f),f}))}))}})),m=Object(f.c)(i.a.PERSIST,(function(e){return function(t){var n=t.getState,r=t.storage,i=t.next;if(r){var a=n()[e];switch(e){case"files":case"users":case"teams":return d.b.persist(a,"sos:"+e,r)&&i(e);case"notifications":return r.set("sos:"+e,a&&a.withMutations((function(e){["all","read"].forEach((function(t){var n=e.get(t);n&&n.size>f.a&&(e.set(t,n&&n.slice(0,f.a)),e.set(t+"HasMore",!0))}))})).toJS());case"tree":case"collaborators":return r.set("sos:"+e,a&&a.get("data").toJS());default:var o=a&&(Object(f.k)(a)?a.toJS():a);return r.set("sos:"+e,o)}}}})),E=Object(f.c)(i.a.MERGE_ENTITIES),O=Object(f.c)(i.a.LOCAL_SYNC,(function(e){return function(){return Promise.resolve(e)}}))},24:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return p}));var r=n(17),i=function(e){return!e.isSeat},a=function(e){return!!e.isSeat},o=function(e){return"creator"===e.teamRole},c=function(e){return"admin"===e.teamRole},u=function(e){return!(!e.team||"member"!==e.teamRole)},s=function(e,t){var n;return((e.getIn?e.getIn(["created","userId"]):null===(n=null==e?void 0:e.created)||void 0===n?void 0:n.userId)||-1)===t.id},d=function(e){return"disabled"===e.teamRole},f=function(e){return Object(r.j)(e)||Object(r.a)(e)&&Object(r.e)(e)||Object(r.a)(e)&&i(e)},l=function(e){return 1===e.status},p=function(e){return!!e.mobile}},254:function(e,t,n){"use strict";n.d(t,"C",(function(){return d})),n.d(t,"D",(function(){return f})),n.d(t,"G",(function(){return l.a})),n.d(t,"Kb",(function(){return l.b})),n.d(t,"Lc",(function(){return O.T})),n.d(t,"Rc",(function(){return O.X})),n.d(t,"Db",(function(){return O.A})),n.d(t,"Qc",(function(){return O.W})),n.d(t,"Sc",(function(){return O.Z})),n.d(t,"Vc",(function(){return O.cb})),n.d(t,"Eb",(function(){return O.B})),n.d(t,"Uc",(function(){return O.bb})),n.d(t,"Ib",(function(){return O.C})),n.d(t,"Nc",(function(){return O.U})),n.d(t,"Tc",(function(){return O.ab})),n.d(t,"bb",(function(){return O.u})),n.d(t,"J",(function(){return O.m})),n.d(t,"U",(function(){return O.r})),n.d(t,"kb",(function(){return O.w})),n.d(t,"jb",(function(){return O.v})),n.d(t,"H",(function(){return O.l})),n.d(t,"X",(function(){return O.s})),n.d(t,"N",(function(){return O.p})),n.d(t,"L",(function(){return O.n})),n.d(t,"l",(function(){return O.c})),n.d(t,"u",(function(){return O.h})),n.d(t,"v",(function(){return O.i})),n.d(t,"Mb",(function(){return O.L})),n.d(t,"Nb",(function(){return O.M})),n.d(t,"Ob",(function(){return O.N})),n.d(t,"s",(function(){return O.f})),n.d(t,"x",(function(){return O.j})),n.d(t,"h",(function(){return O.b})),n.d(t,"z",(function(){return O.k})),n.d(t,"Cb",(function(){return O.z})),n.d(t,"Jc",(function(){return O.S})),n.d(t,"Tb",(function(){return O.Q})),n.d(t,"Ub",(function(){return O.R})),n.d(t,"Sb",(function(){return O.P})),n.d(t,"M",(function(){return O.o})),n.d(t,"Y",(function(){return O.t})),n.d(t,"n",(function(){return O.e})),n.d(t,"Yc",(function(){return O.db})),n.d(t,"Pb",(function(){return O.O})),n.d(t,"cd",(function(){return O.eb})),n.d(t,"t",(function(){return O.g})),n.d(t,"vb",(function(){return O.y})),n.d(t,"Pc",(function(){return O.V})),n.d(t,"nb",(function(){return O.x})),n.d(t,"O",(function(){return O.q})),n.d(t,"m",(function(){return O.d})),n.d(t,"P",(function(){return g})),n.d(t,"Fc",(function(){return v})),n.d(t,"E",(function(){return T})),n.d(t,"i",(function(){return h})),n.d(t,"F",(function(){return S})),n.d(t,"j",(function(){return j})),n.d(t,"Ic",(function(){return A})),n.d(t,"hb",(function(){return N})),n.d(t,"ib",(function(){return R})),n.d(t,"T",(function(){return L})),n.d(t,"zb",(function(){return C})),n.d(t,"yb",(function(){return P})),n.d(t,"Hb",(function(){return D})),n.d(t,"A",(function(){return u.get})),n.d(t,"Gb",(function(){return u.post})),n.d(t,"Fb",(function(){return u.patch})),n.d(t,"W",(function(){return w})),n.d(t,"Hc",(function(){return x})),n.d(t,"ab",(function(){return F})),n.d(t,"o",(function(){return z})),n.d(t,"Zc",(function(){return B})),n.d(t,"Z",(function(){return H})),n.d(t,"Kc",(function(){return V})),n.d(t,"Gc",(function(){return W.e})),n.d(t,"Ab",(function(){return s.c})),n.d(t,"cb",(function(){return Y})),n.d(t,"Mc",(function(){return K})),n.d(t,"c",(function(){return Z})),n.d(t,"ub",(function(){return ee})),n.d(t,"eb",(function(){return te})),n.d(t,"Vb",(function(){return ne})),n.d(t,"R",(function(){return re})),n.d(t,"Dc",(function(){return ie})),n.d(t,"S",(function(){return ae})),n.d(t,"q",(function(){return oe})),n.d(t,"gb",(function(){return ce.c})),n.d(t,"k",(function(){return ce.a})),n.d(t,"fb",(function(){return ce.b})),n.d(t,"Qb",(function(){return ce.e})),n.d(t,"Lb",(function(){return ce.d})),n.d(t,"b",(function(){return c.a})),n.d(t,"mb",(function(){return le})),n.d(t,"ad",(function(){return pe})),n.d(t,"xb",(function(){return ve})),n.d(t,"Jb",(function(){return Te})),n.d(t,"wb",(function(){return he})),n.d(t,"I",(function(){return Se})),n.d(t,"lb",(function(){return je})),n.d(t,"pb",(function(){return Ie})),n.d(t,"Oc",(function(){return ye})),n.d(t,"f",(function(){return Ae})),n.d(t,"bd",(function(){return Ne})),n.d(t,"B",(function(){return Re})),n.d(t,"db",(function(){return Le})),n.d(t,"tb",(function(){return Ce})),n.d(t,"Rb",(function(){return Pe})),n.d(t,"Xc",(function(){return De})),n.d(t,"Cc",(function(){return we})),n.d(t,"e",(function(){return xe})),n.d(t,"Bc",(function(){return Ue})),n.d(t,"Q",(function(){return Me})),n.d(t,"d",(function(){return Fe})),n.d(t,"g",(function(){return ke})),n.d(t,"Wc",(function(){return Ge})),n.d(t,"Ec",(function(){return ze})),n.d(t,"ob",(function(){return Be})),n.d(t,"qb",(function(){return He})),n.d(t,"rb",(function(){return Ve})),n.d(t,"dd",(function(){return We})),n.d(t,"sb",(function(){return Je})),n.d(t,"V",(function(){return qe})),n.d(t,"y",(function(){return Qe})),n.d(t,"K",(function(){return $e})),n.d(t,"Wb",(function(){return y.a})),n.d(t,"ic",(function(){return y.m})),n.d(t,"oc",(function(){return y.s})),n.d(t,"nc",(function(){return y.r})),n.d(t,"xc",(function(){return y.C})),n.d(t,"qc",(function(){return y.u})),n.d(t,"Xb",(function(){return y.b})),n.d(t,"pc",(function(){return y.t})),n.d(t,"yc",(function(){return y.D})),n.d(t,"sc",(function(){return y.w})),n.d(t,"Zb",(function(){return y.d})),n.d(t,"ec",(function(){return y.i})),n.d(t,"rc",(function(){return y.v})),n.d(t,"ac",(function(){return y.e})),n.d(t,"cc",(function(){return y.g})),n.d(t,"fc",(function(){return y.j})),n.d(t,"mc",(function(){return y.q})),n.d(t,"tc",(function(){return y.x})),n.d(t,"jc",(function(){return y.n})),n.d(t,"uc",(function(){return y.y})),n.d(t,"lc",(function(){return y.p})),n.d(t,"kc",(function(){return y.o})),n.d(t,"wc",(function(){return y.A})),n.d(t,"vc",(function(){return y.z})),n.d(t,"gc",(function(){return y.k})),n.d(t,"hc",(function(){return y.l})),n.d(t,"dc",(function(){return y.h})),n.d(t,"Ac",(function(){return y.F})),n.d(t,"zc",(function(){return y.E})),n.d(t,"Yb",(function(){return y.c})),n.d(t,"bc",(function(){return y.f})),n.d(t,"Bb",(function(){return r})),n.d(t,"r",(function(){return yt})),n.d(t,"p",(function(){return dt})),n.d(t,"w",(function(){return o.g})),n.d(t,"a",(function(){return zt.b}));var r={};n.r(r),n.d(r,"alphaFeatures",(function(){return At})),n.d(r,"blueTips",(function(){return Nt})),n.d(r,"bulletin",(function(){return Rt})),n.d(r,"collaborators",(function(){return Lt})),n.d(r,"collabDepts",(function(){return Pt})),n.d(r,"created",(function(){return Dt})),n.d(r,"deleted",(function(){return wt})),n.d(r,"discussions",(function(){return Ft})),n.d(r,"files",(function(){return Vt})),n.d(r,"flashMessages",(function(){return Wt})),n.d(r,"maintenance",(function(){return Yt})),n.d(r,"me",(function(){return Kt})),n.d(r,"notifications",(function(){return Jt})),n.d(r,"recent",(function(){return an})),n.d(r,"recentContacts",(function(){return on})),n.d(r,"settings",(function(){return cn})),n.d(r,"shared",(function(){return un})),n.d(r,"shortcuts",(function(){return fn})),n.d(r,"spaces",(function(){return ln})),n.d(r,"starred",(function(){return pn})),n.d(r,"status",(function(){return In})),n.d(r,"subscriptions",(function(){return An})),n.d(r,"syncedFiles",(function(){return Nn})),n.d(r,"teamMembers",(function(){return Rn})),n.d(r,"teams",(function(){return Ln})),n.d(r,"templates",(function(){return Cn})),n.d(r,"templateLimit",(function(){return Pn})),n.d(r,"tree",(function(){return wn})),n.d(r,"unreadShared",(function(){return Yn})),n.d(r,"updated",(function(){return Kn})),n.d(r,"used",(function(){return Xn})),n.d(r,"userGuide",(function(){return Jn})),n.d(r,"users",(function(){return qn})),n.d(r,"wechat",(function(){return Qn})),n.d(r,"scripts",(function(){return $n})),n.d(r,"departments",(function(){return Zn})),n.d(r,"features",(function(){return er}));var i=n(5),a=(n(125),n(2)),o=n(1),c=n(0),u=n(7),s=n(21),d=Object(o.c)(c.a.GET_ALPHA_FEATURES,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var t,c,d;return Object(a.__generator)(this,(function(a){return t=n().alphaFeatures,!!e&&e.isAjax?[2,r(Object(u.get)("alpha_features")).then((function(e){return i(e),e}))]:(c="object"==typeof t?r(Object(s.b)(t)):void 0,d=r(Object(u.get)("alpha_features")).then((function(e){return i(e)})),[2,Object(o.m)({local:c,remote:d})])}))}))}})),f=Object(o.c)(c.a.GET_ALPHA_FEATURES_BY_URL,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var t,c,d,f;return Object(a.__generator)(this,(function(a){return t=n().alphaFeatures,c="object"==typeof t?r(Object(s.b)(t)):void 0,d=e,"professional_docs"===e&&(e+="?ver=2"),f=r(Object(u.get)("alpha_features/"+e)).then((function(e){return i({url:d,alphaFeature:e})})),[2,Object(o.m)({local:c,remote:f})]}))}))}})),l=n(189),p=n(11),_=n.n(p),b=(Object(o.c)(c.a.START_RECEIVE_DISCUSSIONS),Object(o.c)(c.a.STOP_RECEIVE_DISCUSSIONS),Object(o.c)(c.a.GET_DISCUSSIONS,(function(e,t){var n=t.before,r=t.middle,i=t.after,a=t.limit,c=t.missing;return Object(o.f)((function(t){var o=t.dispatch,s=t.next,d=t.getState;if(c){var f=d().discussions.getIn([e,"list",0,"unixus"]);f&&(i=f,a=1e5)}var l="files/"+e+"/discussions",p=[];return n?p.push("before="+n):r?p.push("middle="+r):i&&p.push("after="+i),a&&p.push("limit="+a),p.length&&(l+="?"+p.join("&")),o(Object(u.get)(l)).then((function(t){s({guid:e,data:t})}))}),"getDiscussions_"+e+"_"+n+"_"+r+"_"+i+"_"+a+"_"+c)}))),m=(Object(o.c)(c.a.SEND_DISCUSSION,(function(e,t){return Object(o.f)((function(n){return(0,n.dispatch)(Object(u.post)("files/"+e+"/discussions",{body:{content:t}}))}),"sendDiscussion_"+e+"_"+t)})),Object(o.c)(c.a.MARK_VIEWED_DISCUSSIONS,(function(e,t){return Object(o.f)((function(n){var r=n.dispatch,i=n.next;return r(Object(u.post)("files/"+e+"/discussions/viewed",{body:{viewedUnixus:t}})).then((function(n){if("success"!==n.data)throw new Error(_()("更新失败"));i({guid:e,viewedUnixus:t})}))}),"markViewedDiscussions_"+e+"_"+t)})),Object(o.c)(c.a.PUSH_CREATE_DISCUSSION)),E=Object(o.c)(c.a.PUSH_DELETE_DISCUSSION),O=n(266),g=Object(o.c)(c.a.GET_FLASH_MESSAGES,(function(e){return function(t){var n,r=t.getState,i=t.dispatch,a=t.next,c=r().flashMessages;if(c){var d=!0;e.forEach((function(e){var t=e.name;d&=!!c.get(t)})),n=d&&i(Object(s.b)(c.toJS()))}return Object(o.m)({local:n,remote:i(Object(u.post)("flash_messages/find_or_create",{body:{filter:e}})).then(a)})}})),v=Object(o.c)(c.a.SET_FLASH_MESSAGE_READ,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,a=n().flashMessages.get(e).id;r(Object(u.patch)("flash_messages/"+a,{body:{isRead:!0}})).then((function(){return i(e)}))}})),T=Object(o.c)(c.a.GET_BLUE_TIP,(function(){return function(e){var t=e.dispatch,n=e.next;t(Object(u.get)("users/announcement?announcementType=blue_tip")).then(n)}})),h=Object(o.c)(c.a.CLOSE_BLUE_TIP,(function(e){return function(t){var n=t.dispatch,r=t.next;n(Object(u.destroy)("users/announcement/"+e)).then(r)}})),S=Object(o.c)(c.a.GET_BULLETIN,(function(){return function(e){var t=e.dispatch,n=e.next;t(Object(u.get)("users/announcement?announcementType=bulletin")).then(n)}})),j=Object(o.c)(c.a.CLOSE_BULLETIN,(function(e){return function(t){var n=t.dispatch,r=t.next;n(Object(u.destroy)("users/announcement/"+e)).then(r)}})),I=Object(o.c)(c.a.UPDATE_MAINTENANCE,(function(e){return function(t){(0,t.next)(e)}})),y=n(60),A=Object(o.c)(c.a.SET_UNPEEKED_COUNT,(function(e){return function(t){var n=t.emitter,r=t.next;return n.emit("unpeekedCount.changed",e),r(e),e}})),N=Object(o.c)(c.a.GET_UNPEAKED_NOTIFICATION_COUNT,(function(){return Object(o.f)((function(e){var t=e.dispatch,n=e.next;return t(Object(u.get)("notifications/unpeeked_count",{background:!0})).then(n)}),"getUnpeekedNotificationCount")})),R=Object(o.c)(c.a.GET_UNREAD_NOTIFICATION_COUNT,(function(){return Object(o.f)((function(e){var t=e.dispatch,n=e.next;return t(Object(u.get)("notifications/unread_count",{background:!0})).then(n)}),"getUnreadNotificationCount")})),L=Object(o.c)(c.a.GET_NOTIFICATIONS,(function(e){var t=e.status,n=void 0===t?"all":t,r=e.prepend,i=void 0!==r&&r,a=e.peek,c=void 0!==a&&a;return Object(o.f)((function(e){var t=e.dispatch,r=e.next,a=(0,e.getState)();if(!i&&!Object(y.o)(a,n))return Promise.resolve();var s="notifications?limit="+o.a+"&status="+n,d=Object(y.p)(a,n),f=d&&d.size;return f&&!i&&(s+="&lt="+d.last().id),c&&(t(A(0)),s+="&action=peek"),t(Object(u.get)(s)).then((function(e){var t=i&&f?null:e.length===o.a;r({status:n,prepend:i,peek:c,items:e,hasMore:t})}))}),"getNotifications_"+n+"_"+i+"_"+c)})),C=Object(o.c)(c.a.MARK_NOTIFICATIONS_READ,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(u.patch)("notifications/"+e+"?status=read")).then((function(){return r(e)}))}})),P=Object(o.c)(c.a.MARK_NOTIFICATIONS_ALL_READ,(function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(u.post)("notifications/action/read_all")).then((function(){return n(void 0)}))}})),D=Object(o.c)(c.a.PRELOAD,(function(e){return function(t){(0,t.next)(e)}})),w=Object(o.c)(c.a.GET_SETTINGS,(function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().settings,i="object"==typeof r?t(Object(s.b)(r)):void 0,a=t(Object(u.get)("users/me/settings")).then((function(e){var t=e&&e.data?JSON.parse(e.data):{};return n(t)}));return Object(o.m)({local:i,remote:a})}})),x=Object(o.c)(c.a.SET_SETTINGS,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(u.put)("users/me/settings",{body:{data:JSON.stringify(e)}})).then((function(){return r(e)}))}})),U=n(12),M=n(4),F=(Object(o.c)(c.a.DEMO_FILE,(function(e){return{guid:e}})),Object(o.c)(c.a.GET_SPACES,(function(e){return void 0===e&&(e="1"),function(t){var n=t.dispatch,r=t.getState,i=t.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var t,c,d,f,l,p;return Object(a.__generator)(this,(function(a){return t=r(),c=t.files,d=t.tree,f=M.b.mirrorId(c,e),l=M.d.getChildren(d,f),p=l&&n(Object(s.g)(l.toJS(),[U.a])),[2,Object(o.m)({local:p,remote:n(Object(u.get)("spaces",{schema:[U.a],transformResponseBody:k})).then((function(e){return i({parent:f,children:e})}))})]}))}))}})));Object(o.c)(c.a.GET_SPACE_TEAM,(function(e){return function(t){var n=t.dispatch,r=t.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n(Object(u.get)("spaces/"+e)).then((function(t){r(Object(a.__assign)({guid:e},t))}))]}))}))}}));function k(e){return((null==e?void 0:e.nodes)||[]).map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{isSpace:!0})}))}var G,z=Object(o.c)(c.a.CREATE_SPACE,(function(e){return function(t){var n=t.dispatch,r=t.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n(Object(u.post)("spaces",{body:e})).then((function(e){return r(Object(a.__assign)(Object(a.__assign)({},e),{isSpace:!0})),Object(a.__assign)(Object(a.__assign)({},e),{isSpace:!0})}))]}))}))}})),B=Object(o.c)(c.a.UPDATE_SPACE,(function(e){var t=e.guid,n=Object(a.__rest)(e,["guid"]);return function(e){var r=e.dispatch,i=e.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,r(Object(u.patch)("spaces/"+t,{body:n})).then((function(e){return i(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({guid:t},n),e),{isSpace:!0})),t}))]}))}))}})),H=(Object(o.c)(c.a.COVERT_TO_SPACE,(function(e){return function(t){var n=t.dispatch;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n(Object(u.post)("files/"+e+"/convert")).then((function(e){}))]}))}))}})),Object(o.c)(c.a.SPACE.GET_SIZE,(function(){return function(e){var t=e.dispatch,n=e.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return[2,t(Object(u.get)("spaces/size")).then(n)]}))}))}}))),V=Object(o.c)(c.a.SPACE.SORT,(function(e){var t=e.guid,n=e.afterGuid;return function(e){var r=e.dispatch,i=e.next,o=e.getState;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var e,c,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=o(),(c=M.b.mirrorId(e.files,t)).startsWith("-")?[2,Promise.reject(new Error(_()("不能移动未同步的文件")))]:(null==(s=n?M.b.mirrorId(e.files,n):null)?void 0:s.startsWith("-"))?[2,Promise.reject(new Error(_()("不能移动到未同步的文件之前")))]:[4,r(Object(u.post)("spaces/"+t+"/action/sort",{body:{afterGuid:null!=s?s:"FIRST"}}))];case 1:return a.sent(),i({guid:c,afterGuid:s}),[2]}}))}))}})),W=n(98),Y=Object(o.c)(c.a.GET_SUBSCRIPTIONS,(function(){return Object(o.f)((function(e){var t=e.dispatch,n=e.next;return t(Object(u.get)("subscribe")).then(n)}),"getSubscriptions")})),K=Object(o.c)(c.a.SWITCH_SUBSCRIPTIONS,(function(e,t){return function(n){var r=n.dispatch,i=n.next,a=t?"turnon":"turnoff";return r(Object(u.post)("subscribe",{body:{channel:e,action:a}})).then((function(n){return null===n||!0===n.success?void i({channel:e,on:t}):Promise.reject(new Error(_()("设置失败")))}))}})),X=n(29),J=n.n(X),q=n(46),Q=n(81),$=Object(o.d)(),Z=Object(o.c)(c.a.ACCEPT_TEAM_INVITATION,(function(e){return function(t){var n=t.dispatch,r=t.next,i=(0,t.getState)().me;return n(Object(u.post)("users/me/action/join_team_by_invitation",{body:{teamId:e}})).then((function(){r({userId:i.id,teamId:e})}))}})),ee=Object(o.c)(c.a.JOIN_TEAM_BY_INVITE_GUID,(function(e){var t=e.inviteGuid,n=e.referer,r=e.inviter;return function(e){var i=e.dispatch,a=e.next,o=(0,e.getState)().me;return i(Object(u.post)("users/me/action/join_team_by_invite_guid",{body:{inviteGuid:t,referer:n,inviter:r}})).then((function(e){return a({teamId:e.id,id:o.id})}))}})),te=Object(o.c)(c.a.GET_TEAM_MEMBERS,(function(e,t){return void 0===e&&(e={}),function(n){var r=n.dispatch,i=n.next,c=(0,n.getState)().teamMembers,d=c?r(Object(s.g)(c.toJS(),[U.c])):Promise.reject(new Error("Members has not been synced"));$.resetPage();var f=Object(a.__assign)({pagination:!0,perPage:$.pageSize()},e),l=Object.keys(f).map((function(e){var t=f[e];return null==t&&(t=""),"&"+encodeURIComponent(e)+"="+encodeURIComponent(t)})).join("").slice(1);return Object(o.m)({local:d,remote:r(Object(u.get)("teams/mine/members?"+l,{schema:[U.c]})).then(i).catch((function(e){t&&t(e),i(null)}))})}})),ne=(Object(o.c)(c.a.ADD_TEAM_MEMBERS,(function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(u.get)("teams/mine/members?pagination=true&page="+$.page()+"&perPage="+$.pageSize(),{schema:[U.c]})).then((function(e){return 0===e.length||e.length<$.pageSize()?(n(e),!1):($.addPage(),n(e),!0)}))}})),Object(o.c)(c.a.SEARCH_TEAM_MEMBERS,(function(e,t){return function(n){return(0,n.dispatch)(Object(u.post)("search/team_members?page=0&pageSize=100",{body:{keyword:t}})).then((function(t){return Object(a.__assign)(Object(a.__assign)({},t),{id:e})}))}}))),re=Object(o.c)(c.a.GET_MY_TEAM,(function(){return function(e){var t,n=e.dispatch,r=e.next,c=e.getState,d=c().teams,f=Object(Q.a)(c());d&&f&&f.team&&d.filter((function(e){return!!(e&&e.size&&e.first())&&(i.Set.isSet(e)?e.first():e.first().get("id"))===f.team})).size&&(t=n(Object(s.g)(d,U.b)));var l=Promise.all([n(Object(u.get)("teams/mine/permissions")),n(Object(u.get)("teams/mine"))]).then((function(e){var t=Object(a.__read)(e,2),r=t[0],i=t[1],o=f&&f.team,u=c().teams,d=u&&u.getIn(["data",o,"settings"])&&u.getIn(["data",o,"settings"]).toJS()||{},l=Object(q.wormalize)(J()({},{settings:Object(a.__assign)(Object(a.__assign)({},d),r)},i),U.b),p=l.result,_=l.entities;return n(Object(s.g)(p,U.b,_)).then((function(){return n(Object(s.c)(_)),p}))})).then(r).catch((function(){r(null)}));return Object(o.m)({local:t,remote:l})}})),ie=(Object(o.c)(c.a.GET_MY_TEAM_ORDERS,(function(){return function(e){return(0,e.dispatch)(Object(u.get)("charges?type=team"))}})),Object(o.c)(c.a.SET_ANONYMOUS_TEAM,(function(){return function(e){(0,e.next)(void 0)}}))),ae=Object(o.c)(c.a.GET_TEAM_SETTINGS_BY_URL,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,a=Object(Q.a)(n()),o=a&&a.team;return r(Object(u.get)("team_settings/"+e)).then((function(t){return i({teamId:o,url:e,setting:t.status})}))}})),oe=(Object(o.c)(c.a.UPDATE_TEAM_INFO,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,o=Object(Q.a)(n()),c=o&&o.team;return r(Object(u.patch)("teams/mine",{body:e})).then((function(){i(Object(a.__assign)(Object(a.__assign)({},e),{teamId:c}))}))}})),Object(o.c)(c.a.CREATE_TEAM,(function(e){return function(t){return(0,t.dispatch)(Object(u.post)("v2/teams",{body:e}))}}))),ce=n(263),ue=(Object(o.c)(c.a.GET_COLLABDEPTS,(function(e){if(!e)throw new Error('"spaceId" is required');return function(t){var n=t.dispatch,r=t.next;return n(Object(u.get)("files/"+e+"/dep_collaborators")).then((function(t){t=t.map((function(e){return Object(a.__assign)({id:e.departmentId},e)})),r({spaceId:e,collabDepts:t})}))}})),Object(o.c)(c.a.ADD_COLLABDEPTS,(function(e,t){return function(n){var r=n.dispatch,i=n.next,o="files/"+e+"/dep_collaborators/batch",c={collaborators:t};return r(Object(u.post)(o,{body:c})).then((function(t){var n=[],r=t.reduce((function(e,t){return"object"==typeof t?e.concat(Object(a.__assign)({id:t.departmentId},t)):(n.push(t),e)}),[]);return i({spaceId:e,data:r}),{successCount:r?r.length:0,errors:n}}))}})),Object(o.c)(c.a.REMOVE_COLLABDEPT,(function(e,t){return function(n){var r=n.dispatch,i=n.next;return r(Object(u.destroy)("files/"+e+"/dep_collaborators/"+t)).then((function(){i({spaceId:e,deptId:t})}))}})),Object(o.c)(c.a.UPDATE_COLLABDEPT_ROLE,(function(e,t,n){return function(r){var i=r.dispatch,a=r.next;return i(Object(u.patch)("files/"+e+"/dep_collaborators/"+t,{body:{role:n}})).then((function(){a({spaceId:e,deptId:t,role:n})}))}})),n(206)),se=n.n(ue),de=(Object(o.c)(c.a.GET_SUB_DEPT,(function(e){return void 0===e&&(e=1),function(t){var n=t.dispatch,r=t.next,i=t.getState;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,n(Object(u.get)("org/departments/"+e+"/shadow_subtree")).then((function(e){var t,n,o=i().departments,c=e.currentDepartment,u=e.subdepartments,s=((t={})[c.id]=Object(a.__assign)(Object(a.__assign)({},c),{parentId:null===(n=o[c.id])||void 0===n?void 0:n.parentId}),t);return se()(u,(function(e){s[e.id]=Object(a.__assign)(Object(a.__assign)({},e),{parentId:c.id})})),r(s),e.subdepartments}))]}))}))}})),n(248)),fe=n.n(de).a.oldGuideTypes,le=Object(o.c)(c.a.GET_USER_GUIDE_INFO,(function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().userGuide,i=r?t(Object(s.b)(r)):Promise.reject(new Error("UserGuide has not been synced")),a=t(Object(u.get)("guides")).then((function(e){var t=new RegExp("^TYPE_WEB_"),r={};for(var i in fe)i.match(t)&&(r[i]=!1);e.forEach((function(e){for(var t in r)fe[t]===e.type&&(r[t]=!0)})),Object.keys(r).forEach((function(e){var t=e.slice("TYPE_WEB_".length).toLowerCase();r[t]=r[e],delete r[e]})),n(r)}));return Object(o.m)({local:i,remote:a})}})),pe=Object(o.c)(c.a.UPDATE_USER_GUIDE_INFO,(function(e,t){return void 0===t&&(t=!1),function(n){var r=n.dispatch,i=n.next,a=n.getState;if(!e)throw new Error("Parameter [type] cannot be empty.");var o="TYPE_WEB_"+e.toUpperCase(),c=fe[o];return new Promise((function(n,o){if(!Number.isFinite(c))throw new Error("No such guide type");r(Object(u.get)("guides/"+c)).then((function(){var r=a().userGuide;return t||!r||r.get(e)||i({type:e.toLowerCase()}),n()})).catch((function(a){a&&404===a.status?r(Object(u.post)("guides",{body:{type:c}})).then((function(){t||i({type:e.toLowerCase()}),n()})).catch(o):o(a)}))}))}})),_e=n(41),be=n.n(_e),me=n(396),Ee=n.n(me),Oe=n(191),ge=n.n(Oe),ve=Object(o.c)(c.a.LOGOUT,(function(){return function(e){var t=e.getState,n=e.storage,r=e.next;return G||(t().me.token?(r(void 0),o.f.clear(),G=n.getAllKeys().then((function(e){return n.mremove(e.filter((function(e){return Ee()(e,"sos:")})))})).then((function(){G=null})).catch((function(){G=null}))):Promise.resolve())}})),Te=(Object(o.c)(c.a.REMOVE_CURRENT_USER),Object(o.c)(c.a.REGISTER,(function(e,t){var n=e.email,r=e.password,i=e.name,a=e.mobile,o=e.mobileVerifyCode,c=e.withTeam,s=e.teamName,d=e.teamType,f=e.teamScale,l=e.province,p=e.city,_=e.avatar,b=e.referer,m=e.inviter,E=e.activity;return function(e){var O=e.dispatch;return c?O(ve()).then((function(){return O(Object(u.post)("users",{body:{email:n,password:r,name:i,mobile:a,mobileVerifyCode:o,withTeam:!0,teamName:s,teamType:d,teamScale:f,province:l,city:p,inviter:m,avatar:_,referer:b,activity:E},schema:U.c,geetestHeaders:t}))})):O(ve()).then((function(){return O(Object(u.post)("users",{body:{email:n,password:r,name:i,mobile:a,mobileVerifyCode:o,avatar:_,referer:b,inviter:m,activity:E},schema:U.c,geetestHeaders:t}))}))}}))),he=(Object(o.c)(c.a.GENERIC_LOGIN,(function(e,t,n){return function(r){var i=r.dispatch,a=r.next,o=r.api,c=J()({scope:"write",client_id:o.id,client_secret:o.secret,grant_type:e},t);return i(ve()).then((function(){return i(Object(u.post)("oauth/token",{body:c,geetestHeaders:n}))})).then((function(e){var t=e.access_token;return i(Object(u.get)("users/me",{token:t,schema:U.c})).then((function(e){a({token:t,id:e})}))}))}})),Object(o.c)(c.a.LOGIN_WITH_CORS_SESSION,(function(){return function(e){var t=e.dispatch,n=e.next;return t(ve()).then((function(){return t(Object(u.get)("users/me",{schema:U.c}))})).then((function(e){return n({id:e})}))}}))),Se=(Object(o.c)(c.a.SET_CURRENT_USER),Object(o.c)(c.a.GET_USER,(function(){return function(e){return(0,e.dispatch)(Object(u.get)("users/me",{schema:U.c}))}}))),je=Object(o.c)(c.a.GET_USER_BY_EMAIL,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(u.get)("users/email?email="+encodeURIComponent(e),{schema:U.c})).then((function(e){return r(e),e}))}})),Ie=(Object(o.c)(c.a.GET_USER_BY_MOBILE,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(u.get)("users/mobile?mobile="+encodeURIComponent(e),{schema:U.c})).then((function(e){return r(e),e}))}})),Object(o.c)(c.a.GET_WECHAT_BINDING_STATUS,(function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(u.get)("users/me/wechat")).then((function(e){var t=e.bound;n({id:r,bound:t})}))}}))),ye=(Object(o.c)(c.a.BIND_WECHAT,(function(e){return function(t){var n=t.dispatch,r=t.getState,i=t.next,a=r().me.id;return n(Object(u.post)("wechat/action/bind",{body:{code:e,type:"app"}})).then((function(e){var t=e.success,n=e.msg;if(!t)return Promise.reject(new Error(n));i({id:a})}))}})),Object(o.c)(c.a.UNBIND_WECHAT,(function(){return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(u.post)("wechat/action/unbind")).then((function(){return r({id:i})}))}}))),Ae=(Object(o.c)(c.a.UPDATE_EMAIL,(function(e,t){var n=t.currentPassword,r=t.password,i=t.premium;return function(t){var a=t.dispatch,o=t.getState,c=t.next,s=o().me.id;return a(Object(u.patch)("users/me",{body:{email:e,currentPassword:n,password:r,premium:i}})).then((function(e){var t=e.email;return c({id:s,email:t,premium:i})}))}})),Object(o.c)(c.a.BIND_ACCOUNT_EMAIL,(function(e){var t=e.email,n=e.code,r=e.premium;return function(e){var i=e.dispatch,a=e.getState,o=e.next,c=a().me.id;return i(Object(u.post)("users/"+c+"/action/bind_email",{body:{email:t,code:n,premium:r}})).then((function(){return o({id:c,email:t,premium:r})}))}}))),Ne=(Object(o.c)(c.a.CHECK_REGISTRATION_BY_EMAIL,(function(e){return function(t){return(0,t.dispatch)(Object(u.get)("users/email?email="+encodeURIComponent(e))).then((function(){return!0})).catch((function(e){if(404===e.status)return!1;throw e}))}})),Object(o.c)(c.a.CHECK_REGISTRATION_BY_MOBILE,(function(e){return function(t){return(0,t.dispatch)(Object(u.get)("users/mobile?mobile="+encodeURIComponent(e))).then((function(){return!0})).catch((function(e){if(404===e.status)return!1;throw e}))}})),Object(o.c)(c.a.UPDATE_USERNAME,(function(e){return function(t){var n=t.dispatch,r=t.next,i=(0,t.getState)().me.id;return n(Object(u.patch)("users/me",{body:{name:e}})).then((function(){r({id:i,name:e})}))}}))),Re=(Object(o.c)(c.a.GET_RECENT_CONTACTS,(function(){return function(e){var t=e.dispatch,n=e.next,r=e.getState,i=r().recentContacts,a=Object(y.n)(r())&&Object(y.n)(r()).id,c=i?t(Object(s.g)(i.toJS(),[U.c])):Promise.reject(new Error(_()("尚未同步过最近联系人"))),d=t(Object(u.post)("search?type=recent_contact&pageSize=-1"+(a?"&teamId="+a:""),{body:{keyword:"*"},schema:[U.c],transformResponseBody:function(e){return be()(e,"recent_contact.results",[]).map((function(e){return J()({isVerified:e.status>0},e)}))}})).then((function(e){return n(e)}));return Object(o.m)({local:c,remote:d})}})),Object(o.c)(c.a.DELETE_RECENT_CONTACT,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(u.destroy)("users/me/recent_contacts/"+e)).then((function(){return r({userId:e})}))}})),Object(o.c)(c.a.GET_ADD_USER_INVITATION_LINK,(function(){return function(e){return(0,e.dispatch)(Object(u.get)("teams/mine/invite_state")).then((function(e){return e.inviteGuid}))}}))),Le=(Object(o.c)(c.a.CLOSE_INVITATION_LINK,(function(){return function(e){return(0,e.dispatch)(Object(u.destroy)("teams/mine/invite_state"))}})),Object(o.c)(c.a.OPEN_INVITATION_LINK,(function(){return function(e){return(0,e.dispatch)(Object(u.post)("teams/mine/invite_state",{}))}})),Object(o.c)(c.a.GET_TEAM_FROM_INVITATION_LINK,(function(e){var t=e.inviteGuid;return function(e){return(0,e.dispatch)(Object(u.get)("teams/invite?inviteGuid="+t)).then((function(e){return e}))}}))),Ce=Object(o.c)(c.a.INVITE_TEAM_MEMBERS,(function(e){return function(t){return(0,t.dispatch)(Object(u.post)("departments/action/add_users_to_department_by_account",{body:{accounts:e,departmentID:1}}))}})),Pe=(Object(o.c)(c.a.RESET_PASSWORD,(function(e){var t=e.email;return function(e){return(0,e.dispatch)(Object(u.post)("users/action/reset_password",{body:{email:t}}))}})),Object(o.c)(c.a.RESET_PASSWORD_BY_CODE,(function(e){var t=e.mobile,n=e.email,r=e.verifyCode,i=e.password;return function(e){return(0,e.dispatch)(Object(u.post)("users/action/reset_password_by_code",{body:{mobile:t,email:n,verifyCode:r,password:i}}))}}))),De=Object(o.c)(c.a.UPDATE_PASSWORD,(function(e,t){return function(n){var r=n.dispatch,i=n.getState,a=n.next,o=i().me.id;return r(Object(u.post)("auth/password/change",{body:{currentPassword:e,password:t}})).then(a({id:o}))}})),we=(Object(o.c)(c.a.UPDATE_USER_AVATAR,(function(e){return function(t){var n=t.dispatch,r=t.getState,i=t.next;return n(Object(u.patch)("users/me",{body:{avatar:e}})).then((function(){i({id:r().me.id,avatar:e})}))}})),Object(o.c)(c.a.UPLOAD_AVATAR,(function(e,t){return function(n){var r,i=n.dispatch,o=n.getState,c=n.next;if("function"==typeof File&&e instanceof File)r=e.type.split("/").pop()||"jpg";else{if("string"!=typeof e)throw new Error("avatarURI is not valid");if(r=(e.split(".").pop(),"jpg").toLowerCase(),!t)switch(r){case"gif":t="image/gif";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;default:t=void 0}}return i(Object(u.post)("action/create_upload_forms?type=avatar",{body:[r]})).then((function(n){var r=Object(a.__read)(n,1)[0],s=new FormData;return"function"==typeof File&&e instanceof File?s.append("file",e):s.append("file",{uri:e,type:t}),Object.keys(r).forEach((function(e){s.append(e,r[e])})),fetch("https://up.qbox.me",{body:s,method:"POST"}).then((function(e){return e.json()})).then((function(e){var t=e.data.images,n=o().me.id;return i(Object(u.patch)("users/me",{body:{avatar:t}})).then((function(){c({id:n,avatar:t})}))}))}))}})),Object(o.c)(c.a.SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS,(function(e,t,n,r,i){return function(a){return(0,a.dispatch)(Object(u.post)("search?type=recent_contact,team_member,department&page=0&pageSize=100",{body:{keyword:t,teamId:n,guid:r,fileId:i}})).then((function(t){var r=t.recent_contact.results,i=t.team_member.results,a=t.department.results.map((function(e){e.type=2;var t=e.permission;return t&&(e.role=t.role,e.permission=t.permission),e})),o=i.map((function(e){e.team=n;var t=e.permission;return t&&(e.permission=t.permission),e})),c=r.map((function(e){var t=e.permission;return t&&(e.permission=t.permission),e})),u=a.concat(ge()(c,o,"id"));return{id:e,data:u}}))}})),Object(o.c)(c.a.SEND_MOBILE_CAPTCHA,(function(e,t,n,r){var i=e.mobile,o=e.type,c=e.countryCode,s=void 0===c?"+86":c;return function(e){var c=e.dispatch,d="voice"===o?{mobile:s+i,type:o}:{mobile:s+i},f="action/send_verification_code";return r&&(f+="_"+r),c(Object(u.post)(f,{body:Object(a.__assign)(Object(a.__assign)({},d),{scenes:n}),geetestHeaders:t}))}}))),xe=Object(o.c)(c.a.SEND_MOBILE_CAPTCHA,(function(e,t){var n=e.mobile,r=e.type,i=e.countryCode,o=void 0===i?"+86":i;return function(e){var i=e.dispatch,c="voice"===r?{mobile:o+n,type:r}:{mobile:o+n},s=Object(u.encodeFormData)(Object(a.__assign)(Object(a.__assign)({},c),t));return i(Object(u.post)("auth/code/send_verification_code",{body:s}))}})),Ue=Object(o.c)(c.a.SEND_EMAIL_CAPTCHA,(function(e,t){var n=e.email,r=e.scenes;return function(e){return(0,e.dispatch)(Object(u.post)("action/send_email_code",{body:{email:n,scenes:r},geetestHeaders:t}))}})),Me=Object(o.c)(c.a.GET_GEETEST_CAPTCHA,(function(e,t){return void 0===e&&(e="web"),function(n){return(0,n.dispatch)(Object(u.post)("captchas",{body:{type:e,version:t}}))}})),Fe=Object(o.c)(c.a.GET_GEETEST_CAPTCHA,(function(e){return void 0===e&&(e="web_login"),function(t){return(0,t.dispatch)(Object(u.get)("auth/geetest/captcha?scene="+e+"&t="+(new Date).getTime()))}})),ke=(Object(o.c)(c.a.VERIFY_CAPTCHA,(function(e){var t=e.mobile,n=e.email,r=e.code,i=e.scenes;return function(e){return(0,e.dispatch)(Object(u.post)("action/verify_verification_code",{body:{mobile:t,email:n,code:r,scenes:i}}))}})),Object(o.c)(c.a.VERIFY_ACCOUNT_PASSWORD,(function(e){var t=e.password;return function(e){var n=e.dispatch,r=(0,e.getState)().me.id;return n(Object(u.post)("users/"+r+"/action/verify_password",{body:{password:t}}))}})),Object(o.c)(c.a.BIND_MOBILE_NUMBER,(function(e){var t=e.mobile,n=e.captcha,r=e.countryCode,i=void 0===r?"+86":r;return function(e){var r=e.dispatch,o=e.next,c=(0,e.getState)().me.id,s={mobile:i+t,mobileVerifyCode:n};return r(Object(u.patch)("users/me",{body:Object(a.__assign)({},s)})).then(o({id:c,mobile:t}))}})),Object(o.c)(c.a.BIND_MOBILE_ACCOUNT,(function(e){var t=e.mobile,n=e.captcha,r=e.countryCode,i=void 0===r?"+86":r,o=e.filing,c=void 0!==o&&o,s=e.password,d=e.premium;return function(e){var r=e.dispatch,o=e.next,f=(0,e.getState)().me.id,l={mobile:i+t,mobileVerifyCode:n,filing:c,password:s,premium:d};return r(Object(u.post)("users/"+f+"/action/bind_mobile",{body:Object(a.__assign)({},l)})).then((function(e){var n=e.isMobileAccount;return o({id:f,mobile:t,countryCode:i,isMobileAccount:n,premium:d})}))}}))),Ge=Object(o.c)(c.a.UPDATE_MOBILE,(function(e){var t=e.mobile,n=e.password,r=e.lastCode,i=e.code,a=e.authToken,o=e.countryCode,c=void 0===o?"+86":o;return function(e){var o=e.dispatch,s=e.next,d=(0,e.getState)().me.id;return o(Object(u.post)("users/"+d+"/action/change_mobile",{body:{mobile:c+t,password:n,lastCode:r,authToken:a,code:i}})).then((function(){return s({id:d,mobile:t,countryCode:c})}))}})),ze=(Object(o.c)(c.a.SET_MERGE_VIEWED,(function(){return function(e){return(0,e.dispatch)(Object(u.patch)("users/me",{body:{viewedMergePrompt:!0}}))}})),Object(o.c)(c.a.MERGE_ACCOUNT,(function(e){var t=e.email,n=e.password;return function(e){return(0,e.dispatch)(Object(u.post)("users/me/action/merge_account",{body:{email:t,password:n}}))}})),Object(o.c)(c.a.GET_BINDING_INFO_BY_CODE,(function(e){return function(t){return(0,t.dispatch)(Object(u.get)("wechat/action/binding_info?code="+e))}})),Object(o.c)(c.a.GET_BINDING_INFO_BY_EMAIL,(function(e){return function(t){return(0,t.dispatch)(Object(u.get)("wechat/action/binding_info?email="+e))}})),Object(o.c)(c.a.GET_BINDING_INFO_BY_MOBILE,(function(e){return function(t){return(0,t.dispatch)(Object(u.get)("wechat/action/binding_info?mobile="+encodeURIComponent(e)))}})),Object(o.c)(c.a.SET_ANONYMOUS_USER,(function(e){return function(t){(0,t.next)({id:e})}}))),Be=(Object(o.c)(c.a.GET_ACTIVITIES_LIST,(function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(u.get)("activities")).then((function(e){if(Array.isArray(e)){var t=e.map((function(e){return e.actTypes}));n({id:r,activitiesList:t})}}))}})),Object(o.c)(c.a.GET_DING_TALK_TEAM_LIST_BY_CODE,(function(e){return function(t){return(0,t.dispatch)(Object(u.post)("auth/dingtalk/login/app/team_list",{body:{code:e}}))}})),Object(o.c)(c.a.LOGIN_WITH_DING_TALK,(function(e,t){return function(n){var r=n.dispatch,i=n.next,a=n.api,o={scope:"write",client_id:a.id,client_secret:a.secret,code:e,user_id:t};return r(ve()).then((function(){return r(Object(u.post)("auth/dingtalk/login/app/token",{body:o}))})).then((function(e){var t=e.access_token;return r(Object(u.get)("users/me",{token:t,schema:U.c})).then((function(e){i({token:t,id:e})}))}))}})),Object(o.c)(c.a.GET_ANNOUNCEMENT,(function(e,t,n){return function(r){return(0,r.dispatch)(Object(u.get)("users/announcement?announcementType="+e+"&platform="+t+"&appVersion="+n))}})),Object(o.c)(c.a.CLOSE_ANNOUNCEMENT,(function(e){return function(t){return(0,t.dispatch)(Object(u.destroy)("users/announcement/"+e))}})),Object(o.c)(c.a.GET_WECHAT_BINDING_QRCODE,(function(){return function(e){return(0,e.dispatch)(Object(u.get)("wechat/action/binding_qrcode"))}}))),He=Object(o.c)(c.a.GET_WECHAT_BINDING_URL,(function(e){var t=void 0===e?{}:e,n=t.type,r=t.redirectUrl;return function(e){var t=e.getState;return(0,e.dispatch)(Object(u.post)("wechat/action/app_auth_v2",{body:{type:n||"binding_shimo",userId:t().me.id,redirectUrl:r||""}}))}})),Ve=Object(o.c)(c.a.GET_WECHAT_INVITE_INFO,(function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(u.get)("invite/invite_info")).then(t)}})),We=Object(o.c)(c.a.WIN_PERSONAL_PREMIUM_VERSION,(function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(u.post)("invite/invitee_convert")).then(t)}})),Ye=Object(o.c)(c.a.WECHAT_REWARDED,(function(){return function(e){return(0,e.next)(void 0)}})),Ke=Object(o.c)(c.a.WECHAT_REWARD_BY_INVITOR,(function(){return function(e){return(0,e.next)(void 0)}})),Xe=Object(o.c)(c.a.WECHAT_NO_REWARD,(function(){return function(e){return(0,e.next)(void 0)}})),Je=Object(o.c)(c.a.GET_WECHAT_SCAN_INFO,(function(e){var t=e.anonymousId;return function(e){return(0,e.dispatch)(Object(u.get)("wechat/action/qrcode_secret?anonymousId="+t))}})),qe=Object(o.c)(c.a.GET_SCRIPTS,(function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(u.get)("sas/scripts/bindings/")).then((function(e){return n(e)}))}})),Qe=Object(o.c)(c.a.EXECUTE_SCRIPTS,(function(e,t,n){return void 0===n&&(n=[]),function(r){return(0,r.dispatch)(Object(u.post)("sas/scripts/"+e+"/onPost",{body:{context:{guid:t,args:n}}}))}})),$e=Object(o.c)(c.a.GET_FEATURES,(function(){return function(e){var t=e.getState,n=e.dispatch,r=e.next;return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var e,i;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(e=t().me)&&e.id?[4,n(Object(u.get)("user/features"))]:[2];case 1:return i=a.sent().data.features,r(i),[2]}}))}))}}));Object(i.Set)(["files","users","tree","teams","recent","starred","me","notifications","collaborators","recentContacts","teamMembers","flashMessages","userGuide","alphaFeatures","updated","used","created","shared","shortcuts","templates","settings","blueTips","bulletin"]);var Ze=[];var et=[function(e){var t=e.getState,n=e.dispatch,r=e.recoverMode,i=e.emitter,o=t(),c=o.tree,u=o.files,d=u.get("diff");if(d.size){var f=u.get("recover"),l=d.findEntry((function(e,t){if(Ze.indexOf(t)>-1&&e.has("isNew"))return!1;if(f&&f.has(t))return!1;var n=M.d.getParent(c,t);if(n&&"-"===n[0])return!1;if(e.has("isNew")){var r=M.d.getChildren(c,n);if(r){var i=r.findKey((function(e){return e===t}));if("number"==typeof i&&r.has(i+1)&&"-"===r.get(i+1)[0]&&d.has(r.get(i+1)))return!1}}return!0}));if(l){var p=Object(a.__read)(l,2),_=p[0],b=p[1];return r?(n(Object(s.e)({id:_,model:"files"})),Promise.resolve()):n(Object(s.g)(_,U.a)).then((function(){i.emit("sync.file.start",_),b.has("isNew")&&Ze.push(_);var e=n(Object(O.a)(_,b));return e.then((function(e){return i.emit("sync.file.succeed",_),e}),(function(e){throw b.has("isNew")&&Ze.splice(Ze.indexOf(_,1)),i.emit("sync.file.failed",_,e),e})),e}))}}}];var tt,nt,rt=function(e,t){var n={},r={},i={};function a(){et.forEach((function(a,u){if(!r[u]){var s=e.getState(),d=s.status,f=d.dataLoaded,l=d.online;if(f&&l&&s.me.id){r[u]=!0,n[u]||(n[u]=0);var p=a({recoverMode:i[u],getState:e.getState,dispatch:e.dispatch,emitter:t.emitter||o.g});i[u]=!1,p?p.then((function(){n[u]=0,c(u)})).catch((function(e){if(e&&e.offline)return Object(o.l)("debug","Offline while syncing, maybe next time..."),r[u]=!1,void(n[u]=0);e&&Object(o.l)("error","Crucial exception "+e.message+" found, please report this!"),n[u]+=1,n[u]>3&&(Object(o.l)("debug","Enter the recover mode"),n[u]=0,i[u]=!0),setTimeout((function(){return c(u)}),5e3)})):r[u]=!1}}}))}function c(e){r[e]=!1,a()}e.subscribe(a)},it=n(384),at=n.n(it),ot={};function ct(e,t){if(void 0===t&&(t=!0),ot[e]){if(t)return void ot[e]++}else ot[e]=1;tt&&tt.emit("message",{type:"CLIENT_READY",padId:e})}function ut(e,t,n){new Promise((function(t,r){n.on("socket-connected",(function(){t(e)}))})),e.on("connect",(function(){n.emit("socket-connected"),at()(ot,(function(e,n){t.dispatch(b(n,{missing:!0})),ct(n,!1)}))})),e.on("File",(function(e){var n=e.data,r=e.db_event;switch(r){case"sortFiles":var i=n.file,a=n.before;t.dispatch(Object(O.H)(i,a));break;case"create":case"update":var o=Object(q.wormalize)(n,U.a).entities,c=t.dispatch(Object(s.g)(n.guid,U.a,o)).then((function(){var e;return t.dispatch(Object(s.c)({files:(e={},e[n.guid]=o.files[n.guid],e)}))}));if("create"===r)c.then((function(){return t.dispatch(Object(O.D)(n.guid,n.parentGUID,n.role))}));else if("update"===r){if(n.isSpace)break;c.then((function(){return t.dispatch(Object(O.Y)(n.guid,n.parentGUID))}))}}})),e.on("Permission",(function(e){var n=e.data,r=e.db_event;if("destroy"===r&&n.guid)t.dispatch(Object(O.E)(n.guid));else if("create"===r){var i=n.file,a=t.getState(),o=a.me,c=a.tree,u=Object(q.wormalize)(i,U.a).entities;if(i&&o.id!==i.userId){var d=M.d.getParent(c,i.guid)||"0";t.dispatch(Object(s.g)(i.guid,U.a,u)).then((function(){var e;return t.dispatch(Object(s.c)({files:(e={},e[i.guid]=u.files[i.guid],e),users:u.users}))})).then((function(){return t.dispatch(Object(O.D)(i.guid,d,i.role,!!be()(n,"file.Permissions[0].sharedBy")))}))}i&&o.id===i.userId&&t.dispatch(Object(s.g)(i.guid,U.a,u)).then((function(){var e;return t.dispatch(Object(s.c)({files:(e={},e[i.guid]=u.files[i.guid],e),users:u.users}))}))}})),e.on("StarredFile",(function(e){var n=e.action,r=e.data;r&&r.fileGuid&&("create"===n?t.dispatch(Object(O.I)(r.fileGuid)):"destroy"===n&&t.dispatch(Object(O.J)(r.fileGuid)))})),e.on("Notification",(function(e){var t=e.data;n.emit("notification",t)})),e.on("FileMark",(function(e){var n=e.action,r=e.data;if(r){if("readAll"===n&&2===r.type){var i=Object(y.B)(t.getState());t.dispatch(Object(O.F)(i))}r.fileGuid&&"read"===n&&t.dispatch(Object(O.G)(r.fileGuid))}})),e.on("INVITE_ACTS",(function(e){switch(e.name){case"wechat_rewarded":t.dispatch(Ye());break;case"invitor_bind":t.dispatch(Ke());break;case"wechat_no_reward":t.dispatch(Xe())}})),e.on("Maintenance",(function(e){t.dispatch(I(e))})),e.on("Invite",(function(e){var n=e.db_event,r=e.data;if(r&&r.collaborators)if("create"===n){var i=r.fileGuid,a=r.collaboratorCount,o=r.collaborators;t.dispatch(Object(O.K)({type:"add",fileGuid:i,collaboratorCount:a,collaborators:o}))}else if("delete"===n){i=r.fileGuid,a=r.collaboratorCount,o=r.collaborators;t.dispatch(Object(O.K)({type:"delete",fileGuid:i,collaboratorCount:a,collaborators:o}))}})),e.on("discuss",(function(e){if(e)switch(e.event){case"create":t.dispatch(m(e));break;case"delete":t.dispatch(E(e))}})),e.on("DesktopShortcut",(function(){t.dispatch(Object(O.t)())}))}var st=function(e,t){var n=t.socket,r=t.io,i=t.server,c=Object(a.__rest)(t,["socket","io","server"]);if(nt=t.emitter?t.emitter:o.g,n)ut(tt=n,e,nt);else{var u=null;e.subscribe((function(){var t=e.getState(),n=t.me,o=t.status.pushClientId;if(n.id!==u&&(u=n.id,tt&&(tt.close(),tt=null),u)){var s=["pushClientId="+encodeURIComponent(o)];n.token&&s.push("accessToken="+encodeURIComponent(n.token)),ut(tt=r(i+"?"+s.join("&"),Object(a.__assign)({transports:["websocket"]},c)),e,nt)}}))}};var dt=function(e){return function(t){return function(n,r,i){var a=t(n,r,i);return e.disableSync||rt(a,e),e&&st(a,e),a}}};var ft,lt,pt,_t,bt,mt,Et,Ot,gt,vt,Tt,ht,St,jt,It,yt=function(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){if(!function(e){return"args"in e&&("function"==typeof e.payload&&e.args)}(i))return t(i);return i.payload(J()({dispatch:n,getState:r,next:function(e){n({payload:e,type:i.type})},emitter:o.g},e))}}}},At=Object(o.j)({},((ft={})[c.a.PRELOAD]=function(e,t){return t.alphaFeatures||e},ft[c.a.GET_ALPHA_FEATURES]=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),t)},ft[c.a.GET_ALPHA_FEATURES_BY_URL]=function(e,t){var n=t.url,r=t.alphaFeature,i=Object(a.__assign)({},e);return i[n]=r,i},ft[c.a.BULK_RESTORE]=function(e,t){return t.alphaFeatures||e},ft)),Nt=Object(o.j)(Object(i.Map)({}),((lt={})[c.a.PRELOAD]=function(e,t){var n=t.blueTip;return n?Object(i.Map)(n):e},lt[c.a.GET_BLUE_TIP]=function(e,t){return Object(i.Map)(t)},lt[c.a.CLOSE_BLUE_TIP]=function(){return Object(i.Map)({})},lt)),Rt=Object(o.j)(Object(i.Map)({}),((pt={})[c.a.PRELOAD]=function(e,t){var n=t.bulletin;return n?Object(i.Map)(n):e},pt[c.a.GET_BULLETIN]=function(e,t){return Object(i.Map)(t)},pt[c.a.CLOSE_BULLETIN]=function(){return Object(i.Map)({})},pt)),Lt=Object(o.j)(M.a.initialStructure,((_t={})[c.a.PRELOAD]=function(e,t){var n=t.collaborators;return n?e.merge({diff:Object(i.Map)(n.diff),mirror:Object(i.Map)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.fromJS)(n.data)}):e},_t[c.a.BULK_RESTORE]=function(e,t){var n=t.collaborators;return n?e.set("data",Object(i.fromJS)(n)):e},_t[c.a.GET_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.collaborators;return M.a.set(e,n,r)},_t[c.a.GET_SPACE_COLLABORATORS]=function(e,t){var n=t.spaceId,r=t.collaborators;return M.a.set(e,n,r)},_t[c.a.ADD_COLLABORATOR]=function(e,t){var n=t.fileId,r=t.data;return M.a.get(e,n,Object(i.List)()).some((function(e){return e.get("user")===r.user}))?e:M.a.push(e,n,r)},_t[c.a.ADD_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.data,a=M.a.get(e,n,Object(i.List)());return M.a.set(e,n,a.concat(Object(i.fromJS)(r.filter((function(e){return a.every((function(t){return t.get("user")!==e.user}))})))))},_t[c.a.ADD_SPACE_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.data,a=M.a.get(e,n,Object(i.List)());return M.a.set(e,n,a.concat(Object(i.fromJS)(r.filter((function(e){return a.every((function(t){return t.get("user")!==e.user}))})))))},_t[c.a.REMOVE_COLLABORATOR]=function(e,t){var n=t.fileId,r=t.userId,i=M.a.get(e,n);return i?M.a.set(e,n,i.filterNot((function(e){return e.get("user")===r}))):e},_t[c.a.REMOVE_SPACE_COLLABORATOR]=function(e,t){var n=t.spaceId,r=t.userId,i=M.a.get(e,n);return i?M.a.set(e,n,i.filterNot((function(e){return e.get("user")===r}))):e},_t[c.a.PUSH_UPDATE_COLLABORATOR_COUNT]=function(e,t){var n=t.type,r=t.guid,a=t.userId,o=t.permission,c=t.owner,u=t.role;if("add"===n)return M.a.get(e,r,Object(i.List)()).some((function(e){return e.get("user")===a}))?e:M.a.push(e,r,{user:a,role:u,fromParent:!1,permission:o,owner:c});if("delete"===n){var s=M.a.get(e,r);return s?M.a.set(e,r,s.filterNot((function(e){return e.get("user")===a}))):e}return e},_t[c.a.CREATE_FILE]=function(e,t){var n=t.data,r=n.user,i=n.guid;return M.a.set(e,i,[{user:r,role:"owner",sharedBy:null}])},_t[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data,r=n.user,i=n.guid;return M.a.set(e,i,[{user:r,role:"owner",sharedBy:null}])},_t[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return M.a.remove(e,n)},_t[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return M.a.remove(e,n)},_t[c.a.REMOVE_FILES]=function(e,t){return t.guids.reduce((function(e,t){return M.a.remove(e,t)}),e)},_t[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return M.a.remove(e,n)},_t[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r?M.a.createMirror(e,n,r):e},_t[c.a.UPDATE_COLLABORATOR_ROLE]=function(e,t){var n=t.fileId,r=t.userId,i=t.role,a=e.getIn(["data",n]),o={owner:"editable",editor:"editable",reader:"readonly",commentator:"commentable"};return a?M.a.set(e,n,a.map((function(e){return e.get("user")===r?e.set("role",i).set("permission",o[i]):e}))):e},_t[c.a.TRANSFER_OWNER_ROLE]=function(e,t){var n=t.fileId,r=t.userId,i=e.getIn(["data",n]);return i?M.a.set(e,n,i.map((function(e){return"owner"===e.get("role")?e.set("role","editor").set("owner",!1):e.get("user")===r?e.set("role","owner").set("owner",!0):e}))):e},_t)),Ct={owner:"editable",editor:"editable",reader:"readonly",commentator:"commentable"},Pt=Object(o.j)(M.a.initialStructure,((bt={})[c.a.PRELOAD]=function(e,t){var n=t.collabDepts;return n?e.merge({diff:Object(i.Map)(n.diff),mirror:Object(i.Map)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.fromJS)(n.data)}):e},bt[c.a.GET_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.collabDepts;return r=r.map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{permission:Ct[e.role]})})),M.a.set(e,n,r)},bt[c.a.ADD_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.data,o=M.a.get(e,n,Object(i.List)());return r=r.map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{permission:Ct[e.role]})})),M.a.set(e,n,o.concat(Object(i.fromJS)(r.filter((function(e){return o.every((function(t){return t.get("id")!==e.id}))})))))},bt[c.a.REMOVE_COLLABDEPT]=function(e,t){var n=t.spaceId,r=t.deptId,i=M.a.get(e,n);return i?M.a.set(e,n,i.filterNot((function(e){return e.get("id")===r}))):e},bt[c.a.UPDATE_COLLABDEPT_ROLE]=function(e,t){var n=t.spaceId,r=t.deptId,i=t.role,a=e.getIn(["data",n]);return a?M.a.set(e,n,a.map((function(e){return e.get("id")===r?e.set("role",i).set("permission",Ct[i]):e}))):e},bt)),Dt=Object(o.j)(Object(i.Map)({list:Object(i.List)()}),((mt={})[c.a.PRELOAD]=function(e,t){var n=t.created;return n?Object(i.fromJS)(n):e},mt[c.a.GET_CREATED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,a=e&&e.get("list")||Object(i.List)([]),o=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(i.Map)({list:Object(i.List)(Object(i.OrderedSet)(Object(i.List)(n).concat(a))),nextURL:o}):Object(i.Map)({list:Object(i.List)(n),nextURL:r}):Object(i.Map)({list:Object(i.List)(a).concat(n),nextURL:r})},mt[c.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},mt[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},mt[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},mt[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},mt[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter((function(e){return-1===n.indexOf(e)}))):e},mt[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},mt[c.a.BULK_RESTORE]=function(e,t){var n=t.created;return n?Object(i.Map)({list:Object(i.List)(n.list)}):e},mt[c.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return"owner"===t.role?e?e.set("list",e.get("list").filter((function(e){return e!==n})).unshift(n)):Object(i.Map)({list:Object(i.List)([n]),nextURL:void 0}):e},mt[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex((function(e){return e===n}));if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},mt)),wt=Object(o.j)(null,((Et={})[c.a.PRELOAD]=function(e,t){var n=t.deleted;return n?Object(i.fromJS)(n):e},Et[c.a.GET_DELETED_FILES]=function(e,t){return Object(i.List)(t)},Et[c.a.BULK_RESTORE]=function(e,t){var n=t.deleted;return n?Object(i.List)(n):e},Et[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return e&&r?e.map((function(e){return e===n?r:e})):e},Et[c.a.CANCEL_DELETE]=function(e,t){var n=t.guid;return e.delete(e.keyOf(n))},Et[c.a.DELETE_TRASH]=function(e,t){var n=t.guid;return e.delete(e.keyOf(n))},Et[c.a.EMPTY_TRASH]=function(e){return Object(i.List)()},Et[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.push(n):Object(i.List)([n])},Et)),xt=n(293),Ut=n.n(xt),Mt={},Ft=Object(o.j)(Object(i.Map)(),((Ot={})[c.a.PRELOAD]=function(e,t){var n=t.discussions;return n?Object(i.fromJS)(n):e},Ot[c.a.START_RECEIVE_DISCUSSIONS]=function(e,t){return Mt[t]?(Mt[t]++,e):(Mt[t]=1,ct(t),e.set(t,Object(i.Map)({loaded:!1})))},Ot[c.a.STOP_RECEIVE_DISCUSSIONS]=function(e,t){if(Mt[t]){if(--Mt[t])return e;delete Mt[t]}return function(e){if(ot[e]){if(--ot[e])return;delete ot[e]}tt&&tt.emit("message",{type:"CLIENT_QUIT",padId:e})}(t),e.remove(t)},Ot[c.a.GET_DISCUSSIONS]=function(e,t){var n=t.guid,r=t.data,a=e.get(n);if(a){if(r.loaded=!0,a.get("loaded")){var o=a.get("list").toJS();r.list=Ut()(ge()(o,r.list,"id"),(function(e){return-e.unixus}))}return e.set(n,Object(i.fromJS)(r))}return e},Ot[c.a.MARK_VIEWED_DISCUSSIONS]=function(e,t){var n=t.guid,r=t.viewedUnixus,i=e.get(n);return i&&i.get("loaded")?e.update(n,(function(e){return e.set("viewed_unixus",r).set("unviewed_count",0)})):e},Ot[c.a.PUSH_CREATE_DISCUSSION]=function(e,t){var n=t.id,r=t.data.file.guid,a=e.get(r);if(a&&a.get("loaded")&&-1===a.get("list").findIndex((function(e){return e.get("id")===n}))){delete t.event,delete t.data.file;var o=Object(i.fromJS)(t);return e.update(r,(function(e){return e.update("total",(function(e){return e+1})).update("unviewed_count",(function(e){return e+1})).update("list",(function(e){return e.splice(0,0,o)}))}))}return e},Ot[c.a.PUSH_DELETE_DISCUSSION]=function(e,t){var n=t.id,r=t.data.file.guid,i=e.get(r);if(i&&i.get("loaded")){var a=i.get("list").findIndex((function(e){return e.get("id")===n}));if(-1!==a){var o=i.getIn(["list",a,"unixus"])<=i.get("viewed_unixus");return e.update(r,(function(e){return e.update("total",(function(e){return Math.max(e-1,0)})).update("unviewed_count",(function(e){return o?e:Math.max(e-1,0)})).update("list",(function(e){return e.remove(a)}))}))}}return e},Ot)),kt=n(120),Gt=n.n(kt),zt=n(10),Bt={owner:"enterprise_editable",editor:"enterprise_editable",reader:"enterprise_readonly",commentator:"enterprise_commentable"},Ht=((gt={})[c.a.DEMO_FILE]=function(e,t){var n=t.guid;return M.b.merge(e,n,{starred:!0},{factory:zt.a})},gt[c.a.CREATE_SPACE]=function(e,t){return M.b.merge(e,t.guid,t,{create:!0,factory:zt.a,source:"api"})},gt[c.a.UPDATE_SPACE]=function(e,t){var n=t.guid,r=Object(a.__rest)(t,["guid"]);return M.b.merge(e,n,r,{factory:zt.a,source:"api"})},gt[c.a.COVERT_TO_SPACE]=function(e,t){return M.b.merge(e,t.guid,t,{factory:zt.a,source:"api"})},gt[c.a.REMOVE_SPACE_COLLABORATOR]=function(e,t){var n=t.spaceId;return null===M.b.get(e,n)?M.b.remove(M.b.removeDiffProperties(e,n),n):e},gt[c.a.GET_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.collaborators;if(Array.isArray(r)&&n){var i={collaboratorCount:r.length};return M.b.merge(e,n,i,{factory:zt.a,source:"api"})}return e},gt[c.a.GET_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.collabDepts;if(Array.isArray(r)&&n){var i={departmentCollaboratorCount:r.length};return M.b.merge(e,n,i,{factory:zt.a,source:"api"})}return e},gt[c.a.ADD_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.data,i=M.b.get(e,n);if(Array.isArray(r)&&n){var a={departmentCollaboratorCount:(i.departmentCollaboratorCount||0)+r.length};return r.reduce((function(e,t){return 1===(t.id||t.departmentId)&&t.role&&(e.shareMode=Bt[t.role]||i.shareMode),e}),a),M.b.merge(e,n,a,{factory:zt.a,source:"api"})}return e},gt[c.a.UPDATE_COLLABDEPT_ROLE]=function(e,t){var n=t.spaceId,r=t.deptId,i=t.role;return n&&1===r&&i?M.b.merge(e,n,{shareMode:Bt[i]||M.b.get(e,n).shareMode},{factory:zt.a,source:"api"}):e},gt[c.a.REMOVE_COLLABDEPT]=function(e,t){var n=t.spaceId,r=t.deptId,i=M.b.get(e,n);if(r&&n){var a={departmentCollaboratorCount:(i.departmentCollaboratorCount||1)-1};return 1===r&&(a.shareMode="private"),M.b.merge(e,n,a,{factory:zt.a,source:"api"})}return e},gt),Vt=Object(o.j)(M.b.initialStructure,Object(a.__assign)(Object(a.__assign)({},Ht),((vt={})[c.a.PRELOAD]=function(e,t){var n=t.files;return n?Object.keys(n.data).reduce((function(e,t){return n.data[t]?M.b.merge(e,t,n.data[t],{source:"preload",factory:zt.a,create:!0}):e}),e.merge({diff:n.diff?Object(i.Map)(Gt()(n.diff,i.Set)):Object(i.Map)(),mirror:Object(i.Map)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.Map)()})):e},vt[c.a.MERGE_ENTITIES]=function(e,t){var n=t.files;return n?Object.keys(n).reduce((function(e,t){return M.b.merge(e,t,n[t],{source:"api",factory:zt.a})}),e):e},vt[c.a.CREATE_SHORTCUT]=function(e,t){var n=t.guid;return M.b.merge(e,n,{hasDesktopShortcut:!0},{source:"api",factory:zt.a})},vt[c.a.REMOVE_SHORTCUT]=function(e,t){var n=t.guid;return M.b.merge(e,n,{hasDesktopShortcut:!1},{source:"api",factory:zt.a})},vt[c.a.MARK_FILE]=function(e,t){var n=t.guid;return M.b.merge(e,n,{marked:!1},{source:"api",factory:zt.a})},vt[c.a.STAR_FILE]=function(e,t){var n=t.guid;return M.b.merge(e,n,{starred:!0},{factory:zt.a})},vt[c.a.UNSTAR_FILE]=function(e,t){var n=t.guid;return M.b.merge(e,n,{starred:!1},{factory:zt.a})},vt[c.a.LOCK_FILE]=function(e,t){var n=t.guid;return M.b.has(e,n)?M.b.merge(e,n,{isLocked:!0},{source:"api",factory:zt.a}):e},vt[c.a.UNLOCK_FILE]=function(e,t){var n=t.guid;return M.b.has(e,n)?M.b.merge(e,n,{isLocked:!1},{source:"api",factory:zt.a}):e},vt[c.a.MUTE_FILE]=function(e,t){return t.guids.reduce((function(e,t){return t?M.b.merge(e,t,{mute:!0},{source:"api",factory:zt.a}):e}),e)},vt[c.a.UNMUTE_FILE]=function(e,t){return t.guids.reduce((function(e,t){return t?M.b.merge(e,t,{mute:!1},{source:"api",factory:zt.a}):e}),e)},vt[c.a.PUSH_MARK_FILE]=function(e,t){var n=t.guid;return M.b.has(e,n)?M.b.merge(e,n,{marked:!1},{source:"api",factory:zt.a}):e},vt[c.a.PUSH_MARK_ALL_FILES_WITH_IDS]=function(e,t){var n=t.ids,r=e;return n&&n.forEach((function(t){M.b.has(e,t)&&(r=M.b.merge(e,t,{marked:!1},{source:"api",factory:zt.a}))})),r},vt[c.a.PUSH_STAR_FILE]=function(e,t){var n=t.guid;return M.b.has(e,n)?M.b.merge(e,n,{starred:!0},{source:"api",factory:zt.a}):e},vt[c.a.PUSH_UNSTAR_FILE]=function(e,t){var n=t.guid;return M.b.merge(e,n,{starred:!1},{source:"api",factory:zt.a})},vt[c.a.PUSH_UPDATE_COLLABORATOR_COUNT]=function(e,t){var n=t.type,r=t.guid,i=t.collaboratorCount,a=M.b.get(e,r);if(!a)return e;if(i=a.collaboratorCount||i,"add"===n)i+=1;else{if("delete"!==n)return e;i-=1}return M.b.merge(e,r,{collaboratorCount:i},{source:"api",factory:zt.a})},vt[c.a.UPDATE_FILE_NAME]=function(e,t){var n=t.guid,r=t.name;return M.b.merge(e,n,{name:r},{factory:zt.a})},vt[c.a.UPDATE_FILE_SHARE_MODE]=function(e,t){var n=t.guid,r=t.shareMode,i=t.passwordProtected;return M.b.merge(e,n,{shareMode:r,passwordProtected:i},{source:"api",factory:zt.a})},vt[c.a.NEW_UPDATE_FILE_SHARE_MODE]=function(e,t){var n=t.guid,r=t.shareMode,i=t.password;return M.b.merge(e,n,{shareMode:r,password:i,passwordProtected:Boolean(i)},{source:"api",factory:zt.a})},vt[c.a.UPDATE_FILE_SHARE_EXPIRE]=function(e,t){var n=t.guid,r=t.shareModeExpireDuration,i=t.shareModeExpiredAt;return M.b.merge(e,n,{shareModeExpireDuration:r,shareModeExpiredAt:i},{source:"api",factory:zt.a})},vt[c.a.SET_FILE_PASSWORD_PROTECTED]=function(e,t){var n=t.guid,r=t.password;return M.b.merge(e,n,{passwordProtected:!0,password:r},{source:"api",factory:zt.a})},vt[c.a.SET_FILE_PASSWORD_UNPROTECTED]=function(e,t){var n=t.guid;return M.b.merge(e,n,{passwordProtected:!1},{source:"api",factory:zt.a})},vt[c.a.UPDATE_FILE_SHARE_PASSWORD]=function(e,t){var n=t.guid,r=t.password;return M.b.merge(e,n,{password:r},{source:"api",factory:zt.a})},vt[c.a.CREATE_FILE]=function(e,t){var n=t.data;return M.b.merge(e,n.guid,J()({},n,{isNew:!0}),{create:!0,factory:zt.a})},vt[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data;return M.b.merge(e,n.guid,J()({},n),{create:!0,factory:zt.a,source:"api"})},vt[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return M.b.remove(M.b.removeDiffProperties(e,n),n)},vt[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return M.b.remove(M.b.removeDiffProperties(e,n),n)},vt[c.a.REMOVE_FILES]=function(e,t){return t.guids.reduce((function(e,t){return M.b.remove(M.b.removeDiffProperties(e,t),t)}),e)},vt[c.a.MOVE_FILES]=function(e,t){return t.guids.reduce((function(t,n){var r=M.b.get(e,n);return M.b.merge(t,n,{isFromSVC:r.isFromSVC},{source:"api",factory:zt.a})}),e)},vt[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return M.b.remove(e,n)},vt[c.a.REMOVE_FILE_SHORTCUT]=function(e,t){return t.guids.reduce((function(e,t){return M.b.remove(M.b.removeDiffProperties(e,t),t)}),e)},vt[c.a.RESTORE_DIFF]=function(e,t){var n=t.files;return n?M.b.setDiff(e,n):e},vt[c.a.RESTORE_SCHEMA]=function(e,t){var n=t.files;return n?e.update("data",(function(e){return e.withMutations((function(e){Object.keys(n).forEach((function(t){e.set(t,n[t]&&(new zt.a).merge(n[t]))}))}))})):e},vt[c.a.PERSIST]=function(e,t){return"files"===t?M.b.unsetPersist(e):e},vt[c.a.RECOVER_STATE_BY_REMOVING_DIFF]=function(e,t){var n=t.id;return"files"===t.model?M.b.removeDiffProperties(e,n):e},vt[c.a.RECOVER_STATE_BY_MARKING_MODEL]=function(e,t){var n=t.id,r=t.model,a=e.get("recover",Object(i.Set)());return"files"!==r||a.has(n)||(e=e.set("recover",a.add(n))),e},vt[c.a.REMOVE_COLLABORATOR]=function(e,t){var n=t.fileId;return null===M.b.get(e,n)?M.b.remove(M.b.removeDiffProperties(e,n),n):e},vt[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.resolved,i=t.mirrorTo;return r&&(e=M.b.removeDiffProperties(e,n,r)),i&&(e=M.b.createMirror(M.b.merge(e,n,{guid:i},{source:"api",factory:zt.a}),n,i)),e},vt[c.a.TRANSFER_OWNER_ROLE]=function(e,t){var n=t.fileId,r=t.file;return M.b.merge(e,n,r,{source:"api",factory:zt.a})},vt[c.a.VERIF_PASSWORD]=function(e,t){var n=t.guid;return t.result?M.b.merge(e,n,{requirePassword:!1},{source:"api",factory:zt.a}):e},vt[c.a.DUPLICATE_FILE]=function(e,t){var n=t.guid,r=t.me;return M.b.merge(e,n,{user:r.id,updatedUser:r.id,duplicateAction:!0},{factory:zt.a})},vt[c.a.DUPLICATE_FILES]=function(e,t){var n=t.guids,r=t.me;return n.reduce((function(e,t){return M.b.merge(e,t,{user:r.id,updatedUser:r.id,duplicateAction:!0},{factory:zt.a})}),e)},vt[c.a.GET_WATERMARK]=function(e,t){var n=t.guid,r=t.status;return M.b.merge(e,n,{watermark:r},{source:"api",factory:zt.a})},vt[c.a.GET_FILE_ANCESTORS]=function(e,t){var n=t.guid,r=t.ancestors;if(!t.hasUnprivilegedParent)return e;var i=Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__read)(r)),[n])[0];return M.b.merge(e,i,{hasUnprivilegedParent:!0},{source:"api",factory:zt.a})},vt[c.a.GET_FILE_CREATOR]=function(e,t){var n=t.creator,r=t.guid;return M.b.merge(e,r,{creator:n},{source:"api",factory:zt.a})},vt))),Wt=Object(o.j)(Object(i.Map)(),((Tt={})[c.a.PRELOAD]=function(e,t){var n=t.flashMessages;return n?Object(i.fromJS)(n):e},Tt[c.a.GET_FLASH_MESSAGES]=function(e,t){if(null===t)return e||Object(i.Map)();if(e&&e instanceof i.Map){var n=t.map((function(e){var t;return(t={})[e.name]=new zt.c(e),t}));return e.merge.apply(e,Object(a.__spreadArray)([],Object(a.__read)(n)))}var r=t.reduce((function(e,t){return e[t.name]=new zt.c(t),e}),{});return Object(i.Map)(r)},Tt[c.a.SET_FLASH_MESSAGE_READ]=function(e,t){return e.updateIn([t,"isRead"],(function(){return 1}))},Tt[c.a.BULK_RESTORE]=function(e,t){var n=t.flashMessages;if(!n)return e;var r={};for(var a in n)r[a]=new zt.c(n[a]);return Object(i.Map)(r)},Tt)),Yt=Object(o.j)({},((ht={})[c.a.PRELOAD]=function(e,t){return t.maintenance||e},ht[c.a.UPDATE_MAINTENANCE]=function(e,t){return t},ht)),Kt=Object(o.j)(Object(zt.d)(),((St={})[c.a.PRELOAD]=function(e,t){var n=t.me;return n?Object(zt.d)(n):e},St[c.a.GENERIC_LOGIN]=function(e,t){var n=t.id,r=t.token;return e.merge({id:n,token:r,stale:!1})},St[c.a.LOGIN_WITH_DING_TALK]=function(e,t){var n=t.id,r=t.token;return e.merge({id:n,token:r,stale:!1})},St[c.a.LOGIN_WITH_CORS_SESSION]=function(e,t){var n=t.id;return e.merge({id:n,stale:!1})},St[c.a.SET_CURRENT_USER]=function(e,t){var n=t.id;return e.merge({id:n,stale:!1})},St[c.a.REMOVE_CURRENT_USER]=function(e){return e.merge({id:void 0,token:void 0,stale:e.id})},St[c.a.SET_ANONYMOUS_USER]=function(e,t){var n=t.id;return e.merge({id:n})},St[c.a.BULK_RESTORE]=function(e,t){var n=t.me;return n?Object(zt.d)(n):e},St)),Xt=Object(i.Map)({all:null,unread:null,allHasMore:!0,unreadHasMore:!0,unpeekedCount:0,unreadCount:0}),Jt=Object(o.j)(Xt,((jt={})[c.a.PRELOAD]=function(e,t){var n=t.notifications;return n?Object(i.fromJS)(n):e},jt[c.a.SET_UNPEEKED_COUNT]=function(e,t){return e.set("unpeekedCount",t)},jt[c.a.GET_NOTIFICATIONS]=function(e,t){var n=t.status,r=t.prepend,a=t.items,o=t.hasMore,c=function(e,t){var n=e.concat(t).sort((function(e,t){return Date.parse(e.get("createdAt"))<Date.parse(t.get("createdAt"))})),r={};return n=n.filter((function(e){return!r[e.get("id")]&&(r[e.get("id")]=!0,!0)}))};"boolean"==typeof o&&(e=e.set(n+"HasMore",o));var u=Object(i.List)(a.map((function(e){return new zt.e(e)})));if(0===a.length)return null===e.get(n)?e.set(n,u):e;var s=e.get(n)||Object(i.List)();return r?e=e.update(n,(function(e){return e?c(u,e):u})):0===s.size?e.set(n,u):e.update(n,(function(e){return c(e,u)}))},jt[c.a.GET_UNREAD_NOTIFICATION_COUNT]=function(e,t){return e.set("unreadCount",t)},jt[c.a.GET_UNPEAKED_NOTIFICATION_COUNT]=function(e,t){return e.set("unpeekedCount",t)},jt[c.a.MARK_NOTIFICATIONS_READ]=function(e,t){e.get("all")&&(e=e.update("all",(function(e){return qt(e,t)})));var n=e.get("unread");if(n){var r=n.filter((function(e){return e.id!==t}));n.size>r.size&&(e=e.set("unread",r).update("unreadCount",(function(e){return e&&e-1})))}return e},jt[c.a.MARK_NOTIFICATIONS_ALL_READ]=function(e){return e.get("all")&&(e=e.update("all",qt)),e.set("unread",Object(i.List)()).set("unreadCount",0)},jt[c.a.MUTE_FILE]=function(e,t){var n=t.guids;return e.get("all")&&(e=e.update("all",(function(e){return Qt(e,n,!0)}))),e},jt[c.a.UNMUTE_FILE]=function(e,t){var n=t.guids;return e.get("all")&&(e=e.update("all",(function(e){return Qt(e,n,!1)}))),e},jt[c.a.BULK_RESTORE]=function(e,t){var n=t.notifications;return n?Object(i.fromJS)(J()({},n,{all:n.all&&n.all.map((function(e){return new zt.e(e)})),unread:n.unread&&n.unread.map((function(e){return new zt.e(e)}))})):e},jt));function qt(e,t){return e.map((function(e){return t&&e.id!==t?e:e.set("status","read")}))}function Qt(e,t,n){return e.map((function(e){return function(e,t){return!t||!!e.file&&("string"==typeof t?e.file.guid===t:t.contains(e.file.guid))}(e,t)?e.setIn(["file","mute"],n):e}))}var $t,Zt,en,tn,nn,rn,an=Object(o.j)(null,((It={})[c.a.PRELOAD]=function(e,t){var n=t.recent;return n?Object(i.fromJS)(n):e},It[c.a.GET_RECENT_FILES]=function(e,t){return Object(i.List)(t)},It[c.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.unshift(n):Object(i.List)([n])},It[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.unshift(n):Object(i.List)([n])},It[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},It[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},It[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter((function(e){return-1===n.indexOf(e)})):e},It[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},It[c.a.BULK_RESTORE]=function(e,t){var n=t.recent;return n?Object(i.List)(n):e},It)),on=Object(o.j)(null,(($t={})[c.a.PRELOAD]=function(e,t){var n=t.recentContacts;return n?Object(i.fromJS)(n):e},$t[c.a.GET_RECENT_CONTACTS]=function(e,t){return Object(i.List)(t)},$t[c.a.DELETE_RECENT_CONTACT]=function(e,t){var n=t.userId;return e?e.filter((function(e){return e!==n})):e},$t)),cn=Object(o.j)({},((Zt={})[c.a.PRELOAD]=function(e,t){return t.settings||e},Zt[c.a.GET_SETTINGS]=function(e,t){return t||e},Zt[c.a.SET_SETTINGS]=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),t)},Zt[c.a.BULK_RESTORE]=function(e,t){return t.settings||e},Zt)),un=Object(o.j)(Object(i.Map)({list:Object(i.List)()}),((en={})[c.a.PRELOAD]=function(e,t){var n=t.shared;return n?Object(i.fromJS)(n):e},en[c.a.GET_SHARED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,a=e&&e.get("list")||Object(i.List)([]),o=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(i.Map)({list:Object(i.List)(Object(i.OrderedSet)(Object(i.List)(n).concat(a))),nextURL:o}):Object(i.Map)({list:Object(i.List)(n),nextURL:r}):Object(i.Map)({list:Object(i.List)(a).concat(n),nextURL:r})},en[c.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return t.byAddCollaborator?e?e.set("list",e.get("list").filter((function(e){return e!==n})).unshift(n)):Object(i.Map)({list:Object(i.List)([n]),nextURL:void 0}):e},en[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},en[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},en[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter((function(e){return-1===n.indexOf(e)}))):e},en[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},en[c.a.BULK_RESTORE]=function(e,t){var n=t.shared;return n?Object(i.Map)({list:Object(i.List)(n.list)}):e},en)),sn=n(385),dn=n.n(sn),fn=Object(o.j)(Object(i.List)(),((tn={})[c.a.PRELOAD]=function(e,t){var n=t.shortcuts;return n?Object(i.fromJS)(n):e},tn[c.a.GET_SHORTCUTS]=function(e,t){return Object(i.List)(dn()(t))},tn[c.a.CREATE_SHORTCUT]=function(e,t){void 0===e&&(e=Object(i.List)());var n=t.guid,r=t.before,a=e.filter((function(e){return e!==n}));if(r){var o=a.indexOf(r);return a.insert(o,n)}return a.push(n)},tn[c.a.UPDATE_SHORTCUT]=function(e,t){void 0===e&&(e=Object(i.List)());var n=t.guid,r=t.before,a=e.filter((function(e){return e!==n}));if(r){var o=a.indexOf(r);return a.insert(o,n)}return a.push(n)},tn[c.a.REMOVE_SHORTCUT]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},tn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},tn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},tn[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter((function(e){return-1===n.indexOf(e)})):e},tn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},tn[c.a.BULK_RESTORE]=function(e,t){var n=t.shortcuts;return n?Object(i.List)(n):e},tn)),ln=Object(o.j)({size:null},((nn={})[c.a.SPACE.GET_SIZE]=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),{size:t})},nn)),pn=Object(o.j)(null,((rn={})[c.a.PRELOAD]=function(e,t){var n=t.starred;return n?Object(i.fromJS)(n):e},rn[c.a.GET_STARRED_FILES]=function(e,t){return Object(i.List)(t)},rn[c.a.STAR_FILE]=_n,rn[c.a.PUSH_STAR_FILE]=_n,rn[c.a.UNSTAR_FILE]=bn,rn[c.a.PUSH_UNSTAR_FILE]=bn,rn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},rn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},rn[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter((function(e){return-1===n.indexOf(e)})):e},rn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},rn[c.a.BULK_RESTORE]=function(e,t){var n=t.starred;return n?Object(i.List)(n):e},rn[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return e&&r?e.map((function(e){return e===n?r:e})):e},rn));function _n(e,t){var n=t.guid;return e?e.includes(n)?e:e.unshift(n):Object(i.List)([n])}function bn(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e}var mn,En,On,gn,vn,Tn,hn,Sn,jn=n(149),In=Object(o.j)(Object(jn.a)(),((mn={})[c.a.PRELOAD]=function(e,t){var n=t.status;return n?Object(jn.a)(n):e},mn[c.a.MARK_DATA_LOADED]=function(e,t){return e.set("dataLoaded",t)},mn[c.a.INCREASE_PENDING_REQUESTS]=function(e){return e.update("pendingRequests",(function(e){return e+1}))},mn[c.a.DECREASE_PENDING_REQUESTS]=function(e){return e.update("pendingRequests",(function(e){return e-1}))},mn[c.a.SET_ONLINE_STATUS]=function(e,t){return t&&(e=e.set("physicalOnline",!0)),e.set("online",t)},mn[c.a.SET_PHYSICAL_ONLINE_STATUS]=function(e,t){return e.set("physicalOnline",t)},mn)),yn={app_push_comment:!0,app_push_invitation:!0,app_push_team:!0,app_push_mention:!0,not_send_apn_when_web_online:!0,comment:!0,app_push_system:!0,desktop:!0,sms:!0},An=Object(o.j)(yn,((En={})[c.a.PRELOAD]=function(e,t){return t.subscriptions||e},En[c.a.GET_SUBSCRIPTIONS]=function(e,t){if(t){var n=Object(a.__assign)({},yn),r={};return t.forEach((function(e){var t=e.channel,i=e.isDelete,a=e.createdAt,o=Date.parse(a);n.hasOwnProperty(t)&&(!r[t]||r[t]<o)&&(r[t]=o,n[t]=1===i)})),n}return e},En[c.a.SWITCH_SUBSCRIPTIONS]=function(e,t){var n=t.channel,r=t.on;return Array.isArray(n)?n.forEach((function(t){e[t]=r})):e[n]=r,Object(a.__assign)({},e)},En)),Nn=Object(o.j)(Object(i.Map)(),((On={})[c.a.PRELOAD]=function(e,t){var n=t.syncedFiles;return n?Object(i.Map)(n):e},On[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r?e.set(n,r):e},On)),Rn=Object(o.j)(null,((gn={})[c.a.PRELOAD]=function(e,t){var n=t.teamMembers;return n?Object(i.fromJS)(n):e},gn[c.a.GET_TEAM_MEMBERS]=function(e,t){return null===t?Object(i.List)():Object(i.List)(t)},gn[c.a.ADD_TEAM_MEMBERS]=function(e,t){return e?e.concat(t):i.List[t]},gn[c.a.SET_ANONYMOUS_TEAM]=function(){return Object(i.List)([])},gn[c.a.BULK_RESTORE]=function(e,t){var n=t.teamMembers;return n?Object(i.List)(n):e},gn)),Ln=Object(o.j)(M.b.initialStructure,((vn={})[c.a.PRELOAD]=function(e,t){var n=t.teams;if(!n)return e;var r=e.merge({diff:Object(i.fromJS)(n.diff),mirror:Object(i.fromJS)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.Map)()});return Object.keys(n.data).reduce((function(e,t){return n.data[t]?M.b.merge(e,Number(t),n.data[t],{source:"api",factory:zt.f,create:!0}):e}),r)},vn[c.a.MERGE_ENTITIES]=function(e,t){var n=t.teams;return n?Object.keys(n).reduce((function(e,t){return M.b.merge(e,Number(t),n[t],{source:"api",factory:zt.f})}),e):e},vn[c.a.RESTORE_SCHEMA]=function(e,t){var n=t.teams;return n?e.update("data",(function(e){return e.withMutations((function(e){Object.keys(n).forEach((function(t){e.set(Number(t),n[t]&&new zt.f(n[t]))}))}))})):e},vn[c.a.PERSIST]=function(e,t){return"teams"===t?M.b.unsetPersist(e):e},vn[c.a.GET_TEAM_SETTINGS_BY_URL]=function(e,t){var n=t.teamId,r=t.url,a=t.setting;if(!n)return e;var o=(e.getIn(["data",n,"settings"])||Object(i.Map)()).set(r,a);return M.b.merge(e,n,{settings:o},{source:"api",factory:zt.f})},vn[c.a.UPDATE_TEAM_INFO]=function(e,t){var n=t.teamId,r=Object(a.__rest)(t,["teamId"]);return n?M.b.merge(e,n,r,{source:"api",factory:zt.f}):e},vn)),Cn=Object(o.j)({customTemplates:[],publicTemplates:[],categories:[]},((Tn={})[c.a.PRELOAD]=function(e,t){return t.templates||e},Tn[c.a.GET_TEMPLATES]=function(e,t){return t||e},Tn[c.a.BULK_RESTORE]=function(e,t){return t.templates||e},Tn[c.a.RENAME_CUSTOM_TEMPLATE]=function(e,t){var n=t.guid,r=t.name,i=e.customTemplates.map((function(e){return e.guid===n?Object(a.__assign)(Object(a.__assign)({},e),{name:r}):e}));return Object(a.__assign)(Object(a.__assign)({},e),{customTemplates:i})},Tn[c.a.REMOVE_CUSTOM_TEMPLATE]=function(e,t){var n=t.guid,r=e.customTemplates.map((function(e){return e.guid===n?null:e})).filter((function(e){return!!e}));return Object(a.__assign)(Object(a.__assign)({},e),{customTemplates:r})},Tn)),Pn=Object(o.j)({limit:-1,valid:!0},((hn={})[c.a.GET_TEMPLATE_LIMITS]=function(e,t){return t||e},hn));var Dn,wn=Object(o.j)(M.d.initialStructure,((Sn={})[c.a.PRELOAD]=function(e,t){var n=t.tree;return n?e.merge({diff:Object(i.fromJS)(n.diff),mirror:Object(i.fromJS)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.fromJS)(n.data)}):e},Sn[c.a.GET_FILE_CHILDREN]=function(e,t){var n=t.parent,r=t.children;return r.reduce((function(e,t){return M.d.setParent(e,t,n)}),M.d.setChildren(e,n,r))},Sn[c.a.CREATE_FILE]=function(e,t){var n=t.parent,r=t.data,i=r.type,a=r.guid;return e=M.d.unshiftChildren(e,n,a),e=M.d.setParent(e,a,n),"folder"===i&&(e=M.d.setChildren(e,a,[])),e},Sn[c.a.GET_SPACES]=function(e,t){var n=t.parent,r=t.children;return r.reduce((function(e,t){return M.d.setParent(e,t,n)}),M.d.setChildren(e,n,r))},Sn[c.a.SPACE.SORT]=function(e,t){var n=t.guid,r=t.afterGuid,a=M.d.getChildren(e,M.c);return M.d.setChildren(e,M.c,function(e,t,n){if(!e)return e;var r=e.indexOf(t);r>-1&&(e=e.remove(r));var a=null===n?0:e.indexOf(n)+1;return-1===a?e.push(t):Object(i.List)(e.splice(a,0,t))}(a,M.d.mirrorId(e,n),M.d.mirrorId(e,r)))},Sn[c.a.CREATE_SPACE]=function(e,t){var n=t.guid;return e=M.d.unshiftChildren(e,"1",n),e=M.d.setParent(e,n,"1")},Sn[c.a.COVERT_TO_SPACE]=function(e,t){var n=t.guid;return e=M.d.removeFromParent(e,n),e=M.d.setParent(e,n,"0"),M.d.unshiftChildren(e,"0",n)},Sn[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.parent,r=t.data;return Mn(e,{guid:r.guid,parent:n,options:r.options})},Sn[c.a.DUPLICATE_FILE]=function(e,t){var n=t.guid,r=t.sourceId,i=t.targetParentId||M.d.getParent(e,r)||"0";return e=M.d.unshiftChildren(e,i,n),M.d.setParent(e,n,i)},Sn[c.a.DUPLICATE_FILES]=function(e,t){var n=t.guids,r=t.sourceIds,i=t.targetParentId||M.d.getParent(e,r[0])||"0";return e=n.reduce((function(e,t){return M.d.unshiftChildren(e,i,t)}),e),n.reduce((function(e,t){return M.d.setParent(e,t,i)}),e)},Sn[c.a.SORT_FILE]=function(e,t){return xn(e,t.guid,t.before)},Sn[c.a.MOVE_FILE]=function(e,t){return Un({state:e,guid:t.guid,target:t.target,after:t.after})},Sn[c.a.MOVE_FILES]=function(e,t){var n=t.guids,r=t.target,i=t.after;return n.forEach((function(t,a){0===a||(i=n[a-1]),e=Un({state:e,guid:t,target:r,after:i})})),e},Sn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return M.d.remove(e,n)},Sn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return M.d.remove(e,n)},Sn[c.a.REMOVE_FILES]=function(e,t){return t.guids.reduce((function(e,t){return M.d.remove(e,t)}),e)},Sn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return M.d.remove(e,n)},Sn[c.a.REMOVE_FILE_SHORTCUT]=function(e,t){return t.guids.reduce((function(e,t){return M.d.remove(e,t)}),e)},Sn[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r&&e?M.d.createMirror(e,n,r):e},Sn[c.a.BULK_RESTORE]=function(e,t){var n=t.tree;return n?e.set("data",Object(i.fromJS)(n)):e},Sn[c.a.GET_FILE_ANCESTORS]=function(e,t){var n=t.guid,r=t.ancestors,i=t.inSpace;if(!r)return e;for(var o=Object(a.__spreadArray)(Object(a.__spreadArray)([i?"1":"0"],Object(a.__read)(r)),[n]),c=0;c<o.length-1;c++)e=M.d.setParent(e,o[c+1],o[c]);return e},Sn[c.a.CREATE_FILE_SYNCHRONOUSLY]=function(e,t){return Mn(e,{guid:t.guid,parent:t.parent,options:t.options})},Sn[c.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid,r=t.parent;return r&&M.d.getChildren(e,r)?(e=M.d.unshiftChildren(e,r,n),M.d.setParent(e,n,r)):e},Sn[c.a.PUSH_CHECK_FILE_MOVED]=function(e,t){var n=t.guid,r=t.parent,i=M.d.getParent(e,n);return i&&r&&i!==r?(e=M.d.removeFromParent(e,n),M.d.getChildren(e,r)?M.d.unshiftChildren(e,r,n):e):e},Sn[c.a.PUSH_SORT_FILE]=function(e,t){return xn(e,t.guid,t.before)},Sn[c.a.FULL_SYNCHRONIZATION]=function(e,t){return Object.keys(t).forEach((function(n){var r=t[n];r.forEach((function(t){e=M.d.setParent(e,t,n)})),e=M.d.setChildren(e,n,r)})),e},Sn));function xn(e,t,n){var r=M.d.getParent(e,t);if(!r)return e;var i=M.d.getChildren(e,r);if(!i)return e;var a=i.findKey((function(e){return e===t}));if(void 0===a)return e;if(i=i.remove(a),n&&n!==1/0){var o=i.findKey((function(e){return e===n}));if(void 0===o)return e;i=i.insert(o,t)}else i=i.push(t);return M.d.setChildren(e,r,i)}function Un(e){var t=e.state,n=e.guid,r=e.target,i=e.after;if(t=M.d.removeFromParent(t,n),t=M.d.setParent(t,n,r),i){var a=M.d.getChildren(t,r),o=a.findKey((function(e){return e===i}));return void 0===o?t:(a=a.insert(o+1,n),M.d.setChildren(t,r,a))}return M.d.unshiftChildren(t,r,n)}function Mn(e,t){var n=t.guid,r=t.parent,i=t.options;if(!r||!M.d.getChildren(e,r))return e;var a=i.after;if(a){var o=M.d.getChildren(e,r),c=o.findKey((function(e){return e===a}));return void 0===c?e:(o=o.insert(c+1,n),e=M.d.setParent(e,n,r),M.d.setChildren(e,r,o))}return e=M.d.unshiftChildren(e,r,n),M.d.setParent(e,n,r)}var Fn,kn,Gn,zn,Bn,Hn,Vn,Wn,Yn=Object(o.j)(null,((Dn={})[c.a.PRELOAD]=function(e,t){var n=t.unreadShared;return n?Object(i.fromJS)(n):e},Dn[c.a.GET_UNREAD_SHARED_FILES]=function(e,t){return Object(i.List)(t)},Dn[c.a.MARK_ALL_SHARED_FILES]=function(){return Object(i.List)()},Dn[c.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return t.byAddCollaborator?e?e.filter((function(e){return e!==n})).unshift(n):Object(i.List)([n]):e},Dn[c.a.PUSH_MARK_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},Dn[c.a.PUSH_MARK_ALL_FILES_WITH_IDS]=function(){return Object(i.List)()},Dn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},Dn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},Dn[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter((function(e){return-1===n.indexOf(e)})):e},Dn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter((function(e){return e!==n})):e},Dn[c.a.BULK_RESTORE]=function(e,t){var n=t.unreadShared;return n?Object(i.List)(n):e},Dn)),Kn=Object(o.j)(Object(i.Map)({list:Object(i.List)()}),((Fn={})[c.a.PRELOAD]=function(e,t){var n=t.updated;return n?Object(i.fromJS)(n):e},Fn[c.a.GET_UPDATED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,a=e&&e.get("list")||Object(i.List)([]),o=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(i.Map)({list:Object(i.List)(Object(i.OrderedSet)(Object(i.List)(n).concat(a))),nextURL:o}):Object(i.Map)({list:Object(i.List)(n),nextURL:r}):Object(i.Map)({list:Object(i.List)(a).concat(n),nextURL:r})},Fn[c.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},Fn[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},Fn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},Fn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},Fn[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter((function(e){return-1===n.indexOf(e)}))):e},Fn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},Fn[c.a.BULK_RESTORE]=function(e,t){var n=t.updated;return n?Object(i.Map)({list:Object(i.List)(n.list)}):e},Fn[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex((function(e){return e===n}));if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},Fn)),Xn=Object(o.j)(Object(i.Map)({list:Object(i.List)()}),((kn={})[c.a.PRELOAD]=function(e,t){var n=t.used;return n?Object(i.fromJS)(n):e},kn[c.a.GET_USED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,a=e&&e.get("list")||Object(i.List)([]),o=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(i.Map)({list:Object(i.List)(Object(i.OrderedSet)(Object(i.List)(n).concat(a))),nextURL:o}):Object(i.Map)({list:Object(i.List)(n),nextURL:r}):Object(i.Map)({list:Object(i.List)(a).concat(n),nextURL:r})},kn[c.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},kn[c.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(i.List)([n])},kn[c.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},kn[c.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},kn[c.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter((function(e){return-1===n.indexOf(e)}))):e},kn[c.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter((function(e){return e!==n}))):e},kn[c.a.BULK_RESTORE]=function(e,t){var n=t.used;return n?Object(i.Map)({list:Object(i.List)(n.list)}):e},kn[c.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return"owner"===t.role?e?e.set("list",e.get("list").filter((function(e){return e!==n})).unshift(n)):Object(i.Map)({list:Object(i.List)([n]),nextURL:void 0}):e},kn[c.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex((function(e){return e===n}));if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},kn)),Jn=Object(o.j)(Object(i.Map)(),((Gn={})[c.a.PRELOAD]=function(e,t){var n=t.userGuide;return n?Object(i.fromJS)(n):e},Gn[c.a.GET_USER_GUIDE_INFO]=function(e,t){return void 0===t&&(t={}),Object(i.Map)(t)},Gn[c.a.UPDATE_USER_GUIDE_INFO]=function(e,t){var n=t.type;return!1===e.get(n)?e.set(n,!0):e},Gn[c.a.BULK_RESTORE]=function(e,t){var n=t.userGuide;return n?Object(i.Map)(n):e},Gn)),qn=Object(o.j)(M.b.initialStructure,((zn={})[c.a.PRELOAD]=function(e,t){var n=t.users;return n?Object.keys(n.data).reduce((function(e,t){return n.data[t]?M.b.merge(e,Number(t),n.data[t],{source:"preload",factory:zt.g,create:!0}):e}),e.merge({diff:n.diff?Object(i.Map)(Gt()(n.diff,i.Set)):Object(i.Map)(),mirror:Object(i.Map)(n.mirror),persist:Object(i.Set)(n.persist),data:Object(i.Map)()})):e},zn[c.a.MERGE_ENTITIES]=function(e,t){var n=t.users;return n?Object.keys(n).reduce((function(e,t){var r=n[t];return!r.team&&r.teamId&&(r.team=r.teamId),/\*/.test(r.email)&&(r.hiddenEmail=r.email,delete r.email),/\*/.test(r.mobileAccount)&&(r.hiddenMobile=r.mobileAccount,delete r.mobileAccount),M.b.merge(e,Number(t),r,{source:"api",factory:zt.g})}),e):e},zn[c.a.UPDATE_USERNAME]=function(e,t){var n=t.id,r=t.name;return M.b.merge(e,n,{name:r},{source:"api",factory:zt.g})},zn[c.a.UPDATE_USER_AVATAR]=function(e,t){var n=t.id,r=t.avatar;return M.b.merge(e,n,{avatar:r},{source:"api",factory:zt.g})},zn[c.a.UPLOAD_AVATAR]=function(e,t){var n=t.id,r=t.avatar;return M.b.merge(e,n,{avatar:r},{source:"api",factory:zt.g})},zn[c.a.SET_CURRENT_USER]=function(e,t){return M.b.merge(e,t.id,t,{source:"api",factory:zt.g})},zn[c.a.GET_WECHAT_BINDING_STATUS]=function(e,t){var n=t.id,r=t.bound;return M.b.merge(e,n,{wechatBound:r},{source:"api",factory:zt.g})},zn[c.a.BIND_WECHAT]=function(e,t){var n=t.id;return M.b.merge(e,n,{wechatBound:!0},{source:"api",factory:zt.g})},zn[c.a.UNBIND_WECHAT]=function(e,t){var n=t.id;return M.b.merge(e,n,{wechatBound:!1},{source:"api",factory:zt.g})},zn[c.a.UPDATE_EMAIL]=function(e,t){var n=t.id,r={email:t.email};return t.premium&&(r.membership=J()({},e.membership,{accountType:"personal_premium"})),M.b.merge(e,n,r,{source:"api",factory:zt.g})},zn[c.a.BIND_ACCOUNT_EMAIL]=function(e,t){var n=t.id,r={email:t.email};return t.premium&&(r.membership=J()({},e.membership,{accountType:"personal_premium"})),M.b.merge(e,n,r,{source:"api",factory:zt.g})},zn[c.a.ACCEPT_TEAM_INVITATION]=function(e,t){var n=t.userId,r=t.teamId;return M.b.merge(e,n,{team:r},{source:"api",factory:zt.g})},zn[c.a.SET_MERGE_VIEWED]=function(e){var t=e.me.id;return M.b.merge(e,t,{viewedMergePrompt:!0},{source:"api",factory:zt.g})},zn[c.a.RESTORE_DIFF]=function(e,t){var n=t.users;return n?M.b.setDiff(e,n):e},zn[c.a.RESTORE_SCHEMA]=function(e,t){var n=t.users;return n?e.update("data",(function(e){return e.withMutations((function(e){Object.keys(n).forEach((function(t){e.set(Number(t),n[t]&&new zt.g(n[t]))}))}))})):e},zn[c.a.PERSIST]=function(e,t){return"users"===t?M.b.unsetPersist(e):e},zn[c.a.BIND_MOBILE_NUMBER]=function(e,t){var n=t.id,r=t.mobile;return M.b.merge(e,n,{mobile:r},{source:"api",factory:zt.g})},zn[c.a.BIND_MOBILE_ACCOUNT]=function(e,t){var n=t.id,r=t.mobile,i=t.countryCode,a=t.isMobileAccount,o=t.premium,c={};return c[a?"mobileAccount":"mobile"]=i+r,o&&(c.membership=J()({},e.membership,{accountType:"personal_premium"})),M.b.merge(e,n,c,{source:"api",factory:zt.g})},zn[c.a.UPDATE_MOBILE]=function(e,t){var n=t.id,r=t.mobile,i=t.countryCode;return M.b.merge(e,n,{mobileAccount:i+r},{source:"api",factory:zt.g})},zn[c.a.UPDATE_PASSWORD]=function(e,t){var n=t.id;return M.b.merge(e,n,{hasPassword:!0},{source:"api",factory:zt.g})},zn[c.a.JOIN_TEAM_BY_INVITE_GUID]=function(e,t){var n=t.teamId,r=t.id;return M.b.merge(e,r,{team:n},{source:"api",factory:zt.g})},zn[c.a.GET_ACTIVITIES_LIST]=function(e,t){var n=t.id,r=t.activitiesList;return M.b.merge(e,n,{activitiesList:r},{source:"api",factory:zt.g})},zn)),Qn=Object(o.j)({},((Bn={})[c.a.PRELOAD]=function(e,t){return t.wechat||e},Bn[c.a.GET_WECHAT_INVITE_INFO]=function(e,t){var n=t.have_rewarded,r=void 0===n?0:n,i=t.not_yet_rewarded,o=void 0===i?0:i,c=t.rewarded_by_self_count,u=void 0===c?0:c,s=t.self_bind,d=void 0!==s&&s,f=t.rewarded_by_self_bind,l=void 0!==f&&f,p=t.is_reward_just,_=void 0!==p&&p;return Object(a.__assign)(Object(a.__assign)({},e),{inviteInfo:{count:r+o-u,bonus:15*o,isBound:d,isObtained:l,needRefresh:_}})},Bn[c.a.WIN_PERSONAL_PREMIUM_VERSION]=function(e,t){var n=t.have_rewarded,r=void 0===n?0:n,i=t.not_yet_rewarded,o=void 0===i?0:i,c=t.rewarded_by_self_count,u=void 0===c?0:c,s=t.self_bind,d=void 0!==s&&s,f=t.rewarded_by_self_bind,l=void 0!==f&&f,p=t.is_reward_just,_=void 0!==p&&p;return Object(a.__assign)(Object(a.__assign)({},e),{inviteInfo:{count:r+o-u,bonus:15*o,isBound:d,isObtained:l,needRefresh:_}})},Bn[c.a.WECHAT_REWARDED]=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{inviteInfo:Object(a.__assign)(Object(a.__assign)({},e.inviteInfo),{isBound:!0,isObtained:!0})})},Bn[c.a.WECHAT_REWARD_BY_INVITOR]=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{inviteInfo:Object(a.__assign)(Object(a.__assign)({},e.inviteInfo),{count:e.inviteInfo?e.inviteInfo.count+1:0,bonus:e.inviteInfo?e.inviteInfo.bonus+15:0})})},Bn[c.a.WECHAT_NO_REWARD]=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{inviteInfo:Object(a.__assign)(Object(a.__assign)({},e.inviteInfo),{isBound:!0})})},Bn)),$n=Object(o.j)([],((Hn={})[c.a.GET_SCRIPTS]=function(e,t){return t||[]},Hn)),Zn=Object(o.j)({},((Vn={})[c.a.GET_SUB_DEPT]=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),t)},Vn)),er=Object(o.j)({loaded:!1,data:[]},((Wn={})[c.a.PRELOAD]=function(e,t){return t.features||e},Wn[c.a.GET_FEATURES]=function(e,t){return{loaded:!0,data:Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__read)(e.data)),Object(a.__read)(t))}},Wn));n(110).combineReducers},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),i=n.n(r);function a(e,t){var n=i.a.useRef();function r(){n.current&&clearTimeout(n.current)}return i.a.useEffect(r,[]),[function(){n.current=setTimeout(e,t)},r]}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(2),i=n(77),a=(n(11),n(28)),o=n(92);function c(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onreadystatechange=function(){if(4===r.readyState){var e=Number(r.getResponseHeader(Object(i.getString)("CONTENT_HEADER_META_PREFIX")+"head")),n=Number(r.getResponseHeader(Object(i.getString)("CONTENT_HEADER_META_PREFIX")+"length")),a=r.responseText;t({head:e,pool:a.slice(n),content:a.slice(0,n)})}},r.onerror=function(){n(new Error("request content failed"))},r.send()}))]}))}))}function u(e){var t,n,i,c,u,d,f,l=e.guid,p=e.head,_=e.committingCS,b=e.userCS,m=e.committingCSUuid,E=e.userCSUuid,O=e.clientId;return Object(r.__awaiter)(this,void 0,Promise,(function(){var e,g,v,T,h,S,j;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return b?(e={sync:1,clientId:O,rev:p||1,committingCS:_,userCS:b,committingCSUuid:m,userCSUuid:E},g=String(Object(o.getApi)()),location.pathname.includes("/docx/")?(v=null===(n=null===(t=window)||void 0===t?void 0:t.__RUNTIME_ENV__)||void 0===n?void 0:n.API_V2_PATH)?(g=v,[3,3]):[3,1]:[3,3]):[2,s({guid:l,head:p,change:_,uuid:m,clientId:O})];case 1:return[4,a.s.get("/alpha_features/sdk_docx_v2")];case 2:T=r.sent(),h=null===(c=null===(i=window)||void 0===i?void 0:i.__RUNTIME_ENV__)||void 0===c?void 0:c.SDK_V2_HOST,S=null===(d=null===(u=window)||void 0===u?void 0:u.__RUNTIME_ENV__)||void 0===d?void 0:d.SDK_V2_PATH_PREFIX,T&&h&&S&&(window.__RUNTIME_ENV__.API_V2_PATH=""+h+S,g=""+h+S),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,a.s.post(g+"/files/"+l+"/sync",e,{baseURL:"",responseType:"text"})];case 4:return r.sent(),[3,6];case 5:return j=r.sent(),JSON.stringify(null===(f=j)||void 0===f?void 0:f.data),[3,6];case 6:return[2]}}))}))}function s(e){var t=e.guid,n=e.head,i=e.change,o=e.uuid,c=e.clientId;return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,u,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!i)return[2];e={sync:1,clientId:c,rev:n||1,changeset:i,uuid:o},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.s.post("/files/"+t+"/compose",e,{responseType:"text"})];case 2:return r.sent(),[3,4];case 3:throw u=r.sent(),s=u.data,JSON.stringify(s),new Error("Server Error");case 4:return[2]}}))}))}},263:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return l}));var r=n(2),i=n(1),a=n(0),o=n(7),c=n(21),u=Object(i.c)(a.a.GET_TEMPLATES,(function(e){return function(t){var n=t.getState,a=t.dispatch,u=t.next;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,s,d,f;return Object(r.__generator)(this,(function(r){return t=n().templates,s="object"==typeof t?a(Object(c.b)(t)):void 0,d=e?"type="+e:"",f=a(Object(o.get)("templates/v2?"+d)).then((function(e){return u(e)})),[2,Object(i.m)({local:s,remote:f})]}))}))}})),s=Object(i.c)(a.a.CREATE_FILE_BY_TEMPLATE,(function(e,t,n,i,a){return void 0===a&&(a={}),function(c){var u=c.getState,s=c.dispatch,d=c.next;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var c,f,l,p;return Object(r.__generator)(this,(function(r){return c=Date.now(),f=u().collaborators.get("data").get(t),l=f?f.size:1,p=n,"doc"===n&&(p="newdoc"),[2,s(Object(o.post)("files/action/create_by_template",{body:{templateGuid:e,parentGuid:t,after:a.after}})).then((function(e){return d({parent:t,data:{type:p,name:i,guid:e.guid,user:u().me.id,mute:!1,pool:"",role:"owner",updatedUser:u().me.id,lastUsedAt:c,lastAction:"edit",createdAt:c,updatedAt:c,collaboratorCount:l,options:a}}),{guid:e.guid}}))]}))}))}})),d=Object(i.c)(a.a.GET_TEMPLATE_LIMITS,(function(){return function(e){var t=e.dispatch,n=e.next;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,t(Object(o.get)("templates/valid")).then(n)]}))}))}})),f=Object(i.c)(a.a.RENAME_CUSTOM_TEMPLATE,(function(e){var t=e.guid,n=e.name;return function(e){var i=e.dispatch,a=e.next;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,i(Object(o.patch)("templates/"+t,{body:{name:n}}))];case 1:return e.sent(),a({guid:t,name:n}),[2]}}))}))}})),l=Object(i.c)(a.a.REMOVE_CUSTOM_TEMPLATE,(function(e){var t=e.guid;return function(e){var n=e.dispatch,i=e.next;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,n(Object(o.destroy)("templates/"+t))];case 1:return e.sent(),i({guid:t}),[2]}}))}))}}))},264:function(e,t,n){"use strict";n.r(t),n.d(t,"ShareMode",(function(){return r})),n.d(t,"isNarrowIcon",(function(){return ar})),n.d(t,"get120SizeIcon",(function(){return or})),n.d(t,"get80SizeIcon",(function(){return cr})),n.d(t,"get32SizeIcon",(function(){return ur})),n.d(t,"get30SizeIcon",(function(){return sr})),n.d(t,"get26SizeIcon",(function(){return dr})),n.d(t,"get20SizeIcon",(function(){return fr})),n.d(t,"getCreateIcon",(function(){return lr})),n.d(t,"get15SizeIcon",(function(){return pr})),n.d(t,"get80SizeGrayIcon",(function(){return _r})),n.d(t,"get26SizeGrayIcon",(function(){return br})),n.d(t,"get26ShortcutIcon",(function(){return mr})),n.d(t,"get80ShortcutIcon",(function(){return Er})),n.d(t,"getFavicon",(function(){return Or})),n.d(t,"getSubIconPosition",(function(){return hr}));var r,i=n(2),a=n(3),o=n.p+"static/lizard-one/assets/cloud_default_240.176ec8ce.png",c=n.p+"static/lizard-one/assets/cloud_default_160.0825fcf1.png",u=n.p+"static/lizard-one/assets/cloud_default_60.321d326e.png",s=n.p+"static/lizard-one/assets/cloud_default_32@2x.4ae0436d.png",d=n.p+"static/lizard-one/assets/cloud_default_52.b5c36b62.png",f=n.p+"static/lizard-one/assets/cloud_default_40_plain@2x.5d258da3.png",l=n.p+"static/lizard-one/assets/cloud_default_40@2x.ba258379.png",p=n.p+"static/lizard-one/assets/cloud_default_30@2x.0c10b45b.png",_=n.p+"static/lizard-one/assets/cloud_default_gray_160.0740a001.png",b=n.p+"static/lizard-one/assets/cloud_default_gray_52.4c1f07e3.png",m=n.p+"static/lizard-one/assets/doc_240_flat@2x.e827cd69.png",E=n.p+"static/lizard-one/assets/doc_160_flat@2x.dcba70fb.png",O=n.p+"static/lizard-one/assets/doc_60@2x.ac8033f6.png",g=n.p+"static/lizard-one/assets/doc_32@2x.cd2669d1.png",v=n.p+"static/lizard-one/assets/doc_52@2x.c48f9177.png",T=n.p+"static/lizard-one/assets/doc_40_plain@2x.ca1fff5a.png",h=n.p+"static/lizard-one/assets/doc_40@2x.f5a983c5.png",S=n.p+"static/lizard-one/assets/doc_30@2x.88a0cb68.png",j=n.p+"static/lizard-one/assets/doc_160_gray@2x.b3770dec.png",I=n.p+"static/lizard-one/assets/doc_52_gray@2x.0522bcae.png",y=n.p+"static/lizard-one/assets/doc_52_shortcut@2x.a4913016.png",A=n.p+"static/lizard-one/assets/doc_160_shortcut@2x.a57ace9d.png",N=n.p+"static/lizard-one/assets/sheet_240_flat@2x.52e4fd52.png",R=n.p+"static/lizard-one/assets/sheet_160_flat@2x.5875e263.png",L=n.p+"static/lizard-one/assets/sheet_32@2x.bca04260.png",C=n.p+"static/lizard-one/assets/sheet_60@2x.c3ff73ab.png",P=n.p+"static/lizard-one/assets/sheet_52@2x.83164b50.png",D=n.p+"static/lizard-one/assets/sheet_40_plain@2x.f09c1f93.png",w=n.p+"static/lizard-one/assets/sheet_40@2x.3d0d1aef.png",x=n.p+"static/lizard-one/assets/sheet_30@2x.7d145964.png",U=n.p+"static/lizard-one/assets/sheet_160_gray@2x.391f5446.png",M=n.p+"static/lizard-one/assets/sheet_52_gray@2x.261f1ea7.png",F=n.p+"static/lizard-one/assets/sheet_52_shortcut@2x.2a134514.png",k=n.p+"static/lizard-one/assets/sheet_160_shortcut@2x.2234f992.png",G=n.p+"static/lizard-one/assets/slide_240_flat@2x.c87ca77d.png",z=n.p+"static/lizard-one/assets/slide_160_flat@2x.962ef867.png",B=n.p+"static/lizard-one/assets/slide_32@2x.1b77147c.png",H=n.p+"static/lizard-one/assets/slide_60@2x.2063b754.png",V=n.p+"static/lizard-one/assets/slide_52@2x.a4f9d958.png",W=n.p+"static/lizard-one/assets/slide_40_plain@2x.80cd9311.png",Y=n.p+"static/lizard-one/assets/slide_40@2x.e1cacc86.png",K=n.p+"static/lizard-one/assets/slide_30@2x.5a27d292.png",X=n.p+"static/lizard-one/assets/slide_160_gray@2x.6f2359bd.png",J=n.p+"static/lizard-one/assets/slide_52_gray@2x.e8b6a733.png",q=n.p+"static/lizard-one/assets/slide_52_shortcut@2x.ea1a1e97.png",Q=n.p+"static/lizard-one/assets/slide_160_shortcut@2x.3256c152.png",$=n.p+"static/lizard-one/assets/mindmap_240_flat@2x.ee705a65.png",Z=n.p+"static/lizard-one/assets/mindmap_160_flat@2x.48c166d9.png",ee=n.p+"static/lizard-one/assets/mindmap_60@2x.00d25c6b.png",te=n.p+"static/lizard-one/assets/mindmap_52@2x.7c82e468.png",ne=n.p+"static/lizard-one/assets/mindmap_40_plain@2x.682320bc.png",re=n.p+"static/lizard-one/assets/mindmap_40@2x.12e7dbbe.png",ie=n.p+"static/lizard-one/assets/mindmap_30@2x.dd33e41f.png",ae=n.p+"static/lizard-one/assets/mindmap_160_gray@2x.516e42c0.png",oe=n.p+"static/lizard-one/assets/mindmap_52_gray@2x.be659a2e.png",ce=n.p+"static/lizard-one/assets/mindmap_52_shortcut@2x.9704bc6c.png",ue=n.p+"static/lizard-one/assets/mindmap_160_shortcut@2x.9c8cf8c0.png",se=n.p+"static/lizard-one/assets/docx_240_flat@2x.e80c6fe8.png",de=n.p+"static/lizard-one/assets/docx_160_flat@2x.2d1d2d45.png",fe=n.p+"static/lizard-one/assets/docx_32@2x.7791fec5.png",le=n.p+"static/lizard-one/assets/docx_60@2x.b92d4bc7.png",pe=n.p+"static/lizard-one/assets/docx_52@2x.a7a00692.png",_e=n.p+"static/lizard-one/assets/docx_40_plain@2x.b3003a2d.png",be=n.p+"static/lizard-one/assets/docx_40@2x.b3003a2d.png",me=n.p+"static/lizard-one/assets/docx_30@2x.7b44c31a.png",Ee=n.p+"static/lizard-one/assets/docx_160_gray@2x.1e12c0d7.png",Oe=n.p+"static/lizard-one/assets/docx_52_gray@2x.a3d94ee5.png",ge=n.p+"static/lizard-one/assets/docx_52_shortcut@2x.697d53aa.png",ve=n.p+"static/lizard-one/assets/docx_160_shortcut@2x.5ba09763.png",Te=n.p+"static/lizard-one/assets/folder_240_flat@2x.eed845bd.png",he=n.p+"static/lizard-one/assets/folder_160_flat@2x.330e2cf5.png",Se=n.p+"static/lizard-one/assets/folder_32@2x.20760643.png",je=n.p+"static/lizard-one/assets/folder_60@2x.cec8a932.png",Ie=n.p+"static/lizard-one/assets/folder_52@2x.074b8596.png",ye=n.p+"static/lizard-one/assets/folder_40_plain@2x.c830c714.png",Ae=n(375),Ne=n.p+"static/lizard-one/assets/folder_30@2x.2ba97166.png",Re=n.p+"static/lizard-one/assets/folder_160_gray@2x.0c3a951a.png",Le=n.p+"static/lizard-one/assets/folder_52_gray@2x.530a8303.png",Ce=n.p+"static/lizard-one/assets/folder_52_shortcut@2x.1da58bb6.png",Pe=n.p+"static/lizard-one/assets/folder_160_shortcut@2x.9ee703c5.png",De=n.p+"static/lizard-one/assets/form_160_flat@2x.953fc429.png",we=n.p+"static/lizard-one/assets/form_32@2x.746380f2.png",xe=n.p+"static/lizard-one/assets/form_60@2x.84198bb9.png",Ue=n.p+"static/lizard-one/assets/form_52@2x.6132eb99.png",Me=n.p+"static/lizard-one/assets/form_40_plain@2x.621877bc.png",Fe=n.p+"static/lizard-one/assets/form_40@2x.8a0c21ac.png",ke=n.p+"static/lizard-one/assets/form_30@2x.1d6cb8b3.png",Ge=n.p+"static/lizard-one/assets/form_160_gray@2x.9f217648.png",ze=n.p+"static/lizard-one/assets/form_52_gray@2x.df4d2ff7.png",Be=n.p+"static/lizard-one/assets/form_52_shortcut@2x.981ed81d.png",He=n.p+"static/lizard-one/assets/form_160_shortcut@2x.5c136baa.png",Ve=n.p+"static/lizard-one/assets/board_160_flat@2x.a2f95391.png",We=n.p+"static/lizard-one/assets/board_32@2x.249aee34.png",Ye=n.p+"static/lizard-one/assets/board_60@2x.6f23fe1b.png",Ke=n.p+"static/lizard-one/assets/board_52@2x.e25e8a5d.png",Xe=n.p+"static/lizard-one/assets/board_40_plain@2x.a9b44799.png",Je=n.p+"static/lizard-one/assets/board_40@2x.a60c8f0a.png",qe=n.p+"static/lizard-one/assets/board_30@2x.a7dabe5b.png",Qe=n.p+"static/lizard-one/assets/board_160_gray@2x.f8dc3c00.png",$e=n.p+"static/lizard-one/assets/board_52_gray@2x.6fcbc2fd.png",Ze=n.p+"static/lizard-one/assets/board_52_shortcut@2x.aa5c4e4e.png",et=n.p+"static/lizard-one/assets/board_160_shortcut@2x.741bc261.png",tt=n.p+"static/lizard-one/assets/table_120@2x.8e5f51b0.png",nt=n.p+"static/lizard-one/assets/table_32@2x.3d1a55ea.png",rt=n.p+"static/lizard-one/assets/table_gray_120@2x.6816b457.png",it=n.p+"static/lizard-one/assets/table_gray_32@2x.b7343cc3.png",at=n.p+"static/lizard-one/assets/presentation_24.url.ce171b28.svg",ot=n.p+"static/lizard-one/assets/presentation_large.url.df1a3801.svg",ct=n.p+"static/lizard-one/assets/presentation_gray_large.url.f1d2ea43.svg",ut=n.p+"static/lizard-one/assets/pptx.url.64a81efc.svg",st=n.p+"static/lizard-one/assets/cloud_image_240.c780adfc.png",dt=n.p+"static/lizard-one/assets/cloud_image_160.54bf21b3.png",ft=n.p+"static/lizard-one/assets/cloud_image_32@2x.239d5511.png",lt=n.p+"static/lizard-one/assets/cloud_image_60.2ff66106.png",pt=n.p+"static/lizard-one/assets/cloud_image_52.77a0f3a0.png",_t=n.p+"static/lizard-one/assets/cloud_image_40_plain@2x.37771cc5.png",bt=n.p+"static/lizard-one/assets/cloud_image_40@2x.eb29eefa.png",mt=n.p+"static/lizard-one/assets/cloud_image_30@2x.15656e4d.png",Et=n.p+"static/lizard-one/assets/cloud_image_gray_160.8fdbe647.png",Ot=n.p+"static/lizard-one/assets/cloud_image_gray_52.1de719d5.png",gt=n.p+"static/lizard-one/assets/cloud_music_240.83eb26c9.png",vt=n.p+"static/lizard-one/assets/cloud_music_160.5d9d23a3.png",Tt=n.p+"static/lizard-one/assets/cloud_music_32@2x.5d7e6d68.png",ht=n.p+"static/lizard-one/assets/cloud_music_60.ca9ed31b.png",St=n.p+"static/lizard-one/assets/cloud_music_52.0b6eb6a6.png",jt=n.p+"static/lizard-one/assets/cloud_music_40_plain@2x.5a51ce29.png",It=n.p+"static/lizard-one/assets/cloud_music_40@2x.f735dc70.png",yt=n.p+"static/lizard-one/assets/cloud_music_30@2x.f53c929d.png",At=n.p+"static/lizard-one/assets/cloud_music_gray_160.b6ce82c8.png",Nt=n.p+"static/lizard-one/assets/cloud_music_gray_52.2c1c89ab.png",Rt=n.p+"static/lizard-one/assets/cloud_pdf_240.f41da5ec.png",Lt=n.p+"static/lizard-one/assets/cloud_pdf_160.6f09a08b.png",Ct=n.p+"static/lizard-one/assets/cloud_pdf_32@2x.6fedbda6.png",Pt=n.p+"static/lizard-one/assets/cloud_pdf_60.9fe4afd3.png",Dt=n.p+"static/lizard-one/assets/cloud_pdf_52.3ce9c216.png",wt=n.p+"static/lizard-one/assets/cloud_pdf_40_plain@2x.25024b84.png",xt=n.p+"static/lizard-one/assets/cloud_pdf_40@2x.bb58dfeb.png",Ut=n.p+"static/lizard-one/assets/cloud_pdf_30@2x.fefa56b7.png",Mt=n.p+"static/lizard-one/assets/cloud_pdf_gray_160.b435f558.png",Ft=n.p+"static/lizard-one/assets/cloud_pdf_gray_52.9536a62a.png",kt=n.p+"static/lizard-one/assets/cloud_video_240.7e20cfa7.png",Gt=n.p+"static/lizard-one/assets/cloud_video_160.e1e6ca19.png",zt=n.p+"static/lizard-one/assets/cloud_video_32@2x.d42d64be.png",Bt=n.p+"static/lizard-one/assets/cloud_video_60.6f5ab4e7.png",Ht=n.p+"static/lizard-one/assets/cloud_video_52.ad854034.png",Vt=n.p+"static/lizard-one/assets/cloud_video_40_plain@2x.b4c86598.png",Wt=n.p+"static/lizard-one/assets/cloud_video_40@2x.9c509ef7.png",Yt=n.p+"static/lizard-one/assets/cloud_video_30@2x.7247e77b.png",Kt=n.p+"static/lizard-one/assets/cloud_video_gray_160.a91d05a4.png",Xt=n.p+"static/lizard-one/assets/cloud_video_gray_52.e79019f2.png",Jt=n.p+"static/lizard-one/assets/cloud_zip_240.fbf3e06e.png",qt=n.p+"static/lizard-one/assets/cloud_zip_160.8c8a42c3.png",Qt=n.p+"static/lizard-one/assets/cloud_zip_32@2x.8756e0ad.png",$t=n.p+"static/lizard-one/assets/cloud_zip_60.c0897419.png",Zt=n.p+"static/lizard-one/assets/cloud_zip_52.6aaa4c7d.png",en=n.p+"static/lizard-one/assets/cloud_zip_40_plain@2x.89ffbbc1.png",tn=n.p+"static/lizard-one/assets/cloud_zip_40@2x.96c12e12.png",nn=n.p+"static/lizard-one/assets/cloud_zip_30@2x.0bdcb508.png",rn=n.p+"static/lizard-one/assets/cloud_zip_gray_160.480ea697.png",an=n.p+"static/lizard-one/assets/cloud_zip_gray_52.7684b25d.png",on=n.p+"static/lizard-one/assets/cloud_wps_160.4c43ea71.png",cn=n.p+"static/lizard-one/assets/cloud_wps_52.840c2fee.png",un=n.p+"static/lizard-one/assets/word_240@2x.1a1123c6.png",sn=n.p+"static/lizard-one/assets/word_160@2x.036a0d6d.png",dn=n.p+"static/lizard-one/assets/word_72@2x.9ad2930e.png",fn=n.p+"static/lizard-one/assets/word_60@2x.2a3ededa.png",ln=n.p+"static/lizard-one/assets/word_52@2x.ef7e4ed3.png",pn=n.p+"static/lizard-one/assets/word_40@2x.0f31c53a.png",_n=n.p+"static/lizard-one/assets/create_word_40@2x.9cdb8ec1.png",bn=n.p+"static/lizard-one/assets/word_30@2x.eddb8843.png",mn=n.p+"static/lizard-one/assets/word_gray_160@2x.1c42694c.png",En=n.p+"static/lizard-one/assets/word_gray_52@2x.86824c48.png",On=n.p+"static/lizard-one/assets/excel_240@2x.07c6babd.png",gn=n.p+"static/lizard-one/assets/excel_160@2x.1e8c295e.png",vn=n.p+"static/lizard-one/assets/excel_72@2x.7c07353e.png",Tn=n.p+"static/lizard-one/assets/excel_60@2x.2b3019c0.png",hn=n.p+"static/lizard-one/assets/excel_52@2x.fb3aaaec.png",Sn=n.p+"static/lizard-one/assets/excel_40@2x.0a3884a5.png",jn=n.p+"static/lizard-one/assets/create_excel_40@2x.6b804f62.png",In=n.p+"static/lizard-one/assets/excel_30@2x.07d18176.png",yn=n.p+"static/lizard-one/assets/excel_gray_160@2x.cd335a4e.png",An=n.p+"static/lizard-one/assets/excel_gray_52@2x.dfea6960.png",Nn=n.p+"static/lizard-one/assets/pptx_240@2x.5b818dc5.png",Rn=n.p+"static/lizard-one/assets/pptx_160@2x.433d2e03.png",Ln=n.p+"static/lizard-one/assets/pptx_72@2x.463fd0c3.png",Cn=n.p+"static/lizard-one/assets/pptx_60@2x.87b51f87.png",Pn=n.p+"static/lizard-one/assets/pptx_52@2x.7403afd1.png",Dn=n.p+"static/lizard-one/assets/pptx_40@2x.12afdc38.png",wn=n.p+"static/lizard-one/assets/create_pptx_40@2x.da35a9b6.png",xn=n.p+"static/lizard-one/assets/pptx_30@2x.c14a01ff.png",Un=n.p+"static/lizard-one/assets/pptx_gray_160@2x.2191efa6.png",Mn=n.p+"static/lizard-one/assets/pptx_gray_52@2x.11c0be36.png",Fn=n.p+"static/lizard-one/assets/mind_240@2x.25a6ec80.png",kn=n.p+"static/lizard-one/assets/mind_160@2x.166d1fe8.png",Gn=n.p+"static/lizard-one/assets/mind_72@2x.45df290f.png",zn=n.p+"static/lizard-one/assets/mind_60@2x.39612bb8.png",Bn=n.p+"static/lizard-one/assets/mind_52@2x.8366b6b3.png",Hn=n.p+"static/lizard-one/assets/mind_40@2x.f26e0c7a.png",Vn=n.p+"static/lizard-one/assets/create_mind_40@2x.261980da.png",Wn=n.p+"static/lizard-one/assets/mind_30@2x.3f98d522.png",Yn=n.p+"static/lizard-one/assets/mind_gray_160@2x.5223cdc8.png",Kn=n.p+"static/lizard-one/assets/mind_gray_52@2x.15c2e2ed.png",Xn=n.p+"static/lizard-one/assets/space_public.3d5a49d4.svg",Jn=n.p+"static/lizard-one/assets/space_public_gray.79dac5f0.svg",qn=n.p+"static/lizard-one/assets/space_private.f0874246.svg",Qn=n.p+"static/lizard-one/assets/space_private_gray.211f0ed8.svg",$n=n(254),Zn=n(69),er=n(37);function tr(e){return e.shareMode&&e.shareMode!==r.PRIVATE?Xn:qn}function nr(e){return e.shareMode&&e.shareMode!==r.PRIVATE?Jn:Qn}function rr(e){var t;return"shortcut"===e.type&&e.shortcutSource?$n.a[null===(t=e.shortcutSource)||void 0===t?void 0:t.subType]:e.type}function ir(e){return"modoc"===e?"modoc":Object(er.toFileTypeStr)(e)}function ar(e){var t,n;return null===(n=((t={})[a.fileTypes.folder.type]=!1,t[a.fileTypes.newdoc.type]=!0,t[a.fileTypes.modoc.name]=!0,t[a.fileTypes.sheet.type]=!1,t[a.fileTypes.slide.type]=!1,t[a.fileTypes.presentation.type]=!1,t[a.fileTypes.mindmap.type]=!1,t[a.fileTypes.form.type]=!0,t[a.fileTypes.board.type]=!1,t[a.fileTypes.table.type]=!1,t[a.fileTypes.IMG]=!1,t[a.fileTypes.PDF]=!0,t[a.fileTypes.XLS]=!0,t[a.fileTypes.DOCX]=!0,t[a.fileTypes.PPT]=!0,t[a.fileTypes.MP3]=!0,t[a.fileTypes.ZIP]=!0,t[a.fileTypes.MP4]=!0,t[a.fileTypes.WPS]=!0,t[a.fileTypes.XMIND]=!0,t)[ir(rr(e))])||void 0===n||n}function or(e){var t;return Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Te,t[a.fileTypes.newdoc.type]=m,t[a.fileTypes.modoc.name]=se,t[a.fileTypes.sheet.type]=N,t[a.fileTypes.slide.type]=G,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=$,t[a.fileTypes.form.type]=De,t[a.fileTypes.board.type]=Ve,t[a.fileTypes.table.type]=tt,t[a.fileTypes.IMG]=st,t[a.fileTypes.PDF]=Rt,t[a.fileTypes.XLS]=On,t[a.fileTypes.DOCX]=un,t[a.fileTypes.PPT]=Nn,t[a.fileTypes.MP3]=gt,t[a.fileTypes.ZIP]=Jt,t[a.fileTypes.MP4]=kt,t[a.fileTypes.WPS]=un,t[a.fileTypes.XMIND]=Fn,t)[ir(rr(e))]||o}function cr(e){var t;return Object(er.isShortcut)(e.type)?Er(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=he,t[a.fileTypes.newdoc.type]=E,t[a.fileTypes.modoc.name]=de,t[a.fileTypes.sheet.type]=R,t[a.fileTypes.slide.type]=z,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=Z,t[a.fileTypes.form.type]=De,t[a.fileTypes.board.type]=Ve,t[a.fileTypes.table.type]=tt,t[a.fileTypes.IMG]=dt,t[a.fileTypes.PDF]=Lt,t[a.fileTypes.XLS]=gn,t[a.fileTypes.DOCX]=sn,t[a.fileTypes.PPT]=Rn,t[a.fileTypes.MP3]=vt,t[a.fileTypes.ZIP]=qt,t[a.fileTypes.MP4]=Gt,t[a.fileTypes.WPS]=sn,t[a.fileTypes.XMIND]=kn,t)[ir(rr(e))]||c}function ur(e){var t;return Object(er.isShortcut)(e.type)?ur(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Se,t[a.fileTypes.newdoc.type]=g,t[a.fileTypes.modoc.name]=fe,t[a.fileTypes.sheet.type]=L,t[a.fileTypes.slide.type]=B,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=ee,t[a.fileTypes.form.type]=we,t[a.fileTypes.board.type]=We,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=ft,t[a.fileTypes.PDF]=Ct,t[a.fileTypes.XLS]=vn,t[a.fileTypes.DOCX]=dn,t[a.fileTypes.PPT]=Ln,t[a.fileTypes.MP3]=Tt,t[a.fileTypes.ZIP]=Qt,t[a.fileTypes.MP4]=zt,t[a.fileTypes.WPS]=dn,t[a.fileTypes.XMIND]=Gn,t)[ir(rr(e))]||s}function sr(e){var t;return Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=je,t[a.fileTypes.newdoc.type]=O,t[a.fileTypes.modoc.name]=le,t[a.fileTypes.sheet.type]=C,t[a.fileTypes.slide.type]=H,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=ee,t[a.fileTypes.form.type]=xe,t[a.fileTypes.board.type]=Ye,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=lt,t[a.fileTypes.PDF]=Pt,t[a.fileTypes.XLS]=Tn,t[a.fileTypes.DOCX]=fn,t[a.fileTypes.PPT]=Cn,t[a.fileTypes.MP3]=ht,t[a.fileTypes.ZIP]=$t,t[a.fileTypes.MP4]=Bt,t[a.fileTypes.WPS]=fn,t[a.fileTypes.XMIND]=zn,t)[ir(rr(e))]||u}function dr(e){var t;return Object(er.isShortcut)(e.type)?mr(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Ie,t[a.fileTypes.newdoc.type]=v,t[a.fileTypes.modoc.name]=pe,t[a.fileTypes.sheet.type]=P,t[a.fileTypes.slide.type]=V,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=te,t[a.fileTypes.form.type]=Ue,t[a.fileTypes.board.type]=Ke,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=pt,t[a.fileTypes.PDF]=Dt,t[a.fileTypes.XLS]=hn,t[a.fileTypes.DOCX]=ln,t[a.fileTypes.PPT]=Pn,t[a.fileTypes.MP3]=St,t[a.fileTypes.ZIP]=Zt,t[a.fileTypes.MP4]=Ht,t[a.fileTypes.WPS]=ln,t[a.fileTypes.XMIND]=Bn,t)[ir(rr(e))]||d}function fr(e){var t;return Object(er.isShortcut)(e.type)?fr(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=ye,t[a.fileTypes.newdoc.type]=T,t[a.fileTypes.modoc.name]=_e,t[a.fileTypes.sheet.type]=D,t[a.fileTypes.slide.type]=W,t[a.fileTypes.presentation.type]=at,t[a.fileTypes.mindmap.type]=ne,t[a.fileTypes.form.type]=Me,t[a.fileTypes.board.type]=Xe,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=_t,t[a.fileTypes.PDF]=wt,t[a.fileTypes.XLS]=Sn,t[a.fileTypes.DOCX]=pn,t[a.fileTypes.PPT]=Dn,t[a.fileTypes.MP3]=jt,t[a.fileTypes.ZIP]=en,t[a.fileTypes.MP4]=Vt,t[a.fileTypes.WPS]=pn,t[a.fileTypes.XMIND]=Hn,t)[ir(rr(e))]||f}function lr(e){var t;return((t={})[a.fileTypes.folder.type]=Ae.a,t[a.fileTypes.newdoc.type]=h,t[a.fileTypes.modoc.name]=be,t[a.fileTypes.sheet.type]=w,t[a.fileTypes.slide.type]=Y,t[a.fileTypes.presentation.type]=at,t[a.fileTypes.mindmap.type]=re,t[a.fileTypes.form.type]=Fe,t[a.fileTypes.board.type]=Je,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=bt,t[a.fileTypes.PDF]=xt,t[a.fileTypes.XLS]=jn,t[a.fileTypes.DOCX]=_n,t[a.fileTypes.PPT]=wn,t[a.fileTypes.MP3]=It,t[a.fileTypes.ZIP]=tn,t[a.fileTypes.MP4]=Wt,t[a.fileTypes.WPS]=_n,t[a.fileTypes.XMIND]=Vn,t)[ir(e)]||l}function pr(e){var t;return Object(er.isShortcut)(e.type)?pr(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Ne,t[a.fileTypes.newdoc.type]=S,t[a.fileTypes.modoc.name]=me,t[a.fileTypes.sheet.type]=x,t[a.fileTypes.slide.type]=K,t[a.fileTypes.presentation.type]=at,t[a.fileTypes.mindmap.type]=ie,t[a.fileTypes.form.type]=ke,t[a.fileTypes.board.type]=qe,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=mt,t[a.fileTypes.PDF]=Ut,t[a.fileTypes.XLS]=In,t[a.fileTypes.DOCX]=bn,t[a.fileTypes.PPT]=xn,t[a.fileTypes.MP3]=yt,t[a.fileTypes.ZIP]=nn,t[a.fileTypes.MP4]=Yt,t[a.fileTypes.WPS]=bn,t[a.fileTypes.XMIND]=Wn,t)[ir(rr(e))]||p}function _r(e){var t;return Object(er.isShortcut)(e.type)?_r(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?nr(e):((t={})[a.fileTypes.folder.type]=Re,t[a.fileTypes.newdoc.type]=j,t[a.fileTypes.modoc.name]=Ee,t[a.fileTypes.sheet.type]=U,t[a.fileTypes.slide.type]=X,t[a.fileTypes.presentation.type]=ct,t[a.fileTypes.mindmap.type]=ae,t[a.fileTypes.form.type]=Ge,t[a.fileTypes.board.type]=Qe,t[a.fileTypes.table.type]=rt,t[a.fileTypes.IMG]=Et,t[a.fileTypes.PDF]=Mt,t[a.fileTypes.XLS]=yn,t[a.fileTypes.DOCX]=mn,t[a.fileTypes.PPT]=Un,t[a.fileTypes.MP3]=At,t[a.fileTypes.ZIP]=rn,t[a.fileTypes.MP4]=Kt,t[a.fileTypes.WPS]=mn,t[a.fileTypes.XMIND]=Yn,t)[ir(rr(e))]||_}function br(e){var t;return Object(er.isShortcut)(e.type)?br(Object(i.__assign)(Object(i.__assign)({},e),{type:Object(er.toFileTypeStr)(e.shortcutSource.subType,!0)})):Zn.n.isSpace(e)?nr(e):((t={})[a.fileTypes.folder.type]=Le,t[a.fileTypes.newdoc.type]=I,t[a.fileTypes.modoc.name]=Oe,t[a.fileTypes.sheet.type]=M,t[a.fileTypes.slide.type]=J,t[a.fileTypes.presentation.type]=ct,t[a.fileTypes.mindmap.type]=oe,t[a.fileTypes.form.type]=ze,t[a.fileTypes.board.type]=$e,t[a.fileTypes.table.type]=it,t[a.fileTypes.IMG]=Ot,t[a.fileTypes.PDF]=Ft,t[a.fileTypes.XLS]=An,t[a.fileTypes.DOCX]=En,t[a.fileTypes.PPT]=Mn,t[a.fileTypes.MP3]=Nt,t[a.fileTypes.ZIP]=an,t[a.fileTypes.MP4]=Xt,t[a.fileTypes.WPS]=En,t[a.fileTypes.XMIND]=Kn,t)[ir(rr(e))]||b}function mr(e){var t;return Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Ce,t[a.fileTypes.newdoc.type]=y,t[a.fileTypes.modoc.name]=ge,t[a.fileTypes.sheet.type]=F,t[a.fileTypes.slide.type]=q,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=ce,t[a.fileTypes.form.type]=Be,t[a.fileTypes.board.type]=Ze,t[a.fileTypes.table.type]=nt,t[a.fileTypes.IMG]=pt,t[a.fileTypes.PDF]=Dt,t[a.fileTypes.XLS]=F,t[a.fileTypes.DOCX]=y,t[a.fileTypes.PPT]=ut,t[a.fileTypes.MP3]=St,t[a.fileTypes.ZIP]=Zt,t[a.fileTypes.MP4]=Ht,t[a.fileTypes.WPS]=cn,t)[ir("shortcut"===e.type?Object(er.toFileTypeStr)(e.shortcutSource.subType,!0):e.type)]||d}function Er(e){var t;return Zn.n.isSpace(e)?tr(e):((t={})[a.fileTypes.folder.type]=Pe,t[a.fileTypes.newdoc.type]=A,t[a.fileTypes.modoc.name]=ve,t[a.fileTypes.sheet.type]=k,t[a.fileTypes.slide.type]=Q,t[a.fileTypes.presentation.type]=ot,t[a.fileTypes.mindmap.type]=ue,t[a.fileTypes.form.type]=He,t[a.fileTypes.board.type]=et,t[a.fileTypes.table.type]=tt,t[a.fileTypes.IMG]=dt,t[a.fileTypes.PDF]=Lt,t[a.fileTypes.XLS]=k,t[a.fileTypes.DOCX]=ve,t[a.fileTypes.PPT]=ut,t[a.fileTypes.MP3]=vt,t[a.fileTypes.ZIP]=qt,t[a.fileTypes.MP4]=Gt,t[a.fileTypes.WPS]=on,t)[ir("shortcut"===e.type?Object(er.toFileTypeStr)(e.shortcutSource.subType,!0):e.type)]||c}function Or(e){var t,n=__RUNTIME_ENV__.PRIVATE_DEPLOY_FAVICON||"https://assets.shimonote.com/from_qbox/favicon.ico";if(!e)return n;var r="modoc"===e?"modoc":Object(er.toFileTypeStr)(e);return((t={})[a.fileTypes.folder.type]="https://assets.shimonote.com/from_qbox/folder_favicon.ico",t[a.fileTypes.newdoc.type]="https://assets.shimonote.com/from_qbox/doc_favicon.ico",t[a.fileTypes.modoc.name]="https://assets.shimonote.com/from_qbox/docx_favicon.ico",t[a.fileTypes.sheet.type]="https://assets.shimonote.com/from_qbox/sheet_favicon.ico",t[a.fileTypes.slide.type]="https://assets.shimonote.com/from_qbox/slide_favicon.ico",t[a.fileTypes.presentation.type]="https://assets.shimonote.com/from_qbox/presentation_favicon.ico",t[a.fileTypes.mindmap.type]="https://assets.shimonote.com/from_qbox/mindmap_favicon.ico",t[a.fileTypes.form.type]="https://assets.shimonote.com/from_qbox/form_favicon.ico",t[a.fileTypes.board.type]="https://assets.shimonote.com/from_qbox/board_favicon.ico",t[a.fileTypes.table.type]="https://assets.shimonote.com/lizard-one/favicons/table_favicon.ico",t)[r]||n}!function(e){e.UNKNOWN_SHARE_MODE="unknown_share_mode",e.PRIVATE="private",e.READONLY="readonly",e.EDITABLE="editable",e.ENTERPRISE_READONLY="enterprise_readonly",e.ENTERPRISE_EDITABLE="enterprise_editable",e.ENTERPRISE_COMMENTABLE="enterprise_commentable"}(r||(r={}));var gr={starIcon:{left:26,top:2},collaboratorIcon:{left:30,top:49},collaboratorCountIcon:{left:50,top:48}},vr={starIcon:{left:23,top:20},collaboratorIcon:{left:29,top:49},collaboratorCountIcon:{left:49,top:48}},Tr={starIcon:{left:23,top:22},collaboratorIcon:{left:33,top:34},collaboratorCountIcon:{left:58,top:30}},hr=function(e){var t,n=gr;return((t={})[a.fileTypes.folder.type]=Tr,t[a.fileTypes.newdoc.type]=gr,t[a.fileTypes.modoc.name]=gr,t[a.fileTypes.sheet.type]=vr,t[a.fileTypes.slide.type]=vr,t[a.fileTypes.presentation.type]=vr,t[a.fileTypes.mindmap.type]=vr,t[a.fileTypes.form.type]=gr,t[a.fileTypes.board.type]=vr,t[a.fileTypes.IMG]=vr,t[a.fileTypes.PDF]=gr,t[a.fileTypes.XLS]=vr,t[a.fileTypes.DOCX]=gr,t[a.fileTypes.PPT]=vr,t[a.fileTypes.MP3]=gr,t[a.fileTypes.ZIP]=gr,t[a.fileTypes.MP4]=gr,t[a.fileTypes.WPS]=gr,t)[Object(er.toFileTypeStr)(e.type,!0)]||n}},266:function(e,t,n){"use strict";n.d(t,"T",(function(){return h})),n.d(t,"X",(function(){return S})),n.d(t,"A",(function(){return j})),n.d(t,"W",(function(){return I})),n.d(t,"Z",(function(){return y})),n.d(t,"cb",(function(){return A})),n.d(t,"B",(function(){return N})),n.d(t,"bb",(function(){return R})),n.d(t,"C",(function(){return L})),n.d(t,"U",(function(){return C})),n.d(t,"ab",(function(){return P})),n.d(t,"u",(function(){return D})),n.d(t,"m",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"w",(function(){return M})),n.d(t,"v",(function(){return F})),n.d(t,"l",(function(){return k})),n.d(t,"s",(function(){return G})),n.d(t,"p",(function(){return z})),n.d(t,"n",(function(){return B})),n.d(t,"c",(function(){return H})),n.d(t,"h",(function(){return V})),n.d(t,"i",(function(){return W})),n.d(t,"L",(function(){return Y})),n.d(t,"M",(function(){return K})),n.d(t,"N",(function(){return X})),n.d(t,"f",(function(){return J})),n.d(t,"j",(function(){return q})),n.d(t,"b",(function(){return Q})),n.d(t,"k",(function(){return $})),n.d(t,"z",(function(){return Z})),n.d(t,"S",(function(){return te})),n.d(t,"Q",(function(){return ne})),n.d(t,"R",(function(){return re})),n.d(t,"P",(function(){return ie})),n.d(t,"o",(function(){return ae})),n.d(t,"t",(function(){return oe})),n.d(t,"e",(function(){return ce})),n.d(t,"db",(function(){return ue})),n.d(t,"O",(function(){return se})),n.d(t,"Y",(function(){return de})),n.d(t,"a",(function(){return fe})),n.d(t,"E",(function(){return le})),n.d(t,"D",(function(){return pe})),n.d(t,"H",(function(){return _e})),n.d(t,"I",(function(){return be})),n.d(t,"J",(function(){return me})),n.d(t,"G",(function(){return Ee})),n.d(t,"F",(function(){return Oe})),n.d(t,"K",(function(){return ge})),n.d(t,"eb",(function(){return ve})),n.d(t,"g",(function(){return Te})),n.d(t,"y",(function(){return he})),n.d(t,"V",(function(){return Se})),n.d(t,"x",(function(){return je})),n.d(t,"q",(function(){return Ie})),n.d(t,"d",(function(){return ye}));var r=n(2),i=n(11),a=n.n(i),o=n(394),c=n.n(o),u=n(190),s=n(46),d=n(29),f=n.n(d),l=n(12),p=n(60),_=n(4),b=n(1),m=n(189),E=n(7),O=n(21),g=n(0),v=Object(b.d)(),T=Object(b.d)(),h=Object(b.c)(g.a.STAR_FILE,(function(e){return{guid:e}})),S=Object(b.c)(g.a.UNSTAR_FILE,(function(e){return{guid:e}})),j=Object(b.c)(g.a.MUTE_FILE,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next;return r(Object(E.put)("files/"+e+"/mute")).then((function(){var t=Object(p.i)(n(),e).push(e);i({guids:t})}))}})),I=Object(b.c)(g.a.UNMUTE_FILE,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next;return r(Object(E.destroy)("files/"+e+"/mute")).then((function(){var t=Object(p.i)(n(),e).push(e);i({guids:t})}))}})),y=Object(b.c)(g.a.UPDATE_FILE_NAME,(function(e,t){return{guid:e,name:t}})),A=Object(b.c)(g.a.UPDATE_FILE_SHARE_MODE,(function(e,t,n){return void 0===n&&(n=!1),function(r){var i=r.getState,o=r.dispatch,c=r.next,u=i().files;return(e=_.b.mirrorId(u,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):o(Object(E.patch)("files/"+_.b.mirrorId(u,e),{body:{shareMode:t,passwordProtected:n?1:0}})).then((function(){c({guid:e,shareMode:t,passwordProtected:n})}))}})),N=Object(b.c)(g.a.NEW_UPDATE_FILE_SHARE_MODE,(function(e,t){return function(n){var r=n.getState,i=n.dispatch,o=n.next,c=r().files;return(e=_.b.mirrorId(c,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):i(Object(E.patch)("files/"+_.b.mirrorId(c,e)+"/share",{body:{shareMode:t},baseUrl:"/panda-api/file/"})).then((function(n){var r=n.data.password;o({guid:e,shareMode:t,password:r})}))}})),R=Object(b.c)(g.a.UPDATE_FILE_SHARE_EXPIRE,(function(e,t){return function(n){var r=n.getState,i=n.dispatch,o=n.next,c=r().files;return(e=_.b.mirrorId(c,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):i(Object(E.patch)("files/"+_.b.mirrorId(c,e)+"/expire",{body:{shareModeExpireDuration:t},baseUrl:"/panda-api/file/"})).then((function(n){var r=n.data.shareModeExpiredAt;o({guid:e,shareModeExpireDuration:t,shareModeExpiredAt:r})}))}})),L=Object(b.c)(g.a.SET_FILE_PASSWORD_PROTECTED,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,o=n().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):r(Object(E.patch)("files/"+e+"/password",{body:{passwordProtected:!0},baseUrl:"/panda-api/file/"})).then((function(t){var n=t.data.password;i({guid:e,password:n})}))}})),C=Object(b.c)(g.a.SET_FILE_PASSWORD_UNPROTECTED,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,o=n().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):r(Object(E.patch)("files/"+e+"/password",{body:{passwordProtected:!1},baseUrl:"/panda-api/file/"})).then((function(t){var n=t.data.password;i({guid:e,password:n})}))}})),P=Object(b.c)(g.a.UPDATE_FILE_SHARE_PASSWORD,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,o=n().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?Promise.reject(new Error(a()("请等待同步后再修改共享状态"))):r(Object(E.patch)("files/"+e+"/password/reset",{baseUrl:"/panda-api/file/"})).then((function(t){var n=t.data.password;i({guid:e,password:n})}))}})),D=Object(b.c)(g.a.GET_STARRED_FILES,(function(){return Object(b.f)((function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().starred;return Object(b.m)({local:i&&n(Object(O.g)(i.toJS(),[l.a])),remote:n(Object(E.get)("files/starred",{schema:[l.a]})).then(r)})}),"getStarredFiles")})),w=Object(b.c)(g.a.GET_DELETED_FILES,(function(){return Object(b.f)((function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().deleted;return Object(b.m)({local:i&&n(Object(O.g)(i.toJS(),[l.a])),remote:n(Object(E.get)("trashes",{schema:[l.a]})).then(r)})}),"getDeletedFiles")})),x=Object(b.c)(g.a.GET_RECENT_FILES,(function(){return Object(b.f)((function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().recent;return Object(b.m)({local:i&&n(Object(O.g)(i.toJS(),[l.a])),remote:n(Object(E.get)("files/recent",{schema:[l.a]})).then(r)})}),"getRecentFiles")})),U=function(e){var t=e.state,n=e.type,r=e.pollNewest,i=e.dispatch,a=e.next,o=!r&&t&&t.get("nextURL")||{lastTimestamp:Date.now()};return Object(b.m)({local:t&&i(Object(O.g)(t.toJS(),{list:[l.a]})),remote:i(Object(E.get)("files?type="+n+"&collaboratorCount=true&collaboratorCount"+("created"===n?"&excerpt=true":"")+"&limit="+v.pageSize()+"&"+u.stringify(o),{schema:{list:[l.a]}})).then((function(e){a({data:e,pollNewest:r})}))})},M=Object(b.c)(g.a.GET_USED_FILES,(function(e){return Object(b.f)((function(t){var n=t.getState,r=t.dispatch,i=t.next,a=n().used;return U({state:a,type:"used",pollNewest:e,dispatch:r,next:i})}),"getUsedFiles")})),F=Object(b.c)(g.a.GET_UPDATED_FILES,(function(e){return Object(b.f)((function(t){var n=t.getState,r=t.dispatch,i=t.next,a=n().updated;return U({state:a,type:"updated",pollNewest:e,dispatch:r,next:i})}),"getUpdatedFiles")})),k=Object(b.c)(g.a.GET_CREATED_FILES,(function(e){return Object(b.f)((function(t){var n=t.getState,r=t.dispatch,i=t.next,a=n().created;return U({state:a,type:"created",pollNewest:e,dispatch:r,next:i})}),"getCreatedFiles")})),G=Object(b.c)(g.a.GET_SHARED_FILES,(function(e){return Object(b.f)((function(t){var n=t.getState,r=t.dispatch,i=t.next,a=n().shared;return U({state:a,type:"shared",pollNewest:e,dispatch:r,next:i})}),"getSharedFiles")})),z=(Object(b.c)(g.a.GET_UNREAD_SHARED_FILES,(function(){return Object(b.f)((function(e){var t=e.dispatch,n=e.next;return t(Object(E.get)("files?type=shared&excerpt=true&collaboratorCount=true&page=1&marked=true&pageSize="+T.pageSize(),{schema:[l.a]})).then(n)}),"getSharedFiles")})),Object(b.c)(g.a.GET_FILE_CHILDREN,(function(e,t){return void 0===e&&(e="0"),void 0===t&&(t=!1),Object(b.f)((function(n){var r=n.dispatch,i=n.getState,a=n.next,o=i(),c=o.tree,u=o.files;e=_.b.mirrorId(u,e);var s,d=_.d.getChildren(c,e),f=d&&r(Object(O.g)(d.toJS(),[l.a]));if(e.startsWith("-"))s=Promise.reject(new Error("Skip fetching children of an unsynced file "+e));else{var p=void 0;p=t?"files?collaboratorCount=true"+("0"===e?"":"&folder="+e):"files?excerpt=true&collaboratorCount=true"+("0"===e?"":"&folder="+e),s=r(Object(E.get)(p,{schema:[l.a]})).then((function(t){return a({parent:e,children:t})}))}return Object(b.m)({local:f,remote:s})}),"getFileChildren_"+e)}))),B=Object(b.c)(g.a.GET_FILE,(function(e,t){return void 0===t&&(t={}),Object(b.f)((function(n){var r=n.dispatch,i=n.getState;e=_.b.mirrorId(i().files,e);var a=r(Object(O.g)(e,l.a)).then((function(){if(!_.b.get(i().files,e))return Promise.reject(new Error("File "+e+" doesn't exist locally"))}));t.collaboratorCount=!0,t._=Date.now();var o=e.startsWith("-")?Promise.reject(new Error("File "+e+" has not synced")):r(Object(E.get)("files/"+e+"?"+u.stringify(t),{schema:l.a}));return Object(b.m)({local:a,remote:o})}),"getFile_"+e+"?"+u.stringify(t))})),H=(Object(b.c)(g.a.GET_FILES_GUIDE,(function(){return function(e){return(0,e.dispatch)(Object(E.get)("files/guide"))}})),Object(b.c)(g.a.CREATE_FILE,(function(e){var t=e.type,n=e.name,r=void 0===n?a()("无标题"):n,i=e.parent,o=void 0===i?"0":i,u=e.pool,s=e.mute,d=void 0!==s&&s,f=e.role,l=void 0===f?"owner":f,p=e.guid,_=void 0===p?"-"+c()("abcdefghijklmnopqrstuvwxyz0123456789",16).join(""):p,b=e.createdAt,m=void 0===b?(new Date).toString():b,E=e.isFromSVC;return function(e){var n=e.getState,i=e.next,a=n().me.id;return i({parent:o,data:{type:t,name:r,guid:_,user:a,mute:d,pool:u,role:l,updatedUser:a,lastUsedAt:m,lastAction:"edit",createdAt:m,updatedAt:m,isFromSVC:E}}),_}})),Object(b.c)(g.a.CREATE_FILE_SYNCHRONOUSLY,(function(e,t,n,r,i){return void 0===t&&(t=a()("无标题")),void 0===n&&(n="0"),void 0===r&&(r=void 0),void 0===i&&(i={}),function(a){var o=a.dispatch,c=a.next,u=i.after;return o(Object(E.post)("files",{body:{type:e,name:t,folder:n,content:r,after:u},schema:l.a})).then((function(e){return c({guid:e,parent:n,options:i}),e}))}}))),V=Object(b.c)(g.a.DUPLICATE_FILE,(function(e,t,n){return function(r){var i=r.getState,o=r.next,c=r.dispatch,u=i(),s=u.files,d=u.me;if((e=_.b.mirrorId(s,e)).startsWith("-"))return Promise.reject(new Error(a()("文件还未同步，请等待文件同步后重试")));var f=0===Number(t);return c(Object(E.post)("files/"+e+"/action/duplicate",{body:{name:n,folder:f?void 0:t},schema:l.a})).then((function(n){return o({guid:n,sourceId:e,targetParentId:t,me:d}),_.b.get(i().files,n)}))}})),W=Object(b.c)(g.a.DUPLICATE_FILES,(function(e,t){return function(n){var r=n.getState,i=n.next,a=n.dispatch,o=r(),c=o.files,u=o.me;e=e.map((function(e){var t=e.guid,n=e.name;return{guid:_.b.mirrorId(c,t),name:n}}));var s=["0","1"].includes(t);return a(Object(E.post)("files/action/duplicate",{body:{files:e,folder:s?"Desktop":t},schema:[l.a]})).then((function(n){var a=n;return i({guids:a,sourceIds:e.map((function(e){return e.guid})),targetParentId:t,me:u}),a.reduce((function(e,t){return _.b.get(r().files,t)}),{})}))}})),Y=Object(b.c)(g.a.REMOVE_FILE,(function(e,t){return function(n){var r=n.getState,i=n.dispatch,a=n.next,o=r().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?(a({guid:e}),Promise.resolve()):i(Object(E.destroy)((t?"spaces":"files")+"/"+e)).then((function(){return a({guid:e})}))}})),K=Object(b.c)(g.a.REMOVE_FILE_SHORTCUT,(function(e,t){return function(n){var r=n.getState,i=n.dispatch,a=n.next,o=r().files;return e=e.map((function(e){return _.b.mirrorId(o,e)})),i(Object(E.post)("shortcuts/action/destroy",{body:{from:t,fileGuids:e}})).then((function(){return a({guids:e})}))}})),X=Object(b.c)(g.a.REMOVE_FILES,(function(e,t){return function(n){var r=n.getState,i=n.dispatch,a=n.next,o=r().files;return e=e.map((function(e){return _.b.mirrorId(o,e)})),i(Object(E.post)("files/action/destroy",{body:{folder:t,fileGuids:e},background:!0})).then((function(){return a({guids:e})}))}})),J=Object(b.c)(g.a.DELETE_TRASH,(function(e,t){return void 0===t&&(t=e),function(n){var r=n.getState,i=n.dispatch,a=n.next,o=r().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?(a({guid:e}),Promise.resolve()):i(Object(E.destroy)("trashes/"+t)).then((function(){return a({guid:e})}))}})),q=Object(b.c)(g.a.EMPTY_TRASH,(function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(E.destroy)("trashes")).then((function(){return n()}))}})),Q=Object(b.c)(g.a.CANCEL_DELETE,(function(e,t){return void 0===t&&(t=e),function(n){var r=n.getState,i=n.dispatch,a=n.next,o=r().files;return(e=_.b.mirrorId(o,e)).startsWith("-")?(a({guid:e}),Promise.resolve()):i(Object(E.patch)("trashes/"+t,{body:{isTrashed:!1}})).then((function(){return a({guid:e})}))}})),$=(Object(b.c)(g.a.MARK_FILE,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.destroy)("files/"+e+"/mark")).then((function(){return r({guid:e})}))}})),Object(b.c)(g.a.MARK_ALL_SHARED_FILES,(function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(E.destroy)("files/marks/batch",{body:{type:"share"}})).then(n)}})),Object(b.c)(g.a.EXIT_FILE,(function(e){return function(t){var n=t.getState,r=t.dispatch,i=t.next,o=n(),c=o.files,u=o.me;return(e=_.b.mirrorId(c,e)).startsWith("-")?Promise.reject(new Error(a()("文件还未同步，请等待文件同步后重试"))):r(Object(E.destroy)("files/"+e+"/collaborators/"+u.id)).then((function(){return i({guid:e})}))}}))),Z=Object(b.c)(g.a.MOVE_FILES,(function(e){var t=e.guids,n=e.target,r=e.from,i=e.after;return function(e){var o=e.getState,c=e.next,u=e.dispatch,s=o().files;if((n=_.b.mirrorId(s,n)).startsWith("-"))return Promise.reject(new Error(a()("不能移动到未同步的文件夹")));t.forEach((function(e){"-"===_.b.mirrorId(s,e)&&Promise.reject(new Error(a()("不能移动未同步的文件")))}));var d=""+r,f=""+n,l={fileGuids:t,to:f="0"===f?"Desktop":n,from:d="0"===d?"Desktop":r};return i&&(l.after=i),u(Object(E.post)("files/action/move",{body:l})).then((function(){c({guids:t,target:n,from:r,after:i})}))}})),ee=Object(b.c)(g.a.MOVE_FILE,(function(e){var t=e.guid,n=e.target,r=e.before,i=e.after,o=e.force,c=void 0===o||o;return function(e){var o=e.getState,u=e.next,s=e.dispatch,d=o().files;if((n=_.b.mirrorId(d,n)).startsWith("-"))return Promise.reject(new Error(a()("不能移动到未同步的文件夹")));if((t=_.b.mirrorId(d,t)).startsWith("-"))return c?u({guid:t,target:n,before:r,after:i}):Promise.reject(new Error(a()("不能移动未同步的文件")));var f={};return"0"!==n&&(f.to=n),r&&!i&&(f.before=r),i&&(f.after=i),s(Object(E.post)("files/"+t+"/action/move",{body:f})).then((function(){u({guid:t,target:n,before:r,after:i})}))}})),te=Object(b.c)(g.a.SORT_FILE,(function(e,t,n){return function(r){var i=r.getState,o=r.next,c=r.dispatch,u=i(),s=u.files,d=u.status.online;return(e=_.b.mirrorId(s,e)).startsWith("-")?Promise.reject(new Error(a()("不能移动未同步的文件"))):(t=t?_.b.mirrorId(s,t):null)&&t.startsWith("-")?Promise.reject(new Error(a()("不能移动到未同步的文件之前"))):(d&&o({guid:e,before:t,parent:n}),c(Object(E.post)("files/"+e+"/action/sort",{body:{before:t,parent:n}})))}})),ne=Object(b.c)(g.a.SEARCH_FILE,(function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=6),function(r){var i=r.dispatch,a={keyword:e,page:t,pageSize:n};return i(Object(E.post)("search/files",{body:a,transformResponseBody:function(e){return e.results.forEach((function(e){e.type=Object(b.b)(e.type)})),e}}))}})),re=Object(b.c)(g.a.SEARCH_FILE,(function(e,t,n,r){return void 0===n&&(n=12),void 0===r&&(r={}),function(i){var a=i.dispatch,o=f()({keyword:e,size:n,params:t},r);return a(Object(E.post)("search_v2/files",{body:o,transformResponseBody:function(e){return e.results.forEach((function(e){e.type=Object(b.b)(e.type)})),e}}))}})),ie=Object(b.c)(g.a.SAVE_TEMPLATE,(function(e,t,n){return function(r){var i=r.dispatch,a={name:e,originGuid:t,type:n};return i(Object(E.post)("templates",{body:a}))}})),ae=Object(b.c)(g.a.GET_FILE_ANCESTORS,(function(e,t){return void 0===t&&(t=!1),function(n){var r=n.dispatch,i=n.getState,a=n.next,o=i(),c=[e=_.b.mirrorId(o.files,e)];if(function e(t){var n=_.d.getParent(o.tree,t);if(n){if(c.includes(n))return;c.push(n),"0"!==n&&e(n)}}(e),"0"===c[c.length-1]||"1"===c[c.length-1])return r(Object(O.g)(c.slice(1,-1),[l.a])).then((function(){var e=c.slice(1),n=t?e:[e[0]];return d(i(),n)}));var u={isSpace:!1},s=!1;return r(Object(E.get)("files/"+e+"/ancestors",{schema:[l.a],transformResponseBody:function(e){var t=e.ancestors?e.ancestors:e;return s=e.hasUnprivilegedParent||!1,u=t[0]||u,t}})).then((function(n){var r=u.isSpace||s;a({guid:e,ancestors:n,inSpace:r,hasUnprivilegedParent:s});var o=n.reverse().concat(r?"1":"0"),c=t?o:[o[0]];return d(i(),c)}));function d(e,t){return t.map((function(t){return"0"===t||"1"===t?t:Object(p.g)(e,t)}))}}})),oe=(Object(b.c)(g.a.GET_WECHAT_SHARE_LINK,(function(e){return function(t){var n=t.dispatch,r=t.getState;return(e=_.b.mirrorId(r().files,e)).startsWith("-")?Promise.reject(new Error(a()("文件还未同步，请等待文件同步后重试"))):n(Object(E.post)("files/"+e+"/invite_links")).then((function(e){if(e&&e.wechatInviteLink)return e.wechatInviteLink;throw new Error(a()("创建邀请链接失败（没有 wechatInviteLink 属性）"))}))}})),Object(b.c)(g.a.GET_WECHAT_SHARE_QR_LINK,(function(e){return function(t){var n=t.dispatch,r=t.getState;return(e=_.b.mirrorId(r().files,e)).startsWith("-")?Promise.reject(new Error(a()("文件还未同步，请等待文件同步后重试"))):n(Object(E.post)("files/"+e+"/invite_links")).then((function(e){if(e&&e.wechatQRLink)return e.wechatQRLink;throw new Error(a()("创建邀请链接失败（没有 wechatQRLink 属性）"))}))}})),Object(b.c)(g.a.GET_SHORTCUTS,(function(){return function(e){var t=e.dispatch,n=e.getState,i=e.next,a=n().shortcuts,o=a?t(Object(O.b)(a)):null,c=t(Object(E.get)("desktop_shortcuts?pageSize=-1",{schema:[l.a],transformResponseBody:function(e){return e.map((function(e){return Object(r.__assign)({},e.file)}))}})).then(i);return Object(b.m)({local:o,remote:c})}}))),ce=Object(b.c)(g.a.CREATE_SHORTCUT,(function(e,t){return function(n){var r=n.dispatch,i=n.next;return r(Object(E.post)("files/"+e+"/desktop_shortcuts",{body:{before:t||void 0}})).then((function(){i({guid:e,before:t})}))}})),ue=Object(b.c)(g.a.UPDATE_SHORTCUT,(function(e,t){return function(n){var r=n.dispatch,i=n.next;return r(Object(E.patch)("files/"+e+"/desktop_shortcuts/verbose",{body:{before:t||void 0}})).then((function(){i({guid:e,before:t})}))}})),se=Object(b.c)(g.a.REMOVE_SHORTCUT,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.destroy)("files/"+e+"/desktop_shortcuts/verbose")).then((function(){r({guid:e})}))}})),de=Object(b.c)(g.a.UPDATE_CURRENT_FOLDER,(function(e,t){return function(n){var r=n.dispatch,i=(0,n.getState)().tree,a=_.d.getParent(i,e);return a!==t?r(z(a)):Promise.resolve()}})),fe=Object(b.c)(g.a.BG_SYNC_FILE,(function(e,t){return function(n){var r=n.dispatch,i=n.getState,a=n.next;function o(){return _.b.get(i().files,e)}var c=o();if(!c)return Promise.reject(new Error("File not found "+e));if(t.has("isNew")){var u=_.d.getParent(i().tree,e),s={folder:u,name:c.name,type:c.type};return r(Object(E.post)("files",{body:s,background:!0,timeout:1e4})).then((function(n){if(o()){var i=n.guid;return r(Object(O.g)({file:n.guid},{file:l.a})).then((function(){a({guid:e,mirrorTo:i,resolved:t.subtract(["starred"]).toJS()})}))}})).catch((function(e){if(e.offline)throw e;if("0"===u)throw e;return r(ee({guid:c.guid,target:"0",force:!0}))}))}if(t.has("starred")){var d=c.starred?E.put:E.destroy;return r(d("files/"+e+"/star",{background:!0,timeout:1e4})).then((function(){var t=o();t&&t.starred===c.starred&&a({guid:e,resolved:["starred"]})})).catch((function(t){if(t.offline)throw t;a({guid:e,resolved:["starred"]})}))}return t.has("name")?r(Object(E.patch)("files/"+e,{body:{name:c.name},background:!0,timeout:1e4})).then((function(){var t=o();t&&t.name===c.name&&a({guid:e,resolved:["name"]})})).catch((function(t){if(t.offline)throw t;a({guid:e,resolved:["name"]})})):t.has("duplicateAction")?Promise.resolve(a({guid:e,resolved:["duplicateAction","user","updatedUser"]})):Promise.reject(new Error("Unhandled property(ies) in "+t.toJS()+", ask @lvquan for further information!"))}})),le=Object(b.c)(g.a.PUSH_DESTROY_FILE,(function(e){return{guid:e}})),pe=Object(b.c)(g.a.PUSH_CREATE_FILE,(function(e,t,n,r){return{guid:e,parent:t,role:n,byAddCollaborator:r}})),_e=(Object(b.c)(g.a.PUSH_CHECK_FILE_MOVED,(function(e,t){return{guid:e,parent:t}})),Object(b.c)(g.a.PUSH_SORT_FILE,(function(e,t){return{guid:e,before:t}}))),be=Object(b.c)(g.a.PUSH_STAR_FILE,(function(e){return{guid:e}})),me=Object(b.c)(g.a.PUSH_UNSTAR_FILE,(function(e){return{guid:e}})),Ee=Object(b.c)(g.a.PUSH_MARK_FILE,(function(e){return{guid:e}})),Oe=Object(b.c)(g.a.PUSH_MARK_ALL_FILES_WITH_IDS,(function(e){return{ids:e}})),ge=Object(b.c)(g.a.PUSH_UPDATE_COLLABORATOR_COUNT,(function(e){var t=e.type,n=e.fileGuid,r=e.collaboratorCount,i=e.collaborators;return function(e){var a=e.dispatch,o=e.next,c=e.getState;if(i&&!(i.length<=0)&&c().me.id!==i[0].id){var u=Object(s.wormalize)(i[0],l.c),d=u.result,f=u.entities,p=d,_=function(){a(Object(O.g)(p,l.c,f)).then((function(){return a(Object(O.c)(f))})).then((function(){o({type:t,guid:n,collaboratorCount:r,userId:p,owner:!1,permission:"editable",role:i[0].role||"editor"})}))};c().collaborators.getIn(["data",n])?_():a(Object(m.a)(n)).then((function(){_()}))}}})),ve=Object(b.c)(g.a.VERIF_PASSWORD,(function(e,t){return Object(b.f)((function(n){var r=n.dispatch,i=n.next;return r(Object(E.post)("files/"+e+"/password/verify",{body:{password:t},baseUrl:"/panda-api/file/"})).then((function(t){return i({guid:e,result:t}),t}))}),"sos:verifyPassword")})),Te=(Object(b.c)(g.a.VALIDATE_PASSWORD,(function(e){return function(t){return(0,t.dispatch)(Object(E.get)("files/"+e+"/needPassword"))}})),Object(b.c)(g.a.IS_INCLUDE_LINK_FILE,(function(e){return function(t){return(0,t.dispatch)(Object(E.get)("files/"+e+"/shortcuts")).then((function(e){return!!e.length}))}})),Object(b.c)(g.a.DO_EXPORT_FILE,(function(e,t,n,r){return void 0===r&&(r=!1),function(r){var i=r.dispatch,a=1,o=encodeURIComponent(n.replace("#","_")),c="xlsx"===e;return i(Object(E.get)("files/"+t+"/export?type="+e+"&file="+t+"&returnJson="+a+"&name="+o+(c?"&isAsync=1":""),{timeout:12e4}))}}))),he=Object(b.c)(g.a.LOCK_FILE,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.put)("files/"+e+"/lock")).then((function(){r({guid:e})}))}})),Se=Object(b.c)(g.a.UNLOCK_FILE,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.destroy)("files/"+e+"/lock")).then((function(){r({guid:e})}))}})),je=Object(b.c)(g.a.GET_WATERMARK,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.get)("files/"+e+"/watermark")).then((function(t){var n=t.status;r({guid:e,status:n})}))}})),Ie=Object(b.c)(g.a.GET_FILE_CREATOR,(function(e){return function(t){var n=t.dispatch,r=t.next;return n(Object(E.get)("files/"+e+"/creator")).then((function(t){return r({creator:t,guid:e})}))}})),ye=Object(b.c)(g.a.CREATE_REAL_SHORTCUT,(function(e,t){return function(n){var i=n.dispatch;return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,i(Object(E.post)("/file/shortcuts",{body:{folder:"0"===t?"Desktop":t,source_guid:e},baseUrl:"/panda-api"}))];case 1:return n.sent(),i(z(t)),[2]}}))}))}}))},268:function(e,t,n){"use strict";n.r(t),n.d(t,"htmlStrToStr",(function(){return r})),n.d(t,"encodeTextarea",(function(){return i})),n.d(t,"pathnameFromUrlStr",(function(){return a})),n.d(t,"markMentionText",(function(){return o}));var r=function(e){if(!e)return"";var t=document.createElement("div");return t.innerHTML=e,(t.innerText||t.textContent||"").trim()},i=function(e){return e?e.replace(/\r\n/g,"<br>"):""},a=function(e){var t=document.createElement("a");return t.href=e,t.pathname},o=function(e){return e.replace(/(<a[^>]*>[^@]*<\/a>)/g,"@$1")}},271:function(e,t,n){"use strict";n.r(t);var r=n(188);n.d(t,"isAllowInviteTeamMember",(function(){return r.a}));var i=n(17);n.d(t,"isPersonal",(function(){return i.i})),n.d(t,"isPersonalFree",(function(){return i.j})),n.d(t,"isPersonalPremium",(function(){return i.k})),n.d(t,"isEnterprise",(function(){return i.a})),n.d(t,"isEnterpriseStandard",(function(){return i.d})),n.d(t,"isEnterprisePremium",(function(){return i.c})),n.d(t,"isEnterpriseDingding",(function(){return i.b})),n.d(t,"isNewDing",(function(){return i.f})),n.d(t,"isOriginatedFromDingtalk",(function(){return i.h})),n.d(t,"isNotOriginatedFromDingtalk",(function(){return i.g})),n.d(t,"isExpired",(function(){return i.e})),n.d(t,"isTrial",(function(){return i.l}));var a=n(24);n.d(t,"isNotOnSeat",(function(){return a.e})),n.d(t,"isOnSeat",(function(){return a.f})),n.d(t,"isCreator",(function(){return a.b})),n.d(t,"isAdmin",(function(){return a.a})),n.d(t,"isLimitedUser",(function(){return a.d})),n.d(t,"isDisabledUser",(function(){return a.c})),n.d(t,"isVerifiedEmail",(function(){return a.i})),n.d(t,"isVerifiedMobile",(function(){return a.j})),n.d(t,"isSpaceCreator",(function(){return a.g})),n.d(t,"isOrdinaryMemberOfTeam",(function(){return a.h}));var o=n(54);n.d(t,"isEnterpriseFile",(function(){return o.k})),n.d(t,"isSpaceOrSpaceFile",(function(){return o.p})),n.d(t,"isSpaceFile",(function(){return o.o})),n.d(t,"isSpace",(function(){return o.n})),n.d(t,"isShortcut",(function(){return o.m}));var c=n(67);n.d(t,"isAllowAddOutsider",(function(){return c.b})),n.d(t,"isOutsider",(function(){return c.h})),n.d(t,"isOutsiderCollaborator",(function(){return c.h})),n.d(t,"isEditor",(function(){return c.d})),n.d(t,"isOnlyReaderOrCommenter",(function(){return c.g})),n.d(t,"isBelongToTheSameEnterprise",(function(){return c.c})),n.d(t,"isFileAdmin",(function(){return c.e})),n.d(t,"isInheritFromSpace",(function(){return c.f}))},272:function(e,t,n){"use strict";n.r(t),n.d(t,"truncateString",(function(){return a})),n.d(t,"reverse",(function(){return o})),n.d(t,"middleTruncateString",(function(){return c})),n.d(t,"partiallyVisibleEmail",(function(){return u})),n.d(t,"partiallyVisibleMobile",(function(){return s}));var r=n(2),i=/[^\x00-\xff]/gi,a=function(e,t,n){if(void 0===n&&(n="..."),!e||t<=0)return"";if(e.replace(i,"aa").length>t)for(var r=0,a=0;a<t;a+=1){if(e[a].match(i)?r+=2:r+=1,r===t)return e.substr(0,a+1)+n;if(r>t)return e.substr(0,a)+n}return e},o=function(e){return e?e.split("").reverse().join(""):e},c=function(e,t,n,r){var c;void 0===e&&(e=""),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r="...");var u=t+n;return e.length+(null!==(c=e.match(i))&&void 0!==c?c:[]).length<=u?e:""+a(e,t,r)+o(a(o(e),n,""))},u=function(e,t){if(void 0===t&&(t="*"),e){var n=e.replace(i,"aa"),a=e.split("@"),o=Object(r.__read)(n.split("@"),1)[0],c=Object(r.__read)(a,2)[1];return(o=o.length<3?t.repeat(o.length):o.slice(0,-3)+t.repeat(3))+"@"+c}},s=function(e){return e.replace(/^(\+86)?(\d{3})(\d{4})(\d{4})$/,"$2****$4")}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),i=n(8),a=n.n(i),o=n(389),c=n.n(o);function u(e,t,n){var r=null!=e?e:"";return t&&(r+=r?" - "+t:t),n&&n>0&&(r+="("+n+")"),r}var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return null!=e?e:null},t.displayName="DocumentTitle",t}(a.a.PureComponent),d=c()((function(e){var t=e.reduce((function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),t)}),{});return{title:u(t.title,t.suffix,t.noticeCount),icon:t.icon}}),(function(e){var t,n,r;e.title!==document.title&&(document.title=e.title),e.icon&&((r=document.querySelector("link[rel*='icon']"))?r.href:null)!==e.icon&&(t=e.icon,(n=document.querySelector("link[rel*='icon']"))||(n=document.createElement("link"),document.head.appendChild(n)),n.rel="shortcut icon",n.href=t)}))(s)},276:function(e,t,n){"use strict";n.r(t),n.d(t,"isSameUser",(function(){return u})),n.d(t,"getAccountTypeStr",(function(){return s})),n.d(t,"getTeamRoleStr",(function(){return d})),n.d(t,"isEnterprise",(function(){return f})),n.d(t,"isNewRegisteredUser",(function(){return l})),n.d(t,"isDept",(function(){return p})),n.d(t,"isNewDing",(function(){return _})),n.d(t,"openPayment",(function(){return m}));var r=n(11),i=n.n(r),a=n(36),o=n.n(a),c=n(72),u=function(e,t){return!(!e||!t||String(e).trim()!==String(t).trim())},s=function(e,t){if(t){if(t.get("dingtalkCorp"))return i()("企业钉钉版");if(t.get("weworkCorp"))return i()("企业微信版")}switch(e.getIn?e.getIn(["membership","accountType"]):e.membership.accountType){case"enterprise_standard":return i()("企业版");case"personal_free":return i()("个人免费版");case"personal_premium":return i()("个人高级版");default:return i()("企业版")}},d=function(e){switch(e.get("teamRole")){case"creator":return i()("创建者");case"admin":return i()("管理者");case"member":return i()("成员");default:return""}},f=function(e){var t=e.getIn?e.getIn(["membership","accountType"]):e.membership.accountType;return t&&t.indexOf("enterprise")>=0},l=function(e,t){if(void 0===t&&(t="2018-09-18"),!e||!e.createdAt)return!1;var n=new Date(t).getTime(),r=new Date(e.createdAt).getTime();return o()(r).isAfter(o()(n))},p=function(e){return e&&2===e.type};function _(e){return!!(e&&e.membership&&e.membership.isNewDing)}var b="https://h5.dingtalk.com/appcenter/index-pc.html?source=appstore_button&corpId="+sessionStorage.getItem("DINGTALK_CORPID")+"#/detail/FW_GOODS-1000289003";function m(e,t,n){!t||!0!==t&&!_(t)?n?window.open(e):location.href=e:"undefined"!=typeof DingTalkPC?DingTalkPC.biz.util.openModal({url:b,title:i()("石墨，就是协同办公"),onSuccess:c.d,onFail:c.d}):location.href="https://h5.dingtalk.com/appcenter/detail.html?showmenu=false&dd_share=false&goodsCode=FW_GOODS-1000289003"}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d.a})),n.d(t,"c",(function(){return f.b})),n.d(t,"d",(function(){return f.c})),n.d(t,"e",(function(){return f.d}));var r=n(2),i=n(8),a=n.n(i),o=n(267),c=n.n(o),u=n(970),s=function(e){function t(t){var n=e.call(this,t)||this;return n.adRef=a.a.createRef(),n.updateAd=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n,i,a,o,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(e=__RUNTIME_ENV__.PRIVATE_DEPLOY,!this.adRef.current||e)return[2];t=this.props,n=t.query,i=t.position,a=t.callback,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Object(u.a)({query:n,position:i,dom:this.adRef.current})];case 2:return(r.sent()||[]).forEach((function(e){null==a||a(null,e)})),[3,4];case 3:return o=r.sent(),c=o||new Error("unknown rejected error"),null==a||a(c,null),[3,4];case 4:return[2]}}))}))},n.updateAd=c()(n.updateAd,300),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateAd()},t.prototype.componentDidUpdate=function(e){var t=this.props.location;e.location!==t&&this.updateAd()},t.prototype.render=function(){var e=this.props,t=e.wrapperStyle,n=e.style,r=e.position;return __RUNTIME_ENV__.PRIVATE_DEPLOY?null:a.a.createElement("div",{style:t},a.a.createElement("div",{key:r,style:n,className:"sm-ad-wrapper pos-"+r,ref:this.adRef}))},t}(a.a.PureComponent),d=(n(280),n(275)),f=n(152)},28:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return E})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return h})),n.d(t,"q",(function(){return S})),n.d(t,"b",(function(){return j})),n.d(t,"o",(function(){return I.c})),n.d(t,"t",(function(){return I.d})),n.d(t,"k",(function(){return D})),n.d(t,"s",(function(){return M})),n.d(t,"n",(function(){return x})),n.d(t,"p",(function(){return k})),n.d(t,"r",(function(){return U})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return F})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}));var r,i=n(56),a=n.n(i),o=function(e){return function(t,n){t(e,n)}},c={baseURL:function(){var e,t="/lizard-api";if("undefined"!=typeof window&&(t=null!==(e=null===__RUNTIME_ENV__||void 0===__RUNTIME_ENV__?void 0:__RUNTIME_ENV__.API_PATH)&&void 0!==e?e:"/lizard-api"),"object"==typeof window&&(null===window||void 0===window?void 0:window.electronSdk)){var n=null===window||void 0===window?void 0:window.process,r=window.electronSdk.getGlobal("process");return(n||r).env.APP_API}return t}()},u=1e4,s=n(2),d=n(83),f=n.n(d),l=n(11),p=n.n(l),_=n(390),b=function(e){e.defaults.headers={Accept:"application/nd.shimo.v2+json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest","Content-Type":"application/json;charset=UTF-8"},e.defaults.withCredentials=!0},m=function(e,t){var n="SHIMO_REQUEST/"+_.a;e.defaults.headers["User-Agent"]=t?n+" "+t:n},E=function(e,t){var n=t.token,r=t.getToken,i=null!=n?n:null==r?void 0:r();i&&(e.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+i,e})),e.interceptors.response.use((function(e){return Object(s.__awaiter)(void 0,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return n||!r||r()?[2,Promise.resolve(e)]:[2,Promise.reject(new Error(p()("登录状态发生改变，网络请求已被终止")))]}))}))})))},O=function(e,t){e.interceptors.request.use((function(e){return e.headers["X-PUSH-CLIENT-ID"]=t,e}))},g=function(e,t){e.interceptors.request.use((function(e){return t?(e.headers["X-Geetest-Challenge"]=t.geetest_challenge,e.headers["X-Geetest-Validate"]=t.geetest_validate,e.headers["X-Geetest-Seccode"]=t.geetest_seccode,e.headers["X-Geetest-Version"]="3.0",e.headers["X-Geetest-Type"]="web",e):e}))},v=function(e){e.interceptors.request.use((function(e){var t=e.data;return e.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",t instanceof FormData||f()(t)&&(e.data=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")),e}))},T=n(91),h=function(){var e;return function(t){var n=a.a.CancelToken;t.interceptors.request.use((function(t){return e&&e("[@shimo/request]: request cancelled by createCancelPreviousRequest interceptor"),t.cancelToken=new n((function(t){e=t})),t}))}},S=function(e){"undefined"!=typeof window&&Object(T.isIE)()&&function(e){e.interceptors.request.use((function(e){return e.url.includes("?")?e.url+="&_="+(new Date).getTime():e.url+="?_="+(new Date).getTime(),e}))}(e)},j=function(e){e.interceptors.request.use((function(e){e.method,e.url,e.headers,e.data;return e}))},I=n(146),y=n(247),A=n(262),N=n.n(A),R=function(){function e(){this.content={}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getContent=function(){return this.content},e}(),L=function(e){if(!e.params)return"";var t=e.params,n=new y.a;return t instanceof y.a?n=t:Object.keys(t).sort().forEach((function(e){return n.append(e,t[e])})),"?"+n.toString()},C=R.getInstance().getContent(),P=function(e,t){var n=function(e,n,r){return Object(s.__awaiter)(void 0,void 0,void 0,(function(){var i;return Object(s.__generator)(this,(function(a){return i=function(e,t){if(!t&&!e.includes("?"))return e;if(!t&&e.includes("?")){var n=Object(s.__read)(e.split("?"),2),r=n[0],i=n[1],a={params:N.a.parse(i)};return""+r+L(a)}return t?""+(r=""+(t.baseURL?t.baseURL:"")+e)+L(t):e}(n,r),C[i]?[2,Promise.resolve(C[i])]:(C[i]=e(n,r),setTimeout((function(){delete C[i]}),t),[2,C[i]])}))}))};return Object(s.__assign)(Object(s.__assign)({},e),{get:function(t,r){return Object(s.__awaiter)(void 0,void 0,void 0,(function(){return Object(s.__generator)(this,(function(i){return[2,n(e.get,t,r)]}))}))}})},D=function(){var e=a.a.create(c);return P(e,1e3)},w=(D(),function(e){var t=a.a.create(c);return e instanceof a.a.Axios?t=e:e&&(t=a.a.create(Object(s.__assign)(Object(s.__assign)({},c),e))),o(t)(b),o(t)(S),o(t)(I.a),P(t,1e3)}),x=function(e){var t=w(e);return o(t)(I.b),o(t)(I.c),t},U=w(),M=x(),F=function(){var e=a.a.create(c),t=o(e);return t(b),t(v),t(S),o(e)(I.a),P(e,1e3)},k=(r=F(),o(r)(I.b),o(r)(I.c),r);F()},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(11),a=n.n(i),o=n(8),c=n.n(o),u=n(124),s=function(e){var t=e.time,n=e.now,i=e.tolerance,o=e.updateCycle,s=void 0===o?6e4:o,d=e.className,f=Object(u.formatDate)(t,n,i),l=Object(r.__read)(c.a.useState(f),2),p=l[0],_=l[1];return c.a.useEffect((function(){var e=0;return p===a()("刚刚")&&(e=window.setTimeout((function(){var e=Object(u.formatDate)(t,n,i);_(e)}),s)),function(){return window.clearTimeout(e)}}),[p]),c.a.createElement("span",{className:d},p)}},285:function(e,t,n){"use strict";n.r(t),n.d(t,"apiLog",(function(){return a})),n.d(t,"Timer",(function(){return o}));var r=n(2),i=n(28);function a(e,t){var n;return void 0===t&&(t={}),Object(r.__awaiter)(this,void 0,void 0,(function(){var a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:t.err&&t.err.stack,a=Object(r.__assign)(Object(r.__assign)({},t),{err:t.err?null!==(n=t.err.stack)&&void 0!==n?n:t.err.message:"",url:location.href,msg:e}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i.s.post("/log/jserror",{baseURL:"/api",params:a})];case 2:return o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))}var o=function(){var e=this;this.start=function(){e.timer=new Date},this.stop=function(){if(!e.timer)throw new Error("call Timer.start first");return Date.now()-e.timer.getTime()}};t.default=a},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=n(5);function a(e){var t=e.files,n=e.sortOrder,i=void 0===n?r.DESC:n,a=e.users;return t.sort((function(e,t){var n=a.get(e.get("user")).get("name"),o=a.get(t.get("user")).get("name");return i===r.DESC?n.localeCompare(o):o.localeCompare(n)}))}!function(e){e.ASC="reverse",e.DESC="default"}(r||(r={}));var o={createTime:function(e){var t=e.files,n=e.sortOrder,i=void 0===n?r.DESC:n;return t.sort((function(e,t){return i===r.DESC?Date.parse(t.get("createdAt"))-Date.parse(e.get("createdAt")):Date.parse(e.get("createdAt"))-Date.parse(t.get("createdAt"))}))},updateTime:function(e){var t=e.files,n=e.sortOrder,i=void 0===n?r.DESC:n;return t.sort((function(e,t){return i===r.DESC?Date.parse(t.get("updatedAt"))-Date.parse(e.get("updatedAt")):Date.parse(e.get("updatedAt"))-Date.parse(t.get("updatedAt"))}))},fileName:function(e){var t=e.files,n=e.sortOrder,i=void 0===n?r.DESC:n;return t.sort((function(e,t){var n=e.get("name"),a=t.get("name"),o=e.get("sortName"),c=t.get("sortName"),u=n===a?0:n.localeCompare(a,"zh");if(!o||!c)return u;for(var s=o.size<c.size?o.size:c.size,d=0;d<s;d++){var f=o.get(d),l=c.get(d),p="number"==typeof f,_="number"==typeof l,b=f.toString()===l.toString();if(p&&_||b){if(b)continue;u=f<l?-1:1;break}break}return i===r.DESC?u:0-u}))},owner:a,userId:a,fileSize:function(e){var t=e.files,n=e.sortOrder,a=void 0===n?r.DESC:n,o=t.groupBy((function(e){return e.get("fileSize")?"cloudFile":"shimoFile"})),c=o.get("shimoFile")||Object(i.OrderedMap)(),u=o.get("cloudFile")||Object(i.OrderedMap)();return a===r.DESC?c.merge(u.sort((function(e,t){return t.get("fileSize")-e.get("fileSize")}))):c.merge(u.sort((function(e,t){return e.get("fileSize")-t.get("fileSize")})))},default:function(e){return e.files}};function c(e,t,n,r,a){void 0===a&&(a=!1);var c=o[n];return a?function(e,t,n,r){var a=e.groupBy((function(e){return"folder"===e.get("type")?"folders":"files"})),c=a.get("folders")||Object(i.OrderedMap)(),u=a.get("files")||Object(i.OrderedMap)(),s=o[n];return s({files:c,sortOrder:r,users:t}).merge(s({files:u,sortOrder:r,users:t}))}(e,t,n,r):c({files:e,users:t,sortOrder:r})}},37:function(e,t,n){"use strict";n.r(t),n.d(t,"toFileTypeStr",(function(){return d})),n.d(t,"toFileUrlStr",(function(){return f})),n.d(t,"toNewAndOldTypeStr",(function(){return l})),n.d(t,"typeToText",(function(){return p})),n.d(t,"isSheet",(function(){return _})),n.d(t,"isRichDocSheet",(function(){return b})),n.d(t,"isMoDocSheet",(function(){return m})),n.d(t,"isDoc",(function(){return E})),n.d(t,"isModoc",(function(){return O})),n.d(t,"isSlide",(function(){return g})),n.d(t,"isPresentation",(function(){return v})),n.d(t,"isForm",(function(){return T})),n.d(t,"isBoard",(function(){return h})),n.d(t,"isFolder",(function(){return S})),n.d(t,"isNewDoc",(function(){return j})),n.d(t,"isNewSheet",(function(){return I})),n.d(t,"isMindmap",(function(){return y})),n.d(t,"isShortcut",(function(){return A})),n.d(t,"isCollabSpace",(function(){return N})),n.d(t,"getFileUrl",(function(){return R})),n.d(t,"isFileAuthorized",(function(){return L})),n.d(t,"isFileCollaborator",(function(){return C})),n.d(t,"isFilePublic",(function(){return P})),n.d(t,"isFilePublicReadOnly",(function(){return D})),n.d(t,"isNewFilePublicReadOnly",(function(){return w})),n.d(t,"isFilePublicEditable",(function(){return x})),n.d(t,"isFileManageable",(function(){return U})),n.d(t,"isCloudFile",(function(){return M})),n.d(t,"formatSize",(function(){return F})),n.d(t,"isFileUntitled",(function(){return k}));var r=n(3),i=n(11),a=n.n(i),o=n(41),c=n.n(o),u=n(391),s=n.n(u),d=function(e,t){void 0===t&&(t=!1);var n=r.fileTypes.find(e);return n?"doc"===n.type&&t&&"docx"===n.url?"docx":n.type:""},f=function(e){if(""===e||null==e)return"";var t=r.fileTypes.find(e);return t?t.url:""},l=function(e){var t=r.fileTypes.find(e);if(!t)return a()("云文件");switch(t.display){case a()("文档"):return"doc"===t.url?a()("旧文档"):a()("新文档");case a()("表格"):return"spreadsheet"===t.url?a()("旧表格"):a()("新表格");case a()("文件夹"):return a()("文件夹");default:return""}},p=function(e,t){if(void 0===t&&(t=!1),e){if(t)return a()("团队空间");var n=r.fileTypes.find(e);return n?n.display:""}},_=function(e){return"sheet"===d(e)},b=function(e){var t=r.fileTypes.find(e);return!!t&&-3===t.id},m=function(e){var t=r.fileTypes.find(e);return!!t&&-4===t.id},E=function(e){return"doc"===d(e)},O=function(e){return"docx"===f(e)},g=function(e){return"slide"===d(e)},v=function(e){return"presentation"===d(e)},T=function(e){return"form"===d(e)},h=function(e){return"board"===d(e)},S=function(e){return"folder"===d(e)},j=function(e){var t=r.fileTypes.find(e);return!!t&&"newdoc"===t.name},I=function(e){var t=r.fileTypes.find(e);if(!t)return!1;var n=t.name;return"sheet"===n||"mosheet"===n},y=function(e){return"mindmap"===d(e)},A=function(e){return-12===e||"shortcut"===e},N=function(e){return null==e?void 0:e.isSpace};function R(e,t,n){if(void 0===n&&(n=!1),"number"==typeof e&&(e+=""),!e||!t)return"";if(M(e))return"/files/"+t;if(n)return"/space/"+t;var i=r.fileTypes.find(e);return i?"/"+i.url+"/"+t:"#"}var L=function(e){return!!(null==e?void 0:e.role)},C=function(e){return(null==e?void 0:e.role)&&"owner"!==e.role},P=function(e){return e&&!L(e)&&"private"!==e.shareMode},D=function(e){return e&&!L(e)&&!c()(e,"permissions.editable",!1)&&(!!c()(e,"permissions.commentable",!1)||!!c()(e,"permissions.readable",!1))},w=function(e){return e&&!L(e)&&!c()(e,"permissions.editable",!1)&&!c()(e,"permissions.commentable",!1)&&!!c()(e,"permissions.readable",!1)},x=function(e){return e&&!L(e)&&!!c()(e,"permissions.editable",!1)},U=function(e){return e&&c()(e,"permissions.manageable",!1)},M=function(e){if(!e)return!1;var t=r.fileTypes.find(e);return!!t&&t.id>1};function F(e){return e?s()(e):""}var k=function(){var e,t=document.getElementById("file-header-title-input");if(!t)return!1;var n=null===(e=t)||void 0===e?void 0:e.value;return["无标题","Untitled","無題"].includes(n)}},375:function(e,t,n){"use strict";t.a=n.p+"static/lizard-one/assets/folder_40@2x.3918ad27.png"},377:function(e,t,n){"use strict";var r=n(2),i={},a=function(e,t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(i[t])return i[t];var o=e.apply(void 0,Object(r.__spreadArray)([],Object(r.__read)(n)));i[t]=o;var c=function(){delete i[t]};return o.then(c,c),o}};a.clear=function(){i={}},t.a=a},390:function(e){e.exports=JSON.parse('{"a":"1.11.3"}')},392:function(e){e.exports=JSON.parse('{"a":"3.19.0"}')},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return b}));var r=n(5),i={initialStructure:Object(r.Map)({mirror:Object(r.Map)(),data:Object(r.Map)()}),createMirror:function(e,t,n){return e.update("data",(function(e){return e.has(t)?e.set(n,e.get(t)).delete(t):e})).setIn(["mirror",t],n)},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t,n){return e.getIn(["data",i.mirrorId(e,t)],n)},set:function(e,t,n){return i._set(e,t,Object(r.fromJS)(n))},push:function(e,t,n){var a=i.get(e,t,Object(r.List)());return i.set(e,t,a.push(Object(r.fromJS)(n)))},remove:function(e,t){return e.removeIn(["data",i.mirrorId(e,t)])},_set:function(e,t,n){return e.setIn(["data",i.mirrorId(e,t)],n)}},a=n(120),o=n.n(a),c=n(393),u=n.n(c),s=n(1),d={initialStructure:Object(r.Map)({mirror:Object(r.Map)(),diff:Object(r.Map)(),data:Object(r.Map)(),persist:Object(r.Set)()}),createMirror:function(e,t,n){return void 0===n?e:u()(["diff","data"],(function(e,r){return e.update(r,(function(e){return e.has(t)?e.set(n,e.get(t)).delete(t):e}))}),e.setIn(["mirror",t],n).update("persist",(function(e){return e.union([t,n])})))},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t){return e.getIn(["data",this.mirrorId(e,t)])},has:function(e,t){return e.hasIn(["data",this.mirrorId(e,t)])},remove:function(e,t){var n=this.mirrorId(e,t);return e.setIn(["data",n],null).removeIn(["diff",n]).update("persist",(function(e){return e.add(n)}))},unload:function(e,t){return e.removeIn(["data",this.mirrorId(e,t)])},merge:function(e,t,n,i){var a=void 0===i?{}:i,o=a.source,c=void 0===o?"user":o,u=a.create,d=void 0!==u&&u,f=a.factory;if(t=this.mirrorId(e,t),!f)throw new Error('options "factory" is not provided');var l=e.hasIn(["data",t]);if(!l&&!d)return Object(s.l)("warn","Prevented updating for non-existent object "+t+" with data "+JSON.stringify(n)),e;var p=l&&e.getIn(["data",t])||new f,_="api"===c?e.getIn(["diff",t],Object(r.Map)()):Object(r.Map)(),b=Object.keys(n).filter((function(e){return void 0!==n[e]&&p.has(e)&&!(_.has(e)||function(e,t,n){return e.checkFieldEqual?e.checkFieldEqual(t,n):e.get(n)===t[n]}(p,n,e))}));if(0===b.length)return e;var m={};b.forEach((function(e){m[e]=n[e]}));var E=e.setIn(["data",t],p.merge(m));return"development"===Object(s.i)()&&Object(r.is)(E,e)&&Object(s.l)("warn","content not changed while dirty: "+t+": "+b.join()),e=E.update("persist",(function(e){return e.add(t)})),["api","preload"].indexOf(c)>-1?e:this.addDiffProperties(e,t,b)},addDiffProperties:function(e,t,n){return t=this.mirrorId(e,t),e.updateIn(["diff",t],Object(r.Set)(),(function(e){return e.union(n)}))},removeDiffProperties:function(e,t,n){var r=["diff",t=this.mirrorId(e,t)];if(!n)return e.deleteIn(r);var i=e.getIn(r);if(i){var a=i.subtract(n);return a.size?e.setIn(r,a):e.deleteIn(r)}return e},unsetPersist:function(e){return e.set("persist",this.initialStructure.get("persist"))},persist:function(e,t,n){var r=e.get("persist");return r.forEach((function(r){if(e.hasIn(["data",r])){var i=t+":data:"+r,a=e.getIn(["data",r]);a?n.set(i,a.toJS()):n.remove(i)}})),n.set(t+":diff",e.get("diff").toJS()),r.size>0},setDiff:function(e,t){return e.set("diff",Object(r.Map)(o()(t,r.Set)))}};var f=n(2),l=n(29),p=n.n(l),_="1",b={initialStructure:Object(r.Map)({mirror:Object(r.Map)(),data:Object(r.Map)()}),createMirror:function(e,t,n){if(!e.hasIn(["data",t]))return e;var r=b.getParent(e,t);if(e=e.setIn(["data",n],e.getIn(["data",t])).deleteIn(["data",t]).setIn(["mirror",t],n),r){var i=b.getChildren(e,r),a=i&&i.findKey((function(e){return e===t}));"number"==typeof a&&(e=b._set(e,r,"c",i.set(a,n)))}var o=b.getChildren(e,t);return o&&(e=o.reduce((function(e,t){return b.setParent(e,t,n)}),e)),e},mirrorId:function(e,t){if(t&&"-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},getChildren:function(e,t){var n=["data"];return"0"!==t&&"1"!==t||n.push("root"),e.getIn(Object(f.__spreadArray)(Object(f.__spreadArray)([],Object(f.__read)(n)),[b.mirrorId(e,t),"c"]))},getParent:function(e,t){return e.getIn(["data",b.mirrorId(e,t),"p"])},_set:function(e,t,n,r){var i=["data"];return"0"!==t&&"1"!==t||i.push("root"),e.setIn(Object(f.__spreadArray)(Object(f.__spreadArray)([],Object(f.__read)(i)),[b.mirrorId(e,t),n]),r)},setChildren:function(e,t,n){var i=b.getChildren(e,t),a=(i||Object(r.List)()).takeWhile((function(e){return"-"===e[0]})).concat(n);return Object(r.is)(i,a)?e:b._set(e,t,"c",a)},unshiftRootChildren:function(e,t){var n=(b.getChildren(e,"0")||Object(r.List)()).unshift(t);return b._set(e,"0","c",n)},pushRootChildren:function(e,t){var n=(b.getChildren(e,"0")||Object(r.List)()).push(t);return b._set(e,"0","c",n)},replaceChild:function(e,t,n,r){var i=b.getChildren(e,t),a=i&&i.findKey((function(e){return e===n}));return"number"==typeof a?b.setChildren(e,t,i.set(a,r)):e},unshiftChildren:function(e,t,n){n=b.mirrorId(e,n);var i=b.getChildren(e,t)||Object(r.List)();if(i.includes(n))return e;var a="-"===n[0]?0:i.findIndex((function(e){return"-"!==e[0]})),o=-1===a?i.push(n):i.splice(a,0,n);return b._set(e,t,"c",o)},removeFromParent:function(e,t){t=b.mirrorId(e,t);var n=b.getParent(e,t);if(!n)return e;var r=b.getChildren(e,n);if(!r)return e;var i=r.findKey((function(e){return e===t}));return void 0===i?e:b._set(e,n,"c",r.remove(i))},remove:function(e,t){return b.removeFromParent(e,t).removeIn(["data",b.mirrorId(e,t)])},setParent:function(e,t,n){return e.setIn(["data",b.mirrorId(e,t),"p"],b.mirrorId(e,n))},fromJS:function(e){var t=Object.keys(e).reduce((function(t,n){var r,i,a,o;return"0"===n||"1"===n?p()(t,{root:(r={},r[n]=(i={},i.c=e[n],i),r)}):p()(t,((a={})[n]=((o={}).c=e[n],o),a))}),{}),n=function(e,t,n){e.forEach((function(e){t[e]||(t[e]={}),t[e].p=n}))};return Object.keys(t).forEach((function(e){var r;"root"===e?["0","1"].forEach((function(i){t[e][i]&&(r=t[e][i].c,n(r,t,i))})):(r=t[e].c,n(r,t,e))})),Object(r.fromJS)(t)}}},434:function(e,t,n){n(435),n(436),e.exports=n(968)},435:function(e,t,n){"use strict";n.r(t),n.p="".concat(__SM_CDN_HOST__,"/")},436:function(e,t,n){"use strict";n.r(t);n(437),n(825),n(246)},54:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"o",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return T})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return S}));var r=n(19),i=n(17),a=n(24),o=function(e){return!!e.isFromSVC||!!e.isSpace},c=function(e){return!e.isSpace&&!!e.isFromSVC},u=function(e){return!!e.isSpace},s=function(e){return e&&!!e.teamId},d=function(e){return!!e.isShortcut},f=function(e){var t;return null===(t=null==e?void 0:e.permissions)||void 0===t?void 0:t.editable},l=function(e){var t;return null===(t=null==e?void 0:e.permissions)||void 0===t?void 0:t.collaboratorManageable},p=function(e){var t=e.me,n=e.folder,o=n||{guid:null,collaboratorCount:null};if(!Object(a.d)(t))return n&&n.permissions&&!n.permissions.childFileCreatable?{disabled:!0,reason:r.b.FAILURE_READ_ONLY}:{disabled:!1};if(Object(i.j)(t))return!o.guid||"0"===o.guid||o.collaboratorCount<=15?{disabled:!1}:{disabled:!0,reason:r.b.FAILURE_PERSONAL_FREE};if(Object(i.a)(t)){if(Object(i.e)(t))return Object(i.l)(t)?{disabled:!0,reason:r.b.FAILURE_TRIAL_EXPIRED}:Object(a.b)(t)||Object(a.a)(t)?{disabled:!0,reason:r.b.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN}:{disabled:!0,reason:r.b.FAILURE_ENTERPRISE_EXPIRED_MEMBER};if(Object(a.e)(t))return{disabled:!0,reason:r.b.FAILURE_NOT_ON_SEAT}}return{disabled:!1}},_=function(e){return e.file.permissions.manageable?{disabled:!1,reason:r.b.ONLY_DELETE_FILE}:{disabled:!1,reason:r.b.ONLY_EXIT_SHARE}},b=function(e){var t=e.me,n=e.file,i=e.toDir;return i&&!(i.user===t.id||i.permissions&&i.permissions.childFileCreatable||i.user!==t.id&&n.teamId===t.team&&("creator"===t.teamRole||"admin"===t.teamRole))?"folder"===n.type?{disabled:!0,reason:r.b.NO_ACCESS_MOVE_FOLDER}:{disabled:!0,reason:r.b.NO_ACCESS_MOVE_FILE}:p({me:t,folder:i})},m=function(e){var t,n=e.me,i=e.file,a=e.toDir;return!a||(null===(t=null==i?void 0:i.permissions)||void 0===t?void 0:t.removable)||i.isShortcut||!i.parentId||0===i.parentId?p({me:n,folder:a}):{disabled:!0,reason:r.b.NO_ACCESS_DELETE}},E=function(e){var t=e.me,n=e.folder;return p({me:t,folder:n})},O=function(e){var t=e.me,n=e.folder;return p({me:t,folder:n})},g=function(e){var t=e.me,n=e.folder,i=e.folderGuid,a=(n&&n.toJS?n.toJS():n)||{},o=p({me:t,folder:n});return o.disabled||a.guid||"0"===i||(o={disabled:!0,reason:r.b.NO_ACCESS_CREATE_OR_UPLOAD_FILE}),o},v=function(e,t){var n,r;return!(!e.isShortcut&&t)||(!!(null===(n=null==e?void 0:e.permissions)||void 0===n?void 0:n.removable)||!(t&&(e.collaboratorCount||0)>1&&!(null===(r=null==e?void 0:e.permissions)||void 0===r?void 0:r.manageable)))},T=function(e){return f(e)},h=function(e){return o(e)?function(e){var t;return null===(t=null==e?void 0:e.permissions)||void 0===t?void 0:t.removable}(e):function(e){var t;return null===(t=null==e?void 0:e.permissions)||void 0===t?void 0:t.manageable}(e)},S=function(e){var t;return null===(t=null==e?void 0:e.permissions)||void 0===t?void 0:t.exportable}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"r",(function(){return T})),n.d(t,"C",(function(){return h})),n.d(t,"u",(function(){return S})),n.d(t,"b",(function(){return j})),n.d(t,"t",(function(){return I})),n.d(t,"B",(function(){return y})),n.d(t,"D",(function(){return A})),n.d(t,"w",(function(){return N})),n.d(t,"d",(function(){return R})),n.d(t,"i",(function(){return L})),n.d(t,"v",(function(){return C})),n.d(t,"e",(function(){return P})),n.d(t,"g",(function(){return D})),n.d(t,"j",(function(){return w})),n.d(t,"q",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"y",(function(){return s})),n.d(t,"p",(function(){return x})),n.d(t,"o",(function(){return U})),n.d(t,"A",(function(){return M})),n.d(t,"z",(function(){return F})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return G})),n.d(t,"h",(function(){return z})),n.d(t,"F",(function(){return a.c})),n.d(t,"E",(function(){return a.b})),n.d(t,"c",(function(){return a.a})),n.d(t,"f",(function(){return B}));var r=n(5),i=n(4),a=n(81);function o(e){return e.status.get("online")}function c(e){return e.teams.get("data")}function u(e){var t=e.me.id;return!t||t<0?Object(r.Map)({}):e.teams.getIn(["data",Object(a.a)(e).team])}function s(e){return d(e,e.teamMembers||Object(r.List)())}function d(e,t,n){var r=e.users.get("data"),i=!1,a=t.filter((function(e){var t=r.has(n?n(e):e);return t||(i=!0),t}));return i?a:t}function f(e,t){return function(e,t){return d(e,i.a.get(e.collaborators,t,Object(r.List)()),(function(e){return e.get("user")}))}(e,t).map((function(t){return Object(a.b)(e,t.get("user"))}))}n(41);var l=n(55),p=n.n(l),_=n(265),b=n.n(_),m=n(395),E=n.n(m),O=n(76);function g(e){return e.files}function v(e){return e.recent||Object(r.List)()}function T(e,t){var n=e[t]?e[t].get("nextURL"):void 0;return!b()(n)&&!E()(n)}function h(e){return e.updated&&e.updated.get("list")||Object(r.List)()}function S(e){return e.shortcuts||Object(r.List)()}function j(e){return e.created&&e.created.get("list")||Object(r.List)()}function I(e){return e.shared&&e.shared.get("list")||Object(r.List)()}function y(e){return e.unreadShared||Object(r.List)()}function A(e){return e.used&&e.used.get("list")||Object(r.List)()}function N(e){return e.starred||Object(r.List)()}function R(e){return e.deleted||Object(r.List)()}function L(e,t,n){return void 0===n&&(n=Object(r.List)()),null==t?n:i.d.getChildren(e.tree,t)||n}function C(e){return i.d.getChildren(e.tree,"1")||Object(r.List)()}function P(e){return i.d.getChildren(e.tree,"0")||Object(r.List)()}function D(e,t,n){return w(g(e),t,n)}function w(e,t,n){if(!t)return null;var r=i.b.get(e,t);if(!r&&n){var a=t.toLowerCase();(t=e.get("data").findKey((function(e,t){return t.toLowerCase()===a&&!!e})))&&(r=i.b.get(e,t))}return r}Object(O.a)(g,v,(function(e,t){return t.map((function(t){return t?i.b.get(e,t):null})).filter(p.a)})),Object(O.a)(g,A,(function(e,t){return t.map((function(t){return t?i.b.get(e,t):null})).filter(p.a)})),Object(O.a)(g,R,(function(e,t){return t.map((function(t){return t?i.b.get(e,t):null})).filter(p.a)})),Object(O.a)(g,N,(function(e,t){return t.map((function(t){return t?i.b.get(e,t):null})).filter(p.a)}));n(292);function x(e,t){return e.notifications.get(t)}function U(e,t){var n=e.notifications.get(t+"HasMore");return"boolean"!=typeof n||n}function M(e){return e.notifications.get("unreadCount")}function F(e){return e.notifications.get("unpeekedCount")}function k(e,t){return i.d.getParent(e.tree,t)}function G(e,t){if(null!=t){if("string"!=typeof t)throw new Error('guid must be a string, but got a "'+Object.prototype.toString.call(t)+'"');for(var n;;){if("0"===(n=k(e,t))||"1"===n)return t;if(!n)return;if(n===t)return n;t=n}}}function z(e,t){for(var n=[];t;)(t=i.d.getParent(e.tree,t))&&("0"===t||"1"===t||!i.b.get(e.files,t)||n.indexOf(t)>-1)&&(t=null),t&&n.push(t);return n}function B(e,t){return e.features.data.includes(t)}},67:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return _}));var r=n(19),i=n(17),a=n(24),o=n(54),c=function(e){return!!e.isOutsider},u=function(e){return"editable"===e.permission},s=function(e,t){return t&&t.permissions&&!t.isSpace?!t.permissions.editable&&(t.permissions.commentable||t.permissions.readable):!!e.permission&&("readonly"===e.permission||"commentable"===e.permission)},d=function(e,t){return!!e.team&&!!t.teamId&&e.team===t.teamId},f=function(e){return e.permissions.outsiderAddable},l=function(e){return!(!e.role||"owner"===e.role||!e.owner)},p=function(e,t){return Object(o.o)(e)&&t.hasOwnProperty("sharedBy")&&!t.sharedBy},_=function(e){var t,n=e.me,u=e.file;return s(n,u)?{disabled:!0,reason:r.b.NO_ACCESS_EDIT}:c(n)?{disabled:!0,reason:r.b.OUTSIDER_CANNOT_ADD_USER}:u&&u.collaboratorCount>=15?Object(i.b)(n)?{disabled:!1}:Object(i.j)(n)?{disabled:!0,reason:r.b.NO_ACCESS_ADD_USER}:Object(i.a)(n)&&Object(i.e)(n)?{disabled:!0,reason:r.b.EXPIRED_CANNOT_ADD_USER}:Object(i.a)(n)&&Object(a.e)(n)?{disabled:!0,reason:r.b.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!(null===(t=Object(o.l)(u))||void 0===t||t)}}},69:function(e,t,n){"use strict";n.d(t,"z",(function(){return i.o})),n.d(t,"d",(function(){return i.c})),n.d(t,"b",(function(){return i.a})),n.d(t,"e",(function(){return i.d})),n.d(t,"c",(function(){return i.b})),n.d(t,"f",(function(){return i.f})),n.d(t,"i",(function(){return i.i})),n.d(t,"j",(function(){return i.j})),n.d(t,"g",(function(){return i.g})),n.d(t,"h",(function(){return i.h})),n.d(t,"k",(function(){return a.a})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"w",(function(){return s.f})),n.d(t,"s",(function(){return s.b})),n.d(t,"x",(function(){return s.j})),n.d(t,"y",(function(){return s.k})),n.d(t,"r",(function(){return s.a})),n.d(t,"u",(function(){return s.d})),n.d(t,"t",(function(){return s.c})),n.d(t,"v",(function(){return s.e})),n.d(t,"B",(function(){return s.l})),n.d(t,"p",(function(){return o.b})),n.d(t,"o",(function(){return o.a})),n.d(t,"A",(function(){return o.h})),n.d(t,"q",(function(){return o.c})),n.d(t,"a",(function(){return r.a})),n.d(t,"n",(function(){return r.b}));var r=n(207),i=n(54),a=n(67),o=(n(188),n(24)),c=function(e){var t,n=e.getIn?e.getIn(["permissionsAndReasons","canCreateChildFile"]).toJS():null===(t=null==e?void 0:e.permissionsAndReasons)||void 0===t?void 0:t.canCreateChildFile;return!!(null==n?void 0:n.value)},u=function(e){var t;return!!(e.getIn?e.getIn(["privilege","permission"]).toJS():null===(t=null==e?void 0:e.privilege)||void 0===t?void 0:t.permission).canRemove},s=n(17)},7:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"request",(function(){return O})),n.d(t,"get",(function(){return v})),n.d(t,"post",(function(){return T})),n.d(t,"patch",(function(){return h})),n.d(t,"put",(function(){return S})),n.d(t,"head",(function(){return j})),n.d(t,"destroy",(function(){return I})),n.d(t,"encodeFormData",(function(){return y}));var r=n(2),i=n(11),a=n.n(i),o=n(29),c=n.n(o),u=n(46),s=n(28),d=n(392),f=n(1),l=n(98),p=n(21),_=n(0),b=(d.a,function(e){e.interceptors.response.use(void 0,(function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,i,o,c;return Object(r.__generator)(this,(function(u){return t=e.status,n=e.statusText,i=e.data,(o=0===t||502===t||503===t||504===t)?(c=n?n+" ["+t+"]":t,[2,Promise.reject(Object(r.__assign)(Object(r.__assign)({},e),{statusMsg:c,offline:o,message:i.message||a()(g||(g=Object(r.__makeTemplateObject)(["暂时无法连接到服务器（","）"],["暂时无法连接到服务器（","）"])),c),body:i}))]):[2,Promise.reject(Object(r.__assign)(Object(r.__assign)({},e),{message:i.message||i.error,body:i}))]}))}))}))});function m(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,c,u,d,f,l,p,_,m,O,g,v,T;return Object(r.__generator)(this,(function(h){switch(h.label){case 0:return i=n.body,a=n.token,o=n.getToken,c=n.fetchConfig,u=n.baseUrl,d=n.pushClientId,n.userAgent,f=n.timeout,l=n.schema,p=n.debugLog,_=n.geetestHeaders,m=n.customHeaders,O=Object(s.n)({timeout:f}),Object(s.c)(O)(s.h,{token:a,getToken:o}),d&&Object(s.c)(O)(s.g,d),_&&Object(s.c)(O)(s.f,_),p&&Object(s.c)(O)(s.b),Object(s.c)(O)(b),g=Object(r.__assign)({url:t,method:e,headers:m},c),u&&(g.baseURL=u),i&&(g.data=i,"string"==typeof i&&Object(s.c)(O)(s.e)),[4,O.request(g)];case 1:return v=h.sent(),l?[4,E(n)(v)]:[3,3];case 2:T=h.sent(),v=T,h.label=3;case 3:return[2,v]}}))}))}function E(e){var t=this,n=e.schema,i=e.dispatch,a=e.transformResponseBody;return function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,o,c;return Object(r.__generator)(this,(function(r){return t=Object(u.wormalize)(a?a(e):e,n),o=t.result,c=t.entities,[2,i(Object(p.g)(o,n,c)).then((function(){return i(Object(p.c)(c)),o}))]}))}))}}function O(e,t){var n=this;return void 0===t&&(t=_.a.API_REQUEST),Object(f.c)(t,(function(t,i){return void 0===i&&(i={}),function(o){var u=o.api,s=o.getState,d=o.dispatch;return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,f,p;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!(n=s().status).online&&!i.bypassOnlineChecking)return o=new Error(a()("暂时无法连接到服务器")),[2,Promise.reject(c()(o,{offline:!0,status:0}))];i.background||d(Object(l.b)()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,m(e,""+t,c()({},i,{dispatch:d,getToken:function(){return s().me.get("token")},fetchConfig:u.fetchConfig,baseUrl:i.baseUrl,debugDelay:u.debugDelay,debugLog:u.debugLog,userAgent:u.userAgent,customHeaders:u.customHeaders,requestLimitTime:u.requestLimitTime,pushClientId:n.pushClientId}))];case 2:return f=r.sent(),i.background||d(Object(l.a)()),d(Object(l.d)(!0)),[2,f];case 3:throw p=r.sent(),i.background||d(Object(l.a)()),d(Object(l.d)(!p.offline)),p;case 4:return[2]}}))}))}}))}var g,v=O("GET",_.a.API_REQUEST_GET),T=O("POST",_.a.API_REQUEST_POST),h=O("PATCH",_.a.API_REQUEST_PATCH),S=O("PUT",_.a.API_REQUEST_PUT),j=O("HEAD",_.a.API_REQUEST_HEAD),I=O("DELETE",_.a.API_REQUEST_DELETE),y=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}.call(this,n(93))},71:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(148),o={100001:{moduleName:"工作台",submoduleName:"最近更新",actionName:"点击"},100002:{moduleName:"工作台",submoduleName:"最近使用",actionName:"点击"},100003:{moduleName:"工作台",submoduleName:"我创建的",actionName:"点击"},100004:{moduleName:"工作台",submoduleName:"共享给我的",actionName:"点击"},100005:{moduleName:"桌面右侧",submoduleName:"新建",actionName:"点击新建按钮"},100006:{moduleName:"桌面右侧",submoduleName:"新建",actionName:"点击文档按钮"},100007:{moduleName:"桌面右侧",submoduleName:"新建",actionName:"点击表格按钮"},100008:{moduleName:"桌面右侧",submoduleName:"新建",actionName:"点击文件夹按钮"},100009:{moduleName:"桌面右侧",submoduleName:"导入",actionName:"点击导入按钮"},100010:{moduleName:"桌面右侧",submoduleName:"快速访问",actionName:"点击"},100011:{moduleName:"我的桌面",submoduleName:"文件菜单",actionName:"点击"},100012:{moduleName:"模板",submoduleName:"文档",actionName:""},100013:{moduleName:"模板",submoduleName:"表格",actionName:""},100014:{moduleName:"模板",submoduleName:"幻灯片",actionName:""},100015:{moduleName:"桌面右侧",submoduleName:"新建",actionName:"点击从模板新建按钮"},100016:{moduleName:"模板",submoduleName:"",actionName:"关闭模板弹层"},100017:{moduleName:"模板",submoduleName:"自定义模板",actionName:""},100018:{moduleName:"自定义模板",submoduleName:"重命名模板",actionName:""},100019:{moduleName:"自定义模板",submoduleName:"删除模板",actionName:""},100020:{moduleName:"模板",submoduleName:"表单",actionName:""},100023:{moduleName:"我的桌面",submoduleName:"协作面板",actionName:"添加协作者"},100024:{moduleName:"我的桌面",submoduleName:"协作面板",actionName:"添加"},100025:{moduleName:"我的桌面",submoduleName:"协作面板",actionName:"添加微信好友"},100026:{moduleName:"工作台",submoduleName:"卡片",actionName:"收藏"},100027:{moduleName:"工作台",submoduleName:"卡片",actionName:"取消收藏"},100032:{moduleName:"工作台",submoduleName:"",actionName:"加载失败"},100037:{moduleName:"我的桌面",submoduleName:"文件列表",actionName:"打开文件"},100076:{moduleName:"",submoduleName:"",actionName:"加载时间"},100077:{moduleName:"顶栏",submoduleName:"搜索框",actionName:"搜索"},100078:{moduleName:"顶栏",submoduleName:"搜索结果",actionName:"点击结果"},100079:{moduleName:"顶栏",submoduleName:"搜索结果",actionName:"无结果"},100080:{moduleName:"顶栏",submoduleName:"搜索结果",actionName:"出错"},100081:{moduleName:"顶栏",submoduleName:"搜索结果",actionName:"未点击"},100082:{moduleName:"顶栏",submoduleName:"搜索框",actionName:"输入"},100083:{moduleName:"我的桌面",submoduleName:"我的桌面平铺",actionName:"拖拽排序"},100084:{moduleName:"我的桌面",submoduleName:"我的桌面平铺",actionName:"拖拽移动"},100085:{moduleName:"我的桌面",submoduleName:"快速访问列表",actionName:"拖拽添加快速访问"},100086:{moduleName:"桌面右侧",submoduleName:"快速访问列表",actionName:"拖拽删除快速访问"},100087:{moduleName:"桌面右侧",submoduleName:"快速访问列表",actionName:"拖拽快速访问排序"},100088:{moduleName:"我的桌面",submoduleName:"桌面列表",actionName:"拖拽文件"},100089:{moduleName:"",submoduleName:"",actionName:"拖拽失败"},100090:{moduleName:"我的桌面",submoduleName:"我的桌面列表",actionName:"拖拽移动"},100091:{moduleName:"裂变入口",submoduleName:"我的桌面",actionName:"点击邀请"},110001:{actionName:"页面访问",moduleName:"",actionParam:""},110002:{actionName:"点击「返回石墨文档」",moduleName:"左侧目录树",actionParam:""},110003:{actionName:"点击文件夹/文件夹",moduleName:"左侧目录树",actionParam:""},110004:{actionName:"点击「回收站」",moduleName:"左侧目录树",actionParam:""},110005:{actionName:"点击上传按钮",moduleName:"中部导航",actionParam:""},110006:{actionName:"点击子菜单选项",moduleName:"中部导航",actionParam:""},110007:{actionName:"点击面包屑",moduleName:"中部导航",actionParam:""},110008:{actionName:"点击设置按钮",moduleName:"中部导航",actionParam:""},110009:{actionName:"点击切换排序",moduleName:"中部导航",actionParam:""},110010:{actionName:"点击切换列表/格",moduleName:"中部导航",actionParam:""},110011:{actionName:"（多选后）点击预览",moduleName:"中部导航",actionParam:""},110012:{actionName:"（多选后）点击删除",moduleName:"中部导航",actionParam:""},110013:{actionName:"（多选后）点击移动",moduleName:"中部导航",actionParam:""},110014:{actionName:"（多选后）点击更多",moduleName:"中部导航",actionParam:""},110015:{actionName:"（多选后）点击更多 ropdown 中的选项",moduleName:"中部导航",actionParam:""},110016:{actionName:"点击打开文件/件夹",moduleName:"中部文件区域",actionParam:""},110017:{actionName:"多选文件/件夹",moduleName:"中部文件区域",actionParam:""},110018:{actionName:"点击文件/件夹设置按钮",moduleName:"中部文件区域",actionParam:""},110019:{actionName:"无数据时，点击上传按钮",moduleName:"中部文件区域",actionParam:""},110020:{actionName:"右键单击",moduleName:"右键",actionParam:""},110021:{actionName:"点击 ropdown 选项",moduleName:"右键",actionParam:""},110022:{actionName:"上传次数",moduleName:"上传控件",actionParam:""},110023:{actionName:"上传文件数量",moduleName:"上传控件",actionParam:""},110024:{actionName:"上传成功数量",moduleName:"上传控件",actionParam:""},110025:{actionName:"上传取消数量",moduleName:"上传控件",actionParam:""},110026:{actionName:"点击添加更多文件按钮",moduleName:"上传控件",actionParam:""},110027:{actionName:"点击取消全部上传按钮",moduleName:"上传控件",actionParam:""},110028:{actionName:"点击调整控件大小",moduleName:"上传控件",actionParam:""},110029:{actionName:"点击状态按钮",moduleName:"上传控件",actionParam:""},110030:{actionName:"点击开关",moduleName:"分享modal",actionParam:""},110031:{actionName:"点击复制链接",moduleName:"分享modal",actionParam:""},110032:{actionName:"点击「需要密码访问」radio",moduleName:"分享modal",actionParam:""},110033:{actionName:"点击「仅限企业成员访问」radio",moduleName:"分享modal",actionParam:""},110034:{actionName:"点击更换密码",moduleName:"分享modal",actionParam:""},110035:{actionName:"点击左下角添加协作者",moduleName:"查看协作者modal",actionParam:""},110036:{actionName:"点击搜索 nput",moduleName:"查看协作者modal",actionParam:""},110037:{actionName:"点击修改身份",moduleName:"查看协作者modal",actionParam:""},110038:{actionName:"点击 ropdown 选项",moduleName:"查看协作者modal",actionParam:""},110039:{actionName:"点击左上角返回",moduleName:"添加协作者modal",actionParam:""},110040:{actionName:"点击添加所有企业成员",moduleName:"添加协作者modal",actionParam:""},110041:{actionName:"点击搜索 nput",moduleName:"添加协作者modal",actionParam:""},110042:{actionName:"点击右下角确定",moduleName:"添加协作者modal",actionParam:""},110043:{actionName:"点击修改身份",moduleName:"添加协作者modal",actionParam:""},110044:{actionName:"点击 ropdown 选项",moduleName:"添加协作者modal",actionParam:""},110045:{actionName:"点击左上角返回",moduleName:"预览modal",actionParam:""},110046:{actionName:"点击空白处关闭",moduleName:"预览modal",actionParam:""},110047:{actionName:"点击翻页",moduleName:"预览modal",actionParam:""},110048:{actionName:"点击底栏",moduleName:"预览modal",actionParam:""},110049:{actionName:"点击切换帐号",moduleName:"无权限页面",actionParam:""},110050:{actionName:"点击确定",moduleName:"输入密码",actionParam:""},110051:{actionName:"点击登录按钮",moduleName:"未登录页",actionParam:""},110052:{actionName:"访问「思维导图」页面",moduleName:"思维导图",actionParam:""},110053:{actionName:"访问",moduleName:"企业版 odal",actionParam:""},110054:{actionName:"开始免费试用",moduleName:"企业版 odal",actionParam:""},110055:{actionName:"访问",moduleName:"邀请成员 odal",actionParam:""},110056:{actionName:"跳过",moduleName:"邀请成员 odal",actionParam:""},110057:{actionName:"复制链接",moduleName:"邀请成员 odal",actionParam:""},110058:{actionName:"成功邀请成员数量",moduleName:"邀请成员 odal",actionParam:""},110059:{actionName:"点击帮助中心",moduleName:"表格",actionParam:""}};function c(e){var t={moduleName:"",submoduleName:"",actionName:"",clickedItem:"",sortMethod:"",sortOrder:"",folderLevel:"",displayMode:"",fileType:"",error:""};if("string"==typeof e){var n=o[e],r=n.moduleName,a=void 0===r?"":r,c=n.submoduleName,u=void 0===c?"":c,s=n.actionName,d=void 0===s?"":s;return Object(i.__assign)(Object(i.__assign)({},t),{moduleName:a,submoduleName:u,actionName:d})}return t}function u(e,t){r.login(e),t?r.autoTrack({$app_version:"desktop_2.5"}):r.autoTrack()}function s(e,t,n){var a=!0;__RUNTIME_ENV__.PRIVATE_DEPLOY&&(a=!!__RUNTIME_ENV__.SENSORS_SERVER),a&&r.track(e,Object(i.__assign)({$url:location.href},t),n)}function d(e,t){"string"==typeof e?r.track("lizardActions",Object(i.__assign)(Object(i.__assign)({},c(e)),t)):r.track("lizardActions",Object(i.__assign)(Object(i.__assign)({},c()),e))}r=__RUNTIME_ENV__.SENSORS_SERVER?new a.ShimoSensor({server_url:__RUNTIME_ENV__.SENSORS_SERVER}):new a.ShimoSensor({server_url:""})},81:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(55),i=n.n(r),a=n(76),o=n(10);function c(e){return e.users.get("data")}function u(e,t){return t?c(e).get(t):null}function s(e){return e.me.id>0?c(e).get(e.me.id):e.me.id<0?Object(o.d)({id:e.me.id}):null}Object(a.a)(c,(function(e){return e.recentContacts}),(function(e,t){return t&&t.map((function(t){return t?e.get(t):null})).filter(i.a)}))},91:function(e,t,n){"use strict";function r(){return/(iphone|ipod|ipad|android|windows phone|mobile)/i.test(navigator.userAgent)}function i(){return!!/(ipad|iphone|ipod)/i.test(navigator.userAgent)}function a(){return!!/(android)/i.test(navigator.userAgent)}function o(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)}function c(){return!!/shimo-android-app/i.test(navigator.userAgent)}n.r(t),n.d(t,"isMobile",(function(){return r})),n.d(t,"isIOS",(function(){return i})),n.d(t,"isAndroid",(function(){return a})),n.d(t,"isMac",(function(){return o})),n.d(t,"isAndroidApp",(function(){return c})),n.d(t,"isDingtalk",(function(){return u})),n.d(t,"isDingtalkMobile",(function(){return s})),n.d(t,"isDingtalkPc",(function(){return d})),n.d(t,"isDingtalkPcSidebar",(function(){return f})),n.d(t,"isRetina",(function(){return l})),n.d(t,"isFireFox",(function(){return p})),n.d(t,"isIE",(function(){return _})),n.d(t,"detectIE",(function(){return b})),n.d(t,"isWxMiniProgramWebView",(function(){return m})),n.d(t,"isSafari",(function(){return E})),n.d(t,"isWechatPc",(function(){return O})),n.d(t,"isWechat",(function(){return g})),n.d(t,"isWework",(function(){return v}));var u=function(){return/dingtalk/i.test(navigator.userAgent)};function s(){return/mobile.*dingtalk/i.test(navigator.userAgent)}function d(){return/dingTalk\([^\\)]+\)/i.test(navigator.userAgent)}function f(){return!!document.getElementById("dingtalk-operation-wrap")}function l(){return window.devicePixelRatio>=2}function p(){return/firefox/i.test(navigator.userAgent)}function _(){return!!window.ActiveXObject}function b(){var e=navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):null}function m(){return!!(null===window||void 0===window?void 0:window.navigator.userAgent.includes("miniProgram"))||"miniprogram"===window.__wxjs_environment}function E(){return navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){return/micromessenger/i.test(navigator.userAgent)&&!r()}function g(){return/micromessenger/i.test(navigator.userAgent)}var v=function(){return/wxwork/i.test(navigator.userAgent)}},92:function(e,t,n){"use strict";n.r(t),n.d(t,"isCheetah",(function(){return i})),n.d(t,"getApi",(function(){return o})),n.d(t,"getHost",(function(){return c})),n.d(t,"getSocketHost",(function(){return u})),n.d(t,"isDev",(function(){return s})),n.d(t,"getClientId",(function(){return d})),n.d(t,"getClientSecret",(function(){return f})),n.d(t,"getUploaderUrl",(function(){return l}));var r=n(77);function i(){return"object"==typeof window&&window&&window.electronSdk}function a(){return"object"!=typeof window?{env:{}}:(window.process||(window.process=window.electronSdk.getGlobal("process")),window.process)}function o(){var e;return i()?a().env.APP_API:(null!==(e=Object(r.getString)("API_PATH"))&&void 0!==e?e:"").replace(/\/$/,"")}function c(){return i()?a().env.APP_URL:location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}function u(){return i()?a().env.APP_WS:Object(r.getString)("WEBSOCKET_HOST")}function s(){return i()?"development"===a().env.NODE_ENV:Object(r.getBoolean)("IS_DEV")}function d(){var e;return i()?null!==(e=a().env.APP_CLIENT_ID)&&void 0!==e?e:"":"C8BA527C783AB2AB644CC3FF6CC7D"}function f(){var e;return i()?null!==(e=a().env.APP_CLIENT_ID)&&void 0!==e?e:"":"E5DCCF96EBB6BE9A3193DDE39B1B3"}function l(){var e,t;return i()?null!==(e=a().env.APP_UPLOADER_URL)&&void 0!==e?e:"":null!==(t=Object(r.getString)("UPLOADER_HOST"))&&void 0!==t?t:""}},967:function(e,t,n){},968:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(36),a=n.n(i),o=n(8),c=n.n(o),u=n(122),s=n(256),d=n(110),f=n(192),l=n(253),p=n(350),_=n(246),b=n(148),m=n(5),E=n(351),O=n(90),g=n(34),v=n(57),T=n(42),h=n(112),S={tslib:{name:"$00",version:"1.9.3",value:r},react:{name:"$01",version:"16.4.2",value:o},"react-dom":{name:"$02",version:"16.4.2",value:u},"react-router-dom":{name:"$04",version:"4.3.1",value:s},redux:{name:"$05",version:"4.0.1",value:d},"react-redux":{name:"$06",version:"5.1.1",value:f},"styled-components":{name:"$07",version:"2.4.1",value:l},"es6-promise":{name:"$09",version:"4.2.5",value:p},"whatwg-fetch":{name:"$0a",version:"3.0.0",value:_},"@shimo/sensors":{name:"$0d",version:"2.5.0",value:b},immutable:{name:"$0e",version:"3.8.2",value:m},warning:{name:"$10",version:"4.0.1",value:E},"hoist-non-react-statics":{name:"$11",version:"3.1.0",value:O},"react-router":{name:"$12",version:"4.3.1",value:g},history:{name:"$13",version:"4.7.2",value:v},"prop-types":{name:"$14",version:"15.6.1",value:T},invariant:{name:"$15",version:"2.2.4",value:h}};var j=n(121);n(967);var I=function(e){return function(t){var r,i,c,s;return window.shimo||(window.shimo={emitter:void 0}),window.shimo.desktop={helpCenter:{zhiChi:{setZhiChi:function(e){j.i.zhiChiLoader.call(e)}},feedback:{setFeedbackUrl:function(e){j.i.feedbackUrlLoader.call(e)}}}},r=a.a,i=["dayjs","$16","moment","$0f"],s=document.documentElement.lang,c=function(){"en"===s?n.e(143).then(n.t.bind(null,3103,7)).then((function(){a.a.locale("en")})):"ja"===s?n.e(129).then(n.t.bind(null,3104,7)).then((function(){a.a.locale("ja")})):"zh-CN"===s&&n.e(131).then(n.t.bind(null,3105,7)).then((function(){a.a.locale("zh-cn")}))},i.forEach((function(e){window[e]=r})),c(),Object.keys(S).forEach((function(e){var t=S[e];window[t.name]=t.value})),window.React=o,window.ReactDOM=u,window.ReactRedux=f,t(e)}},y=n(91),A=n(28),N=n(77),R=function(e){return function(t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,a,o,c,u,s,d,f;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:if(!t.includes("desktop")&&!t.includes("desktop2"))return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),[4,L()];case 2:return i=l.sent(),a=i.settings,o=i.me,c=i.forceUseNewDesktop,[4,Object(j.k)()];case 3:return u=l.sent(),s=Object(r.__assign)(Object(r.__assign)({},o),{team:o.team?o.team.id:void 0}),d=Object(r.__assign)(Object(r.__assign)({},e),{context:Object(r.__assign)(Object(r.__assign)({},e.context),{settings:Object(r.__assign)(Object(r.__assign)({},e.context.settings),a),me:s,users:{data:(f={},f[o.id]=s,f)},alphaFeatures:{forceUseNewDesktop:c}})}),__RUNTIME_ENV__.FORCE_DESKTOP_LEGACY?[2,n(d,"desktop")]:u&&t.includes("desktop2")?[2,n(d,"desktop2")]:u&&t.includes("desktop")&&!t.includes("desktop2")&&location.pathname.startsWith("/templates")||!u&&t.includes("desktop")?[2,n(d,"desktop")]:[2,n(d,null)];case 4:return l.sent(),!__RUNTIME_ENV__.FORCE_DESKTOP_LEGACY&&t.includes("desktop2")?[2,n(e,"desktop2")]:t.includes("desktop")?[2,n(e,"desktop")]:[2,n(e,null)];case 5:return[3,7];case 6:return t.includes("login")||t.includes("login2")?Object(N.isSelfHosted)()?[2,n(e,"login")]:["/login","/loginByPassword","/loginByCode","/loginByCode/verifyCode","/personalRegist","/personalRegist/verifyCode","/personalRegistByEmail","/personalRegistByEmail/password","/companyRegist","/companyRegist/verifyCode","/register","/registType","/resetPassword","/completeMessage","/joinCompany/riskWarning","/oAuth"].includes(location.pathname)||location.pathname.includes("/joinCompany")?[2,n(e,"login2")]:[2,n(e,"login")]:t.length>=1?[2,n(e,t[0])]:[2,n(e,null)];case 7:return[2]}}))}))}};function L(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([C(),A.s.get("/users/me"),P()])];case 1:return e=r.__read.apply(void 0,[a.sent(),3]),t=e[0],n=e[1],i=e[2],[2,{settings:t,me:n,forceUseNewDesktop:i}]}}))}))}function C(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,A.s.get("/users/me/settings")];case 1:return e=t.sent().data,[2,JSON.parse(e)];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function P(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,!!__RUNTIME_ENV__.FORCE_DESKTOP_LEGACY||A.s.get("/alpha_features/force_use_new_desktop")]}))}))}var D=[{route:"/slides/:guid/live/:liveGuid",exact:!0,devices:{mobile:"slide-mobile"}},{route:"/slides/:guid/live/:liveGuid",exact:!1,devices:{pc:"slide-live"}},{route:"/presentation/:guid/live/:liveGuid",exact:!1,devices:{pc:"presentation-live",mobile:"presentation-live"}},{route:"/forms/:guid/preview",exact:!1,devices:{pc:"form-skip-auth",mobile:"form-skip-auth"}},{route:"/forms/:guid/fill",exact:!1,devices:{pc:"form-skip-auth",mobile:"form-skip-auth"}},{route:"/docs/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/sheet/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/sheets/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/slides/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/presentation/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/table/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/tables/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/mindmaps/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/forms/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/boards/:guid",exact:!1,devices:{wework_pc:"desktop-mobile"}},{route:"/profile",exact:!1,devices:{mobile:"user-mobile"}},{route:"/profile",exact:!1,devices:{pc:"user"}},{route:"/forbidden_dingtalk",exact:!1,devices:{pc:"user",mobile:"user"}},{route:"/forbidden",exact:!1,devices:{pc:"user",mobile:"user"}},{route:"/user",exact:!1,devices:{pc:"user",mobile:"user"}},{route:"/table/:guid",exact:!1,devices:{mobile:"table-mobile"}},{route:"/tables/:guid",exact:!1,devices:{mobile:"table-mobile"}},{route:"/table/:guid",exact:!1,devices:{pc:"table"}},{route:"/tables/:guid",exact:!1,devices:{pc:"table"}},{route:"/slides/:guid",exact:!1,devices:{mobile:"slide-mobile"}},{route:"/slides/:guid",exact:!1,devices:{pc:"slide"}},{route:"/maintain",exact:!1,devices:{pc:"shut-down-page",mobile:"shut-down-page"}},{route:"/shortcut/:guid",exact:!1,devices:{pc:"shortcut",mobile:"shortcut"}},{route:"/sheet/:guid",exact:!1,devices:{mobile:"sheet-mobile"}},{route:"/sheets/:guid",exact:!1,devices:{mobile:"sheet-mobile"}},{route:"/sheet/:guid",exact:!1,devices:{pc:"sheet"}},{route:"/sheets/:guid",exact:!1,devices:{pc:"sheet"}},{route:"/presentation/:guid",exact:!1,devices:{mobile:"presentation-mobile"}},{route:"/presentation/:guid",exact:!1,devices:{pc:"presentation"}},{route:"/onboarding",exact:!0,devices:{pc:"onboarding"}},{route:"/onboarding/:scene",exact:!0,devices:{pc:"onboarding"}},{route:"/_/canva-payment",exact:!0,devices:{pc:"onboarding"}},{route:"/mindmaps/:guid",exact:!1,devices:{mobile:"mindmap-mobile"}},{route:"/mindmaps/:guid",exact:!1,devices:{pc:"mindmap"}},{route:"/login",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/loginByPassword",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/loginByCode",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/loginByCode/verifyCode",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/personalRegist",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/personalRegist/verifyCode",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/personalRegistByEmail",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/personalRegistByEmail/password",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/companyRegist",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/companyRegist/verifyCode",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/completeMessage",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/joinCompany/riskWarning",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/register",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/registType",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/resetPassword",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/joinCompany",exact:!1,devices:{pc:"login2",mobile:"login2"}},{route:"/oAuth",exact:!0,devices:{pc:"login2",mobile:"login2"}},{route:"/login",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/register",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/registType",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/bindMobile",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/resetPassword",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/personalRegist",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/companyRegist",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/joinCompany",exact:!1,devices:{pc:"login",mobile:"login"}},{route:"/forms/:guid",exact:!1,devices:{mobile:"form-mobile"}},{route:"/forms/:guid",exact:!1,devices:{pc:"form"}},{route:"/enterprise",exact:!1,devices:{mobile:"enterprise",pc:"enterprise"}},{route:"/docx/:guid",exact:!1,devices:{mobile:"docx-mobile"}},{route:"/docx/:guid",exact:!1,devices:{pc:"docx"}},{route:"/docs/:guid",exact:!1,devices:{mobile:"doc-mobile"}},{route:"/docs/:guid",exact:!1,devices:{pc:"doc"}},{route:"/activity",exact:!1,devices:{pc:"desktop2"}},{route:"/dashboard",exact:!1,devices:{pc:"desktop2"}},{route:"/desktop",exact:!1,devices:{pc:"desktop2"}},{route:"/favorites",exact:!1,devices:{pc:"desktop2"}},{route:"/file/:selectedGuid",exact:!1,devices:{pc:"desktop2"}},{route:"/folder/:guid",exact:!1,devices:{pc:"desktop2"}},{route:"/inbox",exact:!1,devices:{pc:"desktop2"}},{route:"/recent",exact:!1,devices:{pc:"desktop2"}},{route:"/share",exact:!1,devices:{pc:"desktop2"}},{route:"/space",exact:!1,devices:{pc:"desktop2"}},{route:"/trash",exact:!1,devices:{pc:"desktop2"}},{route:"/profile",exact:!1,devices:{pc:"desktop2"}},{route:"/create",exact:!1,devices:{pc:"desktop2",mobile:"desktop2"}},{route:"/files/:guid",exact:!1,devices:{pc:"desktop2"}},{route:"/desktop",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/dashboard/:category?",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/inbox",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/spaces",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/search",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/recent",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/favorites",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/mine",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/:guid/collaborators",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/old_dingding/pricing",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/wework/login",exact:!0,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/folder/:guid",exact:!1,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/space/:guid",exact:!1,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/files/:guid",exact:!1,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/file/:guid",exact:!1,devices:{mobile:"desktop-mobile",wework_pc:"desktop-mobile"}},{route:"/dashboard",exact:!1,devices:{pc:"desktop"}},{route:"/desktop",exact:!1,devices:{pc:"desktop"}},{route:"/folder/:guid",exact:!1,devices:{pc:"desktop"}},{route:"/inbox",exact:!1,devices:{pc:"desktop"}},{route:"/space/:guid",exact:!1,devices:{pc:"desktop"}},{route:"/templates",exact:!1,devices:{pc:"desktop"}},{route:"/trash",exact:!1,devices:{pc:"desktop"}},{route:"/recent",exact:!1,devices:{pc:"desktop"}},{route:"/files/:guid",exact:!1,devices:{pc:"desktop"}},{route:"/boards/:guid",exact:!1,devices:{mobile:"board-mobile"}},{route:"/boards/:guid",exact:!1,devices:{pc:"board"}}];function w(e,t){return"mobile"===e&&t.mobile?t.mobile:"pc"===e&&t.pc?t.pc:"wework_pc"===e&&t.wework_pc?t.wework_pc:null}function x(){return Object(y.isMobile)()?"mobile":!Object(y.isMobile)()&&Object(y.isWework)()?"wework_pc":"pc"}var U=function(e){return function(t,n){return Object(r.__awaiter)(void 0,void 0,Promise,(function(){var i,a,o,c,u;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:return""===t?[2,[e,null]]:(i=x(),(a=function(e){var t,n,i=e.pathname,a=e.device,o=[];try{for(var c=Object(r.__values)(D),u=c.next();!u.done;u=c.next()){var s=u.value;if(Object(g.matchPath)(i,{path:s.route,exact:s.exact})){var d=w(a,s.devices);null!==d&&o.push(d)}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return o}({pathname:t,device:i})).length<1?[2,[e,null]]:[4,R(e)(a,(function(e,t){return[e,t]}))]);case 1:return o=r.__read.apply(void 0,[s.sent(),2]),c=o[0],u=o[1],[2,n(c,u)]}}))}))}},M=function(e){var t=e.reason;return c.a.createElement("h1",null,"未处理的异常: ",t.message)},F=function(e){return function(t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,a,o,u,s,d,f,l,p,_,b,m,E,O,g,v,T,h,S;return Object(r.__generator)(this,(function(j){switch(j.label){case 0:return j.trys.push([0,10,,11]),[4,t.onAuth(e)(t,(function(e,t,n){return[e,t,n]}))];case 1:return n=r.__read.apply(void 0,[j.sent(),3]),i=n[0],a=n[1],o=n[2],a?(u=Object(r.__read)(t.onLoadDeps(i)((function(e,t,n){return[e,t,n]})),3),s=u[0],d=u[1],f=u[2],l=function(e,t){return[e,t]},"parallel"!==d?[3,3]:(m=void 0,f&&(m=f(s)()),[4,t.onEnterService(s)(t.rootRouter(m),l)])):[3,9];case 2:return p=r.__read.apply(void 0,[j.sent(),2]),_=p[0],b=p[1],[2,[_,b]];case 3:return"serial"!==d?[3,7]:(m=void 0,f?[4,f(s)()]:[3,5]);case 4:m=j.sent(),j.label=5;case 5:return[4,t.onEnterService(s)(t.rootRouter(m),l)];case 6:return E=r.__read.apply(void 0,[j.sent(),2]),O=E[0],g=E[1],[2,[O,g]];case 7:return[4,t.onEnterService(s)(t.rootRouter(null),l)];case 8:return v=r.__read.apply(void 0,[j.sent(),2]),T=v[0],h=v[1],[2,[T,h]];case 9:return o?[2,[i,o(i)()]]:[2,[i,c.a.createElement("h1",{key:"auth-failed"},"Auth failed.")]];case 10:return S=j.sent(),[2,[e,c.a.createElement(M,{key:"unhandled-exception",reason:S})]];case 11:return[2]}}))}))}},k=function(e){return function(t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,a,o;return Object(r.__generator)(this,(function(c){switch(c.label){case 0:return n=document.getElementById("root"),[4,F(e)(t)];case 1:return i=r.__read.apply(void 0,[c.sent(),2]),a=i[0],o=i[1],z(a),Object(u.render)(o,n),[2]}}))}))}},G=function(){return window.__core_data__},z=function(e){window.__core_data__=e};Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return z({context:{}}),I(G())(z),[4,U(G())(location.pathname,(function(e,t){return[e,t]}))];case 1:return e=r.__read.apply(void 0,[a.sent(),2]),t=e[0],i=e[1],(o=t,function(e){null===e&&Promise.all([n.e(0),n.e(3),n.e(70)]).then(n.bind(null,3106)).then((function(e){(0,e.default)()})),"user-mobile"===e&&Promise.all([n.e(4),n.e(59),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(7),n.e(42),n.e(60),n.e(113)]).then(n.bind(null,3156)).then(k(o)),"user"===e&&Promise.all([n.e(4),n.e(16),n.e(47),n.e(55),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(23),n.e(29),n.e(31),n.e(26),n.e(42),n.e(63),n.e(142),n.e(112)]).then(n.bind(null,3143)).then(k(o)),"table-mobile"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(111)]).then(n.bind(null,3165)).then(k(o)),"table"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(110)]).then(n.bind(null,3159)).then(k(o)),"slide-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(41),n.e(44),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(135),n.e(109)]).then(n.bind(null,3160)).then(k(o)),"slide-live"===e&&Promise.all([n.e(4),n.e(44),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(7),n.e(108)]).then(n.bind(null,3157)).then(k(o)),"slide"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(27),n.e(107)]).then(n.bind(null,3077)).then(k(o)),"shut-down-page"===e&&Promise.all([n.e(0),n.e(1),n.e(106)]).then(n.bind(null,3161)).then(k(o)),"shortcut"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(105)]).then(n.bind(null,3172)).then(k(o)),"sheet-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(104)]).then(n.bind(null,3166)).then(k(o)),"sheet"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(7),n.e(27),n.e(103)]).then(n.bind(null,3146)).then(k(o)),"presentation-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(102)]).then(n.bind(null,3167)).then(k(o)),"presentation-live"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(27),n.e(101)]).then(n.bind(null,3176)).then(k(o)),"presentation"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(100)]).then(n.bind(null,3162)).then(k(o)),"onboarding"===e&&Promise.all([n.e(16),n.e(0),n.e(1),n.e(2),n.e(6),n.e(15),n.e(18),n.e(17),n.e(19),n.e(46),n.e(132),n.e(99)]).then(n.bind(null,3149)).then(k(o)),"mindmap-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(40),n.e(41),n.e(43),n.e(56),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(39),n.e(98)]).then(n.bind(null,3164)).then(k(o)),"mindmap"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(37),n.e(40),n.e(48),n.e(57),n.e(122),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(39),n.e(42),n.e(45),n.e(54),n.e(51),n.e(68),n.e(97)]).then(n.bind(null,3145)).then(k(o)),"login2"===e&&Promise.all([n.e(4),n.e(16),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(15),n.e(18),n.e(17),n.e(19),n.e(32),n.e(96)]).then(n.bind(null,3150)).then(k(o)),"login"===e&&Promise.all([n.e(4),n.e(59),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(9),n.e(95)]).then(n.bind(null,3147)).then(k(o)),"form-skip-auth"===e&&Promise.all([n.e(0),n.e(1),n.e(94)]).then(n.bind(null,3174)).then(k(o)),"form-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(40),n.e(41),n.e(43),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(39),n.e(93)]).then(n.bind(null,3168)).then(k(o)),"form"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(40),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(39),n.e(92)]).then(n.bind(null,3163)).then(k(o)),"enterprise"===e&&Promise.all([n.e(4),n.e(16),n.e(21),n.e(115),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(8),n.e(11),n.e(10),n.e(15),n.e(18),n.e(20),n.e(25),n.e(22),n.e(24),n.e(29),n.e(46),n.e(45),n.e(51),n.e(50),n.e(49),n.e(64),n.e(61),n.e(124),n.e(91)]).then(n.bind(null,3139)).then(k(o)),"docx-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(41),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(66),n.e(90)]).then(n.bind(null,3169)).then(k(o)),"docx"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(37),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(89)]).then(n.bind(null,3158)).then(k(o)),"doc-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(41),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(66),n.e(88)]).then(n.bind(null,3170)).then(k(o)),"doc"===e&&Promise.all([n.e(4),n.e(14),n.e(16),n.e(21),n.e(37),n.e(120),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(32),n.e(35),n.e(34),n.e(36),n.e(46),n.e(52),n.e(137),n.e(87)]).then(n.bind(null,3142)).then(k(o)),"desktop2"===e&&Promise.all([n.e(16),n.e(21),n.e(37),n.e(47),n.e(0),n.e(1),n.e(2),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(22),n.e(24),n.e(23),n.e(28),n.e(31),n.e(33),n.e(32),n.e(34),n.e(42),n.e(46),n.e(45),n.e(53),n.e(54),n.e(52),n.e(65),n.e(63),n.e(61),n.e(133),n.e(86)]).then(n.bind(null,3137)).then(k(o)),"desktop-mobile"===e&&Promise.all([n.e(4),n.e(21),n.e(37),n.e(43),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(12),n.e(25),n.e(23),n.e(27),n.e(26),n.e(30),n.e(67),n.e(136),n.e(85)]).then(n.bind(null,3140)).then(k(o)),"desktop"===e&&Promise.all([n.e(4),n.e(16),n.e(21),n.e(37),n.e(44),n.e(47),n.e(55),n.e(121),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(15),n.e(18),n.e(17),n.e(20),n.e(19),n.e(25),n.e(22),n.e(24),n.e(23),n.e(28),n.e(29),n.e(27),n.e(31),n.e(26),n.e(30),n.e(33),n.e(35),n.e(42),n.e(53),n.e(54),n.e(52),n.e(49),n.e(65),n.e(67),n.e(60),n.e(138),n.e(84)]).then(n.bind(null,3138)).then(k(o)),"board-mobile"===e&&Promise.all([n.e(4),n.e(14),n.e(40),n.e(41),n.e(43),n.e(117),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(7),n.e(9),n.e(8),n.e(11),n.e(10),n.e(12),n.e(13),n.e(38),n.e(39),n.e(83)]).then(n.bind(null,3171)).then(k(o)),"board"===e&&Promise.all([n.e(4),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(27),n.e(82)]).then(n.bind(null,3078)).then(k(o))})(i),[2]}var o}))}))},98:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s}));var r=n(0),i=n(1),a=Object(i.c)(r.a.MARK_DATA_LOADED,(function(e){return e})),o=Object(i.c)(r.a.INCREASE_PENDING_REQUESTS),c=Object(i.c)(r.a.DECREASE_PENDING_REQUESTS),u=Object(i.c)(r.a.SET_ONLINE_STATUS,(function(e){return void 0===e&&(e=!1),function(t){var r=t.next,i=t.getState,a=t.dispatch,o=t.emitter;i().status.online!==e&&(r(e),e?o.emit("network.recover"):function e(t,r){var i=t.getState,a=t.dispatch;if(d&&!r)return;function o(){var t=i().status,n=t.online,r=t.physicalOnline;!n&&r?e({getState:i,dispatch:a},!0):d=0}d+=1,setTimeout((function(){return a(n(7).get("status",{bypassOnlineChecking:!0,background:!0})).then(o,o)}),Math.min(2e4,4e3*d))}({getState:i,dispatch:a}))}})),s=Object(i.c)(r.a.SET_PHYSICAL_ONLINE_STATUS,(function(e){return void 0===e&&(e=!1),function(t){var n=t.next;(0,t.dispatch)(u(e)),n(e)}})),d=0}},[[434,81,118,126]]]);